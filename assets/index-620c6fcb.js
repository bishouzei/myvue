var Oq=Object.defineProperty;var Dq=(t,e,n)=>e in t?Oq(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Rq=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var xn=(t,e,n)=>(Dq(t,typeof e!="symbol"?e+"":e,n),n);var fAe=Rq((xs,ws)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Z6(t,e){const n=Object.create(null),r=t.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ni={},Yp=[],yl=()=>{},Lq=()=>!1,Fq=/^on[^a-z]/,Yx=t=>Fq.test(t),Q6=t=>t.startsWith("onUpdate:"),ya=Object.assign,J6=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Nq=Object.prototype.hasOwnProperty,Hr=(t,e)=>Nq.call(t,e),vr=Array.isArray,Xp=t=>Xx(t)==="[object Map]",nF=t=>Xx(t)==="[object Set]",Er=t=>typeof t=="function",ka=t=>typeof t=="string",e5=t=>typeof t=="symbol",$i=t=>t!==null&&typeof t=="object",rF=t=>$i(t)&&Er(t.then)&&Er(t.catch),iF=Object.prototype.toString,Xx=t=>iF.call(t),Bq=t=>Xx(t).slice(8,-1),aF=t=>Xx(t)==="[object Object]",t5=t=>ka(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,K_=Z6(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zx=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},zq=/-(\w)/g,Qo=Zx(t=>t.replace(zq,(e,n)=>n?n.toUpperCase():"")),$q=/\B([A-Z])/g,Rv=Zx(t=>t.replace($q,"-$1").toLowerCase()),Qx=Zx(t=>t.charAt(0).toUpperCase()+t.slice(1)),X3=Zx(t=>t?`on${Qx(t)}`:""),b1=(t,e)=>!Object.is(t,e),Z3=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},$b=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},jq=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Vq=t=>{const e=ka(t)?Number(t):NaN;return isNaN(e)?t:e};let tk;const j4=()=>tk||(tk=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function n5(t){if(vr(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],i=ka(r)?Wq(r):n5(r);if(i)for(const o in i)e[o]=i[o]}return e}else{if(ka(t))return t;if($i(t))return t}}const Uq=/;(?![^(]*\))/g,Hq=/:([^]+)/,Kq=/\/\*[^]*?\*\//g;function Wq(t){const e={};return t.replace(Kq,"").split(Uq).forEach(n=>{if(n){const r=n.split(Hq);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Jx(t){let e="";if(ka(t))e=t;else if(vr(t))for(let n=0;n<t.length;n++){const r=Jx(t[n]);r&&(e+=r+" ")}else if($i(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const Gq="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",qq=Z6(Gq);function oF(t){return!!t||t===""}const Ls=t=>ka(t)?t:t==null?"":vr(t)||$i(t)&&(t.toString===iF||!Er(t.toString))?JSON.stringify(t,sF,2):String(t),sF=(t,e)=>e&&e.__v_isRef?sF(t,e.value):Xp(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:nF(e)?{[`Set(${e.size})`]:[...e.values()]}:$i(e)&&!vr(e)&&!aF(e)?String(e):e;let ys;class Yq{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ys,!e&&ys&&(this.index=(ys.scopes||(ys.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=ys;try{return ys=this,e()}finally{ys=n}}}on(){ys=this}off(){ys=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Xq(t,e=ys){e&&e.active&&e.effects.push(t)}function lF(){return ys}function Zq(t){ys&&ys.cleanups.push(t)}const r5=t=>{const e=new Set(t);return e.w=0,e.n=0,e},uF=t=>(t.w&kd)>0,cF=t=>(t.n&kd)>0,Qq=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=kd},Jq=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const i=e[r];uF(i)&&!cF(i)?i.delete(t):e[n++]=i,i.w&=~kd,i.n&=~kd}e.length=n}},jb=new WeakMap;let Ig=0,kd=1;const V4=30;let pl;const ah=Symbol(""),U4=Symbol("");class i5{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Xq(this,r)}run(){if(!this.active)return this.fn();let e=pl,n=wd;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=pl,pl=this,wd=!0,kd=1<<++Ig,Ig<=V4?Qq(this):nk(this),this.fn()}finally{Ig<=V4&&Jq(this),kd=1<<--Ig,pl=this.parent,wd=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){pl===this?this.deferStop=!0:this.active&&(nk(this),this.onStop&&this.onStop(),this.active=!1)}}function nk(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let wd=!0;const dF=[];function Lv(){dF.push(wd),wd=!1}function Fv(){const t=dF.pop();wd=t===void 0?!0:t}function Jo(t,e,n){if(wd&&pl){let r=jb.get(t);r||jb.set(t,r=new Map);let i=r.get(n);i||r.set(n,i=r5()),fF(i)}}function fF(t,e){let n=!1;Ig<=V4?cF(t)||(t.n|=kd,n=!uF(t)):n=!t.has(pl),n&&(t.add(pl),pl.deps.push(t))}function lc(t,e,n,r,i,o){const l=jb.get(t);if(!l)return;let a=[];if(e==="clear")a=[...l.values()];else if(n==="length"&&vr(t)){const f=Number(r);l.forEach((p,v)=>{(v==="length"||v>=f)&&a.push(p)})}else switch(n!==void 0&&a.push(l.get(n)),e){case"add":vr(t)?t5(n)&&a.push(l.get("length")):(a.push(l.get(ah)),Xp(t)&&a.push(l.get(U4)));break;case"delete":vr(t)||(a.push(l.get(ah)),Xp(t)&&a.push(l.get(U4)));break;case"set":Xp(t)&&a.push(l.get(ah));break}if(a.length===1)a[0]&&H4(a[0]);else{const f=[];for(const p of a)p&&f.push(...p);H4(r5(f))}}function H4(t,e){const n=vr(t)?t:[...t];for(const r of n)r.computed&&rk(r);for(const r of n)r.computed||rk(r)}function rk(t,e){(t!==pl||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function eY(t,e){var n;return(n=jb.get(t))==null?void 0:n.get(e)}const tY=Z6("__proto__,__v_isRef,__isVue"),hF=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(e5)),nY=a5(),rY=a5(!1,!0),iY=a5(!0),ik=aY();function aY(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Gn(this);for(let o=0,l=this.length;o<l;o++)Jo(r,"get",o+"");const i=r[e](...n);return i===-1||i===!1?r[e](...n.map(Gn)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){Lv();const r=Gn(this)[e].apply(this,n);return Fv(),r}}),t}function oY(t){const e=Gn(this);return Jo(e,"has",t),e.hasOwnProperty(t)}function a5(t=!1,e=!1){return function(r,i,o){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&o===(t?e?wY:yF:e?gF:mF).get(r))return r;const l=vr(r);if(!t){if(l&&Hr(ik,i))return Reflect.get(ik,i,o);if(i==="hasOwnProperty")return oY}const a=Reflect.get(r,i,o);return(e5(i)?hF.has(i):tY(i))||(t||Jo(r,"get",i),e)?a:Ra(a)?l&&t5(i)?a:a.value:$i(a)?t?_F(a):Mr(a):a}}const sY=pF(),lY=pF(!0);function pF(t=!1){return function(n,r,i,o){let l=n[r];if(hv(l)&&Ra(l)&&!Ra(i))return!1;if(!t&&(!Vb(i)&&!hv(i)&&(l=Gn(l),i=Gn(i)),!vr(n)&&Ra(l)&&!Ra(i)))return l.value=i,!0;const a=vr(n)&&t5(r)?Number(r)<n.length:Hr(n,r),f=Reflect.set(n,r,i,o);return n===Gn(o)&&(a?b1(i,l)&&lc(n,"set",r,i):lc(n,"add",r,i)),f}}function uY(t,e){const n=Hr(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&lc(t,"delete",e,void 0),r}function cY(t,e){const n=Reflect.has(t,e);return(!e5(e)||!hF.has(e))&&Jo(t,"has",e),n}function dY(t){return Jo(t,"iterate",vr(t)?"length":ah),Reflect.ownKeys(t)}const vF={get:nY,set:sY,deleteProperty:uY,has:cY,ownKeys:dY},fY={get:iY,set(t,e){return!0},deleteProperty(t,e){return!0}},hY=ya({},vF,{get:rY,set:lY}),o5=t=>t,e2=t=>Reflect.getPrototypeOf(t);function Uy(t,e,n=!1,r=!1){t=t.__v_raw;const i=Gn(t),o=Gn(e);n||(e!==o&&Jo(i,"get",e),Jo(i,"get",o));const{has:l}=e2(i),a=r?o5:n?u5:x1;if(l.call(i,e))return a(t.get(e));if(l.call(i,o))return a(t.get(o));t!==i&&t.get(e)}function Hy(t,e=!1){const n=this.__v_raw,r=Gn(n),i=Gn(t);return e||(t!==i&&Jo(r,"has",t),Jo(r,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function Ky(t,e=!1){return t=t.__v_raw,!e&&Jo(Gn(t),"iterate",ah),Reflect.get(t,"size",t)}function ak(t){t=Gn(t);const e=Gn(this);return e2(e).has.call(e,t)||(e.add(t),lc(e,"add",t,t)),this}function ok(t,e){e=Gn(e);const n=Gn(this),{has:r,get:i}=e2(n);let o=r.call(n,t);o||(t=Gn(t),o=r.call(n,t));const l=i.call(n,t);return n.set(t,e),o?b1(e,l)&&lc(n,"set",t,e):lc(n,"add",t,e),this}function sk(t){const e=Gn(this),{has:n,get:r}=e2(e);let i=n.call(e,t);i||(t=Gn(t),i=n.call(e,t)),r&&r.call(e,t);const o=e.delete(t);return i&&lc(e,"delete",t,void 0),o}function lk(){const t=Gn(this),e=t.size!==0,n=t.clear();return e&&lc(t,"clear",void 0,void 0),n}function Wy(t,e){return function(r,i){const o=this,l=o.__v_raw,a=Gn(l),f=e?o5:t?u5:x1;return!t&&Jo(a,"iterate",ah),l.forEach((p,v)=>r.call(i,f(p),f(v),o))}}function Gy(t,e,n){return function(...r){const i=this.__v_raw,o=Gn(i),l=Xp(o),a=t==="entries"||t===Symbol.iterator&&l,f=t==="keys"&&l,p=i[t](...r),v=n?o5:e?u5:x1;return!e&&Jo(o,"iterate",f?U4:ah),{next(){const{value:g,done:_}=p.next();return _?{value:g,done:_}:{value:a?[v(g[0]),v(g[1])]:v(g),done:_}},[Symbol.iterator](){return this}}}}function Yc(t){return function(...e){return t==="delete"?!1:this}}function pY(){const t={get(o){return Uy(this,o)},get size(){return Ky(this)},has:Hy,add:ak,set:ok,delete:sk,clear:lk,forEach:Wy(!1,!1)},e={get(o){return Uy(this,o,!1,!0)},get size(){return Ky(this)},has:Hy,add:ak,set:ok,delete:sk,clear:lk,forEach:Wy(!1,!0)},n={get(o){return Uy(this,o,!0)},get size(){return Ky(this,!0)},has(o){return Hy.call(this,o,!0)},add:Yc("add"),set:Yc("set"),delete:Yc("delete"),clear:Yc("clear"),forEach:Wy(!0,!1)},r={get(o){return Uy(this,o,!0,!0)},get size(){return Ky(this,!0)},has(o){return Hy.call(this,o,!0)},add:Yc("add"),set:Yc("set"),delete:Yc("delete"),clear:Yc("clear"),forEach:Wy(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{t[o]=Gy(o,!1,!1),n[o]=Gy(o,!0,!1),e[o]=Gy(o,!1,!0),r[o]=Gy(o,!0,!0)}),[t,n,e,r]}const[vY,mY,gY,yY]=pY();function s5(t,e){const n=e?t?yY:gY:t?mY:vY;return(r,i,o)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?r:Reflect.get(Hr(n,i)&&i in r?n:r,i,o)}const _Y={get:s5(!1,!1)},bY={get:s5(!1,!0)},xY={get:s5(!0,!1)},mF=new WeakMap,gF=new WeakMap,yF=new WeakMap,wY=new WeakMap;function CY(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function SY(t){return t.__v_skip||!Object.isExtensible(t)?0:CY(Bq(t))}function Mr(t){return hv(t)?t:l5(t,!1,vF,_Y,mF)}function TY(t){return l5(t,!1,hY,bY,gF)}function _F(t){return l5(t,!0,fY,xY,yF)}function l5(t,e,n,r,i){if(!$i(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const o=i.get(t);if(o)return o;const l=SY(t);if(l===0)return t;const a=new Proxy(t,l===2?r:n);return i.set(t,a),a}function Zp(t){return hv(t)?Zp(t.__v_raw):!!(t&&t.__v_isReactive)}function hv(t){return!!(t&&t.__v_isReadonly)}function Vb(t){return!!(t&&t.__v_isShallow)}function bF(t){return Zp(t)||hv(t)}function Gn(t){const e=t&&t.__v_raw;return e?Gn(e):t}function xF(t){return $b(t,"__v_skip",!0),t}const x1=t=>$i(t)?Mr(t):t,u5=t=>$i(t)?_F(t):t;function wF(t){wd&&pl&&(t=Gn(t),fF(t.dep||(t.dep=r5())))}function CF(t,e){t=Gn(t);const n=t.dep;n&&H4(n)}function Ra(t){return!!(t&&t.__v_isRef===!0)}function ke(t){return SF(t,!1)}function fr(t){return SF(t,!0)}function SF(t,e){return Ra(t)?t:new EY(t,e)}class EY{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Gn(e),this._value=n?e:x1(e)}get value(){return wF(this),this._value}set value(e){const n=this.__v_isShallow||Vb(e)||hv(e);e=n?e:Gn(e),b1(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:x1(e),CF(this))}}function pa(t){return Ra(t)?t.value:t}const PY={get:(t,e,n)=>pa(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const i=t[e];return Ra(i)&&!Ra(n)?(i.value=n,!0):Reflect.set(t,e,n,r)}};function TF(t){return Zp(t)?t:new Proxy(t,PY)}function Qp(t){const e=vr(t)?new Array(t.length):{};for(const n in t)e[n]=EF(t,n);return e}class MY{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return eY(Gn(this._object),this._key)}}class kY{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function An(t,e,n){return Ra(t)?t:Er(t)?new kY(t):$i(t)&&arguments.length>1?EF(t,e,n):ke(t)}function EF(t,e,n){const r=t[e];return Ra(r)?r:new MY(t,e,n)}class AY{constructor(e,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new i5(e,()=>{this._dirty||(this._dirty=!0,CF(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const e=Gn(this);return wF(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function IY(t,e,n=!1){let r,i;const o=Er(t);return o?(r=t,i=yl):(r=t.get,i=t.set),new AY(r,i,o||!i,n)}function Cd(t,e,n,r){let i;try{i=r?t(...r):t()}catch(o){t2(o,e,n)}return i}function Us(t,e,n,r){if(Er(t)){const o=Cd(t,e,n,r);return o&&rF(o)&&o.catch(l=>{t2(l,e,n)}),o}const i=[];for(let o=0;o<t.length;o++)i.push(Us(t[o],e,n,r));return i}function t2(t,e,n,r=!0){const i=e?e.vnode:null;if(e){let o=e.parent;const l=e.proxy,a=n;for(;o;){const p=o.ec;if(p){for(let v=0;v<p.length;v++)if(p[v](t,l,a)===!1)return}o=o.parent}const f=e.appContext.config.errorHandler;if(f){Cd(f,null,10,[t,l,a]);return}}OY(t,n,i,r)}function OY(t,e,n,r=!0){console.error(t)}let w1=!1,K4=!1;const po=[];let au=0;const Jp=[];let qu=null,Gf=0;const PF=Promise.resolve();let c5=null;function Yn(t){const e=c5||PF;return t?e.then(this?t.bind(this):t):e}function DY(t){let e=au+1,n=po.length;for(;e<n;){const r=e+n>>>1;C1(po[r])<t?e=r+1:n=r}return e}function d5(t){(!po.length||!po.includes(t,w1&&t.allowRecurse?au+1:au))&&(t.id==null?po.push(t):po.splice(DY(t.id),0,t),MF())}function MF(){!w1&&!K4&&(K4=!0,c5=PF.then(AF))}function RY(t){const e=po.indexOf(t);e>au&&po.splice(e,1)}function LY(t){vr(t)?Jp.push(...t):(!qu||!qu.includes(t,t.allowRecurse?Gf+1:Gf))&&Jp.push(t),MF()}function uk(t,e=w1?au+1:0){for(;e<po.length;e++){const n=po[e];n&&n.pre&&(po.splice(e,1),e--,n())}}function kF(t){if(Jp.length){const e=[...new Set(Jp)];if(Jp.length=0,qu){qu.push(...e);return}for(qu=e,qu.sort((n,r)=>C1(n)-C1(r)),Gf=0;Gf<qu.length;Gf++)qu[Gf]();qu=null,Gf=0}}const C1=t=>t.id==null?1/0:t.id,FY=(t,e)=>{const n=C1(t)-C1(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function AF(t){K4=!1,w1=!0,po.sort(FY);const e=yl;try{for(au=0;au<po.length;au++){const n=po[au];n&&n.active!==!1&&Cd(n,null,14)}}finally{au=0,po.length=0,kF(),w1=!1,c5=null,(po.length||Jp.length)&&AF()}}function NY(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Ni;let i=n;const o=e.startsWith("update:"),l=o&&e.slice(7);if(l&&l in r){const v=`${l==="modelValue"?"model":l}Modifiers`,{number:g,trim:_}=r[v]||Ni;_&&(i=n.map(b=>ka(b)?b.trim():b)),g&&(i=n.map(jq))}let a,f=r[a=X3(e)]||r[a=X3(Qo(e))];!f&&o&&(f=r[a=X3(Rv(e))]),f&&Us(f,t,6,i);const p=r[a+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Us(p,t,6,i)}}function IF(t,e,n=!1){const r=e.emitsCache,i=r.get(t);if(i!==void 0)return i;const o=t.emits;let l={},a=!1;if(!Er(t)){const f=p=>{const v=IF(p,e,!0);v&&(a=!0,ya(l,v))};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}return!o&&!a?($i(t)&&r.set(t,null),null):(vr(o)?o.forEach(f=>l[f]=null):ya(l,o),$i(t)&&r.set(t,l),l)}function n2(t,e){return!t||!Yx(e)?!1:(e=e.slice(2).replace(/Once$/,""),Hr(t,e[0].toLowerCase()+e.slice(1))||Hr(t,Rv(e))||Hr(t,e))}let to=null,r2=null;function Ub(t){const e=to;return to=t,r2=t&&t.type.__scopeId||null,e}function OF(t){r2=t}function DF(){r2=null}function Uu(t,e=to,n){if(!e||t._n)return t;const r=(...i)=>{r._d&&wk(-1);const o=Ub(e);let l;try{l=t(...i)}finally{Ub(o),r._d&&wk(1)}return l};return r._n=!0,r._c=!0,r._d=!0,r}function Q3(t){const{type:e,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[l],slots:a,attrs:f,emit:p,render:v,renderCache:g,data:_,setupState:b,ctx:S,inheritAttrs:E}=t;let P,k;const I=Ub(t);try{if(n.shapeFlag&4){const L=i||r;P=ru(v.call(L,L,g,o,b,_,S)),k=f}else{const L=e;P=ru(L.length>1?L(o,{attrs:f,slots:a,emit:p}):L(o,null)),k=e.props?f:BY(f)}}catch(L){Yg.length=0,t2(L,t,1),P=M(Cs)}let D=P;if(k&&E!==!1){const L=Object.keys(k),{shapeFlag:B}=D;L.length&&B&7&&(l&&L.some(Q6)&&(k=zY(k,l)),D=io(D,k))}return n.dirs&&(D=io(D),D.dirs=D.dirs?D.dirs.concat(n.dirs):n.dirs),n.transition&&(D.transition=n.transition),P=D,Ub(I),P}const BY=t=>{let e;for(const n in t)(n==="class"||n==="style"||Yx(n))&&((e||(e={}))[n]=t[n]);return e},zY=(t,e)=>{const n={};for(const r in t)(!Q6(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function $Y(t,e,n){const{props:r,children:i,component:o}=t,{props:l,children:a,patchFlag:f}=e,p=o.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&f>=0){if(f&1024)return!0;if(f&16)return r?ck(r,l,p):!!l;if(f&8){const v=e.dynamicProps;for(let g=0;g<v.length;g++){const _=v[g];if(l[_]!==r[_]&&!n2(p,_))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===l?!1:r?l?ck(r,l,p):!0:!!l;return!1}function ck(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(e[o]!==t[o]&&!n2(n,o))return!0}return!1}function jY({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const VY=t=>t.__isSuspense;function UY(t,e){e&&e.pendingBranch?vr(t)?e.effects.push(...t):e.effects.push(t):LY(t)}function Un(t,e){return f5(t,null,e)}const qy={};function Lt(t,e,n){return f5(t,e,n)}function f5(t,e,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:l}=Ni){var a;const f=lF()===((a=Ka)==null?void 0:a.scope)?Ka:null;let p,v=!1,g=!1;if(Ra(t)?(p=()=>t.value,v=Vb(t)):Zp(t)?(p=()=>t,r=!0):vr(t)?(g=!0,v=t.some(L=>Zp(L)||Vb(L)),p=()=>t.map(L=>{if(Ra(L))return L.value;if(Zp(L))return th(L);if(Er(L))return Cd(L,f,2)})):Er(t)?e?p=()=>Cd(t,f,2):p=()=>{if(!(f&&f.isUnmounted))return _&&_(),Us(t,f,3,[b])}:p=yl,e&&r){const L=p;p=()=>th(L())}let _,b=L=>{_=I.onStop=()=>{Cd(L,f,4)}},S;if(P1)if(b=yl,e?n&&Us(e,f,3,[p(),g?[]:void 0,b]):p(),i==="sync"){const L=FX();S=L.__watcherHandles||(L.__watcherHandles=[])}else return yl;let E=g?new Array(t.length).fill(qy):qy;const P=()=>{if(I.active)if(e){const L=I.run();(r||v||(g?L.some((B,N)=>b1(B,E[N])):b1(L,E)))&&(_&&_(),Us(e,f,3,[L,E===qy?void 0:g&&E[0]===qy?[]:E,b]),E=L)}else I.run()};P.allowRecurse=!!e;let k;i==="sync"?k=P:i==="post"?k=()=>qo(P,f&&f.suspense):(P.pre=!0,f&&(P.id=f.uid),k=()=>d5(P));const I=new i5(p,k);e?n?P():E=I.run():i==="post"?qo(I.run.bind(I),f&&f.suspense):I.run();const D=()=>{I.stop(),f&&f.scope&&J6(f.scope.effects,I)};return S&&S.push(D),D}function HY(t,e,n){const r=this.proxy,i=ka(t)?t.includes(".")?RF(r,t):()=>r[t]:t.bind(r,r);let o;Er(e)?o=e:(o=e.handler,n=e);const l=Ka;pv(this);const a=f5(i,o.bind(r),n);return l?pv(l):oh(),a}function RF(t,e){const n=e.split(".");return()=>{let r=t;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function th(t,e){if(!$i(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),Ra(t))th(t.value,e);else if(vr(t))for(let n=0;n<t.length;n++)th(t[n],e);else if(nF(t)||Xp(t))t.forEach(n=>{th(n,e)});else if(aF(t))for(const n in t)th(t[n],e);return t}function qa(t,e){const n=to;if(n===null)return t;const r=u2(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let o=0;o<e.length;o++){let[l,a,f,p=Ni]=e[o];l&&(Er(l)&&(l={mounted:l,updated:l}),l.deep&&th(a),i.push({dir:l,instance:r,value:a,oldValue:void 0,arg:f,modifiers:p}))}return t}function Pf(t,e,n,r){const i=t.dirs,o=e&&e.dirs;for(let l=0;l<i.length;l++){const a=i[l];o&&(a.oldValue=o[l].value);let f=a.dir[r];f&&(Lv(),Us(f,n,8,[t.el,a,t,e]),Fv())}}function LF(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return zn(()=>{t.isMounted=!0}),tr(()=>{t.isUnmounting=!0}),t}const Fs=[Function,Array],FF={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Fs,onEnter:Fs,onAfterEnter:Fs,onEnterCancelled:Fs,onBeforeLeave:Fs,onLeave:Fs,onAfterLeave:Fs,onLeaveCancelled:Fs,onBeforeAppear:Fs,onAppear:Fs,onAfterAppear:Fs,onAppearCancelled:Fs},KY={name:"BaseTransition",props:FF,setup(t,{slots:e}){const n=Ba(),r=LF();let i;return()=>{const o=e.default&&h5(e.default(),!0);if(!o||!o.length)return;let l=o[0];if(o.length>1){for(const E of o)if(E.type!==Cs){l=E;break}}const a=Gn(t),{mode:f}=a;if(r.isLeaving)return J3(l);const p=dk(l);if(!p)return J3(l);const v=S1(p,a,r,n);T1(p,v);const g=n.subTree,_=g&&dk(g);let b=!1;const{getTransitionKey:S}=p.type;if(S){const E=S();i===void 0?i=E:E!==i&&(i=E,b=!0)}if(_&&_.type!==Cs&&(!qf(p,_)||b)){const E=S1(_,a,r,n);if(T1(_,E),f==="out-in")return r.isLeaving=!0,E.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},J3(l);f==="in-out"&&p.type!==Cs&&(E.delayLeave=(P,k,I)=>{const D=NF(r,_);D[String(_.key)]=_,P._leaveCb=()=>{k(),P._leaveCb=void 0,delete v.delayedLeave},v.delayedLeave=I})}return l}}},WY=KY;function NF(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function S1(t,e,n,r){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:a,onEnter:f,onAfterEnter:p,onEnterCancelled:v,onBeforeLeave:g,onLeave:_,onAfterLeave:b,onLeaveCancelled:S,onBeforeAppear:E,onAppear:P,onAfterAppear:k,onAppearCancelled:I}=e,D=String(t.key),L=NF(n,t),B=(H,V)=>{H&&Us(H,r,9,V)},N=(H,V)=>{const Z=V[1];B(H,V),vr(H)?H.every(re=>re.length<=1)&&Z():H.length<=1&&Z()},j={mode:o,persisted:l,beforeEnter(H){let V=a;if(!n.isMounted)if(i)V=E||a;else return;H._leaveCb&&H._leaveCb(!0);const Z=L[D];Z&&qf(t,Z)&&Z.el._leaveCb&&Z.el._leaveCb(),B(V,[H])},enter(H){let V=f,Z=p,re=v;if(!n.isMounted)if(i)V=P||f,Z=k||p,re=I||v;else return;let q=!1;const G=H._enterCb=ae=>{q||(q=!0,ae?B(re,[H]):B(Z,[H]),j.delayedLeave&&j.delayedLeave(),H._enterCb=void 0)};V?N(V,[H,G]):G()},leave(H,V){const Z=String(t.key);if(H._enterCb&&H._enterCb(!0),n.isUnmounting)return V();B(g,[H]);let re=!1;const q=H._leaveCb=G=>{re||(re=!0,V(),G?B(S,[H]):B(b,[H]),H._leaveCb=void 0,L[Z]===t&&delete L[Z])};L[Z]=t,_?N(_,[H,q]):q()},clone(H){return S1(H,e,n,r)}};return j}function J3(t){if(i2(t))return t=io(t),t.children=null,t}function dk(t){return i2(t)?t.children?t.children[0]:void 0:t}function T1(t,e){t.shapeFlag&6&&t.component?T1(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function h5(t,e=!1,n){let r=[],i=0;for(let o=0;o<t.length;o++){let l=t[o];const a=n==null?l.key:String(n)+String(l.key!=null?l.key:o);l.type===Kn?(l.patchFlag&128&&i++,r=r.concat(h5(l.children,e,a))):(e||l.type!==Cs)&&r.push(a!=null?io(l,{key:a}):l)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function lt(t,e){return Er(t)?(()=>ya({name:t.name},e,{setup:t}))():t}const Wg=t=>!!t.type.__asyncLoader,i2=t=>t.type.__isKeepAlive;function a2(t,e){zF(t,"a",e)}function BF(t,e){zF(t,"da",e)}function zF(t,e,n=Ka){const r=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(o2(e,r,n),n){let i=n.parent;for(;i&&i.parent;)i2(i.parent.vnode)&&GY(r,e,n,i),i=i.parent}}function GY(t,e,n,r){const i=o2(e,t,r,!0);_o(()=>{J6(r[e],i)},n)}function o2(t,e,n=Ka,r=!1){if(n){const i=n[t]||(n[t]=[]),o=e.__weh||(e.__weh=(...l)=>{if(n.isUnmounted)return;Lv(),pv(n);const a=Us(e,n,t,l);return oh(),Fv(),a});return r?i.unshift(o):i.push(o),o}}const dc=t=>(e,n=Ka)=>(!P1||t==="sp")&&o2(t,(...r)=>e(...r),n),s2=dc("bm"),zn=dc("m"),p5=dc("bu"),yo=dc("u"),tr=dc("bum"),_o=dc("um"),qY=dc("sp"),YY=dc("rtg"),XY=dc("rtc");function ZY(t,e=Ka){o2("ec",t,e)}const $F="components",QY="directives";function sd(t,e){return jF($F,t,!0,e)||t}const JY=Symbol.for("v-ndc");function eX(t){return jF(QY,t)}function jF(t,e,n=!0,r=!1){const i=to||Ka;if(i){const o=i.type;if(t===$F){const a=DX(o,!1);if(a&&(a===e||a===Qo(e)||a===Qx(Qo(e))))return o}const l=fk(i[t]||o[t],e)||fk(i.appContext[t],e);return!l&&r?o:l}}function fk(t,e){return t&&(t[e]||t[Qo(e)]||t[Qx(Qo(e))])}function v5(t,e,n={},r,i){if(to.isCE||to.parent&&Wg(to.parent)&&to.parent.isCE)return e!=="default"&&(n.name=e),M("slot",n,r&&r());let o=t[e];o&&o._c&&(o._d=!1),nu();const l=o&&VF(o(n)),a=dd(Kn,{key:n.key||l&&l.key||`_${e}`},l||(r?r():[]),l&&t._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function VF(t){return t.some(e=>Ga(e)?!(e.type===Cs||e.type===Kn&&!VF(e.children)):!0)?t:null}const W4=t=>t?eN(t)?u2(t)||t.proxy:W4(t.parent):null,Gg=ya(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>W4(t.parent),$root:t=>W4(t.root),$emit:t=>t.emit,$options:t=>m5(t),$forceUpdate:t=>t.f||(t.f=()=>d5(t.update)),$nextTick:t=>t.n||(t.n=Yn.bind(t.proxy)),$watch:t=>HY.bind(t)}),eC=(t,e)=>t!==Ni&&!t.__isScriptSetup&&Hr(t,e),tX={get({_:t},e){const{ctx:n,setupState:r,data:i,props:o,accessCache:l,type:a,appContext:f}=t;let p;if(e[0]!=="$"){const b=l[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return i[e];case 4:return n[e];case 3:return o[e]}else{if(eC(r,e))return l[e]=1,r[e];if(i!==Ni&&Hr(i,e))return l[e]=2,i[e];if((p=t.propsOptions[0])&&Hr(p,e))return l[e]=3,o[e];if(n!==Ni&&Hr(n,e))return l[e]=4,n[e];G4&&(l[e]=0)}}const v=Gg[e];let g,_;if(v)return e==="$attrs"&&Jo(t,"get",e),v(t);if((g=a.__cssModules)&&(g=g[e]))return g;if(n!==Ni&&Hr(n,e))return l[e]=4,n[e];if(_=f.config.globalProperties,Hr(_,e))return _[e]},set({_:t},e,n){const{data:r,setupState:i,ctx:o}=t;return eC(i,e)?(i[e]=n,!0):r!==Ni&&Hr(r,e)?(r[e]=n,!0):Hr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(o[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:i,propsOptions:o}},l){let a;return!!n[l]||t!==Ni&&Hr(t,l)||eC(e,l)||(a=o[0])&&Hr(a,l)||Hr(r,l)||Hr(Gg,l)||Hr(i.config.globalProperties,l)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Hr(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function nX(){return rX().attrs}function rX(){const t=Ba();return t.setupContext||(t.setupContext=nN(t))}function hk(t){return vr(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let G4=!0;function iX(t){const e=m5(t),n=t.proxy,r=t.ctx;G4=!1,e.beforeCreate&&pk(e.beforeCreate,t,"bc");const{data:i,computed:o,methods:l,watch:a,provide:f,inject:p,created:v,beforeMount:g,mounted:_,beforeUpdate:b,updated:S,activated:E,deactivated:P,beforeDestroy:k,beforeUnmount:I,destroyed:D,unmounted:L,render:B,renderTracked:N,renderTriggered:j,errorCaptured:H,serverPrefetch:V,expose:Z,inheritAttrs:re,components:q,directives:G,filters:ae}=e;if(p&&aX(p,r,null),l)for(const Y in l){const X=l[Y];Er(X)&&(r[Y]=X.bind(n))}if(i){const Y=i.call(n,n);$i(Y)&&(t.data=Mr(Y))}if(G4=!0,o)for(const Y in o){const X=o[Y],ie=Er(X)?X.bind(n,n):Er(X.get)?X.get.bind(n,n):yl,he=!Er(X)&&Er(X.set)?X.set.bind(n):yl,ce=le({get:ie,set:he});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>ce.value,set:we=>ce.value=we})}if(a)for(const Y in a)UF(a[Y],r,n,Y);if(f){const Y=Er(f)?f.call(n):f;Reflect.ownKeys(Y).forEach(X=>{Xn(X,Y[X])})}v&&pk(v,t,"c");function Q(Y,X){vr(X)?X.forEach(ie=>Y(ie.bind(n))):X&&Y(X.bind(n))}if(Q(s2,g),Q(zn,_),Q(p5,b),Q(yo,S),Q(a2,E),Q(BF,P),Q(ZY,H),Q(XY,N),Q(YY,j),Q(tr,I),Q(_o,L),Q(qY,V),vr(Z))if(Z.length){const Y=t.exposed||(t.exposed={});Z.forEach(X=>{Object.defineProperty(Y,X,{get:()=>n[X],set:ie=>n[X]=ie})})}else t.exposed||(t.exposed={});B&&t.render===yl&&(t.render=B),re!=null&&(t.inheritAttrs=re),q&&(t.components=q),G&&(t.directives=G)}function aX(t,e,n=yl){vr(t)&&(t=q4(t));for(const r in t){const i=t[r];let o;$i(i)?"default"in i?o=Hn(i.from||r,i.default,!0):o=Hn(i.from||r):o=Hn(i),Ra(o)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[r]=o}}function pk(t,e,n){Us(vr(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function UF(t,e,n,r){const i=r.includes(".")?RF(n,r):()=>n[r];if(ka(t)){const o=e[t];Er(o)&&Lt(i,o)}else if(Er(t))Lt(i,t.bind(n));else if($i(t))if(vr(t))t.forEach(o=>UF(o,e,n,r));else{const o=Er(t.handler)?t.handler.bind(n):e[t.handler];Er(o)&&Lt(i,o,t)}}function m5(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:i,optionsCache:o,config:{optionMergeStrategies:l}}=t.appContext,a=o.get(e);let f;return a?f=a:!i.length&&!n&&!r?f=e:(f={},i.length&&i.forEach(p=>Hb(f,p,l,!0)),Hb(f,e,l)),$i(e)&&o.set(e,f),f}function Hb(t,e,n,r=!1){const{mixins:i,extends:o}=e;o&&Hb(t,o,n,!0),i&&i.forEach(l=>Hb(t,l,n,!0));for(const l in e)if(!(r&&l==="expose")){const a=oX[l]||n&&n[l];t[l]=a?a(t[l],e[l]):e[l]}return t}const oX={data:vk,props:mk,emits:mk,methods:Og,computed:Og,beforeCreate:Eo,created:Eo,beforeMount:Eo,mounted:Eo,beforeUpdate:Eo,updated:Eo,beforeDestroy:Eo,beforeUnmount:Eo,destroyed:Eo,unmounted:Eo,activated:Eo,deactivated:Eo,errorCaptured:Eo,serverPrefetch:Eo,components:Og,directives:Og,watch:lX,provide:vk,inject:sX};function vk(t,e){return e?t?function(){return ya(Er(t)?t.call(this,this):t,Er(e)?e.call(this,this):e)}:e:t}function sX(t,e){return Og(q4(t),q4(e))}function q4(t){if(vr(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Eo(t,e){return t?[...new Set([].concat(t,e))]:e}function Og(t,e){return t?ya(Object.create(null),t,e):e}function mk(t,e){return t?vr(t)&&vr(e)?[...new Set([...t,...e])]:ya(Object.create(null),hk(t),hk(e??{})):e}function lX(t,e){if(!t)return e;if(!e)return t;const n=ya(Object.create(null),t);for(const r in e)n[r]=Eo(t[r],e[r]);return n}function HF(){return{app:null,config:{isNativeTag:Lq,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uX=0;function cX(t,e){return function(r,i=null){Er(r)||(r=ya({},r)),i!=null&&!$i(i)&&(i=null);const o=HF(),l=new Set;let a=!1;const f=o.app={_uid:uX++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:NX,get config(){return o.config},set config(p){},use(p,...v){return l.has(p)||(p&&Er(p.install)?(l.add(p),p.install(f,...v)):Er(p)&&(l.add(p),p(f,...v))),f},mixin(p){return o.mixins.includes(p)||o.mixins.push(p),f},component(p,v){return v?(o.components[p]=v,f):o.components[p]},directive(p,v){return v?(o.directives[p]=v,f):o.directives[p]},mount(p,v,g){if(!a){const _=M(r,i);return _.appContext=o,v&&e?e(_,p):t(_,p,g),a=!0,f._container=p,p.__vue_app__=f,u2(_.component)||_.component.proxy}},unmount(){a&&(t(null,f._container),delete f._container.__vue_app__)},provide(p,v){return o.provides[p]=v,f},runWithContext(p){Kb=f;try{return p()}finally{Kb=null}}};return f}}let Kb=null;function Xn(t,e){if(Ka){let n=Ka.provides;const r=Ka.parent&&Ka.parent.provides;r===n&&(n=Ka.provides=Object.create(r)),n[t]=e}}function Hn(t,e,n=!1){const r=Ka||to;if(r||Kb){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Kb._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&Er(e)?e.call(r&&r.proxy):e}}function dX(t,e,n,r=!1){const i={},o={};$b(o,l2,1),t.propsDefaults=Object.create(null),KF(t,e,i,o);for(const l in t.propsOptions[0])l in i||(i[l]=void 0);n?t.props=r?i:TY(i):t.type.props?t.props=i:t.props=o,t.attrs=o}function fX(t,e,n,r){const{props:i,attrs:o,vnode:{patchFlag:l}}=t,a=Gn(i),[f]=t.propsOptions;let p=!1;if((r||l>0)&&!(l&16)){if(l&8){const v=t.vnode.dynamicProps;for(let g=0;g<v.length;g++){let _=v[g];if(n2(t.emitsOptions,_))continue;const b=e[_];if(f)if(Hr(o,_))b!==o[_]&&(o[_]=b,p=!0);else{const S=Qo(_);i[S]=Y4(f,a,S,b,t,!1)}else b!==o[_]&&(o[_]=b,p=!0)}}}else{KF(t,e,i,o)&&(p=!0);let v;for(const g in a)(!e||!Hr(e,g)&&((v=Rv(g))===g||!Hr(e,v)))&&(f?n&&(n[g]!==void 0||n[v]!==void 0)&&(i[g]=Y4(f,a,g,void 0,t,!0)):delete i[g]);if(o!==a)for(const g in o)(!e||!Hr(e,g))&&(delete o[g],p=!0)}p&&lc(t,"set","$attrs")}function KF(t,e,n,r){const[i,o]=t.propsOptions;let l=!1,a;if(e)for(let f in e){if(K_(f))continue;const p=e[f];let v;i&&Hr(i,v=Qo(f))?!o||!o.includes(v)?n[v]=p:(a||(a={}))[v]=p:n2(t.emitsOptions,f)||(!(f in r)||p!==r[f])&&(r[f]=p,l=!0)}if(o){const f=Gn(n),p=a||Ni;for(let v=0;v<o.length;v++){const g=o[v];n[g]=Y4(i,f,g,p[g],t,!Hr(p,g))}}return l}function Y4(t,e,n,r,i,o){const l=t[n];if(l!=null){const a=Hr(l,"default");if(a&&r===void 0){const f=l.default;if(l.type!==Function&&!l.skipFactory&&Er(f)){const{propsDefaults:p}=i;n in p?r=p[n]:(pv(i),r=p[n]=f.call(null,e),oh())}else r=f}l[0]&&(o&&!a?r=!1:l[1]&&(r===""||r===Rv(n))&&(r=!0))}return r}function WF(t,e,n=!1){const r=e.propsCache,i=r.get(t);if(i)return i;const o=t.props,l={},a=[];let f=!1;if(!Er(t)){const v=g=>{f=!0;const[_,b]=WF(g,e,!0);ya(l,_),b&&a.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(v),t.extends&&v(t.extends),t.mixins&&t.mixins.forEach(v)}if(!o&&!f)return $i(t)&&r.set(t,Yp),Yp;if(vr(o))for(let v=0;v<o.length;v++){const g=Qo(o[v]);gk(g)&&(l[g]=Ni)}else if(o)for(const v in o){const g=Qo(v);if(gk(g)){const _=o[v],b=l[g]=vr(_)||Er(_)?{type:_}:ya({},_);if(b){const S=bk(Boolean,b.type),E=bk(String,b.type);b[0]=S>-1,b[1]=E<0||S<E,(S>-1||Hr(b,"default"))&&a.push(g)}}}const p=[l,a];return $i(t)&&r.set(t,p),p}function gk(t){return t[0]!=="$"}function yk(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function _k(t,e){return yk(t)===yk(e)}function bk(t,e){return vr(e)?e.findIndex(n=>_k(n,t)):Er(e)&&_k(e,t)?0:-1}const GF=t=>t[0]==="_"||t==="$stable",g5=t=>vr(t)?t.map(ru):[ru(t)],hX=(t,e,n)=>{if(e._n)return e;const r=Uu((...i)=>g5(e(...i)),n);return r._c=!1,r},qF=(t,e,n)=>{const r=t._ctx;for(const i in t){if(GF(i))continue;const o=t[i];if(Er(o))e[i]=hX(i,o,r);else if(o!=null){const l=g5(o);e[i]=()=>l}}},YF=(t,e)=>{const n=g5(e);t.slots.default=()=>n},pX=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Gn(e),$b(e,"_",n)):qF(e,t.slots={})}else t.slots={},e&&YF(t,e);$b(t.slots,l2,1)},vX=(t,e,n)=>{const{vnode:r,slots:i}=t;let o=!0,l=Ni;if(r.shapeFlag&32){const a=e._;a?n&&a===1?o=!1:(ya(i,e),!n&&a===1&&delete i._):(o=!e.$stable,qF(e,i)),l=e}else e&&(YF(t,e),l={default:1});if(o)for(const a in i)!GF(a)&&!(a in l)&&delete i[a]};function X4(t,e,n,r,i=!1){if(vr(t)){t.forEach((_,b)=>X4(_,e&&(vr(e)?e[b]:e),n,r,i));return}if(Wg(r)&&!i)return;const o=r.shapeFlag&4?u2(r.component)||r.component.proxy:r.el,l=i?null:o,{i:a,r:f}=t,p=e&&e.r,v=a.refs===Ni?a.refs={}:a.refs,g=a.setupState;if(p!=null&&p!==f&&(ka(p)?(v[p]=null,Hr(g,p)&&(g[p]=null)):Ra(p)&&(p.value=null)),Er(f))Cd(f,a,12,[l,v]);else{const _=ka(f),b=Ra(f);if(_||b){const S=()=>{if(t.f){const E=_?Hr(g,f)?g[f]:v[f]:f.value;i?vr(E)&&J6(E,o):vr(E)?E.includes(o)||E.push(o):_?(v[f]=[o],Hr(g,f)&&(g[f]=v[f])):(f.value=[o],t.k&&(v[t.k]=f.value))}else _?(v[f]=l,Hr(g,f)&&(g[f]=l)):b&&(f.value=l,t.k&&(v[t.k]=l))};l?(S.id=-1,qo(S,n)):S()}}}const qo=UY;function mX(t){return gX(t)}function gX(t,e){const n=j4();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:l,createText:a,createComment:f,setText:p,setElementText:v,parentNode:g,nextSibling:_,setScopeId:b=yl,insertStaticContent:S}=t,E=(Ee,pe,Ie,We=null,Qe=null,at=null,xt=!1,ot=null,nt=!!pe.dynamicChildren)=>{if(Ee===pe)return;Ee&&!qf(Ee,pe)&&(We=ye(Ee),we(Ee,Qe,at,!0),Ee=null),pe.patchFlag===-2&&(nt=!1,pe.dynamicChildren=null);const{type:Ze,ref:ht,shapeFlag:vt}=pe;switch(Ze){case Ld:P(Ee,pe,Ie,We);break;case Cs:k(Ee,pe,Ie,We);break;case tC:Ee==null&&I(pe,Ie,We,xt);break;case Kn:q(Ee,pe,Ie,We,Qe,at,xt,ot,nt);break;default:vt&1?B(Ee,pe,Ie,We,Qe,at,xt,ot,nt):vt&6?G(Ee,pe,Ie,We,Qe,at,xt,ot,nt):(vt&64||vt&128)&&Ze.process(Ee,pe,Ie,We,Qe,at,xt,ot,nt,Re)}ht!=null&&Qe&&X4(ht,Ee&&Ee.ref,at,pe||Ee,!pe)},P=(Ee,pe,Ie,We)=>{if(Ee==null)r(pe.el=a(pe.children),Ie,We);else{const Qe=pe.el=Ee.el;pe.children!==Ee.children&&p(Qe,pe.children)}},k=(Ee,pe,Ie,We)=>{Ee==null?r(pe.el=f(pe.children||""),Ie,We):pe.el=Ee.el},I=(Ee,pe,Ie,We)=>{[Ee.el,Ee.anchor]=S(Ee.children,pe,Ie,We,Ee.el,Ee.anchor)},D=({el:Ee,anchor:pe},Ie,We)=>{let Qe;for(;Ee&&Ee!==pe;)Qe=_(Ee),r(Ee,Ie,We),Ee=Qe;r(pe,Ie,We)},L=({el:Ee,anchor:pe})=>{let Ie;for(;Ee&&Ee!==pe;)Ie=_(Ee),i(Ee),Ee=Ie;i(pe)},B=(Ee,pe,Ie,We,Qe,at,xt,ot,nt)=>{xt=xt||pe.type==="svg",Ee==null?N(pe,Ie,We,Qe,at,xt,ot,nt):V(Ee,pe,Qe,at,xt,ot,nt)},N=(Ee,pe,Ie,We,Qe,at,xt,ot)=>{let nt,Ze;const{type:ht,props:vt,shapeFlag:Ct,transition:Nt,dirs:tn}=Ee;if(nt=Ee.el=l(Ee.type,at,vt&&vt.is,vt),Ct&8?v(nt,Ee.children):Ct&16&&H(Ee.children,nt,null,We,Qe,at&&ht!=="foreignObject",xt,ot),tn&&Pf(Ee,null,We,"created"),j(nt,Ee,Ee.scopeId,xt,We),vt){for(const Pt in vt)Pt!=="value"&&!K_(Pt)&&o(nt,Pt,null,vt[Pt],at,Ee.children,We,Qe,Pe);"value"in vt&&o(nt,"value",null,vt.value),(Ze=vt.onVnodeBeforeMount)&&Yl(Ze,We,Ee)}tn&&Pf(Ee,null,We,"beforeMount");const rn=(!Qe||Qe&&!Qe.pendingBranch)&&Nt&&!Nt.persisted;rn&&Nt.beforeEnter(nt),r(nt,pe,Ie),((Ze=vt&&vt.onVnodeMounted)||rn||tn)&&qo(()=>{Ze&&Yl(Ze,We,Ee),rn&&Nt.enter(nt),tn&&Pf(Ee,null,We,"mounted")},Qe)},j=(Ee,pe,Ie,We,Qe)=>{if(Ie&&b(Ee,Ie),We)for(let at=0;at<We.length;at++)b(Ee,We[at]);if(Qe){let at=Qe.subTree;if(pe===at){const xt=Qe.vnode;j(Ee,xt,xt.scopeId,xt.slotScopeIds,Qe.parent)}}},H=(Ee,pe,Ie,We,Qe,at,xt,ot,nt=0)=>{for(let Ze=nt;Ze<Ee.length;Ze++){const ht=Ee[Ze]=ot?ld(Ee[Ze]):ru(Ee[Ze]);E(null,ht,pe,Ie,We,Qe,at,xt,ot)}},V=(Ee,pe,Ie,We,Qe,at,xt)=>{const ot=pe.el=Ee.el;let{patchFlag:nt,dynamicChildren:Ze,dirs:ht}=pe;nt|=Ee.patchFlag&16;const vt=Ee.props||Ni,Ct=pe.props||Ni;let Nt;Ie&&Mf(Ie,!1),(Nt=Ct.onVnodeBeforeUpdate)&&Yl(Nt,Ie,pe,Ee),ht&&Pf(pe,Ee,Ie,"beforeUpdate"),Ie&&Mf(Ie,!0);const tn=Qe&&pe.type!=="foreignObject";if(Ze?Z(Ee.dynamicChildren,Ze,ot,Ie,We,tn,at):xt||X(Ee,pe,ot,null,Ie,We,tn,at,!1),nt>0){if(nt&16)re(ot,pe,vt,Ct,Ie,We,Qe);else if(nt&2&&vt.class!==Ct.class&&o(ot,"class",null,Ct.class,Qe),nt&4&&o(ot,"style",vt.style,Ct.style,Qe),nt&8){const rn=pe.dynamicProps;for(let Pt=0;Pt<rn.length;Pt++){const yt=rn[Pt],Bt=vt[yt],Ut=Ct[yt];(Ut!==Bt||yt==="value")&&o(ot,yt,Bt,Ut,Qe,Ee.children,Ie,We,Pe)}}nt&1&&Ee.children!==pe.children&&v(ot,pe.children)}else!xt&&Ze==null&&re(ot,pe,vt,Ct,Ie,We,Qe);((Nt=Ct.onVnodeUpdated)||ht)&&qo(()=>{Nt&&Yl(Nt,Ie,pe,Ee),ht&&Pf(pe,Ee,Ie,"updated")},We)},Z=(Ee,pe,Ie,We,Qe,at,xt)=>{for(let ot=0;ot<pe.length;ot++){const nt=Ee[ot],Ze=pe[ot],ht=nt.el&&(nt.type===Kn||!qf(nt,Ze)||nt.shapeFlag&70)?g(nt.el):Ie;E(nt,Ze,ht,null,We,Qe,at,xt,!0)}},re=(Ee,pe,Ie,We,Qe,at,xt)=>{if(Ie!==We){if(Ie!==Ni)for(const ot in Ie)!K_(ot)&&!(ot in We)&&o(Ee,ot,Ie[ot],null,xt,pe.children,Qe,at,Pe);for(const ot in We){if(K_(ot))continue;const nt=We[ot],Ze=Ie[ot];nt!==Ze&&ot!=="value"&&o(Ee,ot,Ze,nt,xt,pe.children,Qe,at,Pe)}"value"in We&&o(Ee,"value",Ie.value,We.value)}},q=(Ee,pe,Ie,We,Qe,at,xt,ot,nt)=>{const Ze=pe.el=Ee?Ee.el:a(""),ht=pe.anchor=Ee?Ee.anchor:a("");let{patchFlag:vt,dynamicChildren:Ct,slotScopeIds:Nt}=pe;Nt&&(ot=ot?ot.concat(Nt):Nt),Ee==null?(r(Ze,Ie,We),r(ht,Ie,We),H(pe.children,Ie,ht,Qe,at,xt,ot,nt)):vt>0&&vt&64&&Ct&&Ee.dynamicChildren?(Z(Ee.dynamicChildren,Ct,Ie,Qe,at,xt,ot),(pe.key!=null||Qe&&pe===Qe.subTree)&&y5(Ee,pe,!0)):X(Ee,pe,Ie,ht,Qe,at,xt,ot,nt)},G=(Ee,pe,Ie,We,Qe,at,xt,ot,nt)=>{pe.slotScopeIds=ot,Ee==null?pe.shapeFlag&512?Qe.ctx.activate(pe,Ie,We,xt,nt):ae(pe,Ie,We,Qe,at,xt,nt):te(Ee,pe,nt)},ae=(Ee,pe,Ie,We,Qe,at,xt)=>{const ot=Ee.component=kX(Ee,We,Qe);if(i2(Ee)&&(ot.ctx.renderer=Re),AX(ot),ot.asyncDep){if(Qe&&Qe.registerDep(ot,Q),!Ee.el){const nt=ot.subTree=M(Cs);k(null,nt,pe,Ie)}return}Q(ot,Ee,pe,Ie,Qe,at,xt)},te=(Ee,pe,Ie)=>{const We=pe.component=Ee.component;if($Y(Ee,pe,Ie))if(We.asyncDep&&!We.asyncResolved){Y(We,pe,Ie);return}else We.next=pe,RY(We.update),We.update();else pe.el=Ee.el,We.vnode=pe},Q=(Ee,pe,Ie,We,Qe,at,xt)=>{const ot=()=>{if(Ee.isMounted){let{next:ht,bu:vt,u:Ct,parent:Nt,vnode:tn}=Ee,rn=ht,Pt;Mf(Ee,!1),ht?(ht.el=tn.el,Y(Ee,ht,xt)):ht=tn,vt&&Z3(vt),(Pt=ht.props&&ht.props.onVnodeBeforeUpdate)&&Yl(Pt,Nt,ht,tn),Mf(Ee,!0);const yt=Q3(Ee),Bt=Ee.subTree;Ee.subTree=yt,E(Bt,yt,g(Bt.el),ye(Bt),Ee,Qe,at),ht.el=yt.el,rn===null&&jY(Ee,yt.el),Ct&&qo(Ct,Qe),(Pt=ht.props&&ht.props.onVnodeUpdated)&&qo(()=>Yl(Pt,Nt,ht,tn),Qe)}else{let ht;const{el:vt,props:Ct}=pe,{bm:Nt,m:tn,parent:rn}=Ee,Pt=Wg(pe);if(Mf(Ee,!1),Nt&&Z3(Nt),!Pt&&(ht=Ct&&Ct.onVnodeBeforeMount)&&Yl(ht,rn,pe),Mf(Ee,!0),vt&&He){const yt=()=>{Ee.subTree=Q3(Ee),He(vt,Ee.subTree,Ee,Qe,null)};Pt?pe.type.__asyncLoader().then(()=>!Ee.isUnmounted&&yt()):yt()}else{const yt=Ee.subTree=Q3(Ee);E(null,yt,Ie,We,Ee,Qe,at),pe.el=yt.el}if(tn&&qo(tn,Qe),!Pt&&(ht=Ct&&Ct.onVnodeMounted)){const yt=pe;qo(()=>Yl(ht,rn,yt),Qe)}(pe.shapeFlag&256||rn&&Wg(rn.vnode)&&rn.vnode.shapeFlag&256)&&Ee.a&&qo(Ee.a,Qe),Ee.isMounted=!0,pe=Ie=We=null}},nt=Ee.effect=new i5(ot,()=>d5(Ze),Ee.scope),Ze=Ee.update=()=>nt.run();Ze.id=Ee.uid,Mf(Ee,!0),Ze()},Y=(Ee,pe,Ie)=>{pe.component=Ee;const We=Ee.vnode.props;Ee.vnode=pe,Ee.next=null,fX(Ee,pe.props,We,Ie),vX(Ee,pe.children,Ie),Lv(),uk(),Fv()},X=(Ee,pe,Ie,We,Qe,at,xt,ot,nt=!1)=>{const Ze=Ee&&Ee.children,ht=Ee?Ee.shapeFlag:0,vt=pe.children,{patchFlag:Ct,shapeFlag:Nt}=pe;if(Ct>0){if(Ct&128){he(Ze,vt,Ie,We,Qe,at,xt,ot,nt);return}else if(Ct&256){ie(Ze,vt,Ie,We,Qe,at,xt,ot,nt);return}}Nt&8?(ht&16&&Pe(Ze,Qe,at),vt!==Ze&&v(Ie,vt)):ht&16?Nt&16?he(Ze,vt,Ie,We,Qe,at,xt,ot,nt):Pe(Ze,Qe,at,!0):(ht&8&&v(Ie,""),Nt&16&&H(vt,Ie,We,Qe,at,xt,ot,nt))},ie=(Ee,pe,Ie,We,Qe,at,xt,ot,nt)=>{Ee=Ee||Yp,pe=pe||Yp;const Ze=Ee.length,ht=pe.length,vt=Math.min(Ze,ht);let Ct;for(Ct=0;Ct<vt;Ct++){const Nt=pe[Ct]=nt?ld(pe[Ct]):ru(pe[Ct]);E(Ee[Ct],Nt,Ie,null,Qe,at,xt,ot,nt)}Ze>ht?Pe(Ee,Qe,at,!0,!1,vt):H(pe,Ie,We,Qe,at,xt,ot,nt,vt)},he=(Ee,pe,Ie,We,Qe,at,xt,ot,nt)=>{let Ze=0;const ht=pe.length;let vt=Ee.length-1,Ct=ht-1;for(;Ze<=vt&&Ze<=Ct;){const Nt=Ee[Ze],tn=pe[Ze]=nt?ld(pe[Ze]):ru(pe[Ze]);if(qf(Nt,tn))E(Nt,tn,Ie,null,Qe,at,xt,ot,nt);else break;Ze++}for(;Ze<=vt&&Ze<=Ct;){const Nt=Ee[vt],tn=pe[Ct]=nt?ld(pe[Ct]):ru(pe[Ct]);if(qf(Nt,tn))E(Nt,tn,Ie,null,Qe,at,xt,ot,nt);else break;vt--,Ct--}if(Ze>vt){if(Ze<=Ct){const Nt=Ct+1,tn=Nt<ht?pe[Nt].el:We;for(;Ze<=Ct;)E(null,pe[Ze]=nt?ld(pe[Ze]):ru(pe[Ze]),Ie,tn,Qe,at,xt,ot,nt),Ze++}}else if(Ze>Ct)for(;Ze<=vt;)we(Ee[Ze],Qe,at,!0),Ze++;else{const Nt=Ze,tn=Ze,rn=new Map;for(Ze=tn;Ze<=Ct;Ze++){const _t=pe[Ze]=nt?ld(pe[Ze]):ru(pe[Ze]);_t.key!=null&&rn.set(_t.key,Ze)}let Pt,yt=0;const Bt=Ct-tn+1;let Ut=!1,St=0;const ft=new Array(Bt);for(Ze=0;Ze<Bt;Ze++)ft[Ze]=0;for(Ze=Nt;Ze<=vt;Ze++){const _t=Ee[Ze];if(yt>=Bt){we(_t,Qe,at,!0);continue}let Ft;if(_t.key!=null)Ft=rn.get(_t.key);else for(Pt=tn;Pt<=Ct;Pt++)if(ft[Pt-tn]===0&&qf(_t,pe[Pt])){Ft=Pt;break}Ft===void 0?we(_t,Qe,at,!0):(ft[Ft-tn]=Ze+1,Ft>=St?St=Ft:Ut=!0,E(_t,pe[Ft],Ie,null,Qe,at,xt,ot,nt),yt++)}const gt=Ut?yX(ft):Yp;for(Pt=gt.length-1,Ze=Bt-1;Ze>=0;Ze--){const _t=tn+Ze,Ft=pe[_t],Gt=_t+1<ht?pe[_t+1].el:We;ft[Ze]===0?E(null,Ft,Ie,Gt,Qe,at,xt,ot,nt):Ut&&(Pt<0||Ze!==gt[Pt]?ce(Ft,Ie,Gt,2):Pt--)}}},ce=(Ee,pe,Ie,We,Qe=null)=>{const{el:at,type:xt,transition:ot,children:nt,shapeFlag:Ze}=Ee;if(Ze&6){ce(Ee.component.subTree,pe,Ie,We);return}if(Ze&128){Ee.suspense.move(pe,Ie,We);return}if(Ze&64){xt.move(Ee,pe,Ie,Re);return}if(xt===Kn){r(at,pe,Ie);for(let vt=0;vt<nt.length;vt++)ce(nt[vt],pe,Ie,We);r(Ee.anchor,pe,Ie);return}if(xt===tC){D(Ee,pe,Ie);return}if(We!==2&&Ze&1&&ot)if(We===0)ot.beforeEnter(at),r(at,pe,Ie),qo(()=>ot.enter(at),Qe);else{const{leave:vt,delayLeave:Ct,afterLeave:Nt}=ot,tn=()=>r(at,pe,Ie),rn=()=>{vt(at,()=>{tn(),Nt&&Nt()})};Ct?Ct(at,tn,rn):rn()}else r(at,pe,Ie)},we=(Ee,pe,Ie,We=!1,Qe=!1)=>{const{type:at,props:xt,ref:ot,children:nt,dynamicChildren:Ze,shapeFlag:ht,patchFlag:vt,dirs:Ct}=Ee;if(ot!=null&&X4(ot,null,Ie,Ee,!0),ht&256){pe.ctx.deactivate(Ee);return}const Nt=ht&1&&Ct,tn=!Wg(Ee);let rn;if(tn&&(rn=xt&&xt.onVnodeBeforeUnmount)&&Yl(rn,pe,Ee),ht&6)ge(Ee.component,Ie,We);else{if(ht&128){Ee.suspense.unmount(Ie,We);return}Nt&&Pf(Ee,null,pe,"beforeUnmount"),ht&64?Ee.type.remove(Ee,pe,Ie,Qe,Re,We):Ze&&(at!==Kn||vt>0&&vt&64)?Pe(Ze,pe,Ie,!1,!0):(at===Kn&&vt&384||!Qe&&ht&16)&&Pe(nt,pe,Ie),We&&be(Ee)}(tn&&(rn=xt&&xt.onVnodeUnmounted)||Nt)&&qo(()=>{rn&&Yl(rn,pe,Ee),Nt&&Pf(Ee,null,pe,"unmounted")},Ie)},be=Ee=>{const{type:pe,el:Ie,anchor:We,transition:Qe}=Ee;if(pe===Kn){ve(Ie,We);return}if(pe===tC){L(Ee);return}const at=()=>{i(Ie),Qe&&!Qe.persisted&&Qe.afterLeave&&Qe.afterLeave()};if(Ee.shapeFlag&1&&Qe&&!Qe.persisted){const{leave:xt,delayLeave:ot}=Qe,nt=()=>xt(Ie,at);ot?ot(Ee.el,at,nt):nt()}else at()},ve=(Ee,pe)=>{let Ie;for(;Ee!==pe;)Ie=_(Ee),i(Ee),Ee=Ie;i(pe)},ge=(Ee,pe,Ie)=>{const{bum:We,scope:Qe,update:at,subTree:xt,um:ot}=Ee;We&&Z3(We),Qe.stop(),at&&(at.active=!1,we(xt,Ee,pe,Ie)),ot&&qo(ot,pe),qo(()=>{Ee.isUnmounted=!0},pe),pe&&pe.pendingBranch&&!pe.isUnmounted&&Ee.asyncDep&&!Ee.asyncResolved&&Ee.suspenseId===pe.pendingId&&(pe.deps--,pe.deps===0&&pe.resolve())},Pe=(Ee,pe,Ie,We=!1,Qe=!1,at=0)=>{for(let xt=at;xt<Ee.length;xt++)we(Ee[xt],pe,Ie,We,Qe)},ye=Ee=>Ee.shapeFlag&6?ye(Ee.component.subTree):Ee.shapeFlag&128?Ee.suspense.next():_(Ee.anchor||Ee.el),Ne=(Ee,pe,Ie)=>{Ee==null?pe._vnode&&we(pe._vnode,null,null,!0):E(pe._vnode||null,Ee,pe,null,null,null,Ie),uk(),kF(),pe._vnode=Ee},Re={p:E,um:we,m:ce,r:be,mt:ae,mc:H,pc:X,pbc:Z,n:ye,o:t};let Ge,He;return e&&([Ge,He]=e(Re)),{render:Ne,hydrate:Ge,createApp:cX(Ne,Ge)}}function Mf({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function y5(t,e,n=!1){const r=t.children,i=e.children;if(vr(r)&&vr(i))for(let o=0;o<r.length;o++){const l=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=ld(i[o]),a.el=l.el),n||y5(l,a)),a.type===Ld&&(a.el=l.el)}}function yX(t){const e=t.slice(),n=[0];let r,i,o,l,a;const f=t.length;for(r=0;r<f;r++){const p=t[r];if(p!==0){if(i=n[n.length-1],t[i]<p){e[r]=i,n.push(r);continue}for(o=0,l=n.length-1;o<l;)a=o+l>>1,t[n[a]]<p?o=a+1:l=a;p<t[n[o]]&&(o>0&&(e[r]=n[o-1]),n[o]=r)}}for(o=n.length,l=n[o-1];o-- >0;)n[o]=l,l=e[l];return n}const _X=t=>t.__isTeleport,qg=t=>t&&(t.disabled||t.disabled===""),xk=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Z4=(t,e)=>{const n=t&&t.to;return ka(n)?e?e(n):null:n},bX={__isTeleport:!0,process(t,e,n,r,i,o,l,a,f,p){const{mc:v,pc:g,pbc:_,o:{insert:b,querySelector:S,createText:E,createComment:P}}=p,k=qg(e.props);let{shapeFlag:I,children:D,dynamicChildren:L}=e;if(t==null){const B=e.el=E(""),N=e.anchor=E("");b(B,n,r),b(N,n,r);const j=e.target=Z4(e.props,S),H=e.targetAnchor=E("");j&&(b(H,j),l=l||xk(j));const V=(Z,re)=>{I&16&&v(D,Z,re,i,o,l,a,f)};k?V(n,N):j&&V(j,H)}else{e.el=t.el;const B=e.anchor=t.anchor,N=e.target=t.target,j=e.targetAnchor=t.targetAnchor,H=qg(t.props),V=H?n:N,Z=H?B:j;if(l=l||xk(N),L?(_(t.dynamicChildren,L,V,i,o,l,a),y5(t,e,!0)):f||g(t,e,V,Z,i,o,l,a,!1),k)H||Yy(e,n,B,p,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const re=e.target=Z4(e.props,S);re&&Yy(e,re,null,p,0)}else H&&Yy(e,N,j,p,1)}XF(e)},remove(t,e,n,r,{um:i,o:{remove:o}},l){const{shapeFlag:a,children:f,anchor:p,targetAnchor:v,target:g,props:_}=t;if(g&&o(v),(l||!qg(_))&&(o(p),a&16))for(let b=0;b<f.length;b++){const S=f[b];i(S,e,n,!0,!!S.dynamicChildren)}},move:Yy,hydrate:xX};function Yy(t,e,n,{o:{insert:r},m:i},o=2){o===0&&r(t.targetAnchor,e,n);const{el:l,anchor:a,shapeFlag:f,children:p,props:v}=t,g=o===2;if(g&&r(l,e,n),(!g||qg(v))&&f&16)for(let _=0;_<p.length;_++)i(p[_],e,n,2);g&&r(a,e,n)}function xX(t,e,n,r,i,o,{o:{nextSibling:l,parentNode:a,querySelector:f}},p){const v=e.target=Z4(e.props,f);if(v){const g=v._lpa||v.firstChild;if(e.shapeFlag&16)if(qg(e.props))e.anchor=p(l(t),e,a(t),n,r,i,o),e.targetAnchor=g;else{e.anchor=l(t);let _=g;for(;_;)if(_=l(_),_&&_.nodeType===8&&_.data==="teleport anchor"){e.targetAnchor=_,v._lpa=e.targetAnchor&&l(e.targetAnchor);break}p(g,e,v,n,r,i,o)}XF(e)}return e.anchor&&l(e.anchor)}const _5=bX;function XF(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const Kn=Symbol.for("v-fgt"),Ld=Symbol.for("v-txt"),Cs=Symbol.for("v-cmt"),tC=Symbol.for("v-stc"),Yg=[];let ml=null;function nu(t=!1){Yg.push(ml=t?null:[])}function wX(){Yg.pop(),ml=Yg[Yg.length-1]||null}let E1=1;function wk(t){E1+=t}function ZF(t){return t.dynamicChildren=E1>0?ml||Yp:null,wX(),E1>0&&ml&&ml.push(t),t}function QF(t,e,n,r,i,o){return ZF(ki(t,e,n,r,i,o,!0))}function dd(t,e,n,r,i){return ZF(M(t,e,n,r,i,!0))}function Ga(t){return t?t.__v_isVNode===!0:!1}function qf(t,e){return t.type===e.type&&t.key===e.key}const l2="__vInternal",JF=({key:t})=>t??null,W_=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ka(t)||Ra(t)||Er(t)?{i:to,r:t,k:e,f:!!n}:t:null);function ki(t,e=null,n=null,r=0,i=null,o=t===Kn?0:1,l=!1,a=!1){const f={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&JF(e),ref:e&&W_(e),scopeId:r2,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:to};return a?(b5(f,n),o&128&&t.normalize(f)):n&&(f.shapeFlag|=ka(n)?8:16),E1>0&&!l&&ml&&(f.patchFlag>0||o&6)&&f.patchFlag!==32&&ml.push(f),f}const M=CX;function CX(t,e=null,n=null,r=0,i=null,o=!1){if((!t||t===JY)&&(t=Cs),Ga(t)){const a=io(t,e,!0);return n&&b5(a,n),E1>0&&!o&&ml&&(a.shapeFlag&6?ml[ml.indexOf(t)]=a:ml.push(a)),a.patchFlag|=-2,a}if(RX(t)&&(t=t.__vccOpts),e){e=SX(e);let{class:a,style:f}=e;a&&!ka(a)&&(e.class=Jx(a)),$i(f)&&(bF(f)&&!vr(f)&&(f=ya({},f)),e.style=n5(f))}const l=ka(t)?1:VY(t)?128:_X(t)?64:$i(t)?4:Er(t)?2:0;return ki(t,e,n,r,i,l,o,!0)}function SX(t){return t?bF(t)||l2 in t?ya({},t):t:null}function io(t,e,n=!1){const{props:r,ref:i,patchFlag:o,children:l}=t,a=e?EX(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&JF(a),ref:e&&e.ref?n&&i?vr(i)?i.concat(W_(e)):[i,W_(e)]:W_(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Kn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&io(t.ssContent),ssFallback:t.ssFallback&&io(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function vo(t=" ",e=0){return M(Ld,null,t,e)}function TX(t="",e=!1){return e?(nu(),dd(Cs,null,t)):M(Cs,null,t)}function ru(t){return t==null||typeof t=="boolean"?M(Cs):vr(t)?M(Kn,null,t.slice()):typeof t=="object"?ld(t):M(Ld,null,String(t))}function ld(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:io(t)}function b5(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(vr(e))n=16;else if(typeof e=="object")if(r&65){const i=e.default;i&&(i._c&&(i._d=!1),b5(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(l2 in e)?e._ctx=to:i===3&&to&&(to.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Er(e)?(e={default:e,_ctx:to},n=32):(e=String(e),r&64?(n=16,e=[vo(e)]):n=8);t.children=e,t.shapeFlag|=n}function EX(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const i in r)if(i==="class")e.class!==r.class&&(e.class=Jx([e.class,r.class]));else if(i==="style")e.style=n5([e.style,r.style]);else if(Yx(i)){const o=e[i],l=r[i];l&&o!==l&&!(vr(o)&&o.includes(l))&&(e[i]=o?[].concat(o,l):l)}else i!==""&&(e[i]=r[i])}return e}function Yl(t,e,n,r=null){Us(t,e,7,[n,r])}const PX=HF();let MX=0;function kX(t,e,n){const r=t.type,i=(e?e.appContext:t.appContext)||PX,o={uid:MX++,vnode:t,type:r,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Yq(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:WF(r,i),emitsOptions:IF(r,i),emit:null,emitted:null,propsDefaults:Ni,inheritAttrs:r.inheritAttrs,ctx:Ni,data:Ni,props:Ni,attrs:Ni,slots:Ni,refs:Ni,setupState:Ni,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=e?e.root:o,o.emit=NY.bind(null,o),t.ce&&t.ce(o),o}let Ka=null;const Ba=()=>Ka||to;let x5,Mp,Ck="__VUE_INSTANCE_SETTERS__";(Mp=j4()[Ck])||(Mp=j4()[Ck]=[]),Mp.push(t=>Ka=t),x5=t=>{Mp.length>1?Mp.forEach(e=>e(t)):Mp[0](t)};const pv=t=>{x5(t),t.scope.on()},oh=()=>{Ka&&Ka.scope.off(),x5(null)};function eN(t){return t.vnode.shapeFlag&4}let P1=!1;function AX(t,e=!1){P1=e;const{props:n,children:r}=t.vnode,i=eN(t);dX(t,n,i,e),pX(t,r);const o=i?IX(t,e):void 0;return P1=!1,o}function IX(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=xF(new Proxy(t.ctx,tX));const{setup:r}=n;if(r){const i=t.setupContext=r.length>1?nN(t):null;pv(t),Lv();const o=Cd(r,t,0,[t.props,i]);if(Fv(),oh(),rF(o)){if(o.then(oh,oh),e)return o.then(l=>{Sk(t,l,e)}).catch(l=>{t2(l,t,0)});t.asyncDep=o}else Sk(t,o,e)}else tN(t,e)}function Sk(t,e,n){Er(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:$i(e)&&(t.setupState=TF(e)),tN(t,n)}let Tk;function tN(t,e,n){const r=t.type;if(!t.render){if(!e&&Tk&&!r.render){const i=r.template||m5(t).template;if(i){const{isCustomElement:o,compilerOptions:l}=t.appContext.config,{delimiters:a,compilerOptions:f}=r,p=ya(ya({isCustomElement:o,delimiters:a},l),f);r.render=Tk(i,p)}}t.render=r.render||yl}pv(t),Lv(),iX(t),Fv(),oh()}function OX(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Jo(t,"get","$attrs"),e[n]}}))}function nN(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return OX(t)},slots:t.slots,emit:t.emit,expose:e}}function u2(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(TF(xF(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Gg)return Gg[n](t)},has(e,n){return n in e||n in Gg}}))}function DX(t,e=!0){return Er(t)?t.displayName||t.name:t.name||e&&t.__name}function RX(t){return Er(t)&&"__vccOpts"in t}const le=(t,e)=>IY(t,e,P1);function vv(t,e,n){const r=arguments.length;return r===2?$i(e)&&!vr(e)?Ga(e)?M(t,null,[e]):M(t,e):M(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Ga(n)&&(n=[n]),M(t,e,n))}const LX=Symbol.for("v-scx"),FX=()=>Hn(LX),NX="3.3.4",BX="http://www.w3.org/2000/svg",Yf=typeof document<"u"?document:null,Ek=Yf&&Yf.createElement("template"),zX={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const i=e?Yf.createElementNS(BX,t):Yf.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:t=>Yf.createTextNode(t),createComment:t=>Yf.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Yf.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,i,o){const l=n?n.previousSibling:e.lastChild;if(i&&(i===o||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Ek.innerHTML=r?`<svg>${t}</svg>`:t;const a=Ek.content;if(r){const f=a.firstChild;for(;f.firstChild;)a.appendChild(f.firstChild);a.removeChild(f)}e.insertBefore(a,n)}return[l?l.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function $X(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function jX(t,e,n){const r=t.style,i=ka(n);if(n&&!i){if(e&&!ka(e))for(const o in e)n[o]==null&&Q4(r,o,"");for(const o in n)Q4(r,o,n[o])}else{const o=r.display;i?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=o)}}const Pk=/\s*!important$/;function Q4(t,e,n){if(vr(n))n.forEach(r=>Q4(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=VX(t,e);Pk.test(n)?t.setProperty(Rv(r),n.replace(Pk,""),"important"):t[r]=n}}const Mk=["Webkit","Moz","ms"],nC={};function VX(t,e){const n=nC[e];if(n)return n;let r=Qo(e);if(r!=="filter"&&r in t)return nC[e]=r;r=Qx(r);for(let i=0;i<Mk.length;i++){const o=Mk[i]+r;if(o in t)return nC[e]=o}return e}const kk="http://www.w3.org/1999/xlink";function UX(t,e,n,r,i){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(kk,e.slice(6,e.length)):t.setAttributeNS(kk,e,n);else{const o=qq(e);n==null||o&&!oF(n)?t.removeAttribute(e):t.setAttribute(e,o?"":n)}}function HX(t,e,n,r,i,o,l){if(e==="innerHTML"||e==="textContent"){r&&l(r,i,o),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const p=a==="OPTION"?t.getAttribute("value"):t.value,v=n??"";p!==v&&(t.value=v),n==null&&t.removeAttribute(e);return}let f=!1;if(n===""||n==null){const p=typeof t[e];p==="boolean"?n=oF(n):n==null&&p==="string"?(n="",f=!0):p==="number"&&(n=0,f=!0)}try{t[e]=n}catch{}f&&t.removeAttribute(e)}function KX(t,e,n,r){t.addEventListener(e,n,r)}function WX(t,e,n,r){t.removeEventListener(e,n,r)}function GX(t,e,n,r,i=null){const o=t._vei||(t._vei={}),l=o[e];if(r&&l)l.value=r;else{const[a,f]=qX(e);if(r){const p=o[e]=ZX(r,i);KX(t,a,p,f)}else l&&(WX(t,a,l,f),o[e]=void 0)}}const Ak=/(?:Once|Passive|Capture)$/;function qX(t){let e;if(Ak.test(t)){e={};let r;for(;r=t.match(Ak);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Rv(t.slice(2)),e]}let rC=0;const YX=Promise.resolve(),XX=()=>rC||(YX.then(()=>rC=0),rC=Date.now());function ZX(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Us(QX(r,n.value),e,5,[r])};return n.value=t,n.attached=XX(),n}function QX(t,e){if(vr(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>i=>!i._stopped&&r&&r(i))}else return e}const Ik=/^on[a-z]/,JX=(t,e,n,r,i=!1,o,l,a,f)=>{e==="class"?$X(t,r,i):e==="style"?jX(t,n,r):Yx(e)?Q6(e)||GX(t,e,n,r,l):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):eZ(t,e,r,i))?HX(t,e,r,o,l,a,f):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),UX(t,e,r,i))};function eZ(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Ik.test(e)&&Er(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Ik.test(e)&&ka(n)?!1:e in t}const Xc="transition",dg="animation",Io=(t,{slots:e})=>vv(WY,iN(t),e);Io.displayName="Transition";const rN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},tZ=Io.props=ya({},FF,rN),kf=(t,e=[])=>{vr(t)?t.forEach(n=>n(...e)):t&&t(...e)},Ok=t=>t?vr(t)?t.some(e=>e.length>1):t.length>1:!1;function iN(t){const e={};for(const q in t)q in rN||(e[q]=t[q]);if(t.css===!1)return e;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:l=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:f=o,appearActiveClass:p=l,appearToClass:v=a,leaveFromClass:g=`${n}-leave-from`,leaveActiveClass:_=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,S=nZ(i),E=S&&S[0],P=S&&S[1],{onBeforeEnter:k,onEnter:I,onEnterCancelled:D,onLeave:L,onLeaveCancelled:B,onBeforeAppear:N=k,onAppear:j=I,onAppearCancelled:H=D}=e,V=(q,G,ae)=>{id(q,G?v:a),id(q,G?p:l),ae&&ae()},Z=(q,G)=>{q._isLeaving=!1,id(q,g),id(q,b),id(q,_),G&&G()},re=q=>(G,ae)=>{const te=q?j:I,Q=()=>V(G,q,ae);kf(te,[G,Q]),Dk(()=>{id(G,q?f:o),Hu(G,q?v:a),Ok(te)||Rk(G,r,E,Q)})};return ya(e,{onBeforeEnter(q){kf(k,[q]),Hu(q,o),Hu(q,l)},onBeforeAppear(q){kf(N,[q]),Hu(q,f),Hu(q,p)},onEnter:re(!1),onAppear:re(!0),onLeave(q,G){q._isLeaving=!0;const ae=()=>Z(q,G);Hu(q,g),oN(),Hu(q,_),Dk(()=>{q._isLeaving&&(id(q,g),Hu(q,b),Ok(L)||Rk(q,r,P,ae))}),kf(L,[q,ae])},onEnterCancelled(q){V(q,!1),kf(D,[q])},onAppearCancelled(q){V(q,!0),kf(H,[q])},onLeaveCancelled(q){Z(q),kf(B,[q])}})}function nZ(t){if(t==null)return null;if($i(t))return[iC(t.enter),iC(t.leave)];{const e=iC(t);return[e,e]}}function iC(t){return Vq(t)}function Hu(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function id(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Dk(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rZ=0;function Rk(t,e,n,r){const i=t._endId=++rZ,o=()=>{i===t._endId&&r()};if(n)return setTimeout(o,n);const{type:l,timeout:a,propCount:f}=aN(t,e);if(!l)return r();const p=l+"end";let v=0;const g=()=>{t.removeEventListener(p,_),o()},_=b=>{b.target===t&&++v>=f&&g()};setTimeout(()=>{v<f&&g()},a+1),t.addEventListener(p,_)}function aN(t,e){const n=window.getComputedStyle(t),r=S=>(n[S]||"").split(", "),i=r(`${Xc}Delay`),o=r(`${Xc}Duration`),l=Lk(i,o),a=r(`${dg}Delay`),f=r(`${dg}Duration`),p=Lk(a,f);let v=null,g=0,_=0;e===Xc?l>0&&(v=Xc,g=l,_=o.length):e===dg?p>0&&(v=dg,g=p,_=f.length):(g=Math.max(l,p),v=g>0?l>p?Xc:dg:null,_=v?v===Xc?o.length:f.length:0);const b=v===Xc&&/\b(transform|all)(,|$)/.test(r(`${Xc}Property`).toString());return{type:v,timeout:g,propCount:_,hasTransform:b}}function Lk(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Fk(n)+Fk(t[r])))}function Fk(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function oN(){return document.body.offsetHeight}const sN=new WeakMap,lN=new WeakMap,uN={name:"TransitionGroup",props:ya({},tZ,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Ba(),r=LF();let i,o;return yo(()=>{if(!i.length)return;const l=t.moveClass||`${t.name||"v"}-move`;if(!lZ(i[0].el,n.vnode.el,l))return;i.forEach(aZ),i.forEach(oZ);const a=i.filter(sZ);oN(),a.forEach(f=>{const p=f.el,v=p.style;Hu(p,l),v.transform=v.webkitTransform=v.transitionDuration="";const g=p._moveCb=_=>{_&&_.target!==p||(!_||/transform$/.test(_.propertyName))&&(p.removeEventListener("transitionend",g),p._moveCb=null,id(p,l))};p.addEventListener("transitionend",g)})}),()=>{const l=Gn(t),a=iN(l);let f=l.tag||Kn;i=o,o=e.default?h5(e.default()):[];for(let p=0;p<o.length;p++){const v=o[p];v.key!=null&&T1(v,S1(v,a,r,n))}if(i)for(let p=0;p<i.length;p++){const v=i[p];T1(v,S1(v,a,r,n)),sN.set(v,v.el.getBoundingClientRect())}return M(f,null,o)}}},iZ=t=>delete t.mode;uN.props;const w5=uN;function aZ(t){const e=t.el;e._moveCb&&e._moveCb(),e._enterCb&&e._enterCb()}function oZ(t){lN.set(t,t.el.getBoundingClientRect())}function sZ(t){const e=sN.get(t),n=lN.get(t),r=e.left-n.left,i=e.top-n.top;if(r||i){const o=t.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",t}}function lZ(t,e,n){const r=t.cloneNode();t._vtc&&t._vtc.forEach(l=>{l.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=aN(r);return i.removeChild(r),o}const uZ=["ctrl","shift","alt","meta"],cZ={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>uZ.some(n=>t[`${n}Key`]&&!e.includes(n))},Nk=(t,e)=>(n,...r)=>{for(let i=0;i<e.length;i++){const o=cZ[e[i]];if(o&&o(n,e))return}return t(n,...r)},Pl={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):fg(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),fg(t,!0),r.enter(t)):r.leave(t,()=>{fg(t,!1)}):fg(t,e))},beforeUnmount(t,{value:e}){fg(t,e)}};function fg(t,e){t.style.display=e?t._vod:"none"}const dZ=ya({patchProp:JX},zX);let Bk;function cN(){return Bk||(Bk=mX(dZ))}const Wb=(...t)=>{cN().render(...t)},dN=(...t)=>{const e=cN().createApp(...t),{mount:n}=e;return e.mount=r=>{const i=fZ(r);if(!i)return;const o=e._component;!Er(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const l=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),l},e};function fZ(t){return ka(t)?document.querySelector(t):t}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const zp=typeof window<"u";function hZ(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const hi=Object.assign;function aC(t,e){const n={};for(const r in e){const i=e[r];n[r]=xl(i)?i.map(t):t(i)}return n}const Xg=()=>{},xl=Array.isArray,pZ=/\/$/,vZ=t=>t.replace(pZ,"");function oC(t,e,n="/"){let r,i={},o="",l="";const a=e.indexOf("#");let f=e.indexOf("?");return a<f&&a>=0&&(f=-1),f>-1&&(r=e.slice(0,f),o=e.slice(f+1,a>-1?a:e.length),i=t(o)),a>-1&&(r=r||e.slice(0,a),l=e.slice(a,e.length)),r=_Z(r??e,n),{fullPath:r+(o&&"?")+o+l,path:r,query:i,hash:l}}function mZ(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function zk(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function gZ(t,e,n){const r=e.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&mv(e.matched[r],n.matched[i])&&fN(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function mv(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function fN(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!yZ(t[n],e[n]))return!1;return!0}function yZ(t,e){return xl(t)?$k(t,e):xl(e)?$k(e,t):t===e}function $k(t,e){return xl(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function _Z(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let o=n.length-1,l,a;for(l=0;l<r.length;l++)if(a=r[l],a!==".")if(a==="..")o>1&&o--;else break;return n.slice(0,o).join("/")+"/"+r.slice(l-(l===r.length?1:0)).join("/")}var M1;(function(t){t.pop="pop",t.push="push"})(M1||(M1={}));var Zg;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Zg||(Zg={}));function bZ(t){if(!t)if(zp){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vZ(t)}const xZ=/^[^#]+#/;function wZ(t,e){return t.replace(xZ,"#")+e}function CZ(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const c2=()=>({left:window.pageXOffset,top:window.pageYOffset});function SZ(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=CZ(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function jk(t,e){return(history.state?history.state.position-e:-1)+t}const J4=new Map;function TZ(t,e){J4.set(t,e)}function EZ(t){const e=J4.get(t);return J4.delete(t),e}let PZ=()=>location.protocol+"//"+location.host;function hN(t,e){const{pathname:n,search:r,hash:i}=e,o=t.indexOf("#");if(o>-1){let a=i.includes(t.slice(o))?t.slice(o).length:1,f=i.slice(a);return f[0]!=="/"&&(f="/"+f),zk(f,"")}return zk(n,t)+r+i}function MZ(t,e,n,r){let i=[],o=[],l=null;const a=({state:_})=>{const b=hN(t,location),S=n.value,E=e.value;let P=0;if(_){if(n.value=b,e.value=_,l&&l===S){l=null;return}P=E?_.position-E.position:0}else r(b);i.forEach(k=>{k(n.value,S,{delta:P,type:M1.pop,direction:P?P>0?Zg.forward:Zg.back:Zg.unknown})})};function f(){l=n.value}function p(_){i.push(_);const b=()=>{const S=i.indexOf(_);S>-1&&i.splice(S,1)};return o.push(b),b}function v(){const{history:_}=window;_.state&&_.replaceState(hi({},_.state,{scroll:c2()}),"")}function g(){for(const _ of o)_();o=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",v)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",v,{passive:!0}),{pauseListeners:f,listen:p,destroy:g}}function Vk(t,e,n,r=!1,i=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:i?c2():null}}function kZ(t){const{history:e,location:n}=window,r={value:hN(t,n)},i={value:e.state};i.value||o(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function o(f,p,v){const g=t.indexOf("#"),_=g>-1?(n.host&&document.querySelector("base")?t:t.slice(g))+f:PZ()+t+f;try{e[v?"replaceState":"pushState"](p,"",_),i.value=p}catch(b){console.error(b),n[v?"replace":"assign"](_)}}function l(f,p){const v=hi({},e.state,Vk(i.value.back,f,i.value.forward,!0),p,{position:i.value.position});o(f,v,!0),r.value=f}function a(f,p){const v=hi({},i.value,e.state,{forward:f,scroll:c2()});o(v.current,v,!0);const g=hi({},Vk(r.value,f,null),{position:v.position+1},p);o(f,g,!1),r.value=f}return{location:r,state:i,push:a,replace:l}}function AZ(t){t=bZ(t);const e=kZ(t),n=MZ(t,e.state,e.location,e.replace);function r(o,l=!0){l||n.pauseListeners(),history.go(o)}const i=hi({location:"",base:t,go:r,createHref:wZ.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function IZ(t){return typeof t=="string"||t&&typeof t=="object"}function pN(t){return typeof t=="string"||typeof t=="symbol"}const Zc={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},vN=Symbol("");var Uk;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Uk||(Uk={}));function gv(t,e){return hi(new Error,{type:t,[vN]:!0},e)}function Nu(t,e){return t instanceof Error&&vN in t&&(e==null||!!(t.type&e))}const Hk="[^/]+?",OZ={sensitive:!1,strict:!1,start:!0,end:!0},DZ=/[.+*?^${}()[\]/\\]/g;function RZ(t,e){const n=hi({},OZ,e),r=[];let i=n.start?"^":"";const o=[];for(const p of t){const v=p.length?[]:[90];n.strict&&!p.length&&(i+="/");for(let g=0;g<p.length;g++){const _=p[g];let b=40+(n.sensitive?.25:0);if(_.type===0)g||(i+="/"),i+=_.value.replace(DZ,"\\$&"),b+=40;else if(_.type===1){const{value:S,repeatable:E,optional:P,regexp:k}=_;o.push({name:S,repeatable:E,optional:P});const I=k||Hk;if(I!==Hk){b+=10;try{new RegExp(`(${I})`)}catch(L){throw new Error(`Invalid custom RegExp for param "${S}" (${I}): `+L.message)}}let D=E?`((?:${I})(?:/(?:${I}))*)`:`(${I})`;g||(D=P&&p.length<2?`(?:/${D})`:"/"+D),P&&(D+="?"),i+=D,b+=20,P&&(b+=-8),E&&(b+=-20),I===".*"&&(b+=-50)}v.push(b)}r.push(v)}if(n.strict&&n.end){const p=r.length-1;r[p][r[p].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const l=new RegExp(i,n.sensitive?"":"i");function a(p){const v=p.match(l),g={};if(!v)return null;for(let _=1;_<v.length;_++){const b=v[_]||"",S=o[_-1];g[S.name]=b&&S.repeatable?b.split("/"):b}return g}function f(p){let v="",g=!1;for(const _ of t){(!g||!v.endsWith("/"))&&(v+="/"),g=!1;for(const b of _)if(b.type===0)v+=b.value;else if(b.type===1){const{value:S,repeatable:E,optional:P}=b,k=S in p?p[S]:"";if(xl(k)&&!E)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const I=xl(k)?k.join("/"):k;if(!I)if(P)_.length<2&&(v.endsWith("/")?v=v.slice(0,-1):g=!0);else throw new Error(`Missing required param "${S}"`);v+=I}}return v||"/"}return{re:l,score:r,keys:o,parse:a,stringify:f}}function LZ(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function FZ(t,e){let n=0;const r=t.score,i=e.score;for(;n<r.length&&n<i.length;){const o=LZ(r[n],i[n]);if(o)return o;n++}if(Math.abs(i.length-r.length)===1){if(Kk(r))return 1;if(Kk(i))return-1}return i.length-r.length}function Kk(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const NZ={type:0,value:""},BZ=/[a-zA-Z0-9_]/;function zZ(t){if(!t)return[[]];if(t==="/")return[[NZ]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(b){throw new Error(`ERR (${n})/"${p}": ${b}`)}let n=0,r=n;const i=[];let o;function l(){o&&i.push(o),o=[]}let a=0,f,p="",v="";function g(){p&&(n===0?o.push({type:0,value:p}):n===1||n===2||n===3?(o.length>1&&(f==="*"||f==="+")&&e(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:p,regexp:v,repeatable:f==="*"||f==="+",optional:f==="*"||f==="?"})):e("Invalid state to consume buffer"),p="")}function _(){p+=f}for(;a<t.length;){if(f=t[a++],f==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:f==="/"?(p&&g(),l()):f===":"?(g(),n=1):_();break;case 4:_(),n=r;break;case 1:f==="("?n=2:BZ.test(f)?_():(g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&a--);break;case 2:f===")"?v[v.length-1]=="\\"?v=v.slice(0,-1)+f:n=3:v+=f;break;case 3:g(),n=0,f!=="*"&&f!=="?"&&f!=="+"&&a--,v="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${p}"`),g(),l(),i}function $Z(t,e,n){const r=RZ(zZ(t.path),n),i=hi(r,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function jZ(t,e){const n=[],r=new Map;e=qk({strict:!1,end:!0,sensitive:!1},e);function i(v){return r.get(v)}function o(v,g,_){const b=!_,S=VZ(v);S.aliasOf=_&&_.record;const E=qk(e,v),P=[S];if("alias"in v){const D=typeof v.alias=="string"?[v.alias]:v.alias;for(const L of D)P.push(hi({},S,{components:_?_.record.components:S.components,path:L,aliasOf:_?_.record:S}))}let k,I;for(const D of P){const{path:L}=D;if(g&&L[0]!=="/"){const B=g.record.path,N=B[B.length-1]==="/"?"":"/";D.path=g.record.path+(L&&N+L)}if(k=$Z(D,g,E),_?_.alias.push(k):(I=I||k,I!==k&&I.alias.push(k),b&&v.name&&!Gk(k)&&l(v.name)),S.children){const B=S.children;for(let N=0;N<B.length;N++)o(B[N],k,_&&_.children[N])}_=_||k,(k.record.components&&Object.keys(k.record.components).length||k.record.name||k.record.redirect)&&f(k)}return I?()=>{l(I)}:Xg}function l(v){if(pN(v)){const g=r.get(v);g&&(r.delete(v),n.splice(n.indexOf(g),1),g.children.forEach(l),g.alias.forEach(l))}else{const g=n.indexOf(v);g>-1&&(n.splice(g,1),v.record.name&&r.delete(v.record.name),v.children.forEach(l),v.alias.forEach(l))}}function a(){return n}function f(v){let g=0;for(;g<n.length&&FZ(v,n[g])>=0&&(v.record.path!==n[g].record.path||!mN(v,n[g]));)g++;n.splice(g,0,v),v.record.name&&!Gk(v)&&r.set(v.record.name,v)}function p(v,g){let _,b={},S,E;if("name"in v&&v.name){if(_=r.get(v.name),!_)throw gv(1,{location:v});E=_.record.name,b=hi(Wk(g.params,_.keys.filter(I=>!I.optional).map(I=>I.name)),v.params&&Wk(v.params,_.keys.map(I=>I.name))),S=_.stringify(b)}else if("path"in v)S=v.path,_=n.find(I=>I.re.test(S)),_&&(b=_.parse(S),E=_.record.name);else{if(_=g.name?r.get(g.name):n.find(I=>I.re.test(g.path)),!_)throw gv(1,{location:v,currentLocation:g});E=_.record.name,b=hi({},g.params,v.params),S=_.stringify(b)}const P=[];let k=_;for(;k;)P.unshift(k.record),k=k.parent;return{name:E,path:S,params:b,matched:P,meta:HZ(P)}}return t.forEach(v=>o(v)),{addRoute:o,resolve:p,removeRoute:l,getRoutes:a,getRecordMatcher:i}}function Wk(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function VZ(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:UZ(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function UZ(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function Gk(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function HZ(t){return t.reduce((e,n)=>hi(e,n.meta),{})}function qk(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function mN(t,e){return e.children.some(n=>n===t||mN(t,n))}const gN=/#/g,KZ=/&/g,WZ=/\//g,GZ=/=/g,qZ=/\?/g,yN=/\+/g,YZ=/%5B/g,XZ=/%5D/g,_N=/%5E/g,ZZ=/%60/g,bN=/%7B/g,QZ=/%7C/g,xN=/%7D/g,JZ=/%20/g;function C5(t){return encodeURI(""+t).replace(QZ,"|").replace(YZ,"[").replace(XZ,"]")}function eQ(t){return C5(t).replace(bN,"{").replace(xN,"}").replace(_N,"^")}function eS(t){return C5(t).replace(yN,"%2B").replace(JZ,"+").replace(gN,"%23").replace(KZ,"%26").replace(ZZ,"`").replace(bN,"{").replace(xN,"}").replace(_N,"^")}function tQ(t){return eS(t).replace(GZ,"%3D")}function nQ(t){return C5(t).replace(gN,"%23").replace(qZ,"%3F")}function rQ(t){return t==null?"":nQ(t).replace(WZ,"%2F")}function Gb(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function iQ(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<r.length;++i){const o=r[i].replace(yN," "),l=o.indexOf("="),a=Gb(l<0?o:o.slice(0,l)),f=l<0?null:Gb(o.slice(l+1));if(a in e){let p=e[a];xl(p)||(p=e[a]=[p]),p.push(f)}else e[a]=f}return e}function Yk(t){let e="";for(let n in t){const r=t[n];if(n=tQ(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(xl(r)?r.map(o=>o&&eS(o)):[r&&eS(r)]).forEach(o=>{o!==void 0&&(e+=(e.length?"&":"")+n,o!=null&&(e+="="+o))})}return e}function aQ(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=xl(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return e}const oQ=Symbol(""),Xk=Symbol(""),S5=Symbol(""),wN=Symbol(""),tS=Symbol("");function hg(){let t=[];function e(r){return t.push(r),()=>{const i=t.indexOf(r);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function ud(t,e,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((l,a)=>{const f=g=>{g===!1?a(gv(4,{from:n,to:e})):g instanceof Error?a(g):IZ(g)?a(gv(2,{from:e,to:g})):(o&&r.enterCallbacks[i]===o&&typeof g=="function"&&o.push(g),l())},p=t.call(r&&r.instances[i],e,n,f);let v=Promise.resolve(p);t.length<3&&(v=v.then(f)),v.catch(g=>a(g))})}function sC(t,e,n,r){const i=[];for(const o of t)for(const l in o.components){let a=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(sQ(a)){const p=(a.__vccOpts||a)[e];p&&i.push(ud(p,n,r,o,l))}else{let f=a();i.push(()=>f.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${l}" at "${o.path}"`));const v=hZ(p)?p.default:p;o.components[l]=v;const _=(v.__vccOpts||v)[e];return _&&ud(_,n,r,o,l)()}))}}return i}function sQ(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Zk(t){const e=Hn(S5),n=Hn(wN),r=le(()=>e.resolve(pa(t.to))),i=le(()=>{const{matched:f}=r.value,{length:p}=f,v=f[p-1],g=n.matched;if(!v||!g.length)return-1;const _=g.findIndex(mv.bind(null,v));if(_>-1)return _;const b=Qk(f[p-2]);return p>1&&Qk(v)===b&&g[g.length-1].path!==b?g.findIndex(mv.bind(null,f[p-2])):_}),o=le(()=>i.value>-1&&dQ(n.params,r.value.params)),l=le(()=>i.value>-1&&i.value===n.matched.length-1&&fN(n.params,r.value.params));function a(f={}){return cQ(f)?e[pa(t.replace)?"replace":"push"](pa(t.to)).catch(Xg):Promise.resolve()}return{route:r,href:le(()=>r.value.href),isActive:o,isExactActive:l,navigate:a}}const lQ=lt({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Zk,setup(t,{slots:e}){const n=Mr(Zk(t)),{options:r}=Hn(S5),i=le(()=>({[Jk(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Jk(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const o=e.default&&e.default(n);return t.custom?o:vv("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},o)}}}),uQ=lQ;function cQ(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function dQ(t,e){for(const n in e){const r=e[n],i=t[n];if(typeof r=="string"){if(r!==i)return!1}else if(!xl(i)||i.length!==r.length||r.some((o,l)=>o!==i[l]))return!1}return!0}function Qk(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Jk=(t,e,n)=>t??e??n,fQ=lt({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Hn(tS),i=le(()=>t.route||r.value),o=Hn(Xk,0),l=le(()=>{let p=pa(o);const{matched:v}=i.value;let g;for(;(g=v[p])&&!g.components;)p++;return p}),a=le(()=>i.value.matched[l.value]);Xn(Xk,le(()=>l.value+1)),Xn(oQ,a),Xn(tS,i);const f=ke();return Lt(()=>[f.value,a.value,t.name],([p,v,g],[_,b,S])=>{v&&(v.instances[g]=p,b&&b!==v&&p&&p===_&&(v.leaveGuards.size||(v.leaveGuards=b.leaveGuards),v.updateGuards.size||(v.updateGuards=b.updateGuards))),p&&v&&(!b||!mv(v,b)||!_)&&(v.enterCallbacks[g]||[]).forEach(E=>E(p))},{flush:"post"}),()=>{const p=i.value,v=t.name,g=a.value,_=g&&g.components[v];if(!_)return e7(n.default,{Component:_,route:p});const b=g.props[v],S=b?b===!0?p.params:typeof b=="function"?b(p):b:null,P=vv(_,hi({},S,e,{onVnodeUnmounted:k=>{k.component.isUnmounted&&(g.instances[v]=null)},ref:f}));return e7(n.default,{Component:P,route:p})||P}}});function e7(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const hQ=fQ;function pQ(t){const e=jZ(t.routes,t),n=t.parseQuery||iQ,r=t.stringifyQuery||Yk,i=t.history,o=hg(),l=hg(),a=hg(),f=fr(Zc);let p=Zc;zp&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const v=aC.bind(null,ye=>""+ye),g=aC.bind(null,rQ),_=aC.bind(null,Gb);function b(ye,Ne){let Re,Ge;return pN(ye)?(Re=e.getRecordMatcher(ye),Ge=Ne):Ge=ye,e.addRoute(Ge,Re)}function S(ye){const Ne=e.getRecordMatcher(ye);Ne&&e.removeRoute(Ne)}function E(){return e.getRoutes().map(ye=>ye.record)}function P(ye){return!!e.getRecordMatcher(ye)}function k(ye,Ne){if(Ne=hi({},Ne||f.value),typeof ye=="string"){const Ie=oC(n,ye,Ne.path),We=e.resolve({path:Ie.path},Ne),Qe=i.createHref(Ie.fullPath);return hi(Ie,We,{params:_(We.params),hash:Gb(Ie.hash),redirectedFrom:void 0,href:Qe})}let Re;if("path"in ye)Re=hi({},ye,{path:oC(n,ye.path,Ne.path).path});else{const Ie=hi({},ye.params);for(const We in Ie)Ie[We]==null&&delete Ie[We];Re=hi({},ye,{params:g(Ie)}),Ne.params=g(Ne.params)}const Ge=e.resolve(Re,Ne),He=ye.hash||"";Ge.params=v(_(Ge.params));const Ee=mZ(r,hi({},ye,{hash:eQ(He),path:Ge.path})),pe=i.createHref(Ee);return hi({fullPath:Ee,hash:He,query:r===Yk?aQ(ye.query):ye.query||{}},Ge,{redirectedFrom:void 0,href:pe})}function I(ye){return typeof ye=="string"?oC(n,ye,f.value.path):hi({},ye)}function D(ye,Ne){if(p!==ye)return gv(8,{from:Ne,to:ye})}function L(ye){return j(ye)}function B(ye){return L(hi(I(ye),{replace:!0}))}function N(ye){const Ne=ye.matched[ye.matched.length-1];if(Ne&&Ne.redirect){const{redirect:Re}=Ne;let Ge=typeof Re=="function"?Re(ye):Re;return typeof Ge=="string"&&(Ge=Ge.includes("?")||Ge.includes("#")?Ge=I(Ge):{path:Ge},Ge.params={}),hi({query:ye.query,hash:ye.hash,params:"path"in Ge?{}:ye.params},Ge)}}function j(ye,Ne){const Re=p=k(ye),Ge=f.value,He=ye.state,Ee=ye.force,pe=ye.replace===!0,Ie=N(Re);if(Ie)return j(hi(I(Ie),{state:typeof Ie=="object"?hi({},He,Ie.state):He,force:Ee,replace:pe}),Ne||Re);const We=Re;We.redirectedFrom=Ne;let Qe;return!Ee&&gZ(r,Ge,Re)&&(Qe=gv(16,{to:We,from:Ge}),ce(Ge,Ge,!0,!1)),(Qe?Promise.resolve(Qe):Z(We,Ge)).catch(at=>Nu(at)?Nu(at,2)?at:he(at):X(at,We,Ge)).then(at=>{if(at){if(Nu(at,2))return j(hi({replace:pe},I(at.to),{state:typeof at.to=="object"?hi({},He,at.to.state):He,force:Ee}),Ne||We)}else at=q(We,Ge,!0,pe,He);return re(We,Ge,at),at})}function H(ye,Ne){const Re=D(ye,Ne);return Re?Promise.reject(Re):Promise.resolve()}function V(ye){const Ne=ve.values().next().value;return Ne&&typeof Ne.runWithContext=="function"?Ne.runWithContext(ye):ye()}function Z(ye,Ne){let Re;const[Ge,He,Ee]=vQ(ye,Ne);Re=sC(Ge.reverse(),"beforeRouteLeave",ye,Ne);for(const Ie of Ge)Ie.leaveGuards.forEach(We=>{Re.push(ud(We,ye,Ne))});const pe=H.bind(null,ye,Ne);return Re.push(pe),Pe(Re).then(()=>{Re=[];for(const Ie of o.list())Re.push(ud(Ie,ye,Ne));return Re.push(pe),Pe(Re)}).then(()=>{Re=sC(He,"beforeRouteUpdate",ye,Ne);for(const Ie of He)Ie.updateGuards.forEach(We=>{Re.push(ud(We,ye,Ne))});return Re.push(pe),Pe(Re)}).then(()=>{Re=[];for(const Ie of ye.matched)if(Ie.beforeEnter&&!Ne.matched.includes(Ie))if(xl(Ie.beforeEnter))for(const We of Ie.beforeEnter)Re.push(ud(We,ye,Ne));else Re.push(ud(Ie.beforeEnter,ye,Ne));return Re.push(pe),Pe(Re)}).then(()=>(ye.matched.forEach(Ie=>Ie.enterCallbacks={}),Re=sC(Ee,"beforeRouteEnter",ye,Ne),Re.push(pe),Pe(Re))).then(()=>{Re=[];for(const Ie of l.list())Re.push(ud(Ie,ye,Ne));return Re.push(pe),Pe(Re)}).catch(Ie=>Nu(Ie,8)?Ie:Promise.reject(Ie))}function re(ye,Ne,Re){for(const Ge of a.list())V(()=>Ge(ye,Ne,Re))}function q(ye,Ne,Re,Ge,He){const Ee=D(ye,Ne);if(Ee)return Ee;const pe=Ne===Zc,Ie=zp?history.state:{};Re&&(Ge||pe?i.replace(ye.fullPath,hi({scroll:pe&&Ie&&Ie.scroll},He)):i.push(ye.fullPath,He)),f.value=ye,ce(ye,Ne,Re,pe),he()}let G;function ae(){G||(G=i.listen((ye,Ne,Re)=>{if(!ge.listening)return;const Ge=k(ye),He=N(Ge);if(He){j(hi(He,{replace:!0}),Ge).catch(Xg);return}p=Ge;const Ee=f.value;zp&&TZ(jk(Ee.fullPath,Re.delta),c2()),Z(Ge,Ee).catch(pe=>Nu(pe,12)?pe:Nu(pe,2)?(j(pe.to,Ge).then(Ie=>{Nu(Ie,20)&&!Re.delta&&Re.type===M1.pop&&i.go(-1,!1)}).catch(Xg),Promise.reject()):(Re.delta&&i.go(-Re.delta,!1),X(pe,Ge,Ee))).then(pe=>{pe=pe||q(Ge,Ee,!1),pe&&(Re.delta&&!Nu(pe,8)?i.go(-Re.delta,!1):Re.type===M1.pop&&Nu(pe,20)&&i.go(-1,!1)),re(Ge,Ee,pe)}).catch(Xg)}))}let te=hg(),Q=hg(),Y;function X(ye,Ne,Re){he(ye);const Ge=Q.list();return Ge.length?Ge.forEach(He=>He(ye,Ne,Re)):console.error(ye),Promise.reject(ye)}function ie(){return Y&&f.value!==Zc?Promise.resolve():new Promise((ye,Ne)=>{te.add([ye,Ne])})}function he(ye){return Y||(Y=!ye,ae(),te.list().forEach(([Ne,Re])=>ye?Re(ye):Ne()),te.reset()),ye}function ce(ye,Ne,Re,Ge){const{scrollBehavior:He}=t;if(!zp||!He)return Promise.resolve();const Ee=!Re&&EZ(jk(ye.fullPath,0))||(Ge||!Re)&&history.state&&history.state.scroll||null;return Yn().then(()=>He(ye,Ne,Ee)).then(pe=>pe&&SZ(pe)).catch(pe=>X(pe,ye,Ne))}const we=ye=>i.go(ye);let be;const ve=new Set,ge={currentRoute:f,listening:!0,addRoute:b,removeRoute:S,hasRoute:P,getRoutes:E,resolve:k,options:t,push:L,replace:B,go:we,back:()=>we(-1),forward:()=>we(1),beforeEach:o.add,beforeResolve:l.add,afterEach:a.add,onError:Q.add,isReady:ie,install(ye){const Ne=this;ye.component("RouterLink",uQ),ye.component("RouterView",hQ),ye.config.globalProperties.$router=Ne,Object.defineProperty(ye.config.globalProperties,"$route",{enumerable:!0,get:()=>pa(f)}),zp&&!be&&f.value===Zc&&(be=!0,L(i.location).catch(He=>{}));const Re={};for(const He in Zc)Re[He]=le(()=>f.value[He]);ye.provide(S5,Ne),ye.provide(wN,Mr(Re)),ye.provide(tS,f);const Ge=ye.unmount;ve.add(ye),ye.unmount=function(){ve.delete(ye),ve.size<1&&(p=Zc,G&&G(),G=null,f.value=Zc,be=!1,Y=!1),Ge()}}};function Pe(ye){return ye.reduce((Ne,Re)=>Ne.then(()=>V(Re)),Promise.resolve())}return ge}function vQ(t,e){const n=[],r=[],i=[],o=Math.max(e.matched.length,t.matched.length);for(let l=0;l<o;l++){const a=e.matched[l];a&&(t.matched.find(p=>mv(p,a))?r.push(a):n.push(a));const f=t.matched[l];f&&(e.matched.find(p=>mv(p,f))||i.push(f))}return[n,r,i]}const T5=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},mQ={};function gQ(t,e){const n=sd("router-view");return nu(),dd(n)}const yQ=T5(mQ,[["render",gQ]]);function ro(t,e){_Q(t)&&(t="100%");var n=bQ(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Xy(t){return Math.min(1,Math.max(0,t))}function _Q(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function bQ(t){return typeof t=="string"&&t.indexOf("%")!==-1}function CN(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Zy(t){return t<=1?"".concat(Number(t)*100,"%"):t}function nh(t){return t.length===1?"0"+t:String(t)}function xQ(t,e,n){return{r:ro(t,255)*255,g:ro(e,255)*255,b:ro(n,255)*255}}function t7(t,e,n){t=ro(t,255),e=ro(e,255),n=ro(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,l=0,a=(r+i)/2;if(r===i)l=0,o=0;else{var f=r-i;switch(l=a>.5?f/(2-r-i):f/(r+i),r){case t:o=(e-n)/f+(e<n?6:0);break;case e:o=(n-t)/f+2;break;case n:o=(t-e)/f+4;break}o/=6}return{h:o,s:l,l:a}}function lC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function wQ(t,e,n){var r,i,o;if(t=ro(t,360),e=ro(e,100),n=ro(n,100),e===0)i=n,o=n,r=n;else{var l=n<.5?n*(1+e):n+e-n*e,a=2*n-l;r=lC(a,l,t+1/3),i=lC(a,l,t),o=lC(a,l,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function nS(t,e,n){t=ro(t,255),e=ro(e,255),n=ro(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,l=r,a=r-i,f=r===0?0:a/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/a+(e<n?6:0);break;case e:o=(n-t)/a+2;break;case n:o=(t-e)/a+4;break}o/=6}return{h:o,s:f,v:l}}function CQ(t,e,n){t=ro(t,360)*6,e=ro(e,100),n=ro(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),l=n*(1-i*e),a=n*(1-(1-i)*e),f=r%6,p=[n,l,o,o,a,n][f],v=[a,n,n,l,o,o][f],g=[o,o,a,n,n,l][f];return{r:p*255,g:v*255,b:g*255}}function rS(t,e,n,r){var i=[nh(Math.round(t).toString(16)),nh(Math.round(e).toString(16)),nh(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function SQ(t,e,n,r,i){var o=[nh(Math.round(t).toString(16)),nh(Math.round(e).toString(16)),nh(Math.round(n).toString(16)),nh(TQ(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function TQ(t){return Math.round(parseFloat(t)*255).toString(16)}function n7(t){return vs(t)/255}function vs(t){return parseInt(t,16)}function EQ(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var iS={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function $p(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,l=!1,a=!1;return typeof t=="string"&&(t=kQ(t)),typeof t=="object"&&(Bu(t.r)&&Bu(t.g)&&Bu(t.b)?(e=xQ(t.r,t.g,t.b),l=!0,a=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Bu(t.h)&&Bu(t.s)&&Bu(t.v)?(r=Zy(t.s),i=Zy(t.v),e=CQ(t.h,r,i),l=!0,a="hsv"):Bu(t.h)&&Bu(t.s)&&Bu(t.l)&&(r=Zy(t.s),o=Zy(t.l),e=wQ(t.h,r,o),l=!0,a="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=CN(n),{ok:l,format:t.format||a,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var PQ="[-\\+]?\\d+%?",MQ="[-\\+]?\\d*\\.\\d+%?",pd="(?:".concat(MQ,")|(?:").concat(PQ,")"),uC="[\\s|\\(]+(".concat(pd,")[,|\\s]+(").concat(pd,")[,|\\s]+(").concat(pd,")\\s*\\)?"),cC="[\\s|\\(]+(".concat(pd,")[,|\\s]+(").concat(pd,")[,|\\s]+(").concat(pd,")[,|\\s]+(").concat(pd,")\\s*\\)?"),dl={CSS_UNIT:new RegExp(pd),rgb:new RegExp("rgb"+uC),rgba:new RegExp("rgba"+cC),hsl:new RegExp("hsl"+uC),hsla:new RegExp("hsla"+cC),hsv:new RegExp("hsv"+uC),hsva:new RegExp("hsva"+cC),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function kQ(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(iS[t])t=iS[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=dl.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=dl.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=dl.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=dl.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=dl.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=dl.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=dl.hex8.exec(t),n?{r:vs(n[1]),g:vs(n[2]),b:vs(n[3]),a:n7(n[4]),format:e?"name":"hex8"}:(n=dl.hex6.exec(t),n?{r:vs(n[1]),g:vs(n[2]),b:vs(n[3]),format:e?"name":"hex"}:(n=dl.hex4.exec(t),n?{r:vs(n[1]+n[1]),g:vs(n[2]+n[2]),b:vs(n[3]+n[3]),a:n7(n[4]+n[4]),format:e?"name":"hex8"}:(n=dl.hex3.exec(t),n?{r:vs(n[1]+n[1]),g:vs(n[2]+n[2]),b:vs(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Bu(t){return!!dl.CSS_UNIT.exec(String(t))}var dC=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=EQ(e)),this.originalInput=e;var i=$p(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,l=e.g/255,a=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),l<=.03928?r=l/12.92:r=Math.pow((l+.055)/1.055,2.4),a<=.03928?i=a/12.92:i=Math.pow((a+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=CN(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=nS(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=nS(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=t7(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=t7(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),rS(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),SQ(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(ro(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(ro(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+rS(this.r,this.g,this.b,!1),n=0,r=Object.entries(iS);n<r.length;n++){var i=r[n],o=i[0],l=i[1];if(e===l)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Xy(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Xy(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Xy(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Xy(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,l={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(l)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,l=[],a=1/e;e--;)l.push(new t({h:r,s:i,v:o})),o=(o+a)%1;return l},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,l=1;l<e;l++)i.push(new t({h:(r+l*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Qy=2,r7=.16,AQ=.05,IQ=.05,OQ=.15,SN=5,TN=4,DQ=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function i7(t){var e=t.r,n=t.g,r=t.b,i=nS(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function Jy(t){var e=t.r,n=t.g,r=t.b;return"#".concat(rS(e,n,r,!1))}function RQ(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function a7(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Qy*e:Math.round(t.h)+Qy*e:r=n?Math.round(t.h)+Qy*e:Math.round(t.h)-Qy*e,r<0?r+=360:r>=360&&(r-=360),r}function o7(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-r7*e:e===TN?r=t.s+r7:r=t.s+AQ*e,r>1&&(r=1),n&&e===SN&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function s7(t,e,n){var r;return n?r=t.v+IQ*e:r=t.v-OQ*e,r>1&&(r=1),Number(r.toFixed(2))}function k1(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=$p(t),i=SN;i>0;i-=1){var o=i7(r),l=Jy($p({h:a7(o,i,!0),s:o7(o,i,!0),v:s7(o,i,!0)}));n.push(l)}n.push(Jy(r));for(var a=1;a<=TN;a+=1){var f=i7(r),p=Jy($p({h:a7(f,a),s:o7(f,a),v:s7(f,a)}));n.push(p)}return e.theme==="dark"?DQ.map(function(v){var g=v.index,_=v.opacity,b=Jy(RQ($p(e.backgroundColor||"#141414"),$p(n[g]),_*100));return b}):n}var ev={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},fC={},hC={};Object.keys(ev).forEach(function(t){fC[t]=k1(ev[t]),fC[t].primary=fC[t][5],hC[t]=k1(ev[t],{theme:"dark",backgroundColor:"#141414"}),hC[t].primary=hC[t][5]});var l7=[],pg=[],LQ="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function FQ(){var t=document.createElement("style");return t.setAttribute("type","text/css"),t}function NQ(t,e){if(e=e||{},t===void 0)throw new Error(LQ);var n=e.prepend===!0?"prepend":"append",r=e.container!==void 0?e.container:document.querySelector("head"),i=l7.indexOf(r);i===-1&&(i=l7.push(r)-1,pg[i]={});var o;return pg[i]!==void 0&&pg[i][n]!==void 0?o=pg[i][n]:(o=pg[i][n]=FQ(),n==="prepend"?r.insertBefore(o,r.childNodes[0]):r.appendChild(o)),t.charCodeAt(0)===65279&&(t=t.substr(1,t.length)),o.styleSheet?o.styleSheet.cssText+=t:o.textContent+=t,o}function u7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){BQ(t,i,n[i])})}return t}function BQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c7(t){return typeof t=="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(typeof t.icon=="object"||typeof t.icon=="function")}function aS(t,e,n){return n?vv(t.tag,u7({key:e},n,t.attrs),(t.children||[]).map(function(r,i){return aS(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):vv(t.tag,u7({key:e},t.attrs),(t.children||[]).map(function(r,i){return aS(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function EN(t){return k1(t)[0]}function PN(t){return t?Array.isArray(t)?t:[t]:[]}var zQ=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,d7=!1,$Q=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:zQ;Yn(function(){d7||(typeof window<"u"&&window.document&&window.document.documentElement&&NQ(e,{prepend:!0}),d7=!0)})},jQ=["icon","primaryColor","secondaryColor"];function VQ(t,e){if(t==null)return{};var n=UQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UQ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function G_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){HQ(t,i,n[i])})}return t}function HQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qg={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function KQ(t){var e=t.primaryColor,n=t.secondaryColor;Qg.primaryColor=e,Qg.secondaryColor=n||EN(e),Qg.calculated=!!n}function WQ(){return G_({},Qg)}var Nv=function(e,n){var r=G_({},e,n.attrs),i=r.icon,o=r.primaryColor,l=r.secondaryColor,a=VQ(r,jQ),f=Qg;if(o&&(f={primaryColor:o,secondaryColor:l||EN(o)}),$Q(),c7(i),!c7(i))return null;var p=i;return p&&typeof p.icon=="function"&&(p=G_({},p,{icon:p.icon(f.primaryColor,f.secondaryColor)})),aS(p.icon,"svg-".concat(p.name),G_({},a,{"data-icon":p.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};Nv.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};Nv.inheritAttrs=!1;Nv.displayName="IconBase";Nv.getTwoToneColors=WQ;Nv.setTwoToneColors=KQ;const E5=Nv;function GQ(t,e){return ZQ(t)||XQ(t,e)||YQ(t,e)||qQ()}function qQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YQ(t,e){if(t){if(typeof t=="string")return f7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f7(t,e)}}function f7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XQ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,a;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,a=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function ZQ(t){if(Array.isArray(t))return t}function MN(t){var e=PN(t),n=GQ(e,2),r=n[0],i=n[1];return E5.setTwoToneColors({primaryColor:r,secondaryColor:i})}function QQ(){var t=E5.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var JQ=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function eJ(t,e){return iJ(t)||rJ(t,e)||nJ(t,e)||tJ()}function tJ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(t,e){if(t){if(typeof t=="string")return h7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h7(t,e)}}function h7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function rJ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,l,a;try{for(n=n.call(t);!(i=(l=n.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(f){o=!0,a=f}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function iJ(t){if(Array.isArray(t))return t}function p7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){oS(t,i,n[i])})}return t}function oS(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aJ(t,e){if(t==null)return{};var n=oJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}MN("#1890ff");var Bv=function(e,n){var r,i=p7({},e,n.attrs),o=i.class,l=i.icon,a=i.spin,f=i.rotate,p=i.tabindex,v=i.twoToneColor,g=i.onClick,_=aJ(i,JQ),b=(r={anticon:!0},oS(r,"anticon-".concat(l.name),!!l.name),oS(r,o,o),r),S=a===""||a||l.name==="loading"?"anticon-spin":"",E=p;E===void 0&&g&&(E=-1,_.tabindex=E);var P=f?{msTransform:"rotate(".concat(f,"deg)"),transform:"rotate(".concat(f,"deg)")}:void 0,k=PN(v),I=eJ(k,2),D=I[0],L=I[1];return M("span",p7({role:"img","aria-label":l.name},_,{onClick:g,class:b}),[M(E5,{class:S,icon:l,primaryColor:D,secondaryColor:L,style:P},null)])};Bv.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String};Bv.displayName="AntdIcon";Bv.inheritAttrs=!1;Bv.getTwoToneColor=QQ;Bv.setTwoToneColor=MN;const Jn=Bv;var sJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"};const lJ=sJ;function v7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){uJ(t,i,n[i])})}return t}function uJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P5=function(e,n){var r=v7({},e,n.attrs);return M(Jn,v7({},r,{icon:lJ}),null)};P5.displayName="ArrowLeftOutlined";P5.inheritAttrs=!1;const cJ=P5;var dJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"};const fJ=dJ;function m7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){hJ(t,i,n[i])})}return t}function hJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M5=function(e,n){var r=m7({},e,n.attrs);return M(Jn,m7({},r,{icon:fJ}),null)};M5.displayName="ArrowRightOutlined";M5.inheritAttrs=!1;const pJ=M5;var vJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"bars",theme:"outlined"};const mJ=vJ;function g7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){gJ(t,i,n[i])})}return t}function gJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k5=function(e,n){var r=g7({},e,n.attrs);return M(Jn,g7({},r,{icon:mJ}),null)};k5.displayName="BarsOutlined";k5.inheritAttrs=!1;const yJ=k5;var _J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z"}}]},name:"calendar",theme:"outlined"};const bJ=_J;function y7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){xJ(t,i,n[i])})}return t}function xJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A5=function(e,n){var r=y7({},e,n.attrs);return M(Jn,y7({},r,{icon:bJ}),null)};A5.displayName="CalendarOutlined";A5.inheritAttrs=!1;const kN=A5;var wJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};const CJ=wJ;function _7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){SJ(t,i,n[i])})}return t}function SJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var I5=function(e,n){var r=_7({},e,n.attrs);return M(Jn,_7({},r,{icon:CJ}),null)};I5.displayName="CaretDownFilled";I5.inheritAttrs=!1;const TJ=I5;var EJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"outlined"};const PJ=EJ;function b7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){MJ(t,i,n[i])})}return t}function MJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var O5=function(e,n){var r=b7({},e,n.attrs);return M(Jn,b7({},r,{icon:PJ}),null)};O5.displayName="CaretDownOutlined";O5.inheritAttrs=!1;const kJ=O5;var AJ={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z"}}]},name:"caret-up",theme:"outlined"};const IJ=AJ;function x7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){OJ(t,i,n[i])})}return t}function OJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D5=function(e,n){var r=x7({},e,n.attrs);return M(Jn,x7({},r,{icon:IJ}),null)};D5.displayName="CaretUpOutlined";D5.inheritAttrs=!1;const DJ=D5;var RJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const LJ=RJ;function w7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){FJ(t,i,n[i])})}return t}function FJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R5=function(e,n){var r=w7({},e,n.attrs);return M(Jn,w7({},r,{icon:LJ}),null)};R5.displayName="CheckCircleFilled";R5.inheritAttrs=!1;const t0=R5;var NJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const BJ=NJ;function C7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){zJ(t,i,n[i])})}return t}function zJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L5=function(e,n){var r=C7({},e,n.attrs);return M(Jn,C7({},r,{icon:BJ}),null)};L5.displayName="CheckCircleOutlined";L5.inheritAttrs=!1;const F5=L5;var $J={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const jJ=$J;function S7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){VJ(t,i,n[i])})}return t}function VJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N5=function(e,n){var r=S7({},e,n.attrs);return M(Jn,S7({},r,{icon:jJ}),null)};N5.displayName="CheckOutlined";N5.inheritAttrs=!1;const d2=N5;var UJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};const HJ=UJ;function T7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){KJ(t,i,n[i])})}return t}function KJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var B5=function(e,n){var r=T7({},e,n.attrs);return M(Jn,T7({},r,{icon:HJ}),null)};B5.displayName="ClockCircleOutlined";B5.inheritAttrs=!1;const AN=B5;var WJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const GJ=WJ;function E7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){qJ(t,i,n[i])})}return t}function qJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z5=function(e,n){var r=E7({},e,n.attrs);return M(Jn,E7({},r,{icon:GJ}),null)};z5.displayName="CloseCircleFilled";z5.inheritAttrs=!1;const fc=z5;var YJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};const XJ=YJ;function P7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ZJ(t,i,n[i])})}return t}function ZJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var $5=function(e,n){var r=P7({},e,n.attrs);return M(Jn,P7({},r,{icon:XJ}),null)};$5.displayName="CloseCircleOutlined";$5.inheritAttrs=!1;const j5=$5;var QJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const JJ=QJ;function M7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){eee(t,i,n[i])})}return t}function eee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var V5=function(e,n){var r=M7({},e,n.attrs);return M(Jn,M7({},r,{icon:JJ}),null)};V5.displayName="CloseOutlined";V5.inheritAttrs=!1;const pu=V5;var tee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const nee=tee;function k7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ree(t,i,n[i])})}return t}function ree(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U5=function(e,n){var r=k7({},e,n.attrs);return M(Jn,k7({},r,{icon:nee}),null)};U5.displayName="CopyOutlined";U5.inheritAttrs=!1;const iee=U5;var aee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"};const oee=aee;function A7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){see(t,i,n[i])})}return t}function see(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var H5=function(e,n){var r=A7({},e,n.attrs);return M(Jn,A7({},r,{icon:oee}),null)};H5.displayName="DeleteOutlined";H5.inheritAttrs=!1;const IN=H5;var lee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const uee=lee;function I7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){cee(t,i,n[i])})}return t}function cee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var K5=function(e,n){var r=I7({},e,n.attrs);return M(Jn,I7({},r,{icon:uee}),null)};K5.displayName="DoubleLeftOutlined";K5.inheritAttrs=!1;const dee=K5;var fee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const hee=fee;function O7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){pee(t,i,n[i])})}return t}function pee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var W5=function(e,n){var r=O7({},e,n.attrs);return M(Jn,O7({},r,{icon:hee}),null)};W5.displayName="DoubleRightOutlined";W5.inheritAttrs=!1;const vee=W5;var mee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const gee=mee;function D7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){yee(t,i,n[i])})}return t}function yee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var G5=function(e,n){var r=D7({},e,n.attrs);return M(Jn,D7({},r,{icon:gee}),null)};G5.displayName="DownOutlined";G5.inheritAttrs=!1;const n0=G5;var _ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"};const bee=_ee;function R7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){xee(t,i,n[i])})}return t}function xee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var q5=function(e,n){var r=R7({},e,n.attrs);return M(Jn,R7({},r,{icon:bee}),null)};q5.displayName="DownloadOutlined";q5.inheritAttrs=!1;const wee=q5;var Cee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const See=Cee;function L7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Tee(t,i,n[i])})}return t}function Tee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y5=function(e,n){var r=L7({},e,n.attrs);return M(Jn,L7({},r,{icon:See}),null)};Y5.displayName="EditOutlined";Y5.inheritAttrs=!1;const Eee=Y5;var Pee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const Mee=Pee;function F7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){kee(t,i,n[i])})}return t}function kee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X5=function(e,n){var r=F7({},e,n.attrs);return M(Jn,F7({},r,{icon:Mee}),null)};X5.displayName="EllipsisOutlined";X5.inheritAttrs=!1;const Z5=X5;var Aee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const Iee=Aee;function N7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Oee(t,i,n[i])})}return t}function Oee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q5=function(e,n){var r=N7({},e,n.attrs);return M(Jn,N7({},r,{icon:Iee}),null)};Q5.displayName="EnterOutlined";Q5.inheritAttrs=!1;const Dee=Q5;var Ree={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const Lee=Ree;function B7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Fee(t,i,n[i])})}return t}function Fee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J5=function(e,n){var r=B7({},e,n.attrs);return M(Jn,B7({},r,{icon:Lee}),null)};J5.displayName="ExclamationCircleFilled";J5.inheritAttrs=!1;const r0=J5;var Nee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};const Bee=Nee;function z7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){zee(t,i,n[i])})}return t}function zee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var e8=function(e,n){var r=z7({},e,n.attrs);return M(Jn,z7({},r,{icon:Bee}),null)};e8.displayName="ExclamationCircleOutlined";e8.inheritAttrs=!1;const f2=e8;var $ee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const jee=$ee;function $7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Vee(t,i,n[i])})}return t}function Vee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var t8=function(e,n){var r=$7({},e,n.attrs);return M(Jn,$7({},r,{icon:jee}),null)};t8.displayName="EyeInvisibleOutlined";t8.inheritAttrs=!1;const Uee=t8;var Hee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const Kee=Hee;function j7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Wee(t,i,n[i])})}return t}function Wee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var n8=function(e,n){var r=j7({},e,n.attrs);return M(Jn,j7({},r,{icon:Kee}),null)};n8.displayName="EyeOutlined";n8.inheritAttrs=!1;const r8=n8;var Gee={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};const qee=Gee;function V7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Yee(t,i,n[i])})}return t}function Yee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i8=function(e,n){var r=V7({},e,n.attrs);return M(Jn,V7({},r,{icon:qee}),null)};i8.displayName="FileOutlined";i8.inheritAttrs=!1;const ON=i8;var Xee={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M534 352V136H232v752h560V394H576a42 42 0 01-42-42z",fill:n}},{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM602 137.8L790.2 326H602V137.8zM792 888H232V136h302v216a42 42 0 0042 42h216v494z",fill:e}}]}},name:"file",theme:"twotone"};const Zee=Xee;function U7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Qee(t,i,n[i])})}return t}function Qee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a8=function(e,n){var r=U7({},e,n.attrs);return M(Jn,U7({},r,{icon:Zee}),null)};a8.displayName="FileTwoTone";a8.inheritAttrs=!1;const Jee=a8;var ete={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z"}}]},name:"filter",theme:"filled"};const tte=ete;function H7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){nte(t,i,n[i])})}return t}function nte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o8=function(e,n){var r=H7({},e,n.attrs);return M(Jn,H7({},r,{icon:tte}),null)};o8.displayName="FilterFilled";o8.inheritAttrs=!1;const rte=o8;var ite={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"};const ate=ite;function K7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){ote(t,i,n[i])})}return t}function ote(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s8=function(e,n){var r=K7({},e,n.attrs);return M(Jn,K7({},r,{icon:ate}),null)};s8.displayName="FolderOpenOutlined";s8.inheritAttrs=!1;const ste=s8;var lte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder",theme:"outlined"};const ute=lte;function W7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){cte(t,i,n[i])})}return t}function cte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l8=function(e,n){var r=W7({},e,n.attrs);return M(Jn,W7({},r,{icon:ute}),null)};l8.displayName="FolderOutlined";l8.inheritAttrs=!1;const dte=l8;var fte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const hte=fte;function G7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){pte(t,i,n[i])})}return t}function pte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u8=function(e,n){var r=G7({},e,n.attrs);return M(Jn,G7({},r,{icon:hte}),null)};u8.displayName="InfoCircleFilled";u8.inheritAttrs=!1;const DN=u8;var vte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const mte=vte;function q7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){gte(t,i,n[i])})}return t}function gte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c8=function(e,n){var r=q7({},e,n.attrs);return M(Jn,q7({},r,{icon:mte}),null)};c8.displayName="InfoCircleOutlined";c8.inheritAttrs=!1;const d8=c8;var yte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const _te=yte;function Y7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){bte(t,i,n[i])})}return t}function bte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f8=function(e,n){var r=Y7({},e,n.attrs);return M(Jn,Y7({},r,{icon:_te}),null)};f8.displayName="LeftOutlined";f8.inheritAttrs=!1;const vh=f8;var xte={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const wte=xte;function X7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Cte(t,i,n[i])})}return t}function Cte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h8=function(e,n){var r=X7({},e,n.attrs);return M(Jn,X7({},r,{icon:wte}),null)};h8.displayName="LoadingOutlined";h8.inheritAttrs=!1;const wl=h8;var Ste={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};const Tte=Ste;function Z7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Ete(t,i,n[i])})}return t}function Ete(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p8=function(e,n){var r=Z7({},e,n.attrs);return M(Jn,Z7({},r,{icon:Tte}),null)};p8.displayName="MinusSquareOutlined";p8.inheritAttrs=!1;const Pte=p8;var Mte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z"}}]},name:"paper-clip",theme:"outlined"};const kte=Mte;function Q7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Ate(t,i,n[i])})}return t}function Ate(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v8=function(e,n){var r=Q7({},e,n.attrs);return M(Jn,Q7({},r,{icon:kte}),null)};v8.displayName="PaperClipOutlined";v8.inheritAttrs=!1;const Ite=v8;var Ote={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136v-39.9l138.5-164.3 150.1 178L658.1 489 888 761.6V792zm0-129.8L664.2 396.8c-3.2-3.8-9-3.8-12.2 0L424.6 666.4l-144-170.7c-3.2-3.8-9-3.8-12.2 0L136 652.7V232h752v430.2z",fill:e}},{tag:"path",attrs:{d:"M424.6 765.8l-150.1-178L136 752.1V792h752v-30.4L658.1 489z",fill:n}},{tag:"path",attrs:{d:"M136 652.7l132.4-157c3.2-3.8 9-3.8 12.2 0l144 170.7L652 396.8c3.2-3.8 9-3.8 12.2 0L888 662.2V232H136v420.7zM304 280a88 88 0 110 176 88 88 0 010-176z",fill:n}},{tag:"path",attrs:{d:"M276 368a28 28 0 1056 0 28 28 0 10-56 0z",fill:n}},{tag:"path",attrs:{d:"M304 456a88 88 0 100-176 88 88 0 000 176zm0-116c15.5 0 28 12.5 28 28s-12.5 28-28 28-28-12.5-28-28 12.5-28 28-28z",fill:e}}]}},name:"picture",theme:"twotone"};const Dte=Ote;function J7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Rte(t,i,n[i])})}return t}function Rte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m8=function(e,n){var r=J7({},e,n.attrs);return M(Jn,J7({},r,{icon:Dte}),null)};m8.displayName="PictureTwoTone";m8.inheritAttrs=!1;const Lte=m8;var Fte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"};const Nte=Fte;function eA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Bte(t,i,n[i])})}return t}function Bte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g8=function(e,n){var r=eA({},e,n.attrs);return M(Jn,eA({},r,{icon:Nte}),null)};g8.displayName="PlusOutlined";g8.inheritAttrs=!1;const zte=g8;var $te={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};const jte=$te;function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Vte(t,i,n[i])})}return t}function Vte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y8=function(e,n){var r=tA({},e,n.attrs);return M(Jn,tA({},r,{icon:jte}),null)};y8.displayName="PlusSquareOutlined";y8.inheritAttrs=!1;const Ute=y8;var Hte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const Kte=Hte;function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Wte(t,i,n[i])})}return t}function Wte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _8=function(e,n){var r=nA({},e,n.attrs);return M(Jn,nA({},r,{icon:Kte}),null)};_8.displayName="RightOutlined";_8.inheritAttrs=!1;const uc=_8;var Gte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"};const qte=Gte;function rA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Yte(t,i,n[i])})}return t}function Yte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b8=function(e,n){var r=rA({},e,n.attrs);return M(Jn,rA({},r,{icon:qte}),null)};b8.displayName="RotateLeftOutlined";b8.inheritAttrs=!1;const Xte=b8;var Zte={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"};const Qte=Zte;function iA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Jte(t,i,n[i])})}return t}function Jte(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x8=function(e,n){var r=iA({},e,n.attrs);return M(Jn,iA({},r,{icon:Qte}),null)};x8.displayName="RotateRightOutlined";x8.inheritAttrs=!1;const ene=x8;var tne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const nne=tne;function aA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){rne(t,i,n[i])})}return t}function rne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w8=function(e,n){var r=aA({},e,n.attrs);return M(Jn,aA({},r,{icon:nne}),null)};w8.displayName="SearchOutlined";w8.inheritAttrs=!1;const h2=w8;var ine={icon:function(e,n){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zM288 421a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm224 272c-85.5 0-155.6-67.3-160-151.6a8 8 0 018-8.4h48.1c4.2 0 7.8 3.2 8.1 7.4C420 589.9 461.5 629 512 629s92.1-39.1 95.8-88.6c.3-4.2 3.9-7.4 8.1-7.4H664a8 8 0 018 8.4C667.6 625.7 597.5 693 512 693zm176-224a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:n}},{tag:"path",attrs:{d:"M288 421a48 48 0 1096 0 48 48 0 10-96 0zm376 112h-48.1c-4.2 0-7.8 3.2-8.1 7.4-3.7 49.5-45.3 88.6-95.8 88.6s-92-39.1-95.8-88.6c-.3-4.2-3.9-7.4-8.1-7.4H360a8 8 0 00-8 8.4c4.4 84.3 74.5 151.6 160 151.6s155.6-67.3 160-151.6a8 8 0 00-8-8.4zm-24-112a48 48 0 1096 0 48 48 0 10-96 0z",fill:e}}]}},name:"smile",theme:"twotone"};const ane=ine;function oA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){one(t,i,n[i])})}return t}function one(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var C8=function(e,n){var r=oA({},e,n.attrs);return M(Jn,oA({},r,{icon:ane}),null)};C8.displayName="SmileTwoTone";C8.inheritAttrs=!1;const sne=C8;var lne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"};const une=lne;function sA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){cne(t,i,n[i])})}return t}function cne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S8=function(e,n){var r=sA({},e,n.attrs);return M(Jn,sA({},r,{icon:une}),null)};S8.displayName="StarFilled";S8.inheritAttrs=!1;const dne=S8;var fne={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z"}}]},name:"swap-right",theme:"outlined"};const hne=fne;function lA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){pne(t,i,n[i])})}return t}function pne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T8=function(e,n){var r=lA({},e,n.attrs);return M(Jn,lA({},r,{icon:hne}),null)};T8.displayName="SwapRightOutlined";T8.inheritAttrs=!1;const vne=T8;var mne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"}}]},name:"up",theme:"outlined"};const gne=mne;function uA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){yne(t,i,n[i])})}return t}function yne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E8=function(e,n){var r=uA({},e,n.attrs);return M(Jn,uA({},r,{icon:gne}),null)};E8.displayName="UpOutlined";E8.inheritAttrs=!1;const _ne=E8;var bne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};const xne=bne;function cA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){wne(t,i,n[i])})}return t}function wne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P8=function(e,n){var r=cA({},e,n.attrs);return M(Jn,cA({},r,{icon:xne}),null)};P8.displayName="VerticalAlignTopOutlined";P8.inheritAttrs=!1;const Cne=P8;var Sne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"};const Tne=Sne;function dA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Ene(t,i,n[i])})}return t}function Ene(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var M8=function(e,n){var r=dA({},e,n.attrs);return M(Jn,dA({},r,{icon:Tne}),null)};M8.displayName="WarningFilled";M8.inheritAttrs=!1;const Pne=M8;var Mne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"};const kne=Mne;function fA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Ane(t,i,n[i])})}return t}function Ane(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var k8=function(e,n){var r=fA({},e,n.attrs);return M(Jn,fA({},r,{icon:kne}),null)};k8.displayName="ZoomInOutlined";k8.inheritAttrs=!1;const Ine=k8;var One={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"};const Dne=One;function hA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Rne(t,i,n[i])})}return t}function Rne(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A8=function(e,n){var r=hA({},e,n.attrs);return M(Jn,hA({},r,{icon:Dne}),null)};A8.displayName="ZoomOutOutlined";A8.inheritAttrs=!1;const Lne=A8,Fne=lt({data(){return{iconClass:"smile animate__animated animate__fadeInUp"}},components:{SmileTwoTone:sne},methods:{handleIconClick(){console.log("Icon clicked!"),this.iconClass="smile animate__animated animate__rubberBand",setTimeout(()=>{this.$router.push("/main")},1e3)}}}),RN=t=>(OF("data-v-35fbd07e"),t=t(),DF(),t),Nne=RN(()=>ki("div",{class:"fullscreen-animation"},null,-1)),Bne={class:"content"},zne=RN(()=>ki("div",{class:"title animate__animated animate__fadeInDown"},"",-1));function $ne(t,e,n,r,i,o){const l=sd("SmileTwoTone");return nu(),QF(Kn,null,[Nne,ki("div",Bne,[zne,M(l,{onClick:t.handleIconClick,class:Jx(t.iconClass),twoToneColor:"#88D7EB"},null,8,["onClick","class"])])],64)}const jne=T5(Fne,[["render",$ne],["__scopeId","data-v-35fbd07e"]]);var La=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ml(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Vne(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(e,i);return new o}return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var LN={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){var n,r,i;function o(a,f){if(!n)n=f;else if(!r)r=f;else{var p="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+n+")(sharedChunk); ("+r+")(sharedChunk); self.onerror = null;",v={};n(v),i=f(v),typeof window<"u"&&window&&window.URL&&window.URL.createObjectURL&&(i.workerUrl=window.URL.createObjectURL(new Blob([p],{type:"text/javascript"})))}}o(["exports"],function(a){var f=typeof self<"u"?self:{},p="2.15.0";let v;const g={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(v==null){const u=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{v={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):u}catch{v=u}}return v},get API_TILEJSON_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/v[0-9]*\/.*\.json.*$)/i},get API_SPRITE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*\/sprite.*\..*$)/i},get API_FONTS_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/fonts\/v[0-9]*\/)(.*\.pbf.*$)/i},get API_STYLE_REGEX(){return/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/styles\/v[0-9]*\/)(.*$)/i},get API_CDN_URL_REGEX(){return/^((https?:)?\/\/)?api\.mapbox\.c(n|om)(\/mapbox-gl-js\/)(.*$)/i},get EVENTS_URL(){if(!g.API_URL)return null;try{const u=new URL(g.API_URL);return u.hostname==="api.mapbox.cn"?"https://events.mapbox.cn/events/v2":u.hostname==="api.mapbox.com"?"https://events.mapbox.com/events/v2":null}catch{return null}},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},_={supported:!1,testSupport:function(u){!E&&S&&(P?k(u):b=u)}};let b,S,E=!1,P=!1;function k(u){const s=u.createTexture();u.bindTexture(u.TEXTURE_2D,s);try{if(u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,S),u.isContextLost())return;_.supported=!0}catch{}u.deleteTexture(s),E=!0}f.document&&(S=f.document.createElement("img"),S.onload=function(){b&&k(b),b=null,P=!0},S.onerror=function(){E=!0,b=null},S.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const I="01";function D(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var L=B;function B(u,s,c,h){this.cx=3*u,this.bx=3*(c-u)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*s,this.by=3*(h-s)-this.cy,this.ay=1-this.cy-this.by,this.p1x=u,this.p1y=s,this.p2x=c,this.p2y=h}B.prototype={sampleCurveX:function(u){return((this.ax*u+this.bx)*u+this.cx)*u},sampleCurveY:function(u){return((this.ay*u+this.by)*u+this.cy)*u},sampleCurveDerivativeX:function(u){return(3*this.ax*u+2*this.bx)*u+this.cx},solveCurveX:function(u,s){if(s===void 0&&(s=1e-6),u<0)return 0;if(u>1)return 1;for(var c=u,h=0;h<8;h++){var y=this.sampleCurveX(c)-u;if(Math.abs(y)<s)return c;var w=this.sampleCurveDerivativeX(c);if(Math.abs(w)<1e-6)break;c-=y/w}var T=0,O=1;for(c=u,h=0;h<20&&(y=this.sampleCurveX(c),!(Math.abs(y-u)<s));h++)u>y?T=c:O=c,c=.5*(O-T)+T;return c},solve:function(u,s){return this.sampleCurveY(this.solveCurveX(u,s))}};var N=D(L),j=H;function H(u,s){this.x=u,this.y=s}H.prototype={clone:function(){return new H(this.x,this.y)},add:function(u){return this.clone()._add(u)},sub:function(u){return this.clone()._sub(u)},multByPoint:function(u){return this.clone()._multByPoint(u)},divByPoint:function(u){return this.clone()._divByPoint(u)},mult:function(u){return this.clone()._mult(u)},div:function(u){return this.clone()._div(u)},rotate:function(u){return this.clone()._rotate(u)},rotateAround:function(u,s){return this.clone()._rotateAround(u,s)},matMult:function(u){return this.clone()._matMult(u)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(u){return this.x===u.x&&this.y===u.y},dist:function(u){return Math.sqrt(this.distSqr(u))},distSqr:function(u){var s=u.x-this.x,c=u.y-this.y;return s*s+c*c},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(u){return Math.atan2(this.y-u.y,this.x-u.x)},angleWith:function(u){return this.angleWithSep(u.x,u.y)},angleWithSep:function(u,s){return Math.atan2(this.x*s-this.y*u,this.x*u+this.y*s)},_matMult:function(u){var s=u[2]*this.x+u[3]*this.y;return this.x=u[0]*this.x+u[1]*this.y,this.y=s,this},_add:function(u){return this.x+=u.x,this.y+=u.y,this},_sub:function(u){return this.x-=u.x,this.y-=u.y,this},_mult:function(u){return this.x*=u,this.y*=u,this},_div:function(u){return this.x/=u,this.y/=u,this},_multByPoint:function(u){return this.x*=u.x,this.y*=u.y,this},_divByPoint:function(u){return this.x/=u.x,this.y/=u.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var u=this.y;return this.y=this.x,this.x=-u,this},_rotate:function(u){var s=Math.cos(u),c=Math.sin(u),h=c*this.x+s*this.y;return this.x=s*this.x-c*this.y,this.y=h,this},_rotateAround:function(u,s){var c=Math.cos(u),h=Math.sin(u),y=s.y+h*(this.x-s.x)+c*(this.y-s.y);return this.x=s.x+c*(this.x-s.x)-h*(this.y-s.y),this.y=y,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},H.convert=function(u){return u instanceof H?u:Array.isArray(u)?new H(u[0],u[1]):u};var V=D(j);const Z=Math.PI/180,re=180/Math.PI;function q(u){return u*Z}function G(u){return u*re}const ae=[[0,0],[1,0],[1,1],[0,1]];function te(u){if(u<=0)return 0;if(u>=1)return 1;const s=u*u,c=s*u;return 4*(u<.5?c:3*(u-s)+c-.75)}function Q(u,s,c,h){const y=new N(u,s,c,h);return function(w){return y.solve(w)}}const Y=Q(.25,.1,.25,1);function X(u,s,c){return Math.min(c,Math.max(s,u))}function ie(u,s,c){return(c=X((c-u)/(s-u),0,1))*c*(3-2*c)}function he(u,s,c){const h=c-s,y=((u-s)%h+h)%h+s;return y===s?c:y}function ce(u,s,c){if(!u.length)return c(null,[]);let h=u.length;const y=new Array(u.length);let w=null;u.forEach((T,O)=>{s(T,(z,$)=>{z&&(w=z),y[O]=$,--h==0&&c(w,y)})})}function we(u){const s=[];for(const c in u)s.push(u[c]);return s}function be(u,...s){for(const c of s)for(const h in c)u[h]=c[h];return u}let ve=1;function ge(){return ve++}function Pe(){return function u(s){return s?(s^Math.random()*(16>>s/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,u)}()}function ye(u){return u<=1?1:Math.pow(2,Math.ceil(Math.log(u)/Math.LN2))}function Ne(u){return!!u&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(u)}function Re(u,s){u.forEach(c=>{s[c]&&(s[c]=s[c].bind(s))})}function Ge(u,s){return u.indexOf(s,u.length-s.length)!==-1}function He(u,s,c){const h={};for(const y in u)h[y]=s.call(c||this,u[y],y,u);return h}function Ee(u,s,c){const h={};for(const y in u)s.call(c||this,u[y],y,u)&&(h[y]=u[y]);return h}function pe(u){return Array.isArray(u)?u.map(pe):typeof u=="object"&&u?He(u,pe):u}const Ie={};function We(u){Ie[u]||(typeof console<"u"&&console.warn(u),Ie[u]=!0)}function Qe(u,s,c){return(c.y-u.y)*(s.x-u.x)>(s.y-u.y)*(c.x-u.x)}function at(u){let s=0;for(let c,h,y=0,w=u.length,T=w-1;y<w;T=y++)c=u[y],h=u[T],s+=(h.x-c.x)*(c.y+h.y);return s}function xt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ot(u){const s={};if(u.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(c,h,y,w)=>{const T=y||w;return s[h]=!T||T.toLowerCase(),""}),s["max-age"]){const c=parseInt(s["max-age"],10);isNaN(c)?delete s["max-age"]:s["max-age"]=c}return s}let nt=null;function Ze(u){if(nt==null){const s=u.navigator?u.navigator.userAgent:null;nt=!!u.safari||!(!s||!(/\b(iPad|iPhone|iPod)\b/.test(s)||s.match("Safari")&&!s.match("Chrome")))}return nt}function ht(u){try{const s=f[u];return s.setItem("_mapbox_test_",1),s.removeItem("_mapbox_test_"),!0}catch{return!1}}function vt(u,s){return[u[4*s],u[4*s+1],u[4*s+2],u[4*s+3]]}const Ct="mapbox-tiles";let Nt=500,tn=50,rn,Pt;function yt(){try{return f.caches}catch{}}function Bt(){yt()&&!rn&&(rn=f.caches.open(Ct))}function Ut(u){const s=u.indexOf("?");if(s<0)return u;const c=function(y){const w=y.indexOf("?");return w>0?y.slice(w+1).split("&"):[]}(u),h=c.filter(y=>{const w=y.split("=");return w[0]==="language"||w[0]==="worldview"});return h.length?`${u.slice(0,s)}?${h.join("&")}`:u.slice(0,s)}let St=1/0;const ft={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(ft);class gt extends Error{constructor(s,c,h){c===401&&et(h)&&(s+=": you may have provided an invalid Mapbox access token. See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes"),super(s),this.status=c,this.url=h}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const _t=xt()?()=>self.worker&&self.worker.referrer:()=>(f.location.protocol==="blob:"?f.parent:f).location.href,Ft=function(u,s){if(!(/^file:/.test(c=u.url)||/^file:/.test(_t())&&!/^\w+:/.test(c))){if(f.fetch&&f.Request&&f.AbortController&&f.Request.prototype.hasOwnProperty("signal"))return function(h,y){const w=new f.AbortController,T=new f.Request(h.url,{method:h.method||"GET",body:h.body,credentials:h.credentials,headers:h.headers,referrer:_t(),referrerPolicy:h.referrerPolicy,signal:w.signal});let O=!1,z=!1;const $=(W=T.url).indexOf("sku=")>0&&et(W);var W;h.type==="json"&&T.headers.set("Accept","application/json");const ne=(fe,me,Se)=>{if(z)return;if(fe&&fe.message!=="SecurityError"&&We(fe.toString()),me&&Se)return oe(me);const Oe=Date.now();f.fetch(T).then(Ve=>{if(Ve.ok){const tt=$?Ve.clone():null;return oe(Ve,tt,Oe)}return y(new gt(Ve.statusText,Ve.status,h.url))}).catch(Ve=>{Ve.name!=="AbortError"&&y(new Error(`${Ve.message} ${h.url}`))})},oe=(fe,me,Se)=>{(h.type==="arrayBuffer"?fe.arrayBuffer():h.type==="json"?fe.json():fe.text()).then(Oe=>{z||(me&&Se&&function(Ve,tt,Ue){if(Bt(),!rn)return;const Je={status:tt.status,statusText:tt.statusText,headers:new f.Headers};tt.headers.forEach((It,Et)=>Je.headers.set(Et,It));const st=ot(tt.headers.get("Cache-Control")||"");if(st["no-store"])return;st["max-age"]&&Je.headers.set("Expires",new Date(Ue+1e3*st["max-age"]).toUTCString());const it=Je.headers.get("Expires");it&&(new Date(it).getTime()-Ue<42e4||function(It,Et){if(Pt===void 0)try{new Response(new ReadableStream),Pt=!0}catch{Pt=!1}Pt?Et(It.body):It.blob().then(Et)}(tt,It=>{const Et=new f.Response(It,Je);Bt(),rn&&rn.then(jt=>jt.put(Ut(Ve.url),Et)).catch(jt=>We(jt.message))}))}(T,me,Se),O=!0,y(null,Oe,fe.headers.get("Cache-Control"),fe.headers.get("Expires")))}).catch(Oe=>{z||y(new Error(Oe.message))})};return $?function(fe,me){if(Bt(),!rn)return me(null);const Se=Ut(fe.url);rn.then(Oe=>{Oe.match(Se).then(Ve=>{const tt=function(Ue){if(!Ue)return!1;const Je=new Date(Ue.headers.get("Expires")||0),st=ot(Ue.headers.get("Cache-Control")||"");return Je>Date.now()&&!st["no-cache"]}(Ve);Oe.delete(Se),tt&&Oe.put(Se,Ve.clone()),me(null,Ve,tt)}).catch(me)}).catch(me)}(T,ne):ne(null,null),{cancel:()=>{z=!0,O||w.abort()}}}(u,s);if(xt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",u,s,void 0,!0)}var c;return function(h,y){const w=new f.XMLHttpRequest;w.open(h.method||"GET",h.url,!0),h.type==="arrayBuffer"&&(w.responseType="arraybuffer");for(const T in h.headers)w.setRequestHeader(T,h.headers[T]);return h.type==="json"&&(w.responseType="text",w.setRequestHeader("Accept","application/json")),w.withCredentials=h.credentials==="include",w.onerror=()=>{y(new Error(w.statusText))},w.onload=()=>{if((w.status>=200&&w.status<300||w.status===0)&&w.response!==null){let T=w.response;if(h.type==="json")try{T=JSON.parse(w.response)}catch(O){return y(O)}y(null,T,w.getResponseHeader("Cache-Control"),w.getResponseHeader("Expires"))}else y(new gt(w.statusText,w.status,h.url))},w.send(h.body),{cancel:()=>w.abort()}}(u,s)},Gt=function(u,s){return Ft(be(u,{type:"arrayBuffer"}),s)};function Zt(u){const s=f.document.createElement("a");return s.href=u,s.protocol===f.document.location.protocol&&s.host===f.document.location.host}const Me="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let de,_e;de=[],_e=0;const De=function(u,s){if(_.supported&&(u.headers||(u.headers={}),u.headers.accept="image/webp,*/*"),_e>=g.MAX_PARALLEL_IMAGE_REQUESTS){const w={requestParameters:u,callback:s,cancelled:!1,cancel(){this.cancelled=!0}};return de.push(w),w}_e++;let c=!1;const h=()=>{if(!c)for(c=!0,_e--;de.length&&_e<g.MAX_PARALLEL_IMAGE_REQUESTS;){const w=de.shift(),{requestParameters:T,callback:O,cancelled:z}=w;z||(w.cancel=De(T,O).cancel)}},y=Gt(u,(w,T,O,z)=>{h(),w?s(w):T&&(f.createImageBitmap?function($,W){const ne=new f.Blob([new Uint8Array($)],{type:"image/png"});f.createImageBitmap(ne).then(oe=>{W(null,oe)}).catch(oe=>{W(new Error(`Could not load image because of ${oe.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(T,($,W)=>s($,W,O,z)):function($,W){const ne=new f.Image,oe=f.URL;ne.onload=()=>{W(null,ne),oe.revokeObjectURL(ne.src),ne.onload=null,f.requestAnimationFrame(()=>{ne.src=Me})},ne.onerror=()=>W(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const fe=new f.Blob([new Uint8Array($)],{type:"image/png"});ne.src=$.byteLength?oe.createObjectURL(fe):Me}(T,($,W)=>s($,W,O,z)))});return{cancel:()=>{y.cancel(),h()}}},$e="NO_ACCESS_TOKEN";function Ke(u){return u.indexOf("mapbox:")===0}function et(u){return g.API_URL_REGEX.test(u)}function rt(u){return g.API_CDN_URL_REGEX.test(u)}function Ye(u){return g.API_STYLE_REGEX.test(u)&&!pt(u)}function pt(u){return g.API_SPRITE_REGEX.test(u)}const kt=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function Ht(u){const s=u.match(kt);if(!s)throw new Error("Unable to parse URL object");return{protocol:s[1],authority:s[2],path:s[3]||"/",params:s[4]?s[4].split("&"):[]}}function Ot(u){const s=u.params.length?`?${u.params.join("&")}`:"";return`${u.protocol}://${u.authority}${u.path}${s}`}const hn="mapbox.eventData";function pn(u){if(!u)return null;const s=u.split(".");if(!s||s.length!==3)return null;try{return JSON.parse(decodeURIComponent(f.atob(s[1]).split("").map(c=>"%"+("00"+c.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class En{constructor(s){this.type=s,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(s){const c=pn(g.ACCESS_TOKEN);let h="";return h=c&&c.u?f.btoa(encodeURIComponent(c.u).replace(/%([0-9A-F]{2})/g,(y,w)=>String.fromCharCode(+("0x"+w)))):g.ACCESS_TOKEN||"",s?`${hn}.${s}:${h}`:`${hn}:${h}`}fetchEventData(){const s=ht("localStorage"),c=this.getStorageKey(),h=this.getStorageKey("uuid");if(s)try{const y=f.localStorage.getItem(c);y&&(this.eventData=JSON.parse(y));const w=f.localStorage.getItem(h);w&&(this.anonId=w)}catch{We("Unable to read from LocalStorage")}}saveEventData(){const s=ht("localStorage"),c=this.getStorageKey(),h=this.getStorageKey("uuid");if(s)try{f.localStorage.setItem(h,this.anonId),Object.keys(this.eventData).length>=1&&f.localStorage.setItem(c,JSON.stringify(this.eventData))}catch{We("Unable to write to LocalStorage")}}processRequests(s){}postEvent(s,c,h,y){if(!g.EVENTS_URL)return;const w=Ht(g.EVENTS_URL);w.params.push(`access_token=${y||g.ACCESS_TOKEN||""}`);const T={event:this.type,created:new Date(s).toISOString()},O=c?be(T,c):T,z={url:Ot(w),headers:{"Content-Type":"text/plain"},body:JSON.stringify([O])};this.pendingRequest=function($,W){return Ft(be($,{method:"POST"}),W)}(z,$=>{this.pendingRequest=null,h($),this.saveEventData(),this.processRequests(y)})}queueRequest(s,c){this.queue.push(s),this.processRequests(c)}}const Cn=new class extends En{constructor(u){super("appUserTurnstile"),this._customAccessToken=u}postTurnstileEvent(u,s){g.EVENTS_URL&&g.ACCESS_TOKEN&&Array.isArray(u)&&u.some(c=>Ke(c)||et(c))&&this.queueRequest(Date.now(),s)}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const s=pn(g.ACCESS_TOKEN),c=s?s.u:g.ACCESS_TOKEN;let h=c!==this.eventData.tokenU;Ne(this.anonId)||(this.anonId=Pe(),h=!0);const y=this.queue.shift();if(this.eventData.lastSuccess){const w=new Date(this.eventData.lastSuccess),T=new Date(y),O=(y-this.eventData.lastSuccess)/864e5;h=h||O>=1||O<-1||w.getDate()!==T.getDate()}else h=!0;h?this.postEvent(y,{sdkIdentifier:"mapbox-gl-js",sdkVersion:p,skuId:I,"enabled.telemetry":!1,userId:this.anonId},w=>{w||(this.eventData.lastSuccess=y,this.eventData.tokenU=c)},u):this.processRequests()}},Nn=Cn.postTurnstileEvent.bind(Cn),nr=new class extends En{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(u,s,c,h){this.skuToken=s,this.errorCb=h,g.EVENTS_URL&&(c||g.ACCESS_TOKEN?this.queueRequest({id:u,timestamp:Date.now()},c):this.errorCb(new Error($e)))}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{id:s,timestamp:c}=this.queue.shift();s&&this.success[s]||(this.anonId||this.fetchEventData(),Ne(this.anonId)||(this.anonId=Pe()),this.postEvent(c,{sdkIdentifier:"mapbox-gl-js",sdkVersion:p,skuId:I,skuToken:this.skuToken,userId:this.anonId},h=>{h?this.errorCb(h):s&&(this.success[s]=!0)},u))}},qn=nr.postMapLoadEvent.bind(nr),rr=new class extends En{constructor(){super("gljs.performance")}postPerformanceEvent(u,s){g.EVENTS_URL&&(u||g.ACCESS_TOKEN)&&this.queueRequest({timestamp:Date.now(),performanceData:s},u)}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{timestamp:s,performanceData:c}=this.queue.shift(),h=function(y){const w=f.performance.getEntriesByType("resource"),T=f.performance.getEntriesByType("mark"),O=function(oe){const fe={};if(oe){for(const me in oe)if(me!=="other")for(const Se of oe[me]){const Oe=`${me}ResolveRangeMin`,Ve=`${me}ResolveRangeMax`,tt=`${me}RequestCount`,Ue=`${me}RequestCachedCount`;fe[Oe]=Math.min(fe[Oe]||1/0,Se.startTime),fe[Ve]=Math.max(fe[Ve]||-1/0,Se.responseEnd);const Je=st=>{fe[st]===void 0&&(fe[st]=0),++fe[st]};Se.transferSize!==void 0&&Se.transferSize===0&&Je(Ue),Je(tt)}}return fe}(function(oe,fe){const me={};if(oe)for(const Se of oe){const Oe=fe(Se);me[Oe]===void 0&&(me[Oe]=[]),me[Oe].push(Se)}return me}(w,ba)),z=f.devicePixelRatio,$=f.navigator.connection||f.navigator.mozConnection||f.navigator.webkitConnection,W={counters:[],metadata:[],attributes:[]},ne=(oe,fe,me)=>{me!=null&&oe.push({name:fe,value:me.toString()})};for(const oe in O)ne(W.counters,oe,O[oe]);if(y.interactionRange[0]!==1/0&&y.interactionRange[1]!==-1/0&&(ne(W.counters,"interactionRangeMin",y.interactionRange[0]),ne(W.counters,"interactionRangeMax",y.interactionRange[1])),T)for(const oe of Object.keys(da)){const fe=da[oe],me=T.find(Se=>Se.name===fe);me&&ne(W.counters,fe,me.startTime)}return ne(W.counters,"visibilityHidden",y.visibilityHidden),ne(W.attributes,"style",function(oe){if(oe)for(const fe of oe){const me=fe.name.split("?")[0];if(Ye(me)){const Se=me.split("/").slice(-2);if(Se.length===2)return`mapbox://styles/${Se[0]}/${Se[1]}`}}}(w)),ne(W.attributes,"terrainEnabled",y.terrainEnabled?"true":"false"),ne(W.attributes,"fogEnabled",y.fogEnabled?"true":"false"),ne(W.attributes,"projection",y.projection),ne(W.attributes,"zoom",y.zoom),ne(W.metadata,"devicePixelRatio",z),ne(W.metadata,"connectionEffectiveType",$?$.effectiveType:void 0),ne(W.metadata,"navigatorUserAgent",f.navigator.userAgent),ne(W.metadata,"screenWidth",f.screen.width),ne(W.metadata,"screenHeight",f.screen.height),ne(W.metadata,"windowWidth",f.innerWidth),ne(W.metadata,"windowHeight",f.innerHeight),ne(W.metadata,"mapWidth",y.width/z),ne(W.metadata,"mapHeight",y.height/z),ne(W.metadata,"webglRenderer",y.renderer),ne(W.metadata,"webglVendor",y.vendor),ne(W.metadata,"sdkVersion",p),ne(W.metadata,"sdkIdentifier","mapbox-gl-js"),W}(c);for(const y of h.metadata);for(const y of h.counters);for(const y of h.attributes);this.postEvent(s,h,()=>{},u)}},ur=rr.postPerformanceEvent.bind(rr),Si=new class extends En{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(u,s,c,h){if(!g.API_URL||!g.SESSION_PATH)return;const y=Ht(g.API_URL+g.SESSION_PATH);y.params.push(`sku=${s||""}`),y.params.push(`access_token=${h||g.ACCESS_TOKEN||""}`);const w={url:Ot(y),headers:{"Content-Type":"text/plain"}};this.pendingRequest=function(T,O){return Ft(be(T,{method:"GET"}),O)}(w,T=>{this.pendingRequest=null,c(T),this.saveEventData(),this.processRequests(h)})}getSessionAPI(u,s,c,h){this.skuToken=s,this.errorCb=h,g.SESSION_PATH&&g.API_URL&&(c||g.ACCESS_TOKEN?this.queueRequest({id:u,timestamp:Date.now()},c):this.errorCb(new Error($e)))}processRequests(u){if(this.pendingRequest||this.queue.length===0)return;const{id:s,timestamp:c}=this.queue.shift();s&&this.success[s]||this.getSession(c,this.skuToken,h=>{h?this.errorCb(h):s&&(this.success[s]=!0)},u)}},hr=Si.getSessionAPI.bind(Si),Yr=new Set,da={create:"create",load:"load",fullLoad:"fullLoad"},Oo={mark(u){f.performance.mark(u)},measure(u,s,c){f.performance.measure(u,s,c)}};function ba(u){const s=u.name.split("?")[0];return rt(s)&&s.includes("mapbox-gl.js")?"javascript":rt(s)&&s.includes("mapbox-gl.css")?"css":function(c){return g.API_FONTS_REGEX.test(c)}(s)?"fontRange":pt(s)?"sprite":Ye(s)?"style":function(c){return g.API_TILEJSON_REGEX.test(c)}(s)?"tilejson":"other"}const er=f.performance;function ci(u){const s=u?u.url.toString():void 0;return er.getEntriesByName(s)}let fa,xo,gc,Do;const Ro={now:()=>gc!==void 0?gc:f.performance.now(),setNow(u){gc=u},restoreNow(){gc=void 0},frame(u){const s=f.requestAnimationFrame(u);return{cancel:()=>f.cancelAnimationFrame(s)}},getImageData(u,s=0){const{width:c,height:h}=u;Do||(Do=f.document.createElement("canvas"));const y=Do.getContext("2d",{willReadFrequently:!0});if(!y)throw new Error("failed to create canvas 2d context");return(c>Do.width||h>Do.height)&&(Do.width=c,Do.height=h),y.clearRect(-s,-s,c+2*s,h+2*s),y.drawImage(u,0,0,c,h),y.getImageData(-s,-s,c+2*s,h+2*s)},resolveURL:u=>(fa||(fa=f.document.createElement("a")),fa.href=u,fa.href),get devicePixelRatio(){return f.devicePixelRatio},get prefersReducedMotion(){return!!f.matchMedia&&(xo==null&&(xo=f.matchMedia("(prefers-reduced-motion: reduce)")),xo.matches)}};function Ud(u,s,c){c[u]&&c[u].indexOf(s)!==-1||(c[u]=c[u]||[],c[u].push(s))}function yc(u,s,c){if(c&&c[u]){const h=c[u].indexOf(s);h!==-1&&c[u].splice(h,1)}}class Ys{constructor(s,c={}){be(this,c),this.type=s}}class Lo extends Ys{constructor(s,c={}){super("error",be({error:s},c))}}class Al{on(s,c){return this._listeners=this._listeners||{},Ud(s,c,this._listeners),this}off(s,c){return yc(s,c,this._listeners),yc(s,c,this._oneTimeListeners),this}once(s,c){return c?(this._oneTimeListeners=this._oneTimeListeners||{},Ud(s,c,this._oneTimeListeners),this):new Promise(h=>this.once(s,h))}fire(s,c){typeof s=="string"&&(s=new Ys(s,c||{}));const h=s.type;if(this.listens(h)){s.target=this;const y=this._listeners&&this._listeners[h]?this._listeners[h].slice():[];for(const O of y)O.call(this,s);const w=this._oneTimeListeners&&this._oneTimeListeners[h]?this._oneTimeListeners[h].slice():[];for(const O of w)yc(h,O,this._oneTimeListeners),O.call(this,s);const T=this._eventedParent;T&&(be(s,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),T.fire(s))}else s instanceof Lo&&console.error(s.error);return this}listens(s){return!!(this._listeners&&this._listeners[s]&&this._listeners[s].length>0||this._oneTimeListeners&&this._oneTimeListeners[s]&&this._oneTimeListeners[s].length>0||this._eventedParent&&this._eventedParent.listens(s))}setEventedParent(s,c){return this._eventedParent=s,this._eventedParentData=c,this}}var zt=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"},"fill-extrusion-edge-radius":{"type":"number","private":true,"default":0,"minimum":0,"maximum":1,"property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"high-color":{"type":"color","property-type":"data-constant","default":"#245cdf","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"space-color":{"type":"color","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,"#010b19",7,"#367ab9"],"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],4,0.2,7,0.1],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"star-intensity":{"type":"number","property-type":"data-constant","default":["interpolate",["linear"],["zoom"],5,0.35,6,0],"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{},"globe":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-180,-90],"maximum":[180,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","minimum":[-90,-90],"maximum":[90,90],"transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["source"]}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-ambient-occlusion-intensity":{"property-type":"data-constant","type":"number","private":true,"default":0,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"fill-extrusion-ambient-occlusion-radius":{"property-type":"data-constant","type":"number","private":true,"default":3,"minimum":0,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true,"requires":["fill-extrusion-edge-radius"]},"fill-extrusion-rounded-roof":{"type":"boolean","default":true,"requires":["fill-extrusion-edge-radius"],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":false,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"},"line-trim-offset":{"type":"array","value":"number","length":2,"default":[0,0],"minimum":[0,0],"maximum":[1,1],"transition":false,"requires":[{"source":"geojson","has":{"lineMetrics":true}}],"property-type":"constant"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function rs(u,...s){for(const c of s)for(const h in c)u[h]=c[h];return u}function Ti(u){return u instanceof Number||u instanceof String||u instanceof Boolean?u.valueOf():u}function na(u){if(Array.isArray(u))return u.map(na);if(u instanceof Object&&!(u instanceof Number||u instanceof String||u instanceof Boolean)){const s={};for(const c in u)s[c]=na(u[c]);return s}return Ti(u)}class Hd extends Error{constructor(s,c){super(c),this.message=c,this.key=s}}var wo=Hd;class _c{constructor(s,c=[]){this.parent=s,this.bindings={};for(const[h,y]of c)this.bindings[h]=y}concat(s){return new _c(this,s)}get(s){if(this.bindings[s])return this.bindings[s];if(this.parent)return this.parent.get(s);throw new Error(`${s} not found in scope.`)}has(s){return!!this.bindings[s]||!!this.parent&&this.parent.has(s)}}var Dh=_c;const Il={kind:"null"},mn={kind:"number"},br={kind:"string"},mr={kind:"boolean"},Ya={kind:"color"},Xa={kind:"object"},gr={kind:"value"},Dn={kind:"collator"},wn={kind:"formatted"},Mn={kind:"resolvedImage"};function In(u,s){return{kind:"array",itemType:u,N:s}}function Pn(u){if(u.kind==="array"){const s=Pn(u.itemType);return typeof u.N=="number"?`array<${s}, ${u.N}>`:u.itemType.kind==="value"?"array":`array<${s}>`}return u.kind}const xi=[Il,mn,br,mr,Ya,wn,Xa,In(gr),Mn];function xa(u,s){if(s.kind==="error")return null;if(u.kind==="array"){if(s.kind==="array"&&(s.N===0&&s.itemType.kind==="value"||!xa(u.itemType,s.itemType))&&(typeof u.N!="number"||u.N===s.N))return null}else{if(u.kind===s.kind)return null;if(u.kind==="value"){for(const c of xi)if(!xa(c,s))return null}}return`Expected ${Pn(u)} but found ${Pn(s)} instead.`}function za(u,s){return s.some(c=>c.kind===u.kind)}function is(u,s){return s.some(c=>c==="null"?u===null:c==="array"?Array.isArray(u):c==="object"?u&&!Array.isArray(u)&&typeof u=="object":c===typeof u)}var as,Xs={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Za(u){return(u=Math.round(u))<0?0:u>255?255:u}function os(u){return Za(u[u.length-1]==="%"?parseFloat(u)/100*255:parseInt(u))}function Qa(u){return(s=u[u.length-1]==="%"?parseFloat(u)/100:parseFloat(u))<0?0:s>1?1:s;var s}function wa(u,s,c){return c<0?c+=1:c>1&&(c-=1),6*c<1?u+(s-u)*c*6:2*c<1?s:3*c<2?u+(s-u)*(2/3-c)*6:u}try{as={}.parseCSSColor=function(u){var s,c=u.replace(/ /g,"").toLowerCase();if(c in Xs)return Xs[c].slice();if(c[0]==="#")return c.length===4?(s=parseInt(c.substr(1),16))>=0&&s<=4095?[(3840&s)>>4|(3840&s)>>8,240&s|(240&s)>>4,15&s|(15&s)<<4,1]:null:c.length===7&&(s=parseInt(c.substr(1),16))>=0&&s<=16777215?[(16711680&s)>>16,(65280&s)>>8,255&s,1]:null;var h=c.indexOf("("),y=c.indexOf(")");if(h!==-1&&y+1===c.length){var w=c.substr(0,h),T=c.substr(h+1,y-(h+1)).split(","),O=1;switch(w){case"rgba":if(T.length!==4)return null;O=Qa(T.pop());case"rgb":return T.length!==3?null:[os(T[0]),os(T[1]),os(T[2]),O];case"hsla":if(T.length!==4)return null;O=Qa(T.pop());case"hsl":if(T.length!==3)return null;var z=(parseFloat(T[0])%360+360)%360/360,$=Qa(T[1]),W=Qa(T[2]),ne=W<=.5?W*($+1):W+$-W*$,oe=2*W-ne;return[Za(255*wa(oe,ne,z+1/3)),Za(255*wa(oe,ne,z)),Za(255*wa(oe,ne,z-1/3)),O];default:return null}}return null}}catch{}class wi{constructor(s,c,h,y=1){this.r=s,this.g=c,this.b=h,this.a=y}static parse(s){if(!s)return;if(s instanceof wi)return s;if(typeof s!="string")return;const c=as(s);return c?new wi(c[0]/255*c[3],c[1]/255*c[3],c[2]/255*c[3],c[3]):void 0}toString(){const[s,c,h,y]=this.toArray();return`rgba(${Math.round(s)},${Math.round(c)},${Math.round(h)},${y})`}toArray(){const{r:s,g:c,b:h,a:y}=this;return y===0?[0,0,0,0]:[255*s/y,255*c/y,255*h/y,y]}toArray01(){const{r:s,g:c,b:h,a:y}=this;return y===0?[0,0,0,0]:[s/y,c/y,h/y,y]}toArray01PremultipliedAlpha(){const{r:s,g:c,b:h,a:y}=this;return[s,c,h,y]}}wi.black=new wi(0,0,0,1),wi.white=new wi(1,1,1,1),wi.transparent=new wi(0,0,0,0),wi.red=new wi(1,0,0,1),wi.blue=new wi(0,0,1,1);var Lr=wi;class _u{constructor(s,c,h){this.sensitivity=s?c?"variant":"case":c?"accent":"base",this.locale=h,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(s,c){return this.collator.compare(s,c)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Ol{constructor(s,c,h,y,w){this.text=s.normalize?s.normalize():s,this.image=c,this.scale=h,this.fontStack=y,this.textColor=w}}class Ei{constructor(s){this.sections=s}static fromString(s){return new Ei([new Ol(s,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(s=>s.text.length!==0||s.image&&s.image.name.length!==0)}static factory(s){return s instanceof Ei?s:Ei.fromString(s)}toString(){return this.sections.length===0?"":this.sections.map(s=>s.text).join("")}serialize(){const s=["format"];for(const c of this.sections){if(c.image){s.push(["image",c.image.name]);continue}s.push(c.text);const h={};c.fontStack&&(h["text-font"]=["literal",c.fontStack.split(",")]),c.scale&&(h["font-scale"]=c.scale),c.textColor&&(h["text-color"]=["rgba"].concat(c.textColor.toArray())),s.push(h)}return s}}class Ja{constructor(s){this.name=s.name,this.available=s.available}toString(){return this.name}static fromString(s){return s?new Ja({name:s,available:!1}):null}serialize(){return["image",this.name]}}function Kd(u,s,c,h){return typeof u=="number"&&u>=0&&u<=255&&typeof s=="number"&&s>=0&&s<=255&&typeof c=="number"&&c>=0&&c<=255?h===void 0||typeof h=="number"&&h>=0&&h<=1?null:`Invalid rgba value [${[u,s,c,h].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof h=="number"?[u,s,c,h]:[u,s,c]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function bu(u){if(u===null||typeof u=="string"||typeof u=="boolean"||typeof u=="number"||u instanceof Lr||u instanceof _u||u instanceof Ei||u instanceof Ja)return!0;if(Array.isArray(u)){for(const s of u)if(!bu(s))return!1;return!0}if(typeof u=="object"){for(const s in u)if(!bu(u[s]))return!1;return!0}return!1}function mi(u){if(u===null)return Il;if(typeof u=="string")return br;if(typeof u=="boolean")return mr;if(typeof u=="number")return mn;if(u instanceof Lr)return Ya;if(u instanceof _u)return Dn;if(u instanceof Ei)return wn;if(u instanceof Ja)return Mn;if(Array.isArray(u)){const s=u.length;let c;for(const h of u){const y=mi(h);if(c){if(c===y)continue;c=gr;break}c=y}return In(c||gr,s)}return Xa}function xu(u){const s=typeof u;return u===null?"":s==="string"||s==="number"||s==="boolean"?String(u):u instanceof Lr||u instanceof Ei||u instanceof Ja?u.toString():JSON.stringify(u)}class bc{constructor(s,c){this.type=s,this.value=c}static parse(s,c){if(s.length!==2)return c.error(`'literal' expression requires exactly one argument, but found ${s.length-1} instead.`);if(!bu(s[1]))return c.error("invalid value");const h=s[1];let y=mi(h);const w=c.expectedType;return y.kind!=="array"||y.N!==0||!w||w.kind!=="array"||typeof w.N=="number"&&w.N!==0||(y=w),new bc(y,h)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Lr?["rgba"].concat(this.value.toArray()):this.value instanceof Ei?this.value.serialize():this.value}}var Zs=bc,ha=class{constructor(u){this.name="ExpressionEvaluationError",this.message=u}toJSON(){return this.message}};const Wd={string:br,number:mn,boolean:mr,object:Xa};class Gd{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");let h,y=1;const w=s[0];if(w==="array"){let O,z;if(s.length>2){const $=s[1];if(typeof $!="string"||!($ in Wd)||$==="object")return c.error('The item type argument of "array" must be one of string, number, boolean',1);O=Wd[$],y++}else O=gr;if(s.length>3){if(s[2]!==null&&(typeof s[2]!="number"||s[2]<0||s[2]!==Math.floor(s[2])))return c.error('The length argument to "array" must be a positive integer literal',2);z=s[2],y++}h=In(O,z)}else h=Wd[w];const T=[];for(;y<s.length;y++){const O=c.parse(s[y],y,gr);if(!O)return null;T.push(O)}return new Gd(h,T)}evaluate(s){for(let c=0;c<this.args.length;c++){const h=this.args[c].evaluate(s);if(!xa(this.type,mi(h)))return h;if(c===this.args.length-1)throw new ha(`Expected value to be of type ${Pn(this.type)}, but found ${Pn(mi(h))} instead.`)}return null}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}serialize(){const s=this.type,c=[s.kind];if(s.kind==="array"){const h=s.itemType;if(h.kind==="string"||h.kind==="number"||h.kind==="boolean"){c.push(h.kind);const y=s.N;(typeof y=="number"||this.args.length>1)&&c.push(y)}}return c.concat(this.args.map(h=>h.serialize()))}}var Fo=Gd;class Ts{constructor(s){this.type=wn,this.sections=s}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");const h=s[1];if(!Array.isArray(h)&&typeof h=="object")return c.error("First argument must be an image or text section.");const y=[];let w=!1;for(let T=1;T<=s.length-1;++T){const O=s[T];if(w&&typeof O=="object"&&!Array.isArray(O)){w=!1;let z=null;if(O["font-scale"]&&(z=c.parse(O["font-scale"],1,mn),!z))return null;let $=null;if(O["text-font"]&&($=c.parse(O["text-font"],1,In(br)),!$))return null;let W=null;if(O["text-color"]&&(W=c.parse(O["text-color"],1,Ya),!W))return null;const ne=y[y.length-1];ne.scale=z,ne.font=$,ne.textColor=W}else{const z=c.parse(s[T],1,gr);if(!z)return null;const $=z.type.kind;if($!=="string"&&$!=="value"&&$!=="null"&&$!=="resolvedImage")return c.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");w=!0,y.push({content:z,scale:null,font:null,textColor:null})}}return new Ts(y)}evaluate(s){return new Ei(this.sections.map(c=>{const h=c.content.evaluate(s);return mi(h)===Mn?new Ol("",h,null,null,null):new Ol(xu(h),null,c.scale?c.scale.evaluate(s):null,c.font?c.font.evaluate(s).join(","):null,c.textColor?c.textColor.evaluate(s):null)}))}eachChild(s){for(const c of this.sections)s(c.content),c.scale&&s(c.scale),c.font&&s(c.font),c.textColor&&s(c.textColor)}outputDefined(){return!1}serialize(){const s=["format"];for(const c of this.sections){s.push(c.content.serialize());const h={};c.scale&&(h["font-scale"]=c.scale.serialize()),c.font&&(h["text-font"]=c.font.serialize()),c.textColor&&(h["text-color"]=c.textColor.serialize()),s.push(h)}return s}}class Es{constructor(s){this.type=Mn,this.input=s}static parse(s,c){if(s.length!==2)return c.error("Expected two arguments.");const h=c.parse(s[1],1,br);return h?new Es(h):c.error("No image name provided.")}evaluate(s){const c=this.input.evaluate(s),h=Ja.fromString(c);return h&&s.availableImages&&(h.available=s.availableImages.indexOf(c)>-1),h}eachChild(s){s(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const Rh={"to-boolean":mr,"to-color":Ya,"to-number":mn,"to-string":br};class xc{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expected at least one argument.");const h=s[0];if((h==="to-boolean"||h==="to-string")&&s.length!==2)return c.error("Expected one argument.");const y=Rh[h],w=[];for(let T=1;T<s.length;T++){const O=c.parse(s[T],T,gr);if(!O)return null;w.push(O)}return new xc(y,w)}evaluate(s){if(this.type.kind==="boolean")return!!this.args[0].evaluate(s);if(this.type.kind==="color"){let c,h;for(const y of this.args){if(c=y.evaluate(s),h=null,c instanceof Lr)return c;if(typeof c=="string"){const w=s.parseColor(c);if(w)return w}else if(Array.isArray(c)&&(h=c.length<3||c.length>4?`Invalid rbga value ${JSON.stringify(c)}: expected an array containing either three or four numeric values.`:Kd(c[0],c[1],c[2],c[3]),!h))return new Lr(c[0]/255,c[1]/255,c[2]/255,c[3])}throw new ha(h||`Could not parse color from value '${typeof c=="string"?c:String(JSON.stringify(c))}'`)}if(this.type.kind==="number"){let c=null;for(const h of this.args){if(c=h.evaluate(s),c===null)return 0;const y=Number(c);if(!isNaN(y))return y}throw new ha(`Could not convert ${JSON.stringify(c)} to number.`)}return this.type.kind==="formatted"?Ei.fromString(xu(this.args[0].evaluate(s))):this.type.kind==="resolvedImage"?Ja.fromString(xu(this.args[0].evaluate(s))):xu(this.args[0].evaluate(s))}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Ts([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Es(this.args[0]).serialize();const s=[`to-${this.type.kind}`];return this.eachChild(c=>{s.push(c.serialize())}),s}}var Dl=xc;const No=["Unknown","Point","LineString","Polygon"];var qd=class{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&this.feature.id!==void 0?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?No[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const u=this.featureDistanceData.center,s=this.featureDistanceData.scale,{x:c,y:h}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(c*s-u[0])+this.featureDistanceData.bearing[1]*(h*s-u[1])}return 0}parseColor(u){let s=this._parseColorCache[u];return s||(s=this._parseColorCache[u]=Lr.parse(u)),s}};class Ps{constructor(s,c,h,y){this.name=s,this.type=c,this._evaluate=h,this.args=y}evaluate(s){return this._evaluate(s,this.args)}eachChild(s){this.args.forEach(s)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(s=>s.serialize()))}static parse(s,c){const h=s[0],y=Ps.definitions[h];if(!y)return c.error(`Unknown expression "${h}". If you wanted a literal array, use ["literal", [...]].`,0);const w=Array.isArray(y)?y[0]:y.type,T=Array.isArray(y)?[[y[1],y[2]]]:y.overloads,O=T.filter(([$])=>!Array.isArray($)||$.length===s.length-1);let z=null;for(const[$,W]of O){z=new Qv(c.registry,c.path,null,c.scope);const ne=[];let oe=!1;for(let fe=1;fe<s.length;fe++){const me=s[fe],Se=Array.isArray($)?$[fe-1]:$.type,Oe=z.parse(me,1+ne.length,Se);if(!Oe){oe=!0;break}ne.push(Oe)}if(!oe)if(Array.isArray($)&&$.length!==ne.length)z.error(`Expected ${$.length} arguments, but found ${ne.length} instead.`);else{for(let fe=0;fe<ne.length;fe++){const me=Array.isArray($)?$[fe]:$.type,Se=ne[fe];z.concat(fe+1).checkSubtype(me,Se.type)}if(z.errors.length===0)return new Ps(h,w,W,ne)}}if(O.length===1)c.errors.push(...z.errors);else{const $=(O.length?O:T).map(([ne])=>{return oe=ne,Array.isArray(oe)?`(${oe.map(Pn).join(", ")})`:`(${Pn(oe.type)}...)`;var oe}).join(" | "),W=[];for(let ne=1;ne<s.length;ne++){const oe=c.parse(s[ne],1+W.length);if(!oe)return null;W.push(Pn(oe.type))}c.error(`Expected arguments of type ${$}, but found (${W.join(", ")}) instead.`)}return null}static register(s,c){Ps.definitions=c;for(const h in c)s[h]=Ps}}var Bo=Ps;class Rl{constructor(s,c,h){this.type=Dn,this.locale=h,this.caseSensitive=s,this.diacriticSensitive=c}static parse(s,c){if(s.length!==2)return c.error("Expected one argument.");const h=s[1];if(typeof h!="object"||Array.isArray(h))return c.error("Collator options argument must be an object.");const y=c.parse(h["case-sensitive"]!==void 0&&h["case-sensitive"],1,mr);if(!y)return null;const w=c.parse(h["diacritic-sensitive"]!==void 0&&h["diacritic-sensitive"],1,mr);if(!w)return null;let T=null;return h.locale&&(T=c.parse(h.locale,1,br),!T)?null:new Rl(y,w,T)}evaluate(s){return new _u(this.caseSensitive.evaluate(s),this.diacriticSensitive.evaluate(s),this.locale?this.locale.evaluate(s):null)}eachChild(s){s(this.caseSensitive),s(this.diacriticSensitive),this.locale&&s(this.locale)}outputDefined(){return!1}serialize(){const s={};return s["case-sensitive"]=this.caseSensitive.serialize(),s["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(s.locale=this.locale.serialize()),["collator",s]}}const Co=8192;function Ll(u,s){u[0]=Math.min(u[0],s[0]),u[1]=Math.min(u[1],s[1]),u[2]=Math.max(u[2],s[0]),u[3]=Math.max(u[3],s[1])}function Fl(u,s){return!(u[0]<=s[0]||u[2]>=s[2]||u[1]<=s[1]||u[3]>=s[3])}function ao(u,s){const c=(180+u[0])/360,h=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u[1]*Math.PI/360)))/360,y=Math.pow(2,s.z);return[Math.round(c*y*Co),Math.round(h*y*Co)]}function So(u,s,c){const h=u[0]-s[0],y=u[1]-s[1],w=u[0]-c[0],T=u[1]-c[1];return h*T-w*y==0&&h*w<=0&&y*T<=0}function Aa(u,s){let c=!1;for(let T=0,O=s.length;T<O;T++){const z=s[T];for(let $=0,W=z.length;$<W-1;$++){if(So(u,z[$],z[$+1]))return!1;(y=z[$])[1]>(h=u)[1]!=(w=z[$+1])[1]>h[1]&&h[0]<(w[0]-y[0])*(h[1]-y[1])/(w[1]-y[1])+y[0]&&(c=!c)}}var h,y,w;return c}function wc(u,s){for(let c=0;c<s.length;c++)if(Aa(u,s[c]))return!0;return!1}function Yd(u,s,c,h){const y=h[0]-c[0],w=h[1]-c[1],T=(u[0]-c[0])*w-y*(u[1]-c[1]),O=(s[0]-c[0])*w-y*(s[1]-c[1]);return T>0&&O<0||T<0&&O>0}function Nl(u,s,c){for(const $ of c)for(let W=0;W<$.length-1;++W)if((O=[(T=$[W+1])[0]-(w=$[W])[0],T[1]-w[1]])[0]*(z=[(y=s)[0]-(h=u)[0],y[1]-h[1]])[1]-O[1]*z[0]!=0&&Yd(h,y,w,T)&&Yd(w,T,h,y))return!0;var h,y,w,T,O,z;return!1}function kr(u,s){for(let c=0;c<u.length;++c)if(!Aa(u[c],s))return!1;for(let c=0;c<u.length-1;++c)if(Nl(u[c],u[c+1],s))return!1;return!0}function Lh(u,s){for(let c=0;c<s.length;c++)if(kr(u,s[c]))return!0;return!1}function Cc(u,s,c){const h=[];for(let y=0;y<u.length;y++){const w=[];for(let T=0;T<u[y].length;T++){const O=ao(u[y][T],c);Ll(s,O),w.push(O)}h.push(w)}return h}function Sc(u,s,c){const h=[];for(let y=0;y<u.length;y++){const w=Cc(u[y],s,c);h.push(w)}return h}function wu(u,s,c,h){if(u[0]<c[0]||u[0]>c[2]){const y=.5*h;let w=u[0]-c[0]>y?-h:c[0]-u[0]>y?h:0;w===0&&(w=u[0]-c[2]>y?-h:c[2]-u[0]>y?h:0),u[0]+=w}Ll(s,u)}function Bl(u,s,c,h){const y=Math.pow(2,h.z)*Co,w=[h.x*Co,h.y*Co],T=[];if(!u)return T;for(const O of u)for(const z of O){const $=[z.x+w[0],z.y+w[1]];wu($,s,c,y),T.push($)}return T}function Zv(u,s,c,h){const y=Math.pow(2,h.z)*Co,w=[h.x*Co,h.y*Co],T=[];if(!u)return T;for(const z of u){const $=[];for(const W of z){const ne=[W.x+w[0],W.y+w[1]];Ll(s,ne),$.push(ne)}T.push($)}if(s[2]-s[0]<=y/2){(O=s)[0]=O[1]=1/0,O[2]=O[3]=-1/0;for(const z of T)for(const $ of z)wu($,s,c,y)}var O;return T}class Tc{constructor(s,c){this.type=mr,this.geojson=s,this.geometries=c}static parse(s,c){if(s.length!==2)return c.error(`'within' expression requires exactly one argument, but found ${s.length-1} instead.`);if(bu(s[1])){const h=s[1];if(h.type==="FeatureCollection")for(let y=0;y<h.features.length;++y){const w=h.features[y].geometry.type;if(w==="Polygon"||w==="MultiPolygon")return new Tc(h,h.features[y].geometry)}else if(h.type==="Feature"){const y=h.geometry.type;if(y==="Polygon"||y==="MultiPolygon")return new Tc(h,h.geometry)}else if(h.type==="Polygon"||h.type==="MultiPolygon")return new Tc(h,h)}return c.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(s){if(s.geometry()!=null&&s.canonicalID()!=null){if(s.geometryType()==="Point")return function(c,h){const y=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],T=c.canonicalID();if(!T)return!1;if(h.type==="Polygon"){const O=Cc(h.coordinates,w,T),z=Bl(c.geometry(),y,w,T);if(!Fl(y,w))return!1;for(const $ of z)if(!Aa($,O))return!1}if(h.type==="MultiPolygon"){const O=Sc(h.coordinates,w,T),z=Bl(c.geometry(),y,w,T);if(!Fl(y,w))return!1;for(const $ of z)if(!wc($,O))return!1}return!0}(s,this.geometries);if(s.geometryType()==="LineString")return function(c,h){const y=[1/0,1/0,-1/0,-1/0],w=[1/0,1/0,-1/0,-1/0],T=c.canonicalID();if(!T)return!1;if(h.type==="Polygon"){const O=Cc(h.coordinates,w,T),z=Zv(c.geometry(),y,w,T);if(!Fl(y,w))return!1;for(const $ of z)if(!kr($,O))return!1}if(h.type==="MultiPolygon"){const O=Sc(h.coordinates,w,T),z=Zv(c.geometry(),y,w,T);if(!Fl(y,w))return!1;for(const $ of z)if(!Lh($,O))return!1}return!0}(s,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}var Fh=Tc;function Ec(u){if(u instanceof Bo&&(u.name==="get"&&u.args.length===1||u.name==="feature-state"||u.name==="has"&&u.args.length===1||u.name==="properties"||u.name==="geometry-type"||u.name==="id"||/^filter-/.test(u.name))||u instanceof Fh)return!1;let s=!0;return u.eachChild(c=>{s&&!Ec(c)&&(s=!1)}),s}function Qs(u){if(u instanceof Bo&&u.name==="feature-state")return!1;let s=!0;return u.eachChild(c=>{s&&!Qs(c)&&(s=!1)}),s}function Cu(u,s){if(u instanceof Bo&&s.indexOf(u.name)>=0)return!1;let c=!0;return u.eachChild(h=>{c&&!Cu(h,s)&&(c=!1)}),c}class Nh{constructor(s,c){this.type=c.type,this.name=s,this.boundExpression=c}static parse(s,c){if(s.length!==2||typeof s[1]!="string")return c.error("'var' expression requires exactly one string literal argument.");const h=s[1];return c.scope.has(h)?new Nh(h,c.scope.get(h)):c.error(`Unknown variable "${h}". Make sure "${h}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(s){return this.boundExpression.evaluate(s)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}var P0=Nh;class Xd{constructor(s,c=[],h,y=new Dh,w=[]){this.registry=s,this.path=c,this.key=c.map(T=>`[${T}]`).join(""),this.scope=y,this.errors=w,this.expectedType=h}parse(s,c,h,y,w={}){return c?this.concat(c,h,y)._parse(s,w):this._parse(s,w)}_parse(s,c){function h(y,w,T){return T==="assert"?new Fo(w,[y]):T==="coerce"?new Dl(w,[y]):y}if(s!==null&&typeof s!="string"&&typeof s!="boolean"&&typeof s!="number"||(s=["literal",s]),Array.isArray(s)){if(s.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const y=s[0];if(typeof y!="string")return this.error(`Expression name must be a string, but found ${typeof y} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const w=this.registry[y];if(w){let T=w.parse(s,this);if(!T)return null;if(this.expectedType){const O=this.expectedType,z=T.type;if(O.kind!=="string"&&O.kind!=="number"&&O.kind!=="boolean"&&O.kind!=="object"&&O.kind!=="array"||z.kind!=="value")if(O.kind!=="color"&&O.kind!=="formatted"&&O.kind!=="resolvedImage"||z.kind!=="value"&&z.kind!=="string"){if(this.checkSubtype(O,z))return null}else T=h(T,O,c.typeAnnotation||"coerce");else T=h(T,O,c.typeAnnotation||"assert")}if(!(T instanceof Zs)&&T.type.kind!=="resolvedImage"&&Jv(T)){const O=new qd;try{T=new Zs(T.type,T.evaluate(O))}catch(z){return this.error(z.message),null}}return T}return this.error(`Unknown expression "${y}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(s===void 0?"'undefined' value invalid. Use null instead.":typeof s=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof s} instead.`)}concat(s,c,h){const y=typeof s=="number"?this.path.concat(s):this.path,w=h?this.scope.concat(h):this.scope;return new Xd(this.registry,y,c||null,w,this.errors)}error(s,...c){const h=`${this.key}${c.map(y=>`[${y}]`).join("")}`;this.errors.push(new wo(h,s))}checkSubtype(s,c){const h=xa(s,c);return h&&this.error(h),h}}var Qv=Xd;function Jv(u){if(u instanceof P0)return Jv(u.boundExpression);if(u instanceof Bo&&u.name==="error"||u instanceof Rl||u instanceof Fh)return!1;const s=u instanceof Dl||u instanceof Fo;let c=!0;return u.eachChild(h=>{c=s?c&&Jv(h):c&&h instanceof Zs}),!!c&&Ec(u)&&Cu(u,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function Bh(u,s){const c=u.length-1;let h,y,w=0,T=c,O=0;for(;w<=T;)if(O=Math.floor((w+T)/2),h=u[O],y=u[O+1],h<=s){if(O===c||s<y)return O;w=O+1}else{if(!(h>s))throw new ha("Input is not a number.");T=O-1}return 0}class zh{constructor(s,c,h){this.type=s,this.input=c,this.labels=[],this.outputs=[];for(const[y,w]of h)this.labels.push(y),this.outputs.push(w)}static parse(s,c){if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");const h=c.parse(s[1],1,mn);if(!h)return null;const y=[];let w=null;c.expectedType&&c.expectedType.kind!=="value"&&(w=c.expectedType);for(let T=1;T<s.length;T+=2){const O=T===1?-1/0:s[T],z=s[T+1],$=T,W=T+1;if(typeof O!="number")return c.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(y.length&&y[y.length-1][0]>=O)return c.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',$);const ne=c.parse(z,W,w);if(!ne)return null;w=w||ne.type,y.push([O,ne])}return new zh(w,h,y)}evaluate(s){const c=this.labels,h=this.outputs;if(c.length===1)return h[0].evaluate(s);const y=this.input.evaluate(s);if(y<=c[0])return h[0].evaluate(s);const w=c.length;return y>=c[w-1]?h[w-1].evaluate(s):h[Bh(c,y)].evaluate(s)}eachChild(s){s(this.input);for(const c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}serialize(){const s=["step",this.input.serialize()];for(let c=0;c<this.labels.length;c++)c>0&&s.push(this.labels[c]),s.push(this.outputs[c].serialize());return s}}var em=zh;function Ar(u,s,c){return u*(1-c)+s*c}var Zd=Object.freeze({__proto__:null,array:function(u,s,c){return u.map((h,y)=>Ar(h,s[y],c))},color:function(u,s,c){return new Lr(Ar(u.r,s.r,c),Ar(u.g,s.g,c),Ar(u.b,s.b,c),Ar(u.a,s.a,c))},number:Ar});const M0=.95047,tm=1.08883,k0=4/29,Su=6/29,nm=3*Su*Su,bw=Su*Su*Su,xw=Math.PI/180,ww=180/Math.PI;function rm(u){return u>bw?Math.pow(u,1/3):u/nm+k0}function im(u){return u>Su?u*u*u:nm*(u-k0)}function am(u){return 255*(u<=.0031308?12.92*u:1.055*Math.pow(u,1/2.4)-.055)}function $h(u){return(u/=255)<=.04045?u/12.92:Math.pow((u+.055)/1.055,2.4)}function A0(u){const s=$h(u.r),c=$h(u.g),h=$h(u.b),y=rm((.4124564*s+.3575761*c+.1804375*h)/M0),w=rm((.2126729*s+.7151522*c+.072175*h)/1);return{l:116*w-16,a:500*(y-w),b:200*(w-rm((.0193339*s+.119192*c+.9503041*h)/tm)),alpha:u.a}}function I0(u){let s=(u.l+16)/116,c=isNaN(u.a)?s:s+u.a/500,h=isNaN(u.b)?s:s-u.b/200;return s=1*im(s),c=M0*im(c),h=tm*im(h),new Lr(am(3.2404542*c-1.5371385*s-.4985314*h),am(-.969266*c+1.8760108*s+.041556*h),am(.0556434*c-.2040259*s+1.0572252*h),u.alpha)}function Cw(u,s,c){const h=s-u;return u+c*(h>180||h<-180?h-360*Math.round(h/360):h)}const Qd={forward:A0,reverse:I0,interpolate:function(u,s,c){return{l:Ar(u.l,s.l,c),a:Ar(u.a,s.a,c),b:Ar(u.b,s.b,c),alpha:Ar(u.alpha,s.alpha,c)}}},Pc={forward:function(u){const{l:s,a:c,b:h}=A0(u),y=Math.atan2(h,c)*ww;return{h:y<0?y+360:y,c:Math.sqrt(c*c+h*h),l:s,alpha:u.a}},reverse:function(u){const s=u.h*xw,c=u.c;return I0({l:u.l,a:Math.cos(s)*c,b:Math.sin(s)*c,alpha:u.alpha})},interpolate:function(u,s,c){return{h:Cw(u.h,s.h,c),c:Ar(u.c,s.c,c),l:Ar(u.l,s.l,c),alpha:Ar(u.alpha,s.alpha,c)}}};var om=Object.freeze({__proto__:null,hcl:Pc,lab:Qd});class Jd{constructor(s,c,h,y,w){this.type=s,this.operator=c,this.interpolation=h,this.input=y,this.labels=[],this.outputs=[];for(const[T,O]of w)this.labels.push(T),this.outputs.push(O)}static interpolationFactor(s,c,h,y){let w=0;if(s.name==="exponential")w=sm(c,s.base,h,y);else if(s.name==="linear")w=sm(c,1,h,y);else if(s.name==="cubic-bezier"){const T=s.controlPoints;w=new N(T[0],T[1],T[2],T[3]).solve(sm(c,1,h,y))}return w}static parse(s,c){let[h,y,w,...T]=s;if(!Array.isArray(y)||y.length===0)return c.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){const $=y[1];if(typeof $!="number")return c.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:$}}else{if(y[0]!=="cubic-bezier")return c.error(`Unknown interpolation type ${String(y[0])}`,1,0);{const $=y.slice(1);if($.length!==4||$.some(W=>typeof W!="number"||W<0||W>1))return c.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:$}}}if(s.length-1<4)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if((s.length-1)%2!=0)return c.error("Expected an even number of arguments.");if(w=c.parse(w,2,mn),!w)return null;const O=[];let z=null;h==="interpolate-hcl"||h==="interpolate-lab"?z=Ya:c.expectedType&&c.expectedType.kind!=="value"&&(z=c.expectedType);for(let $=0;$<T.length;$+=2){const W=T[$],ne=T[$+1],oe=$+3,fe=$+4;if(typeof W!="number")return c.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',oe);if(O.length&&O[O.length-1][0]>=W)return c.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',oe);const me=c.parse(ne,fe,z);if(!me)return null;z=z||me.type,O.push([W,me])}return z.kind==="number"||z.kind==="color"||z.kind==="array"&&z.itemType.kind==="number"&&typeof z.N=="number"?new Jd(z,h,y,w,O):c.error(`Type ${Pn(z)} is not interpolatable.`)}evaluate(s){const c=this.labels,h=this.outputs;if(c.length===1)return h[0].evaluate(s);const y=this.input.evaluate(s);if(y<=c[0])return h[0].evaluate(s);const w=c.length;if(y>=c[w-1])return h[w-1].evaluate(s);const T=Bh(c,y),O=Jd.interpolationFactor(this.interpolation,y,c[T],c[T+1]),z=h[T].evaluate(s),$=h[T+1].evaluate(s);return this.operator==="interpolate"?Zd[this.type.kind.toLowerCase()](z,$,O):this.operator==="interpolate-hcl"?Pc.reverse(Pc.interpolate(Pc.forward(z),Pc.forward($),O)):Qd.reverse(Qd.interpolate(Qd.forward(z),Qd.forward($),O))}eachChild(s){s(this.input);for(const c of this.outputs)s(c)}outputDefined(){return this.outputs.every(s=>s.outputDefined())}serialize(){let s;s=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const c=[this.operator,s,this.input.serialize()];for(let h=0;h<this.labels.length;h++)c.push(this.labels[h],this.outputs[h].serialize());return c}}function sm(u,s,c,h){const y=h-c,w=u-c;return y===0?0:s===1?w/y:(Math.pow(s,w)-1)/(Math.pow(s,y)-1)}var Ms=Jd;class jh{constructor(s,c){this.type=s,this.args=c}static parse(s,c){if(s.length<2)return c.error("Expectected at least one argument.");let h=null;const y=c.expectedType;y&&y.kind!=="value"&&(h=y);const w=[];for(const O of s.slice(1)){const z=c.parse(O,1+w.length,h,void 0,{typeAnnotation:"omit"});if(!z)return null;h=h||z.type,w.push(z)}const T=y&&w.some(O=>xa(y,O.type));return new jh(T?gr:h,w)}evaluate(s){let c,h=null,y=0;for(const w of this.args){if(y++,h=w.evaluate(s),h&&h instanceof Ja&&!h.available&&(c||(c=h),h=null,y===this.args.length))return c;if(h!==null)break}return h}eachChild(s){this.args.forEach(s)}outputDefined(){return this.args.every(s=>s.outputDefined())}serialize(){const s=["coalesce"];return this.eachChild(c=>{s.push(c.serialize())}),s}}var lm=jh;class Vh{constructor(s,c){this.type=c.type,this.bindings=[].concat(s),this.result=c}evaluate(s){return this.result.evaluate(s)}eachChild(s){for(const c of this.bindings)s(c[1]);s(this.result)}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found ${s.length-1} instead.`);const h=[];for(let w=1;w<s.length-1;w+=2){const T=s[w];if(typeof T!="string")return c.error(`Expected string, but found ${typeof T} instead.`,w);if(/[^a-zA-Z0-9_]/.test(T))return c.error("Variable names must contain only alphanumeric characters or '_'.",w);const O=c.parse(s[w+1],w+1);if(!O)return null;h.push([T,O])}const y=c.parse(s[s.length-1],s.length-1,c.expectedType,h);return y?new Vh(h,y):null}outputDefined(){return this.result.outputDefined()}serialize(){const s=["let"];for(const[c,h]of this.bindings)s.push(c,h.serialize());return s.push(this.result.serialize()),s}}var O0=Vh;class um{constructor(s,c,h){this.type=s,this.index=c,this.input=h}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);const h=c.parse(s[1],1,mn),y=c.parse(s[2],2,In(c.expectedType||gr));return h&&y?new um(y.type.itemType,h,y):null}evaluate(s){const c=this.index.evaluate(s),h=this.input.evaluate(s);if(c<0)throw new ha(`Array index out of bounds: ${c} < 0.`);if(c>=h.length)throw new ha(`Array index out of bounds: ${c} > ${h.length-1}.`);if(c!==Math.floor(c))throw new ha(`Array index must be an integer, but found ${c} instead.`);return h[c]}eachChild(s){s(this.index),s(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}var Sw=um;class cm{constructor(s,c){this.type=mr,this.needle=s,this.haystack=c}static parse(s,c){if(s.length!==3)return c.error(`Expected 2 arguments, but found ${s.length-1} instead.`);const h=c.parse(s[1],1,gr),y=c.parse(s[2],2,gr);return h&&y?za(h.type,[mr,br,mn,Il,gr])?new cm(h,y):c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pn(h.type)} instead`):null}evaluate(s){const c=this.needle.evaluate(s),h=this.haystack.evaluate(s);if(h==null)return!1;if(!is(c,["boolean","string","number","null"]))throw new ha(`Expected first argument to be of type boolean, string, number or null, but found ${Pn(mi(c))} instead.`);if(!is(h,["string","array"]))throw new ha(`Expected second argument to be of type array or string, but found ${Pn(mi(h))} instead.`);return h.indexOf(c)>=0}eachChild(s){s(this.needle),s(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}var Uh=cm;class ef{constructor(s,c,h){this.type=mn,this.needle=s,this.haystack=c,this.fromIndex=h}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);const h=c.parse(s[1],1,gr),y=c.parse(s[2],2,gr);if(!h||!y)return null;if(!za(h.type,[mr,br,mn,Il,gr]))return c.error(`Expected first argument to be of type boolean, string, number or null, but found ${Pn(h.type)} instead`);if(s.length===4){const w=c.parse(s[3],3,mn);return w?new ef(h,y,w):null}return new ef(h,y)}evaluate(s){const c=this.needle.evaluate(s),h=this.haystack.evaluate(s);if(!is(c,["boolean","string","number","null"]))throw new ha(`Expected first argument to be of type boolean, string, number or null, but found ${Pn(mi(c))} instead.`);if(!is(h,["string","array"]))throw new ha(`Expected second argument to be of type array or string, but found ${Pn(mi(h))} instead.`);if(this.fromIndex){const y=this.fromIndex.evaluate(s);return h.indexOf(c,y)}return h.indexOf(c)}eachChild(s){s(this.needle),s(this.haystack),this.fromIndex&&s(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const s=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),s]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}var D0=ef;class dm{constructor(s,c,h,y,w,T){this.inputType=s,this.type=c,this.input=h,this.cases=y,this.outputs=w,this.otherwise=T}static parse(s,c){if(s.length<5)return c.error(`Expected at least 4 arguments, but found only ${s.length-1}.`);if(s.length%2!=1)return c.error("Expected an even number of arguments.");let h,y;c.expectedType&&c.expectedType.kind!=="value"&&(y=c.expectedType);const w={},T=[];for(let $=2;$<s.length-1;$+=2){let W=s[$];const ne=s[$+1];Array.isArray(W)||(W=[W]);const oe=c.concat($);if(W.length===0)return oe.error("Expected at least one branch label.");for(const me of W){if(typeof me!="number"&&typeof me!="string")return oe.error("Branch labels must be numbers or strings.");if(typeof me=="number"&&Math.abs(me)>Number.MAX_SAFE_INTEGER)return oe.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof me=="number"&&Math.floor(me)!==me)return oe.error("Numeric branch labels must be integer values.");if(h){if(oe.checkSubtype(h,mi(me)))return null}else h=mi(me);if(w[String(me)]!==void 0)return oe.error("Branch labels must be unique.");w[String(me)]=T.length}const fe=c.parse(ne,$,y);if(!fe)return null;y=y||fe.type,T.push(fe)}const O=c.parse(s[1],1,gr);if(!O)return null;const z=c.parse(s[s.length-1],s.length-1,y);return z?O.type.kind!=="value"&&c.concat(1).checkSubtype(h,O.type)?null:new dm(h,y,O,w,T,z):null}evaluate(s){const c=this.input.evaluate(s);return(mi(c)===this.inputType&&this.outputs[this.cases[c]]||this.otherwise).evaluate(s)}eachChild(s){s(this.input),this.outputs.forEach(s),s(this.otherwise)}outputDefined(){return this.outputs.every(s=>s.outputDefined())&&this.otherwise.outputDefined()}serialize(){const s=["match",this.input.serialize()],c=Object.keys(this.cases).sort(),h=[],y={};for(const T of c){const O=y[this.cases[T]];O===void 0?(y[this.cases[T]]=h.length,h.push([this.cases[T],[T]])):h[O][1].push(T)}const w=T=>this.inputType.kind==="number"?Number(T):T;for(const[T,O]of h)s.push(O.length===1?w(O[0]):O.map(w)),s.push(this.outputs[T].serialize());return s.push(this.otherwise.serialize()),s}}var Tw=dm;class fm{constructor(s,c,h){this.type=s,this.branches=c,this.otherwise=h}static parse(s,c){if(s.length<4)return c.error(`Expected at least 3 arguments, but found only ${s.length-1}.`);if(s.length%2!=0)return c.error("Expected an odd number of arguments.");let h;c.expectedType&&c.expectedType.kind!=="value"&&(h=c.expectedType);const y=[];for(let T=1;T<s.length-1;T+=2){const O=c.parse(s[T],T,mr);if(!O)return null;const z=c.parse(s[T+1],T+1,h);if(!z)return null;y.push([O,z]),h=h||z.type}const w=c.parse(s[s.length-1],s.length-1,h);return w?new fm(h,y,w):null}evaluate(s){for(const[c,h]of this.branches)if(c.evaluate(s))return h.evaluate(s);return this.otherwise.evaluate(s)}eachChild(s){for(const[c,h]of this.branches)s(c),s(h);s(this.otherwise)}outputDefined(){return this.branches.every(([s,c])=>c.outputDefined())&&this.otherwise.outputDefined()}serialize(){const s=["case"];return this.eachChild(c=>{s.push(c.serialize())}),s}}var R0=fm;class tf{constructor(s,c,h,y){this.type=s,this.input=c,this.beginIndex=h,this.endIndex=y}static parse(s,c){if(s.length<=2||s.length>=5)return c.error(`Expected 3 or 4 arguments, but found ${s.length-1} instead.`);const h=c.parse(s[1],1,gr),y=c.parse(s[2],2,mn);if(!h||!y)return null;if(!za(h.type,[In(gr),br,gr]))return c.error(`Expected first argument to be of type array or string, but found ${Pn(h.type)} instead`);if(s.length===4){const w=c.parse(s[3],3,mn);return w?new tf(h.type,h,y,w):null}return new tf(h.type,h,y)}evaluate(s){const c=this.input.evaluate(s),h=this.beginIndex.evaluate(s);if(!is(c,["string","array"]))throw new ha(`Expected first argument to be of type array or string, but found ${Pn(mi(c))} instead.`);if(this.endIndex){const y=this.endIndex.evaluate(s);return c.slice(h,y)}return c.slice(h)}eachChild(s){s(this.input),s(this.beginIndex),this.endIndex&&s(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const s=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),s]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}var L0=tf;function Hh(u,s){return u==="=="||u==="!="?s.kind==="boolean"||s.kind==="string"||s.kind==="number"||s.kind==="null"||s.kind==="value":s.kind==="string"||s.kind==="number"||s.kind==="value"}function F0(u,s,c,h){return h.compare(s,c)===0}function Mc(u,s,c){const h=u!=="=="&&u!=="!=";return class FN{constructor(w,T,O){this.type=mr,this.lhs=w,this.rhs=T,this.collator=O,this.hasUntypedArgument=w.type.kind==="value"||T.type.kind==="value"}static parse(w,T){if(w.length!==3&&w.length!==4)return T.error("Expected two or three arguments.");const O=w[0];let z=T.parse(w[1],1,gr);if(!z)return null;if(!Hh(O,z.type))return T.concat(1).error(`"${O}" comparisons are not supported for type '${Pn(z.type)}'.`);let $=T.parse(w[2],2,gr);if(!$)return null;if(!Hh(O,$.type))return T.concat(2).error(`"${O}" comparisons are not supported for type '${Pn($.type)}'.`);if(z.type.kind!==$.type.kind&&z.type.kind!=="value"&&$.type.kind!=="value")return T.error(`Cannot compare types '${Pn(z.type)}' and '${Pn($.type)}'.`);h&&(z.type.kind==="value"&&$.type.kind!=="value"?z=new Fo($.type,[z]):z.type.kind!=="value"&&$.type.kind==="value"&&($=new Fo(z.type,[$])));let W=null;if(w.length===4){if(z.type.kind!=="string"&&$.type.kind!=="string"&&z.type.kind!=="value"&&$.type.kind!=="value")return T.error("Cannot use collator to compare non-string types.");if(W=T.parse(w[3],3,Dn),!W)return null}return new FN(z,$,W)}evaluate(w){const T=this.lhs.evaluate(w),O=this.rhs.evaluate(w);if(h&&this.hasUntypedArgument){const z=mi(T),$=mi(O);if(z.kind!==$.kind||z.kind!=="string"&&z.kind!=="number")throw new ha(`Expected arguments for "${u}" to be (string, string) or (number, number), but found (${z.kind}, ${$.kind}) instead.`)}if(this.collator&&!h&&this.hasUntypedArgument){const z=mi(T),$=mi(O);if(z.kind!=="string"||$.kind!=="string")return s(w,T,O)}return this.collator?c(w,T,O,this.collator.evaluate(w)):s(w,T,O)}eachChild(w){w(this.lhs),w(this.rhs),this.collator&&w(this.collator)}outputDefined(){return!0}serialize(){const w=[u];return this.eachChild(T=>{w.push(T.serialize())}),w}}}const Ew=Mc("==",function(u,s,c){return s===c},F0),Pw=Mc("!=",function(u,s,c){return s!==c},function(u,s,c,h){return!F0(0,s,c,h)}),Mw=Mc("<",function(u,s,c){return s<c},function(u,s,c,h){return h.compare(s,c)<0}),kw=Mc(">",function(u,s,c){return s>c},function(u,s,c,h){return h.compare(s,c)>0}),Aw=Mc("<=",function(u,s,c){return s<=c},function(u,s,c,h){return h.compare(s,c)<=0}),N0=Mc(">=",function(u,s,c){return s>=c},function(u,s,c,h){return h.compare(s,c)>=0});class Kh{constructor(s,c,h,y,w,T){this.type=br,this.number=s,this.locale=c,this.currency=h,this.unit=y,this.minFractionDigits=w,this.maxFractionDigits=T}static parse(s,c){if(s.length!==3)return c.error("Expected two arguments.");const h=c.parse(s[1],1,mn);if(!h)return null;const y=s[2];if(typeof y!="object"||Array.isArray(y))return c.error("NumberFormat options argument must be an object.");let w=null;if(y.locale&&(w=c.parse(y.locale,1,br),!w))return null;let T=null;if(y.currency&&(T=c.parse(y.currency,1,br),!T))return null;let O=null;if(y.unit&&(O=c.parse(y.unit,1,br),!O))return null;let z=null;if(y["min-fraction-digits"]&&(z=c.parse(y["min-fraction-digits"],1,mn),!z))return null;let $=null;return y["max-fraction-digits"]&&($=c.parse(y["max-fraction-digits"],1,mn),!$)?null:new Kh(h,w,T,O,z,$)}evaluate(s){return new Intl.NumberFormat(this.locale?this.locale.evaluate(s):[],{style:(this.currency?"currency":this.unit&&"unit")||"decimal",currency:this.currency?this.currency.evaluate(s):void 0,unit:this.unit?this.unit.evaluate(s):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(s):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(s):void 0}).format(this.number.evaluate(s))}eachChild(s){s(this.number),this.locale&&s(this.locale),this.currency&&s(this.currency),this.unit&&s(this.unit),this.minFractionDigits&&s(this.minFractionDigits),this.maxFractionDigits&&s(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const s={};return this.locale&&(s.locale=this.locale.serialize()),this.currency&&(s.currency=this.currency.serialize()),this.unit&&(s.unit=this.unit.serialize()),this.minFractionDigits&&(s["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(s["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),s]}}class kc{constructor(s){this.type=mn,this.input=s}static parse(s,c){if(s.length!==2)return c.error(`Expected 1 argument, but found ${s.length-1} instead.`);const h=c.parse(s[1],1);return h?h.type.kind!=="array"&&h.type.kind!=="string"&&h.type.kind!=="value"?c.error(`Expected argument of type string or array, but found ${Pn(h.type)} instead.`):new kc(h):null}evaluate(s){const c=this.input.evaluate(s);if(typeof c=="string"||Array.isArray(c))return c.length;throw new ha(`Expected value to be of type string or array, but found ${Pn(mi(c))} instead.`)}eachChild(s){s(this.input)}outputDefined(){return!1}serialize(){const s=["length"];return this.eachChild(c=>{s.push(c.serialize())}),s}}const B0={"==":Ew,"!=":Pw,">":kw,"<":Mw,">=":N0,"<=":Aw,array:Fo,at:Sw,boolean:Fo,case:R0,coalesce:lm,collator:Rl,format:Ts,image:Es,in:Uh,"index-of":D0,interpolate:Ms,"interpolate-hcl":Ms,"interpolate-lab":Ms,length:kc,let:O0,literal:Zs,match:Tw,number:Fo,"number-format":Kh,object:Fo,slice:L0,step:em,string:Fo,"to-boolean":Dl,"to-color":Dl,"to-number":Dl,"to-string":Dl,var:P0,within:Fh};function z0(u,[s,c,h,y]){s=s.evaluate(u),c=c.evaluate(u),h=h.evaluate(u);const w=y?y.evaluate(u):1,T=Kd(s,c,h,w);if(T)throw new ha(T);return new Lr(s/255*w,c/255*w,h/255*w,w)}function Js(u,s){return u in s}function Wh(u,s){const c=s[u];return c===void 0?null:c}function zo(u){return{type:u}}Bo.register(B0,{error:[{kind:"error"},[br],(u,[s])=>{throw new ha(s.evaluate(u))}],typeof:[br,[gr],(u,[s])=>Pn(mi(s.evaluate(u)))],"to-rgba":[In(mn,4),[Ya],(u,[s])=>s.evaluate(u).toArray()],rgb:[Ya,[mn,mn,mn],z0],rgba:[Ya,[mn,mn,mn,mn],z0],has:{type:mr,overloads:[[[br],(u,[s])=>Js(s.evaluate(u),u.properties())],[[br,Xa],(u,[s,c])=>Js(s.evaluate(u),c.evaluate(u))]]},get:{type:gr,overloads:[[[br],(u,[s])=>Wh(s.evaluate(u),u.properties())],[[br,Xa],(u,[s,c])=>Wh(s.evaluate(u),c.evaluate(u))]]},"feature-state":[gr,[br],(u,[s])=>Wh(s.evaluate(u),u.featureState||{})],properties:[Xa,[],u=>u.properties()],"geometry-type":[br,[],u=>u.geometryType()],id:[gr,[],u=>u.id()],zoom:[mn,[],u=>u.globals.zoom],pitch:[mn,[],u=>u.globals.pitch||0],"distance-from-center":[mn,[],u=>u.distanceFromCenter()],"heatmap-density":[mn,[],u=>u.globals.heatmapDensity||0],"line-progress":[mn,[],u=>u.globals.lineProgress||0],"sky-radial-progress":[mn,[],u=>u.globals.skyRadialProgress||0],accumulated:[gr,[],u=>u.globals.accumulated===void 0?null:u.globals.accumulated],"+":[mn,zo(mn),(u,s)=>{let c=0;for(const h of s)c+=h.evaluate(u);return c}],"*":[mn,zo(mn),(u,s)=>{let c=1;for(const h of s)c*=h.evaluate(u);return c}],"-":{type:mn,overloads:[[[mn,mn],(u,[s,c])=>s.evaluate(u)-c.evaluate(u)],[[mn],(u,[s])=>-s.evaluate(u)]]},"/":[mn,[mn,mn],(u,[s,c])=>s.evaluate(u)/c.evaluate(u)],"%":[mn,[mn,mn],(u,[s,c])=>s.evaluate(u)%c.evaluate(u)],ln2:[mn,[],()=>Math.LN2],pi:[mn,[],()=>Math.PI],e:[mn,[],()=>Math.E],"^":[mn,[mn,mn],(u,[s,c])=>Math.pow(s.evaluate(u),c.evaluate(u))],sqrt:[mn,[mn],(u,[s])=>Math.sqrt(s.evaluate(u))],log10:[mn,[mn],(u,[s])=>Math.log(s.evaluate(u))/Math.LN10],ln:[mn,[mn],(u,[s])=>Math.log(s.evaluate(u))],log2:[mn,[mn],(u,[s])=>Math.log(s.evaluate(u))/Math.LN2],sin:[mn,[mn],(u,[s])=>Math.sin(s.evaluate(u))],cos:[mn,[mn],(u,[s])=>Math.cos(s.evaluate(u))],tan:[mn,[mn],(u,[s])=>Math.tan(s.evaluate(u))],asin:[mn,[mn],(u,[s])=>Math.asin(s.evaluate(u))],acos:[mn,[mn],(u,[s])=>Math.acos(s.evaluate(u))],atan:[mn,[mn],(u,[s])=>Math.atan(s.evaluate(u))],min:[mn,zo(mn),(u,s)=>Math.min(...s.map(c=>c.evaluate(u)))],max:[mn,zo(mn),(u,s)=>Math.max(...s.map(c=>c.evaluate(u)))],abs:[mn,[mn],(u,[s])=>Math.abs(s.evaluate(u))],round:[mn,[mn],(u,[s])=>{const c=s.evaluate(u);return c<0?-Math.round(-c):Math.round(c)}],floor:[mn,[mn],(u,[s])=>Math.floor(s.evaluate(u))],ceil:[mn,[mn],(u,[s])=>Math.ceil(s.evaluate(u))],"filter-==":[mr,[br,gr],(u,[s,c])=>u.properties()[s.value]===c.value],"filter-id-==":[mr,[gr],(u,[s])=>u.id()===s.value],"filter-type-==":[mr,[br],(u,[s])=>u.geometryType()===s.value],"filter-<":[mr,[br,gr],(u,[s,c])=>{const h=u.properties()[s.value],y=c.value;return typeof h==typeof y&&h<y}],"filter-id-<":[mr,[gr],(u,[s])=>{const c=u.id(),h=s.value;return typeof c==typeof h&&c<h}],"filter->":[mr,[br,gr],(u,[s,c])=>{const h=u.properties()[s.value],y=c.value;return typeof h==typeof y&&h>y}],"filter-id->":[mr,[gr],(u,[s])=>{const c=u.id(),h=s.value;return typeof c==typeof h&&c>h}],"filter-<=":[mr,[br,gr],(u,[s,c])=>{const h=u.properties()[s.value],y=c.value;return typeof h==typeof y&&h<=y}],"filter-id-<=":[mr,[gr],(u,[s])=>{const c=u.id(),h=s.value;return typeof c==typeof h&&c<=h}],"filter->=":[mr,[br,gr],(u,[s,c])=>{const h=u.properties()[s.value],y=c.value;return typeof h==typeof y&&h>=y}],"filter-id->=":[mr,[gr],(u,[s])=>{const c=u.id(),h=s.value;return typeof c==typeof h&&c>=h}],"filter-has":[mr,[gr],(u,[s])=>s.value in u.properties()],"filter-has-id":[mr,[],u=>u.id()!==null&&u.id()!==void 0],"filter-type-in":[mr,[In(br)],(u,[s])=>s.value.indexOf(u.geometryType())>=0],"filter-id-in":[mr,[In(gr)],(u,[s])=>s.value.indexOf(u.id())>=0],"filter-in-small":[mr,[br,In(gr)],(u,[s,c])=>c.value.indexOf(u.properties()[s.value])>=0],"filter-in-large":[mr,[br,In(gr)],(u,[s,c])=>function(h,y,w,T){for(;w<=T;){const O=w+T>>1;if(y[O]===h)return!0;y[O]>h?T=O-1:w=O+1}return!1}(u.properties()[s.value],c.value,0,c.value.length-1)],all:{type:mr,overloads:[[[mr,mr],(u,[s,c])=>s.evaluate(u)&&c.evaluate(u)],[zo(mr),(u,s)=>{for(const c of s)if(!c.evaluate(u))return!1;return!0}]]},any:{type:mr,overloads:[[[mr,mr],(u,[s,c])=>s.evaluate(u)||c.evaluate(u)],[zo(mr),(u,s)=>{for(const c of s)if(c.evaluate(u))return!0;return!1}]]},"!":[mr,[mr],(u,[s])=>!s.evaluate(u)],"is-supported-script":[mr,[br],(u,[s])=>{const c=u.globals&&u.globals.isSupportedScript;return!c||c(s.evaluate(u))}],upcase:[br,[br],(u,[s])=>s.evaluate(u).toUpperCase()],downcase:[br,[br],(u,[s])=>s.evaluate(u).toLowerCase()],concat:[br,zo(gr),(u,s)=>s.map(c=>xu(c.evaluate(u))).join("")],"resolved-locale":[br,[Dn],(u,[s])=>s.evaluate(u).resolvedLocale()]});var nf=B0;function $0(u){return{result:"success",value:u}}function Tu(u){return{result:"error",value:u}}function Ac(u){return u["property-type"]==="data-driven"}function Gh(u){return!!u.expression&&u.expression.parameters.indexOf("zoom")>-1}function qh(u){return!!u.expression&&u.expression.interpolated}function Dr(u){return u instanceof Number?"number":u instanceof String?"string":u instanceof Boolean?"boolean":Array.isArray(u)?"array":u===null?"null":typeof u}function rf(u){return typeof u=="object"&&u!==null&&!Array.isArray(u)}function j0(u){return u}function Yh(u,s){const c=s.type==="color",h=u.stops&&typeof u.stops[0][0]=="object",y=h||!(h||u.property!==void 0),w=u.type||(qh(s)?"exponential":"interval");if(c&&((u=rs({},u)).stops&&(u.stops=u.stops.map($=>[$[0],Lr.parse($[1])])),u.default=Lr.parse(u.default?u.default:s.default)),u.colorSpace&&u.colorSpace!=="rgb"&&!om[u.colorSpace])throw new Error(`Unknown color space: ${u.colorSpace}`);let T,O,z;if(w==="exponential")T=el;else if(w==="interval")T=Xh;else if(w==="categorical"){T=V0,O=Object.create(null);for(const $ of u.stops)O[$[0]]=$[1];z=typeof u.stops[0][0]}else{if(w!=="identity")throw new Error(`Unknown function type "${w}"`);T=U0}if(h){const $={},W=[];for(let fe=0;fe<u.stops.length;fe++){const me=u.stops[fe],Se=me[0].zoom;$[Se]===void 0&&($[Se]={zoom:Se,type:u.type,property:u.property,default:u.default,stops:[]},W.push(Se)),$[Se].stops.push([me[0].value,me[1]])}const ne=[];for(const fe of W)ne.push([$[fe].zoom,Yh($[fe],s)]);const oe={name:"linear"};return{kind:"composite",interpolationType:oe,interpolationFactor:Ms.interpolationFactor.bind(void 0,oe),zoomStops:ne.map(fe=>fe[0]),evaluate:({zoom:fe},me)=>el({stops:ne,base:u.base},s,fe).evaluate(fe,me)}}if(y){const $=w==="exponential"?{name:"exponential",base:u.base!==void 0?u.base:1}:null;return{kind:"camera",interpolationType:$,interpolationFactor:Ms.interpolationFactor.bind(void 0,$),zoomStops:u.stops.map(W=>W[0]),evaluate:({zoom:W})=>T(u,s,W,O,z)}}return{kind:"source",evaluate($,W){const ne=W&&W.properties?W.properties[u.property]:void 0;return ne===void 0?Ic(u.default,s.default):T(u,s,ne,O,z)}}}function Ic(u,s,c){return u!==void 0?u:s!==void 0?s:c!==void 0?c:void 0}function V0(u,s,c,h,y){return Ic(typeof c===y?h[c]:void 0,u.default,s.default)}function Xh(u,s,c){if(Dr(c)!=="number")return Ic(u.default,s.default);const h=u.stops.length;if(h===1||c<=u.stops[0][0])return u.stops[0][1];if(c>=u.stops[h-1][0])return u.stops[h-1][1];const y=Bh(u.stops.map(w=>w[0]),c);return u.stops[y][1]}function el(u,s,c){const h=u.base!==void 0?u.base:1;if(Dr(c)!=="number")return Ic(u.default,s.default);const y=u.stops.length;if(y===1||c<=u.stops[0][0])return u.stops[0][1];if(c>=u.stops[y-1][0])return u.stops[y-1][1];const w=Bh(u.stops.map(W=>W[0]),c),T=function(W,ne,oe,fe){const me=fe-oe,Se=W-oe;return me===0?0:ne===1?Se/me:(Math.pow(ne,Se)-1)/(Math.pow(ne,me)-1)}(c,h,u.stops[w][0],u.stops[w+1][0]),O=u.stops[w][1],z=u.stops[w+1][1];let $=Zd[s.type]||j0;if(u.colorSpace&&u.colorSpace!=="rgb"){const W=om[u.colorSpace];$=(ne,oe)=>W.reverse(W.interpolate(W.forward(ne),W.forward(oe),T))}return typeof O.evaluate=="function"?{evaluate(...W){const ne=O.evaluate.apply(void 0,W),oe=z.evaluate.apply(void 0,W);if(ne!==void 0&&oe!==void 0)return $(ne,oe,T)}}:$(O,z,T)}function U0(u,s,c){return s.type==="color"?c=Lr.parse(c):s.type==="formatted"?c=Ei.fromString(c.toString()):s.type==="resolvedImage"?c=Ja.fromString(c.toString()):Dr(c)===s.type||s.type==="enum"&&s.values[c]||(c=void 0),Ic(c,u.default,s.default)}class Zh{constructor(s,c){this.expression=s,this._warningHistory={},this._evaluator=new qd,this._defaultValue=c?function(h){return h.type==="color"&&(rf(h.default)||Array.isArray(h.default))?new Lr(0,0,0,0):h.type==="color"?Lr.parse(h.default)||null:h.default===void 0?null:h.default}(c):null,this._enumValues=c&&c.type==="enum"?c.values:null}evaluateWithoutErrorHandling(s,c,h,y,w,T,O,z){return this._evaluator.globals=s,this._evaluator.feature=c,this._evaluator.featureState=h,this._evaluator.canonical=y||null,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=T,this._evaluator.featureTileCoord=O||null,this._evaluator.featureDistanceData=z||null,this.expression.evaluate(this._evaluator)}evaluate(s,c,h,y,w,T,O,z){this._evaluator.globals=s,this._evaluator.feature=c||null,this._evaluator.featureState=h||null,this._evaluator.canonical=y||null,this._evaluator.availableImages=w||null,this._evaluator.formattedSection=T||null,this._evaluator.featureTileCoord=O||null,this._evaluator.featureDistanceData=z||null;try{const $=this.expression.evaluate(this._evaluator);if($==null||typeof $=="number"&&$!=$)return this._defaultValue;if(this._enumValues&&!($ in this._enumValues))throw new ha(`Expected value to be one of ${Object.keys(this._enumValues).map(W=>JSON.stringify(W)).join(", ")}, but found ${JSON.stringify($)} instead.`);return $}catch($){return this._warningHistory[$.message]||(this._warningHistory[$.message]=!0,typeof console<"u"&&console.warn($.message)),this._defaultValue}}}function Oc(u){return Array.isArray(u)&&u.length>0&&typeof u[0]=="string"&&u[0]in nf}function Dc(u,s){const c=new Qv(nf,[],s?function(y){const w={color:Ya,string:br,number:mn,enum:br,boolean:mr,formatted:wn,resolvedImage:Mn};return y.type==="array"?In(w[y.value]||gr,y.length):w[y.type]}(s):void 0),h=c.parse(u,void 0,void 0,void 0,s&&s.type==="string"?{typeAnnotation:"coerce"}:void 0);return h?$0(new Zh(h,s)):Tu(c.errors)}class hm{constructor(s,c){this.kind=s,this._styleExpression=c,this.isStateDependent=s!=="constant"&&!Qs(c.expression)}evaluateWithoutErrorHandling(s,c,h,y,w,T){return this._styleExpression.evaluateWithoutErrorHandling(s,c,h,y,w,T)}evaluate(s,c,h,y,w,T){return this._styleExpression.evaluate(s,c,h,y,w,T)}}class af{constructor(s,c,h,y){this.kind=s,this.zoomStops=h,this._styleExpression=c,this.isStateDependent=s!=="camera"&&!Qs(c.expression),this.interpolationType=y}evaluateWithoutErrorHandling(s,c,h,y,w,T){return this._styleExpression.evaluateWithoutErrorHandling(s,c,h,y,w,T)}evaluate(s,c,h,y,w,T){return this._styleExpression.evaluate(s,c,h,y,w,T)}interpolationFactor(s,c,h){return this.interpolationType?Ms.interpolationFactor(this.interpolationType,s,c,h):0}}function of(u,s){if((u=Dc(u,s)).result==="error")return u;const c=u.value.expression,h=Ec(c);if(!h&&!Ac(s))return Tu([new wo("","data expressions not supported")]);const y=Cu(c,["zoom","pitch","distance-from-center"]);if(!y&&!Gh(s))return Tu([new wo("","zoom expressions not supported")]);const w=Jh(c);return w||y?w instanceof wo?Tu([w]):w instanceof Ms&&!qh(s)?Tu([new wo("",'"interpolate" expressions cannot be used with this property')]):$0(w?new af(h?"camera":"composite",u.value,w.labels,w instanceof Ms?w.interpolation:void 0):new hm(h?"constant":"source",u.value)):Tu([new wo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Qh{constructor(s,c){this._parameters=s,this._specification=c,rs(this,Yh(this._parameters,this._specification))}static deserialize(s){return new Qh(s._parameters,s._specification)}static serialize(s){return{_parameters:s._parameters,_specification:s._specification}}}function Jh(u){let s=null;if(u instanceof O0)s=Jh(u.result);else if(u instanceof lm){for(const c of u.args)if(s=Jh(c),s)break}else(u instanceof em||u instanceof Ms)&&u.input instanceof Bo&&u.input.name==="zoom"&&(s=u);return s instanceof wo||u.eachChild(c=>{const h=Jh(c);h instanceof wo?s=h:!s&&h?s=new wo("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):s&&h&&s!==h&&(s=new wo("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),s}class _n{constructor(s,c,h,y){this.message=(s?`${s}: `:"")+h,y&&(this.identifier=y),c!=null&&c.__line__&&(this.line=c.__line__)}}function ss(u){const s=u.key,c=u.value,h=u.valueSpec||{},y=u.objectElementValidators||{},w=u.style,T=u.styleSpec;let O=[];const z=Dr(c);if(z!=="object")return[new _n(s,c,`object expected, ${z} found`)];for(const $ in c){const W=$.split(".")[0];let ne;y[W]?ne=y[W]:h[W]?ne=$a:y["*"]?ne=y["*"]:h["*"]&&(ne=$a),ne?O=O.concat(ne({key:(s&&`${s}.`)+$,value:c[$],valueSpec:h[W]||h["*"],style:w,styleSpec:T,object:c,objectKey:$},c)):O.push(new _n(s,c[$],`unknown property "${$}"`))}for(const $ in h)y[$]||h[$].required&&h[$].default===void 0&&c[$]===void 0&&O.push(new _n(s,c,`missing required property "${$}"`));return O}function H0(u){const s=u.value,c=u.valueSpec,h=u.style,y=u.styleSpec,w=u.key,T=u.arrayElementValidator||$a;if(Dr(s)!=="array")return[new _n(w,s,`array expected, ${Dr(s)} found`)];if(c.length&&s.length!==c.length)return[new _n(w,s,`array length ${c.length} expected, length ${s.length} found`)];if(c["min-length"]&&s.length<c["min-length"])return[new _n(w,s,`array length at least ${c["min-length"]} expected, length ${s.length} found`)];let O={type:c.value,values:c.values,minimum:c.minimum,maximum:c.maximum,function:void 0};y.$version<7&&(O.function=c.function),Dr(c.value)==="object"&&(O=c.value);let z=[];for(let $=0;$<s.length;$++)z=z.concat(T({array:s,arrayIndex:$,value:s[$],valueSpec:O,style:h,styleSpec:y,key:`${w}[${$}]`}));return z}function sf(u){const s=u.key,c=u.value,h=u.valueSpec;let y=Dr(c);if(y==="number"&&c!=c&&(y="NaN"),y!=="number")return[new _n(s,c,`number expected, ${y} found`)];if("minimum"in h){let w=h.minimum;if(Dr(h.minimum)==="array"&&(w=h.minimum[u.arrayIndex]),c<w)return[new _n(s,c,`${c} is less than the minimum value ${w}`)]}if("maximum"in h){let w=h.maximum;if(Dr(h.maximum)==="array"&&(w=h.maximum[u.arrayIndex]),c>w)return[new _n(s,c,`${c} is greater than the maximum value ${w}`)]}return[]}function lf(u){const s=u.valueSpec,c=Ti(u.value.type);let h,y,w,T={};const O=c!=="categorical"&&u.value.property===void 0,z=!O,$=Dr(u.value.stops)==="array"&&Dr(u.value.stops[0])==="array"&&Dr(u.value.stops[0][0])==="object",W=ss({key:u.key,value:u.value,valueSpec:u.styleSpec.function,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{stops:function(fe){if(c==="identity")return[new _n(fe.key,fe.value,'identity function may not have a "stops" property')];let me=[];const Se=fe.value;return me=me.concat(H0({key:fe.key,value:Se,valueSpec:fe.valueSpec,style:fe.style,styleSpec:fe.styleSpec,arrayElementValidator:ne})),Dr(Se)==="array"&&Se.length===0&&me.push(new _n(fe.key,Se,"array must have at least one stop")),me},default:function(fe){return $a({key:fe.key,value:fe.value,valueSpec:s,style:fe.style,styleSpec:fe.styleSpec})}}});return c==="identity"&&O&&W.push(new _n(u.key,u.value,'missing required property "property"')),c==="identity"||u.value.stops||W.push(new _n(u.key,u.value,'missing required property "stops"')),c==="exponential"&&u.valueSpec.expression&&!qh(u.valueSpec)&&W.push(new _n(u.key,u.value,"exponential functions not supported")),u.styleSpec.$version>=8&&(z&&!Ac(u.valueSpec)?W.push(new _n(u.key,u.value,"property functions not supported")):O&&!Gh(u.valueSpec)&&W.push(new _n(u.key,u.value,"zoom functions not supported"))),c!=="categorical"&&!$||u.value.property!==void 0||W.push(new _n(u.key,u.value,'"property" property is required')),W;function ne(fe){let me=[];const Se=fe.value,Oe=fe.key;if(Dr(Se)!=="array")return[new _n(Oe,Se,`array expected, ${Dr(Se)} found`)];if(Se.length!==2)return[new _n(Oe,Se,`array length 2 expected, length ${Se.length} found`)];if($){if(Dr(Se[0])!=="object")return[new _n(Oe,Se,`object expected, ${Dr(Se[0])} found`)];if(Se[0].zoom===void 0)return[new _n(Oe,Se,"object stop key must have zoom")];if(Se[0].value===void 0)return[new _n(Oe,Se,"object stop key must have value")];const Ve=Ti(Se[0].zoom);if(typeof Ve!="number")return[new _n(Oe,Se[0].zoom,"stop zoom values must be numbers")];if(w&&w>Ve)return[new _n(Oe,Se[0].zoom,"stop zoom values must appear in ascending order")];Ve!==w&&(w=Ve,y=void 0,T={}),me=me.concat(ss({key:`${Oe}[0]`,value:Se[0],valueSpec:{zoom:{}},style:fe.style,styleSpec:fe.styleSpec,objectElementValidators:{zoom:sf,value:oe}}))}else me=me.concat(oe({key:`${Oe}[0]`,value:Se[0],valueSpec:{},style:fe.style,styleSpec:fe.styleSpec},Se));return Oc(na(Se[1]))?me.concat([new _n(`${Oe}[1]`,Se[1],"expressions are not allowed in function stops.")]):me.concat($a({key:`${Oe}[1]`,value:Se[1],valueSpec:s,style:fe.style,styleSpec:fe.styleSpec}))}function oe(fe,me){const Se=Dr(fe.value),Oe=Ti(fe.value),Ve=fe.value!==null?fe.value:me;if(h){if(Se!==h)return[new _n(fe.key,Ve,`${Se} stop domain type must match previous stop domain type ${h}`)]}else h=Se;if(Se!=="number"&&Se!=="string"&&Se!=="boolean"&&typeof Oe!="number"&&typeof Oe!="string"&&typeof Oe!="boolean")return[new _n(fe.key,Ve,"stop domain value must be a number, string, or boolean")];if(Se!=="number"&&c!=="categorical"){let tt=`number expected, ${Se} found`;return Ac(s)&&c===void 0&&(tt+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new _n(fe.key,Ve,tt)]}return c!=="categorical"||Se!=="number"||typeof Oe=="number"&&isFinite(Oe)&&Math.floor(Oe)===Oe?c!=="categorical"&&Se==="number"&&typeof Oe=="number"&&typeof y=="number"&&y!==void 0&&Oe<y?[new _n(fe.key,Ve,"stop domain values must appear in ascending order")]:(y=Oe,c==="categorical"&&Oe in T?[new _n(fe.key,Ve,"stop domain values must be unique")]:(T[Oe]=!0,[])):[new _n(fe.key,Ve,`integer expected, found ${String(Oe)}`)]}}function Ca(u){const s=(u.expressionContext==="property"?of:Dc)(na(u.value),u.valueSpec);if(s.result==="error")return s.value.map(h=>new _n(`${u.key}${h.key}`,u.value,h.message));const c=s.value.expression||s.value._styleExpression.expression;if(u.expressionContext==="property"&&u.propertyKey==="text-font"&&!c.outputDefined())return[new _n(u.key,u.value,`Invalid data expression for "${u.propertyKey}". Output values must be contained as literals within the expression.`)];if(u.expressionContext==="property"&&u.propertyType==="layout"&&!Qs(c))return[new _n(u.key,u.value,'"feature-state" data expressions are not supported with layout properties.')];if(u.expressionContext==="filter")return uf(c,u);if(u.expressionContext&&u.expressionContext.indexOf("cluster")===0){if(!Cu(c,["zoom","feature-state"]))return[new _n(u.key,u.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(u.expressionContext==="cluster-initial"&&!Ec(c))return[new _n(u.key,u.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function uf(u,s){const c=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(s.valueSpec&&s.valueSpec.expression)for(const y of s.valueSpec.expression.parameters)c.delete(y);if(c.size===0)return[];const h=[];return u instanceof Bo&&c.has(u.name)?[new _n(s.key,s.value,`["${u.name}"] expression is not supported in a filter for a ${s.object.type} layer with id: ${s.object.id}`)]:(u.eachChild(y=>{h.push(...uf(y,s))}),h)}function ep(u){const s=u.key,c=u.value,h=u.valueSpec,y=[];return Array.isArray(h.values)?h.values.indexOf(Ti(c))===-1&&y.push(new _n(s,c,`expected one of [${h.values.join(", ")}], ${JSON.stringify(c)} found`)):Object.keys(h.values).indexOf(Ti(c))===-1&&y.push(new _n(s,c,`expected one of [${Object.keys(h.values).join(", ")}], ${JSON.stringify(c)} found`)),y}function pm(u){if(u===!0||u===!1)return!0;if(!Array.isArray(u)||u.length===0)return!1;switch(u[0]){case"has":return u.length>=2&&u[1]!=="$id"&&u[1]!=="$type";case"in":return u.length>=3&&(typeof u[1]!="string"||Array.isArray(u[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return u.length!==3||Array.isArray(u[1])||Array.isArray(u[2]);case"any":case"all":for(const s of u.slice(1))if(!pm(s)&&typeof s!="boolean")return!1;return!0;default:return!0}}function tp(u,s="fill"){if(u==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};pm(u)||(u=Lc(u));const c=u;let h=!0;try{h=function($){if(!Rc($))return $;let W=na($);return np(W),W=K0(W),W}(c)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(c,null,2)}
        `)}const y=zt[`filter_${s}`],w=Dc(h,y);let T=null;if(w.result==="error")throw new Error(w.value.map($=>`${$.key}: ${$.message}`).join(", "));T=($,W,ne)=>w.value.evaluate($,W,{},ne);let O=null,z=null;if(h!==c){const $=Dc(c,y);if($.result==="error")throw new Error($.value.map(W=>`${W.key}: ${W.message}`).join(", "));O=(W,ne,oe,fe,me)=>$.value.evaluate(W,ne,{},oe,void 0,void 0,fe,me),z=!Ec($.value.expression)}return{filter:T,dynamicFilter:O||void 0,needGeometry:W0(h),needFeature:!!z}}function K0(u){if(!Array.isArray(u))return u;const s=function(c){if(vm.has(c[0])){for(let h=1;h<c.length;h++)if(Rc(c[h]))return!0}return c}(u);return s===!0?s:s.map(c=>K0(c))}function np(u){let s=!1;const c=[];if(u[0]==="case"){for(let h=1;h<u.length-1;h+=2)s=s||Rc(u[h]),c.push(u[h+1]);c.push(u[u.length-1])}else if(u[0]==="match"){s=s||Rc(u[1]);for(let h=2;h<u.length-1;h+=2)c.push(u[h+1]);c.push(u[u.length-1])}else if(u[0]==="step"){s=s||Rc(u[1]);for(let h=1;h<u.length-1;h+=2)c.push(u[h+1])}s&&(u.length=0,u.push("any",...c));for(let h=1;h<u.length;h++)np(u[h])}function Rc(u){if(!Array.isArray(u))return!1;if((s=u[0])==="pitch"||s==="distance-from-center")return!0;var s;for(let c=1;c<u.length;c++)if(Rc(u[c]))return!0;return!1}const vm=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Iw(u,s){return u<s?-1:u>s?1:0}function W0(u){if(!Array.isArray(u))return!1;if(u[0]==="within")return!0;for(let s=1;s<u.length;s++)if(W0(u[s]))return!0;return!1}function Lc(u){if(!u)return!0;const s=u[0];return u.length<=1?s!=="any":s==="=="?mm(u[1],u[2],"=="):s==="!="?rp(mm(u[1],u[2],"==")):s==="<"||s===">"||s==="<="||s===">="?mm(u[1],u[2],s):s==="any"?(c=u.slice(1),["any"].concat(c.map(Lc))):s==="all"?["all"].concat(u.slice(1).map(Lc)):s==="none"?["all"].concat(u.slice(1).map(Lc).map(rp)):s==="in"?gm(u[1],u.slice(2)):s==="!in"?rp(gm(u[1],u.slice(2))):s==="has"?ym(u[1]):s==="!has"?rp(ym(u[1])):s!=="within"||u;var c}function mm(u,s,c){switch(u){case"$type":return[`filter-type-${c}`,s];case"$id":return[`filter-id-${c}`,s];default:return[`filter-${c}`,u,s]}}function gm(u,s){if(s.length===0)return!1;switch(u){case"$type":return["filter-type-in",["literal",s]];case"$id":return["filter-id-in",["literal",s]];default:return s.length>200&&!s.some(c=>typeof c!=typeof s[0])?["filter-in-large",u,["literal",s.sort(Iw)]]:["filter-in-small",u,["literal",s]]}}function ym(u){switch(u){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",u]}}function rp(u){return["!",u]}function cf(u){return pm(na(u.value))?Ca(rs({},u,{expressionContext:"filter",valueSpec:u.styleSpec[`filter_${u.layerType||"fill"}`]})):df(u)}function df(u){const s=u.value,c=u.key;if(Dr(s)!=="array")return[new _n(c,s,`array expected, ${Dr(s)} found`)];const h=u.styleSpec;let y,w=[];if(s.length<1)return[new _n(c,s,"filter array must have at least 1 element")];switch(w=w.concat(ep({key:`${c}[0]`,value:s[0],valueSpec:h.filter_operator,style:u.style,styleSpec:u.styleSpec})),Ti(s[0])){case"<":case"<=":case">":case">=":s.length>=2&&Ti(s[1])==="$type"&&w.push(new _n(c,s,`"$type" cannot be use with operator "${s[0]}"`));case"==":case"!=":s.length!==3&&w.push(new _n(c,s,`filter array for operator "${s[0]}" must have 3 elements`));case"in":case"!in":s.length>=2&&(y=Dr(s[1]),y!=="string"&&w.push(new _n(`${c}[1]`,s[1],`string expected, ${y} found`)));for(let T=2;T<s.length;T++)y=Dr(s[T]),Ti(s[1])==="$type"?w=w.concat(ep({key:`${c}[${T}]`,value:s[T],valueSpec:h.geometry_type,style:u.style,styleSpec:u.styleSpec})):y!=="string"&&y!=="number"&&y!=="boolean"&&w.push(new _n(`${c}[${T}]`,s[T],`string, number, or boolean expected, ${y} found`));break;case"any":case"all":case"none":for(let T=1;T<s.length;T++)w=w.concat(df({key:`${c}[${T}]`,value:s[T],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":y=Dr(s[1]),s.length!==2?w.push(new _n(c,s,`filter array for "${s[0]}" operator must have 2 elements`)):y!=="string"&&w.push(new _n(`${c}[1]`,s[1],`string expected, ${y} found`));break;case"within":y=Dr(s[1]),s.length!==2?w.push(new _n(c,s,`filter array for "${s[0]}" operator must have 2 elements`)):y!=="object"&&w.push(new _n(`${c}[1]`,s[1],`object expected, ${y} found`))}return w}function _m(u,s){const c=u.key,h=u.style,y=u.styleSpec,w=u.value,T=u.objectKey,O=y[`${s}_${u.layerType}`];if(!O)return[];const z=T.match(/^(.*)-transition$/);if(s==="paint"&&z&&O[z[1]]&&O[z[1]].transition)return $a({key:c,value:w,valueSpec:y.transition,style:h,styleSpec:y});const $=u.valueSpec||O[T];if(!$)return[new _n(c,w,`unknown property "${T}"`)];let W;if(Dr(w)==="string"&&Ac($)&&!$.tokens&&(W=/^{([^}]+)}$/.exec(w))){const oe=`\`{ "type": "identity", "property": ${W?JSON.stringify(W[1]):'"_"'} }\``;return[new _n(c,w,`"${T}" does not support interpolation syntax
Use an identity property function instead: ${oe}.`)]}const ne=[];return u.layerType==="symbol"&&(T==="text-field"&&h&&!h.glyphs&&ne.push(new _n(c,w,'use of "text-field" requires a style "glyphs" property')),T==="text-font"&&rf(na(w))&&Ti(w.type)==="identity"&&ne.push(new _n(c,w,'"text-font" does not support identity functions'))),ne.concat($a({key:u.key,value:w,valueSpec:$,style:h,styleSpec:y,expressionContext:"property",propertyType:s,propertyKey:T}))}function G0(u){return _m(u,"paint")}function bm(u){return _m(u,"layout")}function q0(u){let s=[];const c=u.value,h=u.key,y=u.style,w=u.styleSpec;c.type||c.ref||s.push(new _n(h,c,'either "type" or "ref" is required'));let T=Ti(c.type);const O=Ti(c.ref);if(c.id){const z=Ti(c.id);for(let $=0;$<u.arrayIndex;$++){const W=y.layers[$];Ti(W.id)===z&&s.push(new _n(h,c.id,`duplicate layer id "${c.id}", previously used at line ${W.id.__line__}`))}}if("ref"in c){let z;["type","source","source-layer","filter","layout"].forEach($=>{$ in c&&s.push(new _n(h,c[$],`"${$}" is prohibited for ref layers`))}),y.layers.forEach($=>{Ti($.id)===O&&(z=$)}),z?z.ref?s.push(new _n(h,c.ref,"ref cannot reference another ref layer")):T=Ti(z.type):typeof O=="string"&&s.push(new _n(h,c.ref,`ref layer "${O}" not found`))}else if(T!=="background"&&T!=="sky")if(c.source){const z=y.sources&&y.sources[c.source],$=z&&Ti(z.type);z?$==="vector"&&T==="raster"?s.push(new _n(h,c.source,`layer "${c.id}" requires a raster source`)):$==="raster"&&T!=="raster"?s.push(new _n(h,c.source,`layer "${c.id}" requires a vector source`)):$!=="vector"||c["source-layer"]?$==="raster-dem"&&T!=="hillshade"?s.push(new _n(h,c.source,"raster-dem source can only be used with layer type 'hillshade'.")):T!=="line"||!c.paint||!c.paint["line-gradient"]&&!c.paint["line-trim-offset"]||$==="geojson"&&z.lineMetrics||s.push(new _n(h,c,`layer "${c.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):s.push(new _n(h,c,`layer "${c.id}" must specify a "source-layer"`)):s.push(new _n(h,c.source,`source "${c.source}" not found`))}else s.push(new _n(h,c,'missing required property "source"'));return s=s.concat(ss({key:h,value:c,valueSpec:w.layer,style:u.style,styleSpec:u.styleSpec,objectElementValidators:{"*":()=>[],type:()=>$a({key:`${h}.type`,value:c.type,valueSpec:w.layer.type,style:u.style,styleSpec:u.styleSpec,object:c,objectKey:"type"}),filter:z=>cf(rs({layerType:T},z)),layout:z=>ss({layer:c,key:z.key,value:z.value,valueSpec:{},style:z.style,styleSpec:z.styleSpec,objectElementValidators:{"*":$=>bm(rs({layerType:T},$))}}),paint:z=>ss({layer:c,key:z.key,value:z.value,valueSpec:{},style:z.style,styleSpec:z.styleSpec,objectElementValidators:{"*":$=>G0(rs({layerType:T},$))}})}})),s}function zl(u){const s=u.value,c=u.key,h=Dr(s);return h!=="string"?[new _n(c,s,`string expected, ${h} found`)]:[]}const Y0={promoteId:function({key:u,value:s}){if(Dr(s)==="string")return zl({key:u,value:s});{const c=[];for(const h in s)c.push(...zl({key:`${u}.${h}`,value:s[h]}));return c}}};function X0(u){const s=u.value,c=u.key,h=u.styleSpec,y=u.style;if(!s.type)return[new _n(c,s,'"type" is required')];const w=Ti(s.type);let T;switch(w){case"vector":case"raster":case"raster-dem":return T=ss({key:c,value:s,valueSpec:h[`source_${w.replace("-","_")}`],style:u.style,styleSpec:h,objectElementValidators:Y0}),T;case"geojson":if(T=ss({key:c,value:s,valueSpec:h.source_geojson,style:y,styleSpec:h,objectElementValidators:Y0}),s.cluster)for(const O in s.clusterProperties){const[z,$]=s.clusterProperties[O],W=typeof z=="string"?[z,["accumulated"],["get",O]]:z;T.push(...Ca({key:`${c}.${O}.map`,value:$,expressionContext:"cluster-map"})),T.push(...Ca({key:`${c}.${O}.reduce`,value:W,expressionContext:"cluster-reduce"}))}return T;case"video":return ss({key:c,value:s,valueSpec:h.source_video,style:y,styleSpec:h});case"image":return ss({key:c,value:s,valueSpec:h.source_image,style:y,styleSpec:h});case"canvas":return[new _n(c,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return ep({key:`${c}.type`,value:s.type,valueSpec:{values:Ow(h)},style:y,styleSpec:h})}}function Ow(u){return u.source.reduce((s,c)=>{const h=u[c];return h.type.type==="enum"&&(s=s.concat(Object.keys(h.type.values))),s},[])}function Z0(u){const s=u.value,c=u.styleSpec,h=c.light,y=u.style;let w=[];const T=Dr(s);if(s===void 0)return w;if(T!=="object")return w=w.concat([new _n("light",s,`object expected, ${T} found`)]),w;for(const O in s){const z=O.match(/^(.*)-transition$/);w=w.concat(z&&h[z[1]]&&h[z[1]].transition?$a({key:O,value:s[O],valueSpec:c.transition,style:y,styleSpec:c}):h[O]?$a({key:O,value:s[O],valueSpec:h[O],style:y,styleSpec:c}):[new _n(O,s[O],`unknown property "${O}"`)])}return w}function xm(u){const s=u.value,c=u.key,h=u.style,y=u.styleSpec,w=y.terrain;let T=[];const O=Dr(s);if(s===void 0)return T;if(O!=="object")return T=T.concat([new _n("terrain",s,`object expected, ${O} found`)]),T;for(const z in s){const $=z.match(/^(.*)-transition$/);T=T.concat($&&w[$[1]]&&w[$[1]].transition?$a({key:z,value:s[z],valueSpec:y.transition,style:h,styleSpec:y}):w[z]?$a({key:z,value:s[z],valueSpec:w[z],style:h,styleSpec:y}):[new _n(z,s[z],`unknown property "${z}"`)])}if(s.source){const z=h.sources&&h.sources[s.source],$=z&&Ti(z.type);z?$!=="raster-dem"&&T.push(new _n(c,s.source,`terrain cannot be used with a source of type ${String($)}, it only be used with a "raster-dem" source type`)):T.push(new _n(c,s.source,`source "${s.source}" not found`))}else T.push(new _n(c,s,'terrain is missing required property "source"'));return T}function Q0(u){const s=u.value,c=u.style,h=u.styleSpec,y=h.fog;let w=[];const T=Dr(s);if(s===void 0)return w;if(T!=="object")return w=w.concat([new _n("fog",s,`object expected, ${T} found`)]),w;for(const O in s){const z=O.match(/^(.*)-transition$/);w=w.concat(z&&y[z[1]]&&y[z[1]].transition?$a({key:O,value:s[O],valueSpec:h.transition,style:c,styleSpec:h}):y[O]?$a({key:O,value:s[O],valueSpec:y[O],style:c,styleSpec:h}):[new _n(O,s[O],`unknown property "${O}"`)])}return w}const J0={"*":()=>[],array:H0,boolean:function(u){const s=u.value,c=u.key,h=Dr(s);return h!=="boolean"?[new _n(c,s,`boolean expected, ${h} found`)]:[]},number:sf,color:function(u){const s=u.key,c=u.value,h=Dr(c);return h!=="string"?[new _n(s,c,`color expected, ${h} found`)]:as(c)===null?[new _n(s,c,`color expected, "${c}" found`)]:[]},enum:ep,filter:cf,function:lf,layer:q0,object:ss,source:X0,light:Z0,terrain:xm,fog:Q0,string:zl,formatted:function(u){return zl(u).length===0?[]:Ca(u)},resolvedImage:function(u){return zl(u).length===0?[]:Ca(u)},projection:function(u){const s=u.value,c=u.styleSpec,h=c.projection,y=u.style;let w=[];const T=Dr(s);if(T==="object")for(const O in s)w=w.concat($a({key:O,value:s[O],valueSpec:h[O],style:y,styleSpec:c}));else T!=="string"&&(w=w.concat([new _n("projection",s,`object or string expected, ${T} found`)]));return w}};function $a(u){const s=u.value,c=u.valueSpec,h=u.styleSpec;return c.expression&&rf(Ti(s))?lf(u):c.expression&&Oc(na(s))?Ca(u):c.type&&J0[c.type]?J0[c.type](u):ss(rs({},u,{valueSpec:c.type?h[c.type]:c}))}function Dw(u){const s=u.value,c=u.key,h=zl(u);return h.length||(s.indexOf("{fontstack}")===-1&&h.push(new _n(c,s,'"glyphs" url must include a "{fontstack}" token')),s.indexOf("{range}")===-1&&h.push(new _n(c,s,'"glyphs" url must include a "{range}" token'))),h}function ey(u,s=zt){return $o($a({key:"",value:u,valueSpec:s.$root,styleSpec:s,style:u,objectElementValidators:{glyphs:Dw,"*":()=>[]}}))}const Rw=u=>$o(G0(u)),Lw=u=>$o(bm(u));function $o(u){return u.slice().sort((s,c)=>s.line&&c.line?s.line-c.line:0)}function ty(u,s){let c=!1;if(s&&s.length)for(const h of s)u.fire(new Lo(new Error(h.message))),c=!0;return c}var Fw=ks,ls=3;function ks(u,s,c){var h=this.cells=[];if(u instanceof ArrayBuffer){this.arrayBuffer=u;var y=new Int32Array(this.arrayBuffer);u=y[0],this.d=(s=y[1])+2*(c=y[2]);for(var w=0;w<this.d*this.d;w++){var T=y[ls+w],O=y[ls+w+1];h.push(T===O?null:y.subarray(T,O))}var z=y[ls+h.length+1];this.keys=y.subarray(y[ls+h.length],z),this.bboxes=y.subarray(z),this.insert=this._insertReadonly}else{this.d=s+2*c;for(var $=0;$<this.d*this.d;$++)h.push([]);this.keys=[],this.bboxes=[]}this.n=s,this.extent=u,this.padding=c,this.scale=s/u,this.uid=0;var W=c/s*u;this.min=-W,this.max=u+W}ks.prototype.insert=function(u,s,c,h,y){this._forEachCell(s,c,h,y,this._insertCell,this.uid++),this.keys.push(u),this.bboxes.push(s),this.bboxes.push(c),this.bboxes.push(h),this.bboxes.push(y)},ks.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},ks.prototype._insertCell=function(u,s,c,h,y,w){this.cells[y].push(w)},ks.prototype.query=function(u,s,c,h,y){var w=this.min,T=this.max;if(u<=w&&s<=w&&T<=c&&T<=h&&!y)return Array.prototype.slice.call(this.keys);var O=[];return this._forEachCell(u,s,c,h,this._queryCell,O,{},y),O},ks.prototype._queryCell=function(u,s,c,h,y,w,T,O){var z=this.cells[y];if(z!==null)for(var $=this.keys,W=this.bboxes,ne=0;ne<z.length;ne++){var oe=z[ne];if(T[oe]===void 0){var fe=4*oe;(O?O(W[fe+0],W[fe+1],W[fe+2],W[fe+3]):u<=W[fe+2]&&s<=W[fe+3]&&c>=W[fe+0]&&h>=W[fe+1])?(T[oe]=!0,w.push($[oe])):T[oe]=!1}}},ks.prototype._forEachCell=function(u,s,c,h,y,w,T,O){for(var z=this._convertToCellCoord(u),$=this._convertToCellCoord(s),W=this._convertToCellCoord(c),ne=this._convertToCellCoord(h),oe=z;oe<=W;oe++)for(var fe=$;fe<=ne;fe++){var me=this.d*fe+oe;if((!O||O(this._convertFromCellCoord(oe),this._convertFromCellCoord(fe),this._convertFromCellCoord(oe+1),this._convertFromCellCoord(fe+1)))&&y.call(this,u,s,c,h,me,w,T,O))return}},ks.prototype._convertFromCellCoord=function(u){return(u-this.padding)/this.scale},ks.prototype._convertToCellCoord=function(u){return Math.max(0,Math.min(this.d-1,Math.floor(u*this.scale)+this.padding))},ks.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var u=this.cells,s=ls+this.cells.length+1+1,c=0,h=0;h<this.cells.length;h++)c+=this.cells[h].length;var y=new Int32Array(s+c+this.keys.length+this.bboxes.length);y[0]=this.extent,y[1]=this.n,y[2]=this.padding;for(var w=s,T=0;T<u.length;T++){var O=u[T];y[ls+T]=w,y.set(O,w),w+=O.length}return y[ls+u.length]=w,y.set(this.keys,w),y[ls+u.length+1]=w+=this.keys.length,y.set(this.bboxes,w),w+=this.bboxes.length,y.buffer};var Eu=D(Fw);const ip={};function bn(u,s,c={}){Object.defineProperty(u,"_classRegistryKey",{value:s,writeable:!1}),ip[s]={klass:u,omit:c.omit||[]}}bn(Object,"Object"),Eu.serialize=function(u,s){const c=u.toArrayBuffer();return s&&s.push(c),{buffer:c}},Eu.deserialize=function(u){return new Eu(u.buffer)},Object.defineProperty(Eu,"name",{value:"Grid"}),bn(Eu,"Grid"),bn(Lr,"Color"),bn(Error,"Error"),bn(gt,"AJAXError"),bn(Ja,"ResolvedImage"),bn(Qh,"StylePropertyFunction"),bn(Zh,"StyleExpression",{omit:["_evaluator"]}),bn(af,"ZoomDependentExpression"),bn(hm,"ZoomConstantExpression"),bn(Bo,"CompoundExpression",{omit:["_evaluate"]});for(const u in nf)ip[nf[u]._classRegistryKey]||bn(nf[u],`Expression${u}`);function wm(u){return u&&typeof ArrayBuffer<"u"&&(u instanceof ArrayBuffer||u.constructor&&u.constructor.name==="ArrayBuffer")}function Cm(u){return f.ImageBitmap&&u instanceof f.ImageBitmap}function Fc(u,s){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp)return u;if(wm(u)||Cm(u))return s&&s.push(u),u;if(ArrayBuffer.isView(u)){const c=u;return s&&s.push(c.buffer),c}if(u instanceof f.ImageData)return s&&s.push(u.data.buffer),u;if(Array.isArray(u)){const c=[];for(const h of u)c.push(Fc(h,s));return c}if(typeof u=="object"){const c=u.constructor,h=c._classRegistryKey;if(!h)throw new Error(`can't serialize object of unregistered class ${h}`);const y=c.serialize?c.serialize(u,s):{};if(!c.serialize){for(const w in u)u.hasOwnProperty(w)&&(ip[h].omit.indexOf(w)>=0||(y[w]=Fc(u[w],s)));u instanceof Error&&(y.message=u.message)}if(y.$name)throw new Error("$name property is reserved for worker serialization logic.");return h!=="Object"&&(y.$name=h),y}throw new Error("can't serialize object of type "+typeof u)}function Pu(u){if(u==null||typeof u=="boolean"||typeof u=="number"||typeof u=="string"||u instanceof Boolean||u instanceof Number||u instanceof String||u instanceof Date||u instanceof RegExp||wm(u)||Cm(u)||ArrayBuffer.isView(u)||u instanceof f.ImageData)return u;if(Array.isArray(u))return u.map(Pu);if(typeof u=="object"){const s=u.$name||"Object",{klass:c}=ip[s];if(!c)throw new Error(`can't deserialize unregistered class ${s}`);if(c.deserialize)return c.deserialize(u);const h=Object.create(c.prototype);for(const y of Object.keys(u))y!=="$name"&&(h[y]=Pu(u[y]));return h}throw new Error("can't deserialize object of type "+typeof u)}const yn={"Latin-1 Supplement":u=>u>=128&&u<=255,Arabic:u=>u>=1536&&u<=1791,"Arabic Supplement":u=>u>=1872&&u<=1919,"Arabic Extended-A":u=>u>=2208&&u<=2303,"Hangul Jamo":u=>u>=4352&&u<=4607,"Unified Canadian Aboriginal Syllabics":u=>u>=5120&&u<=5759,Khmer:u=>u>=6016&&u<=6143,"Unified Canadian Aboriginal Syllabics Extended":u=>u>=6320&&u<=6399,"General Punctuation":u=>u>=8192&&u<=8303,"Letterlike Symbols":u=>u>=8448&&u<=8527,"Number Forms":u=>u>=8528&&u<=8591,"Miscellaneous Technical":u=>u>=8960&&u<=9215,"Control Pictures":u=>u>=9216&&u<=9279,"Optical Character Recognition":u=>u>=9280&&u<=9311,"Enclosed Alphanumerics":u=>u>=9312&&u<=9471,"Geometric Shapes":u=>u>=9632&&u<=9727,"Miscellaneous Symbols":u=>u>=9728&&u<=9983,"Miscellaneous Symbols and Arrows":u=>u>=11008&&u<=11263,"CJK Radicals Supplement":u=>u>=11904&&u<=12031,"Kangxi Radicals":u=>u>=12032&&u<=12255,"Ideographic Description Characters":u=>u>=12272&&u<=12287,"CJK Symbols and Punctuation":u=>u>=12288&&u<=12351,Hiragana:u=>u>=12352&&u<=12447,Katakana:u=>u>=12448&&u<=12543,Bopomofo:u=>u>=12544&&u<=12591,"Hangul Compatibility Jamo":u=>u>=12592&&u<=12687,Kanbun:u=>u>=12688&&u<=12703,"Bopomofo Extended":u=>u>=12704&&u<=12735,"CJK Strokes":u=>u>=12736&&u<=12783,"Katakana Phonetic Extensions":u=>u>=12784&&u<=12799,"Enclosed CJK Letters and Months":u=>u>=12800&&u<=13055,"CJK Compatibility":u=>u>=13056&&u<=13311,"CJK Unified Ideographs Extension A":u=>u>=13312&&u<=19903,"Yijing Hexagram Symbols":u=>u>=19904&&u<=19967,"CJK Unified Ideographs":u=>u>=19968&&u<=40959,"Yi Syllables":u=>u>=40960&&u<=42127,"Yi Radicals":u=>u>=42128&&u<=42191,"Hangul Jamo Extended-A":u=>u>=43360&&u<=43391,"Hangul Syllables":u=>u>=44032&&u<=55215,"Hangul Jamo Extended-B":u=>u>=55216&&u<=55295,"Private Use Area":u=>u>=57344&&u<=63743,"CJK Compatibility Ideographs":u=>u>=63744&&u<=64255,"Arabic Presentation Forms-A":u=>u>=64336&&u<=65023,"Vertical Forms":u=>u>=65040&&u<=65055,"CJK Compatibility Forms":u=>u>=65072&&u<=65103,"Small Form Variants":u=>u>=65104&&u<=65135,"Arabic Presentation Forms-B":u=>u>=65136&&u<=65279,"Halfwidth and Fullwidth Forms":u=>u>=65280&&u<=65519};function Sm(u){for(const s of u)if(Tm(s.charCodeAt(0)))return!0;return!1}function Nw(u){for(const s of u)if(!ny(s.charCodeAt(0)))return!1;return!0}function ny(u){return!(yn.Arabic(u)||yn["Arabic Supplement"](u)||yn["Arabic Extended-A"](u)||yn["Arabic Presentation Forms-A"](u)||yn["Arabic Presentation Forms-B"](u))}function Tm(u){return!(u!==746&&u!==747&&(u<4352||!(yn["Bopomofo Extended"](u)||yn.Bopomofo(u)||yn["CJK Compatibility Forms"](u)&&!(u>=65097&&u<=65103)||yn["CJK Compatibility Ideographs"](u)||yn["CJK Compatibility"](u)||yn["CJK Radicals Supplement"](u)||yn["CJK Strokes"](u)||!(!yn["CJK Symbols and Punctuation"](u)||u>=12296&&u<=12305||u>=12308&&u<=12319||u===12336)||yn["CJK Unified Ideographs Extension A"](u)||yn["CJK Unified Ideographs"](u)||yn["Enclosed CJK Letters and Months"](u)||yn["Hangul Compatibility Jamo"](u)||yn["Hangul Jamo Extended-A"](u)||yn["Hangul Jamo Extended-B"](u)||yn["Hangul Jamo"](u)||yn["Hangul Syllables"](u)||yn.Hiragana(u)||yn["Ideographic Description Characters"](u)||yn.Kanbun(u)||yn["Kangxi Radicals"](u)||yn["Katakana Phonetic Extensions"](u)||yn.Katakana(u)&&u!==12540||!(!yn["Halfwidth and Fullwidth Forms"](u)||u===65288||u===65289||u===65293||u>=65306&&u<=65310||u===65339||u===65341||u===65343||u>=65371&&u<=65503||u===65507||u>=65512&&u<=65519)||!(!yn["Small Form Variants"](u)||u>=65112&&u<=65118||u>=65123&&u<=65126)||yn["Unified Canadian Aboriginal Syllabics"](u)||yn["Unified Canadian Aboriginal Syllabics Extended"](u)||yn["Vertical Forms"](u)||yn["Yijing Hexagram Symbols"](u)||yn["Yi Syllables"](u)||yn["Yi Radicals"](u))))}function ry(u){return!(Tm(u)||function(s){return!!(yn["Latin-1 Supplement"](s)&&(s===167||s===169||s===174||s===177||s===188||s===189||s===190||s===215||s===247)||yn["General Punctuation"](s)&&(s===8214||s===8224||s===8225||s===8240||s===8241||s===8251||s===8252||s===8258||s===8263||s===8264||s===8265||s===8273)||yn["Letterlike Symbols"](s)||yn["Number Forms"](s)||yn["Miscellaneous Technical"](s)&&(s>=8960&&s<=8967||s>=8972&&s<=8991||s>=8996&&s<=9e3||s===9003||s>=9085&&s<=9114||s>=9150&&s<=9165||s===9167||s>=9169&&s<=9179||s>=9186&&s<=9215)||yn["Control Pictures"](s)&&s!==9251||yn["Optical Character Recognition"](s)||yn["Enclosed Alphanumerics"](s)||yn["Geometric Shapes"](s)||yn["Miscellaneous Symbols"](s)&&!(s>=9754&&s<=9759)||yn["Miscellaneous Symbols and Arrows"](s)&&(s>=11026&&s<=11055||s>=11088&&s<=11097||s>=11192&&s<=11243)||yn["CJK Symbols and Punctuation"](s)||yn.Katakana(s)||yn["Private Use Area"](s)||yn["CJK Compatibility Forms"](s)||yn["Small Form Variants"](s)||yn["Halfwidth and Fullwidth Forms"](s)||s===8734||s===8756||s===8757||s>=9984&&s<=10087||s>=10102&&s<=10131||s===65532||s===65533)}(u))}function iy(u){return u>=1424&&u<=2303||yn["Arabic Presentation Forms-A"](u)||yn["Arabic Presentation Forms-B"](u)}function Bw(u,s){return!(!s&&iy(u)||u>=2304&&u<=3583||u>=3840&&u<=4255||yn.Khmer(u))}function zw(u){for(const s of u)if(iy(s.charCodeAt(0)))return!0;return!1}const Em="deferred",Pm="loading",Mm="loaded";let Nc=null,x="unavailable",d=null;const m=function(u){u&&typeof u=="string"&&u.indexOf("NetworkError")>-1&&(x="error"),Nc&&Nc(u)};function C(){A.fire(new Ys("pluginStateChange",{pluginStatus:x,pluginURL:d}))}const A=new Al,F=function(){return x},U=function(){if(x!==Em||!d)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");x=Pm,C(),d&&Gt({url:d},u=>{u?m(u):(x=Mm,C())})},K={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>x===Mm||K.applyArabicShaping!=null,isLoading:()=>x===Pm,setState(u){x=u.pluginStatus,d=u.pluginURL},isParsed:()=>K.applyArabicShaping!=null&&K.processBidirectionalText!=null&&K.processStyledBidirectionalText!=null,getPluginURL:()=>d};class ee{constructor(s,c){this.zoom=s,c?(this.now=c.now,this.fadeDuration=c.fadeDuration,this.transition=c.transition,this.pitch=c.pitch):(this.now=0,this.fadeDuration=0,this.transition={},this.pitch=0)}isSupportedScript(s){return function(c,h){for(const y of c)if(!Bw(y.charCodeAt(0),h))return!1;return!0}(s,K.isLoaded())}}class ue{constructor(s,c){this.property=s,this.value=c,this.expression=function(h,y){if(rf(h))return new Qh(h,y);if(Oc(h)){const w=of(h,y);if(w.result==="error")throw new Error(w.value.map(T=>`${T.key}: ${T.message}`).join(", "));return w.value}{let w=h;return typeof h=="string"&&y.type==="color"&&(w=Lr.parse(h)),{kind:"constant",evaluate:()=>w}}}(c===void 0?s.specification.default:c,s.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(s,c,h){return this.property.possiblyEvaluate(this,s,c,h)}}class se{constructor(s){this.property=s,this.value=new ue(s,void 0)}transitioned(s,c){return new Ae(this.property,this.value,c,be({},s.transition,this.transition),s.now)}untransitioned(){return new Ae(this.property,this.value,null,{},0)}}class xe{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitionablePropertyValues)}getValue(s){return pe(this._values[s].value.value)}setValue(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new se(this._values[s].property)),this._values[s].value=new ue(this._values[s].property,c===null?void 0:pe(c))}getTransition(s){return pe(this._values[s].transition)}setTransition(s,c){this._values.hasOwnProperty(s)||(this._values[s]=new se(this._values[s].property)),this._values[s].transition=pe(c)||void 0}serialize(){const s={};for(const c of Object.keys(this._values)){const h=this.getValue(c);h!==void 0&&(s[c]=h);const y=this.getTransition(c);y!==void 0&&(s[`${c}-transition`]=y)}return s}transitioned(s,c){const h=new Fe(this._properties);for(const y of Object.keys(this._values))h._values[y]=this._values[y].transitioned(s,c._values[y]);return h}untransitioned(){const s=new Fe(this._properties);for(const c of Object.keys(this._values))s._values[c]=this._values[c].untransitioned();return s}}class Ae{constructor(s,c,h,y,w){const T=y.delay||0,O=y.duration||0;w=w||0,this.property=s,this.value=c,this.begin=w+T,this.end=this.begin+O,s.specification.transition&&(y.delay||y.duration)&&(this.prior=h)}possiblyEvaluate(s,c,h){const y=s.now||0,w=this.value.possiblyEvaluate(s,c,h),T=this.prior;if(T){if(y>this.end)return this.prior=null,w;if(this.value.isDataDriven())return this.prior=null,w;if(y<this.begin)return T.possiblyEvaluate(s,c,h);{const O=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(T.possiblyEvaluate(s,c,h),w,te(O))}}return w}}class Fe{constructor(s){this._properties=s,this._values=Object.create(s.defaultTransitioningPropertyValues)}possiblyEvaluate(s,c,h){const y=new je(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].possiblyEvaluate(s,c,h);return y}hasTransition(){for(const s of Object.keys(this._values))if(this._values[s].prior)return!0;return!1}}class ze{constructor(s){this._properties=s,this._values=Object.create(s.defaultPropertyValues)}getValue(s){return pe(this._values[s].value)}setValue(s,c){this._values[s]=new ue(this._values[s].property,c===null?void 0:pe(c))}serialize(){const s={};for(const c of Object.keys(this._values)){const h=this.getValue(c);h!==void 0&&(s[c]=h)}return s}possiblyEvaluate(s,c,h){const y=new je(this._properties);for(const w of Object.keys(this._values))y._values[w]=this._values[w].possiblyEvaluate(s,c,h);return y}}class Be{constructor(s,c,h){this.property=s,this.value=c,this.parameters=h}isConstant(){return this.value.kind==="constant"}constantOr(s){return this.value.kind==="constant"?this.value.value:s}evaluate(s,c,h,y){return this.property.evaluate(this.value,this.parameters,s,c,h,y)}}class je{constructor(s){this._properties=s,this._values=Object.create(s.defaultPossiblyEvaluatedValues)}get(s){return this._values[s]}}class Ce{constructor(s){this.specification=s}possiblyEvaluate(s,c){return s.expression.evaluate(c)}interpolate(s,c,h){const y=Zd[this.specification.type];return y?y(s,c,h):s}}class Le{constructor(s,c){this.specification=s,this.overrides=c}possiblyEvaluate(s,c,h,y){return new Be(this,s.expression.kind==="constant"||s.expression.kind==="camera"?{kind:"constant",value:s.expression.evaluate(c,null,{},h,y)}:s.expression,c)}interpolate(s,c,h){if(s.value.kind!=="constant"||c.value.kind!=="constant")return s;if(s.value.value===void 0||c.value.value===void 0)return new Be(this,{kind:"constant",value:void 0},s.parameters);const y=Zd[this.specification.type];return y?new Be(this,{kind:"constant",value:y(s.value.value,c.value.value,h)},s.parameters):s}evaluate(s,c,h,y,w,T){return s.kind==="constant"?s.value:s.evaluate(c,h,y,w,T)}}class qe{constructor(s){this.specification=s}possiblyEvaluate(s,c,h,y){return!!s.expression.evaluate(c,null,{},h,y)}interpolate(){return!1}}class Xe{constructor(s){this.properties=s,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];const c=new ee(0,{});for(const h in s){const y=s[h];y.specification.overridable&&this.overridableProperties.push(h);const w=this.defaultPropertyValues[h]=new ue(y,void 0),T=this.defaultTransitionablePropertyValues[h]=new se(y);this.defaultTransitioningPropertyValues[h]=T.untransitioned(),this.defaultPossiblyEvaluatedValues[h]=w.possiblyEvaluate(c)}}}function ut(u,s){return 256*(u=X(Math.floor(u),0,255))+X(Math.floor(s),0,255)}bn(Le,"DataDrivenProperty"),bn(Ce,"DataConstantProperty"),bn(qe,"ColorRampProperty");const dt={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class ct{constructor(s,c){this._structArray=s,this._pos1=c*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class wt{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(s,c){return s._trim(),c&&(s.isTransferred=!0,c.push(s.arrayBuffer)),{length:s.length,arrayBuffer:s.arrayBuffer}}static deserialize(s){const c=Object.create(this.prototype);return c.arrayBuffer=s.arrayBuffer,c.length=s.length,c.capacity=s.arrayBuffer.byteLength/c.bytesPerElement,c._refreshViews(),c}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(s){this.reserve(s),this.length=s}reserve(s){if(s>this.capacity){this.capacity=Math.max(s,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const c=this.uint8;this._refreshViews(),c&&this.uint8.set(c)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function bt(u,s=1){let c=0,h=0;return{members:u.map(y=>{const w=dt[y.type].BYTES_PER_ELEMENT,T=c=At(c,Math.max(s,w)),O=y.components||1;return h=Math.max(h,w),c+=w*O,{name:y.name,type:y.type,components:O,offset:T}}),size:At(c,Math.max(h,s)),alignment:s}}function At(u,s){return Math.ceil(u/s)*s}class an extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c){const h=this.length;return this.resize(h+1),this.emplace(h,s,c)}emplace(s,c,h){const y=2*s;return this.int16[y+0]=c,this.int16[y+1]=h,s}}an.prototype.bytesPerElement=4,bn(an,"StructArrayLayout2i4");class Tt extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,h){const y=this.length;return this.resize(y+1),this.emplace(y,s,c,h)}emplace(s,c,h,y){const w=3*s;return this.int16[w+0]=c,this.int16[w+1]=h,this.int16[w+2]=y,s}}Tt.prototype.bytesPerElement=6,bn(Tt,"StructArrayLayout3i6");class Kt extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,h,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,c,h,y)}emplace(s,c,h,y,w){const T=4*s;return this.int16[T+0]=c,this.int16[T+1]=h,this.int16[T+2]=y,this.int16[T+3]=w,s}}Kt.prototype.bytesPerElement=8,bn(Kt,"StructArrayLayout4i8");class Dt extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w,T,O){const z=this.length;return this.resize(z+1),this.emplace(z,s,c,h,y,w,T,O)}emplace(s,c,h,y,w,T,O,z){const $=6*s,W=12*s,ne=3*s;return this.int16[$+0]=c,this.int16[$+1]=h,this.uint8[W+4]=y,this.uint8[W+5]=w,this.uint8[W+6]=T,this.uint8[W+7]=O,this.float32[ne+2]=z,s}}Dt.prototype.bytesPerElement=12,bn(Dt,"StructArrayLayout2i4ub1f12");class nn extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,h,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,c,h,y)}emplace(s,c,h,y,w){const T=4*s;return this.float32[T+0]=c,this.float32[T+1]=h,this.float32[T+2]=y,this.float32[T+3]=w,s}}nn.prototype.bytesPerElement=16,bn(nn,"StructArrayLayout4f16");class Mt extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,s,c,h,y,w)}emplace(s,c,h,y,w,T){const O=6*s,z=3*s;return this.uint16[O+0]=c,this.uint16[O+1]=h,this.uint16[O+2]=y,this.uint16[O+3]=w,this.float32[z+2]=T,s}}Mt.prototype.bytesPerElement=12,bn(Mt,"StructArrayLayout4ui1f12");class Vt extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,h,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,c,h,y)}emplace(s,c,h,y,w){const T=4*s;return this.uint16[T+0]=c,this.uint16[T+1]=h,this.uint16[T+2]=y,this.uint16[T+3]=w,s}}Vt.prototype.bytesPerElement=8,bn(Vt,"StructArrayLayout4ui8");class sn extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w,T){const O=this.length;return this.resize(O+1),this.emplace(O,s,c,h,y,w,T)}emplace(s,c,h,y,w,T,O){const z=6*s;return this.int16[z+0]=c,this.int16[z+1]=h,this.int16[z+2]=y,this.int16[z+3]=w,this.int16[z+4]=T,this.int16[z+5]=O,s}}sn.prototype.bytesPerElement=12,bn(sn,"StructArrayLayout6i12");class Qt extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w,T,O,z,$,W,ne,oe){const fe=this.length;return this.resize(fe+1),this.emplace(fe,s,c,h,y,w,T,O,z,$,W,ne,oe)}emplace(s,c,h,y,w,T,O,z,$,W,ne,oe,fe){const me=12*s;return this.int16[me+0]=c,this.int16[me+1]=h,this.int16[me+2]=y,this.int16[me+3]=w,this.uint16[me+4]=T,this.uint16[me+5]=O,this.uint16[me+6]=z,this.uint16[me+7]=$,this.int16[me+8]=W,this.int16[me+9]=ne,this.int16[me+10]=oe,this.int16[me+11]=fe,s}}Qt.prototype.bytesPerElement=24,bn(Qt,"StructArrayLayout4i4ui4i24");class ln extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w,T){const O=this.length;return this.resize(O+1),this.emplace(O,s,c,h,y,w,T)}emplace(s,c,h,y,w,T,O){const z=10*s,$=5*s;return this.int16[z+0]=c,this.int16[z+1]=h,this.int16[z+2]=y,this.float32[$+2]=w,this.float32[$+3]=T,this.float32[$+4]=O,s}}ln.prototype.bytesPerElement=20,bn(ln,"StructArrayLayout3i3f20");class Rn extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s){const c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint32[1*s+0]=c,s}}Rn.prototype.bytesPerElement=4,bn(Rn,"StructArrayLayout1ul4");class Zn extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w,T,O,z,$,W,ne,oe,fe){const me=this.length;return this.resize(me+1),this.emplace(me,s,c,h,y,w,T,O,z,$,W,ne,oe,fe)}emplace(s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me){const Se=20*s,Oe=10*s;return this.int16[Se+0]=c,this.int16[Se+1]=h,this.int16[Se+2]=y,this.int16[Se+3]=w,this.int16[Se+4]=T,this.float32[Oe+3]=O,this.float32[Oe+4]=z,this.float32[Oe+5]=$,this.float32[Oe+6]=W,this.int16[Se+14]=ne,this.uint32[Oe+8]=oe,this.uint16[Se+18]=fe,this.uint16[Se+19]=me,s}}Zn.prototype.bytesPerElement=40,bn(Zn,"StructArrayLayout5i4f1i1ul2ui40");class Sn extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w,T,O){const z=this.length;return this.resize(z+1),this.emplace(z,s,c,h,y,w,T,O)}emplace(s,c,h,y,w,T,O,z){const $=8*s;return this.int16[$+0]=c,this.int16[$+1]=h,this.int16[$+2]=y,this.int16[$+4]=w,this.int16[$+5]=T,this.int16[$+6]=O,this.int16[$+7]=z,s}}Sn.prototype.bytesPerElement=16,bn(Sn,"StructArrayLayout3i2i2i16");class jn extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,s,c,h,y,w)}emplace(s,c,h,y,w,T){const O=4*s,z=8*s;return this.float32[O+0]=c,this.float32[O+1]=h,this.float32[O+2]=y,this.int16[z+6]=w,this.int16[z+7]=T,s}}jn.prototype.bytesPerElement=16,bn(jn,"StructArrayLayout2f1f2i16");class xr extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,h,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,c,h,y)}emplace(s,c,h,y,w){const T=12*s,O=3*s;return this.uint8[T+0]=c,this.uint8[T+1]=h,this.float32[O+1]=y,this.float32[O+2]=w,s}}xr.prototype.bytesPerElement=12,bn(xr,"StructArrayLayout2ub2f12");class _r extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,h){const y=this.length;return this.resize(y+1),this.emplace(y,s,c,h)}emplace(s,c,h,y){const w=3*s;return this.float32[w+0]=c,this.float32[w+1]=h,this.float32[w+2]=y,s}}_r.prototype.bytesPerElement=12,bn(_r,"StructArrayLayout3f12");class On extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,h){const y=this.length;return this.resize(y+1),this.emplace(y,s,c,h)}emplace(s,c,h,y){const w=3*s;return this.uint16[w+0]=c,this.uint16[w+1]=h,this.uint16[w+2]=y,s}}On.prototype.bytesPerElement=6,bn(On,"StructArrayLayout3ui6");class Vr extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me,Se,Oe,Ve,tt,Ue,Je,st){const it=this.length;return this.resize(it+1),this.emplace(it,s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me,Se,Oe,Ve,tt,Ue,Je,st)}emplace(s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me,Se,Oe,Ve,tt,Ue,Je,st,it){const It=30*s,Et=15*s,jt=60*s;return this.int16[It+0]=c,this.int16[It+1]=h,this.int16[It+2]=y,this.float32[Et+2]=w,this.float32[Et+3]=T,this.uint16[It+8]=O,this.uint16[It+9]=z,this.uint32[Et+5]=$,this.uint32[Et+6]=W,this.uint32[Et+7]=ne,this.uint16[It+16]=oe,this.uint16[It+17]=fe,this.uint16[It+18]=me,this.float32[Et+10]=Se,this.float32[Et+11]=Oe,this.uint8[jt+48]=Ve,this.uint8[jt+49]=tt,this.uint8[jt+50]=Ue,this.uint32[Et+13]=Je,this.int16[It+28]=st,this.uint8[jt+58]=it,s}}Vr.prototype.bytesPerElement=60,bn(Vr,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class Xr extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me,Se,Oe,Ve,tt,Ue,Je,st,it,It,Et,jt,on,Rt,Yt,Xt,en){const un=this.length;return this.resize(un+1),this.emplace(un,s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me,Se,Oe,Ve,tt,Ue,Je,st,it,It,Et,jt,on,Rt,Yt,Xt,en)}emplace(s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me,Se,Oe,Ve,tt,Ue,Je,st,it,It,Et,jt,on,Rt,Yt,Xt,en,un){const $t=38*s,vn=19*s;return this.int16[$t+0]=c,this.int16[$t+1]=h,this.int16[$t+2]=y,this.float32[vn+2]=w,this.float32[vn+3]=T,this.int16[$t+8]=O,this.int16[$t+9]=z,this.int16[$t+10]=$,this.int16[$t+11]=W,this.int16[$t+12]=ne,this.int16[$t+13]=oe,this.uint16[$t+14]=fe,this.uint16[$t+15]=me,this.uint16[$t+16]=Se,this.uint16[$t+17]=Oe,this.uint16[$t+18]=Ve,this.uint16[$t+19]=tt,this.uint16[$t+20]=Ue,this.uint16[$t+21]=Je,this.uint16[$t+22]=st,this.uint16[$t+23]=it,this.uint16[$t+24]=It,this.uint16[$t+25]=Et,this.uint16[$t+26]=jt,this.uint16[$t+27]=on,this.uint16[$t+28]=Rt,this.uint32[vn+15]=Yt,this.float32[vn+16]=Xt,this.float32[vn+17]=en,this.float32[vn+18]=un,s}}Xr.prototype.bytesPerElement=76,bn(Xr,"StructArrayLayout3i2f6i15ui1ul3f76");class Zr extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s){const c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.float32[1*s+0]=c,s}}Zr.prototype.bytesPerElement=4,bn(Zr,"StructArrayLayout1f4");class Qr extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c,h,y,w){const T=this.length;return this.resize(T+1),this.emplace(T,s,c,h,y,w)}emplace(s,c,h,y,w,T){const O=5*s;return this.float32[O+0]=c,this.float32[O+1]=h,this.float32[O+2]=y,this.float32[O+3]=w,this.float32[O+4]=T,s}}Qr.prototype.bytesPerElement=20,bn(Qr,"StructArrayLayout5f20");class ja extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c,h,y){const w=this.length;return this.resize(w+1),this.emplace(w,s,c,h,y)}emplace(s,c,h,y,w){const T=6*s;return this.uint32[3*s+0]=c,this.uint16[T+2]=h,this.uint16[T+3]=y,this.uint16[T+4]=w,s}}ja.prototype.bytesPerElement=12,bn(ja,"StructArrayLayout1ul3ui12");class Sa extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s,c){const h=this.length;return this.resize(h+1),this.emplace(h,s,c)}emplace(s,c,h){const y=2*s;return this.uint16[y+0]=c,this.uint16[y+1]=h,s}}Sa.prototype.bytesPerElement=4,bn(Sa,"StructArrayLayout2ui4");class jo extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(s){const c=this.length;return this.resize(c+1),this.emplace(c,s)}emplace(s,c){return this.uint16[1*s+0]=c,s}}jo.prototype.bytesPerElement=2,bn(jo,"StructArrayLayout1ui2");class As extends wt{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(s,c){const h=this.length;return this.resize(h+1),this.emplace(h,s,c)}emplace(s,c,h){const y=2*s;return this.float32[y+0]=c,this.float32[y+1]=h,s}}As.prototype.bytesPerElement=8,bn(As,"StructArrayLayout2f8");class gi extends ct{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}gi.prototype.size=40;class Jr extends Zn{get(s){return new gi(this,s)}}bn(Jr,"CollisionBoxArray");class Fr extends ct{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(s){this._structArray.uint8[this._pos1+49]=s}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(s){this._structArray.uint8[this._pos1+50]=s}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(s){this._structArray.uint32[this._pos4+13]=s}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(s){this._structArray.uint8[this._pos1+58]=s}}Fr.prototype.size=60;class Wi extends Vr{get(s){return new Fr(this,s)}}bn(Wi,"PlacedSymbolArray");class eo extends ct{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(s){this._structArray.uint32[this._pos4+15]=s}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}eo.prototype.size=76;class di extends Xr{get(s){return new eo(this,s)}}bn(di,"SymbolInstanceArray");class oo extends Zr{getoffsetX(s){return this.float32[1*s+0]}}bn(oo,"GlyphOffsetArray");class ap extends an{getx(s){return this.int16[2*s+0]}gety(s){return this.int16[2*s+1]}}bn(ap,"SymbolLineVertexArray");class Mu extends ct{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}Mu.prototype.size=12;class ff extends ja{get(s){return new Mu(this,s)}}bn(ff,"FeatureIndexArray");class tl extends Sa{geta_centroid_pos0(s){return this.uint16[2*s+0]}geta_centroid_pos1(s){return this.uint16[2*s+1]}}bn(tl,"FillExtrusionCentroidArray");const $l=bt([{name:"a_pattern",components:4,type:"Uint16"},{name:"a_pixel_ratio",components:1,type:"Float32"}]),ku=bt([{name:"a_dash",components:4,type:"Uint16"}]);var op={exports:{}},hf={exports:{}};hf.exports=function(u,s){var c,h,y,w,T,O,z,$;for(h=u.length-(c=3&u.length),y=s,T=3432918353,O=461845907,$=0;$<h;)z=255&u.charCodeAt($)|(255&u.charCodeAt(++$))<<8|(255&u.charCodeAt(++$))<<16|(255&u.charCodeAt(++$))<<24,++$,y=27492+(65535&(w=5*(65535&(y=(y^=z=(65535&(z=(z=(65535&z)*T+(((z>>>16)*T&65535)<<16)&4294967295)<<15|z>>>17))*O+(((z>>>16)*O&65535)<<16)&4294967295)<<13|y>>>19))+((5*(y>>>16)&65535)<<16)&4294967295))+((58964+(w>>>16)&65535)<<16);switch(z=0,c){case 3:z^=(255&u.charCodeAt($+2))<<16;case 2:z^=(255&u.charCodeAt($+1))<<8;case 1:y^=z=(65535&(z=(z=(65535&(z^=255&u.charCodeAt($)))*T+(((z>>>16)*T&65535)<<16)&4294967295)<<15|z>>>17))*O+(((z>>>16)*O&65535)<<16)&4294967295}return y^=u.length,y=2246822507*(65535&(y^=y>>>16))+((2246822507*(y>>>16)&65535)<<16)&4294967295,y=3266489909*(65535&(y^=y>>>13))+((3266489909*(y>>>16)&65535)<<16)&4294967295,(y^=y>>>16)>>>0};var km=hf.exports,TP={exports:{}};TP.exports=function(u,s){for(var c,h=u.length,y=s^h,w=0;h>=4;)c=1540483477*(65535&(c=255&u.charCodeAt(w)|(255&u.charCodeAt(++w))<<8|(255&u.charCodeAt(++w))<<16|(255&u.charCodeAt(++w))<<24))+((1540483477*(c>>>16)&65535)<<16),y=1540483477*(65535&y)+((1540483477*(y>>>16)&65535)<<16)^(c=1540483477*(65535&(c^=c>>>24))+((1540483477*(c>>>16)&65535)<<16)),h-=4,++w;switch(h){case 3:y^=(255&u.charCodeAt(w+2))<<16;case 2:y^=(255&u.charCodeAt(w+1))<<8;case 1:y=1540483477*(65535&(y^=255&u.charCodeAt(w)))+((1540483477*(y>>>16)&65535)<<16)}return y=1540483477*(65535&(y^=y>>>13))+((1540483477*(y>>>16)&65535)<<16),(y^=y>>>15)>>>0};var EP=km,iW=TP.exports;op.exports=EP,op.exports.murmur3=EP,op.exports.murmur2=iW;var $w=D(op.exports);class ay{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(s,c,h,y){this.ids.push(PP(s)),this.positions.push(c,h,y)}getPositions(s){const c=PP(s);let h=0,y=this.ids.length-1;for(;h<y;){const T=h+y>>1;this.ids[T]>=c?y=T:h=T+1}const w=[];for(;this.ids[h]===c;)w.push({index:this.positions[3*h],start:this.positions[3*h+1],end:this.positions[3*h+2]}),h++;return w}static serialize(s,c){const h=new Float64Array(s.ids),y=new Uint32Array(s.positions);return jw(h,y,0,h.length-1),c&&c.push(h.buffer,y.buffer),{ids:h,positions:y}}static deserialize(s){const c=new ay;return c.ids=s.ids,c.positions=s.positions,c.indexed=!0,c}}function PP(u){const s=+u;return!isNaN(s)&&Number.MIN_SAFE_INTEGER<=s&&s<=Number.MAX_SAFE_INTEGER?s:$w(String(u))}function jw(u,s,c,h){for(;c<h;){const y=u[c+h>>1];let w=c-1,T=h+1;for(;;){do w++;while(u[w]<y);do T--;while(u[T]>y);if(w>=T)break;oy(u,w,T),oy(s,3*w,3*T),oy(s,3*w+1,3*T+1),oy(s,3*w+2,3*T+2)}T-c<h-T?(jw(u,s,c,T),c=T+1):(jw(u,s,T+1,h),h=T)}}function oy(u,s,c){const h=u[s];u[s]=u[c],u[c]=h}bn(ay,"FeaturePositionMap");class Au{constructor(s){this.gl=s.gl,this.initialized=!1}fetchUniformLocation(s,c){return this.location||this.initialized||(this.location=this.gl.getUniformLocation(s,c),this.initialized=!0),!!this.location}}class sy extends Au{constructor(s){super(s),this.current=0}set(s,c,h){this.fetchUniformLocation(s,c)&&this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))}}class MP extends Au{constructor(s){super(s),this.current=[0,0,0,0]}set(s,c,h){this.fetchUniformLocation(s,c)&&(h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3])))}}class kP extends Au{constructor(s){super(s),this.current=Lr.transparent}set(s,c,h){this.fetchUniformLocation(s,c)&&(h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a)))}}const aW=new Float32Array(16),oW=new Float32Array(9),sW=new Float32Array(4);function Vw(u){return[ut(255*u.r,255*u.g),ut(255*u.b,255*u.a)]}class Am{constructor(s,c,h){this.value=s,this.uniformNames=c.map(y=>`u_${y}`),this.type=h}setUniform(s,c,h,y,w){c.set(s,w,y.constantOr(this.value))}getBinding(s,c){return this.type==="color"?new kP(s):new sy(s)}}class sp{constructor(s,c){this.uniformNames=c.map(h=>`u_${h}`),this.pattern=null,this.pixelRatio=1}setConstantPatternPositions(s){this.pixelRatio=s.pixelRatio||1,this.pattern=s.tl.concat(s.br)}setUniform(s,c,h,y,w){const T=w==="u_pattern"||w==="u_dash"?this.pattern:w==="u_pixel_ratio"?this.pixelRatio:null;T&&c.set(s,w,T)}getBinding(s,c){return c==="u_pattern"||c==="u_dash"?new MP(s):new sy(s)}}class Iu{constructor(s,c,h,y){this.expression=s,this.type=h,this.maxValue=0,this.paintVertexAttributes=c.map(w=>({name:`a_${w}`,type:"Float32",components:h==="color"?2:1,offset:0})),this.paintVertexArray=new y}populatePaintArray(s,c,h,y,w,T){const O=this.paintVertexArray.length,z=this.expression.evaluate(new ee(0),c,{},w,y,T);this.paintVertexArray.resize(s),this._setPaintValue(O,s,z)}updatePaintArray(s,c,h,y,w){const T=this.expression.evaluate({zoom:0},h,y,void 0,w);this._setPaintValue(s,c,T)}_setPaintValue(s,c,h){if(this.type==="color"){const y=Vw(h);for(let w=s;w<c;w++)this.paintVertexArray.emplace(w,y[0],y[1])}else{for(let y=s;y<c;y++)this.paintVertexArray.emplace(y,h);this.maxValue=Math.max(this.maxValue,Math.abs(h))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class nl{constructor(s,c,h,y,w,T){this.expression=s,this.uniformNames=c.map(O=>`u_${O}_t`),this.type=h,this.useIntegerZoom=y,this.zoom=w,this.maxValue=0,this.paintVertexAttributes=c.map(O=>({name:`a_${O}`,type:"Float32",components:h==="color"?4:2,offset:0})),this.paintVertexArray=new T}populatePaintArray(s,c,h,y,w,T){const O=this.expression.evaluate(new ee(this.zoom),c,{},w,y,T),z=this.expression.evaluate(new ee(this.zoom+1),c,{},w,y,T),$=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValue($,s,O,z)}updatePaintArray(s,c,h,y,w){const T=this.expression.evaluate({zoom:this.zoom},h,y,void 0,w),O=this.expression.evaluate({zoom:this.zoom+1},h,y,void 0,w);this._setPaintValue(s,c,T,O)}_setPaintValue(s,c,h,y){if(this.type==="color"){const w=Vw(h),T=Vw(y);for(let O=s;O<c;O++)this.paintVertexArray.emplace(O,w[0],w[1],T[0],T[1])}else{for(let w=s;w<c;w++)this.paintVertexArray.emplace(w,h,y);this.maxValue=Math.max(this.maxValue,Math.abs(h),Math.abs(y))}}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(s,c,h,y,w){const T=this.useIntegerZoom?Math.floor(h.zoom):h.zoom,O=X(this.expression.interpolationFactor(T,this.zoom,this.zoom+1),0,1);c.set(s,w,O)}getBinding(s,c){return new sy(s)}}class Bc{constructor(s,c,h,y,w){this.expression=s,this.layerId=w,this.paintVertexAttributes=(h==="array"?ku:$l).members;for(let T=0;T<c.length;++T);this.paintVertexArray=new y}populatePaintArray(s,c,h){const y=this.paintVertexArray.length;this.paintVertexArray.resize(s),this._setPaintValues(y,s,c.patterns&&c.patterns[this.layerId],h)}updatePaintArray(s,c,h,y,w,T){this._setPaintValues(s,c,h.patterns&&h.patterns[this.layerId],T)}_setPaintValues(s,c,h,y){if(!y||!h)return;const w=y[h];if(!w)return;const{tl:T,br:O,pixelRatio:z}=w;for(let $=s;$<c;$++)this.paintVertexArray.emplace($,T[0],T[1],O[0],O[1],z)}upload(s){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer=s.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class zc{constructor(s,c,h=()=>!0){this.binders={},this._buffers=[];const y=[];for(const w in s.paint._values){if(!h(w))continue;const T=s.paint.get(w);if(!(T instanceof Be&&Ac(T.property.specification)))continue;const O=uW(w,s.type),z=T.value,$=T.property.specification.type,W=!!T.property.useIntegerZoom,ne=w==="line-dasharray"||w.endsWith("pattern"),oe=w==="line-dasharray"&&s.layout.get("line-cap").value.kind!=="constant";if(z.kind!=="constant"||oe)if(z.kind==="source"||oe||ne){const fe=AP(w,$,"source");this.binders[w]=ne?new Bc(z,O,$,fe,s.id):new Iu(z,O,$,fe),y.push(`/a_${w}`)}else{const fe=AP(w,$,"composite");this.binders[w]=new nl(z,O,$,W,c,fe),y.push(`/z_${w}`)}else this.binders[w]=ne?new sp(z.value,O):new Am(z.value,O,$),y.push(`/u_${w}`)}this.cacheKey=y.sort().join("")}getMaxValue(s){const c=this.binders[s];return c instanceof Iu||c instanceof nl?c.maxValue:0}populatePaintArrays(s,c,h,y,w,T){for(const O in this.binders){const z=this.binders[O];(z instanceof Iu||z instanceof nl||z instanceof Bc)&&z.populatePaintArray(s,c,h,y,w,T)}}setConstantPatternPositions(s){for(const c in this.binders){const h=this.binders[c];h instanceof sp&&h.setConstantPatternPositions(s)}}updatePaintArrays(s,c,h,y,w,T){let O=!1;for(const z in s){const $=c.getPositions(z);for(const W of $){const ne=h.feature(W.index);for(const oe in this.binders){const fe=this.binders[oe];if((fe instanceof Iu||fe instanceof nl||fe instanceof Bc)&&fe.expression.isStateDependent===!0){const me=y.paint.get(oe);fe.expression=me.value,fe.updatePaintArray(W.start,W.end,ne,s[z],w,T),O=!0}}}}return O}defines(){const s=[];for(const c in this.binders){const h=this.binders[c];(h instanceof Am||h instanceof sp)&&s.push(...h.uniformNames.map(y=>`#define HAS_UNIFORM_${y}`))}return s}getBinderAttributes(){const s=[];for(const c in this.binders){const h=this.binders[c];if(h instanceof Iu||h instanceof nl||h instanceof Bc)for(let y=0;y<h.paintVertexAttributes.length;y++)s.push(h.paintVertexAttributes[y].name)}return s}getBinderUniforms(){const s=[];for(const c in this.binders){const h=this.binders[c];if(h instanceof Am||h instanceof sp||h instanceof nl)for(const y of h.uniformNames)s.push(y)}return s}getPaintVertexBuffers(){return this._buffers}getUniforms(s){const c=[];for(const h in this.binders){const y=this.binders[h];if(y instanceof Am||y instanceof sp||y instanceof nl)for(const w of y.uniformNames)c.push({name:w,property:h,binding:y.getBinding(s,w)})}return c}setUniforms(s,c,h,y,w){for(const{name:T,property:O,binding:z}of h)this.binders[O].setUniform(s,z,w,y.get(O),T)}updatePaintBuffers(){this._buffers=[];for(const s in this.binders){const c=this.binders[s];(c instanceof Iu||c instanceof nl||c instanceof Bc)&&c.paintVertexBuffer&&this._buffers.push(c.paintVertexBuffer)}}upload(s){for(const c in this.binders){const h=this.binders[c];(h instanceof Iu||h instanceof nl||h instanceof Bc)&&h.upload(s)}this.updatePaintBuffers()}destroy(){for(const s in this.binders){const c=this.binders[s];(c instanceof Iu||c instanceof nl||c instanceof Bc)&&c.destroy()}}}class pf{constructor(s,c,h=()=>!0){this.programConfigurations={};for(const y of s)this.programConfigurations[y.id]=new zc(y,c,h);this.needsUpload=!1,this._featureMap=new ay,this._bufferOffset=0}populatePaintArrays(s,c,h,y,w,T,O){for(const z in this.programConfigurations)this.programConfigurations[z].populatePaintArrays(s,c,y,w,T,O);c.id!==void 0&&this._featureMap.add(c.id,h,this._bufferOffset,s),this._bufferOffset=s,this.needsUpload=!0}updatePaintArrays(s,c,h,y,w){for(const T of h)this.needsUpload=this.programConfigurations[T.id].updatePaintArrays(s,this._featureMap,c,T,y,w)||this.needsUpload}get(s){return this.programConfigurations[s]}upload(s){if(this.needsUpload){for(const c in this.programConfigurations)this.programConfigurations[c].upload(s);this.needsUpload=!1}}destroy(){for(const s in this.programConfigurations)this.programConfigurations[s].destroy()}}const lW={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern","pixel_ratio"],"fill-pattern":["pattern","pixel_ratio"],"fill-extrusion-pattern":["pattern","pixel_ratio"],"line-dasharray":["dash"]};function uW(u,s){return lW[u]||[u.replace(`${s}-`,"").replace(/-/g,"_")]}const cW={"line-pattern":{source:Mt,composite:Mt},"fill-pattern":{source:Mt,composite:Mt},"fill-extrusion-pattern":{source:Mt,composite:Mt},"line-dasharray":{source:Vt,composite:Vt}},dW={color:{source:As,composite:nn},number:{source:Zr,composite:As}};function AP(u,s,c){const h=cW[u];return h&&h[c]||dW[s][c]}bn(Am,"ConstantBinder"),bn(sp,"PatternConstantBinder"),bn(Iu,"SourceExpressionBinder"),bn(Bc,"PatternCompositeBinder"),bn(nl,"CompositeExpressionBinder"),bn(zc,"ProgramConfiguration",{omit:["_buffers"]}),bn(pf,"ProgramConfigurationSet");const IP="-transition";class rl extends Al{constructor(s,c){if(super(),this.id=s.id,this.type=s.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,s.type!=="custom"&&(this.metadata=s.metadata,this.minzoom=s.minzoom,this.maxzoom=s.maxzoom,s.type!=="background"&&s.type!=="sky"&&(this.source=s.source,this.sourceLayer=s["source-layer"],this.filter=s.filter),c.layout&&(this._unevaluatedLayout=new ze(c.layout)),c.paint)){this._transitionablePaint=new xe(c.paint);for(const h in s.paint)this.setPaintProperty(h,s.paint[h],{validate:!1});for(const h in s.layout)this.setLayoutProperty(h,s.layout[h],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new je(c.paint)}}getLayoutProperty(s){return s==="visibility"?this.visibility:this._unevaluatedLayout.getValue(s)}setLayoutProperty(s,c,h={}){c!=null&&this._validate(Lw,`layers.${this.id}.layout.${s}`,s,c,h)||(s!=="visibility"?this._unevaluatedLayout.setValue(s,c):this.visibility=c)}getPaintProperty(s){return Ge(s,IP)?this._transitionablePaint.getTransition(s.slice(0,-11)):this._transitionablePaint.getValue(s)}setPaintProperty(s,c,h={}){if(c!=null&&this._validate(Rw,`layers.${this.id}.paint.${s}`,s,c,h))return!1;if(Ge(s,IP))return this._transitionablePaint.setTransition(s.slice(0,-11),c||void 0),!1;{const y=this._transitionablePaint._values[s],w=y.value.isDataDriven(),T=y.value;this._transitionablePaint.setValue(s,c),this._handleSpecialPaintPropertyUpdate(s);const O=this._transitionablePaint._values[s].value,z=O.isDataDriven(),$=Ge(s,"pattern")||s==="line-dasharray";return z||w||$||this._handleOverridablePaintPropertyUpdate(s,T,O)}}_handleSpecialPaintPropertyUpdate(s){}getProgramIds(){return null}getProgramConfiguration(s){return null}_handleOverridablePaintPropertyUpdate(s,c,h){return!1}isHidden(s){return!!(this.minzoom&&s<this.minzoom)||!!(this.maxzoom&&s>=this.maxzoom)||this.visibility==="none"}updateTransitions(s){this._transitioningPaint=this._transitionablePaint.transitioned(s,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(s,c){this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(s,void 0,c)),this.paint=this._transitioningPaint.possiblyEvaluate(s,void 0,c)}serialize(){const s={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(s.layout=s.layout||{},s.layout.visibility=this.visibility),Ee(s,(c,h)=>!(c===void 0||h==="layout"&&!Object.keys(c).length||h==="paint"&&!Object.keys(c).length))}_validate(s,c,h,y,w={}){return(!w||w.validate!==!1)&&ty(this,s.call(ey,{key:c,layerType:this.type,objectKey:h,value:y,styleSpec:zt,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const s in this.paint._values){const c=this.paint.get(s);if(c instanceof Be&&Ac(c.property.specification)&&(c.value.kind==="source"||c.value.kind==="composite")&&c.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=tp(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const fW=bt([{name:"a_pos",components:2,type:"Int16"}],4),hW=bt([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]);class Gi{constructor(s=[]){this.segments=s}prepareSegment(s,c,h,y){let w=this.segments[this.segments.length-1];return s>Gi.MAX_VERTEX_ARRAY_LENGTH&&We(`Max vertices per segment is ${Gi.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${s}`),(!w||w.vertexLength+s>Gi.MAX_VERTEX_ARRAY_LENGTH||w.sortKey!==y)&&(w={vertexOffset:c.length,primitiveOffset:h.length,vertexLength:0,primitiveLength:0},y!==void 0&&(w.sortKey=y),this.segments.push(w)),w}get(){return this.segments}destroy(){for(const s of this.segments)for(const c in s.vaos)s.vaos[c].destroy()}static simpleSegment(s,c,h,y){return new Gi([{vertexOffset:s,primitiveOffset:c,vertexLength:h,primitiveLength:y,vaos:{},sortKey:0}])}}Gi.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,bn(Gi,"SegmentVector");var Bn=8192;class $c{constructor(s,c){s&&(c?this.setSouthWest(s).setNorthEast(c):s.length===4?this.setSouthWest([s[0],s[1]]).setNorthEast([s[2],s[3]]):this.setSouthWest(s[0]).setNorthEast(s[1]))}setNorthEast(s){return this._ne=s instanceof ei?new ei(s.lng,s.lat):ei.convert(s),this}setSouthWest(s){return this._sw=s instanceof ei?new ei(s.lng,s.lat):ei.convert(s),this}extend(s){const c=this._sw,h=this._ne;let y,w;if(s instanceof ei)y=s,w=s;else{if(!(s instanceof $c))return Array.isArray(s)?s.length===4||s.every(Array.isArray)?this.extend($c.convert(s)):this.extend(ei.convert(s)):typeof s=="object"&&s!==null&&s.hasOwnProperty("lat")&&(s.hasOwnProperty("lon")||s.hasOwnProperty("lng"))?this.extend(ei.convert(s)):this;if(y=s._sw,w=s._ne,!y||!w)return this}return c||h?(c.lng=Math.min(y.lng,c.lng),c.lat=Math.min(y.lat,c.lat),h.lng=Math.max(w.lng,h.lng),h.lat=Math.max(w.lat,h.lat)):(this._sw=new ei(y.lng,y.lat),this._ne=new ei(w.lng,w.lat)),this}getCenter(){return new ei((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new ei(this.getWest(),this.getNorth())}getSouthEast(){return new ei(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(s){const{lng:c,lat:h}=ei.convert(s);let y=this._sw.lng<=c&&c<=this._ne.lng;return this._sw.lng>this._ne.lng&&(y=this._sw.lng>=c&&c>=this._ne.lng),this._sw.lat<=h&&h<=this._ne.lat&&y}static convert(s){return!s||s instanceof $c?s:new $c(s)}}var ly=1e-6,Vo=typeof Float32Array<"u"?Float32Array:Array;function OP(){var u=new Vo(9);return Vo!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[5]=0,u[6]=0,u[7]=0),u[0]=1,u[4]=1,u[8]=1,u}function DP(u,s,c){var h=s[0],y=s[1],w=s[2],T=s[3],O=s[4],z=s[5],$=s[6],W=s[7],ne=s[8],oe=c[0],fe=c[1],me=c[2],Se=c[3],Oe=c[4],Ve=c[5],tt=c[6],Ue=c[7],Je=c[8];return u[0]=oe*h+fe*T+me*$,u[1]=oe*y+fe*O+me*W,u[2]=oe*w+fe*z+me*ne,u[3]=Se*h+Oe*T+Ve*$,u[4]=Se*y+Oe*O+Ve*W,u[5]=Se*w+Oe*z+Ve*ne,u[6]=tt*h+Ue*T+Je*$,u[7]=tt*y+Ue*O+Je*W,u[8]=tt*w+Ue*z+Je*ne,u}function il(u){return u[0]=1,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=1,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=1,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function Uw(u,s){var c=s[0],h=s[1],y=s[2],w=s[3],T=s[4],O=s[5],z=s[6],$=s[7],W=s[8],ne=s[9],oe=s[10],fe=s[11],me=s[12],Se=s[13],Oe=s[14],Ve=s[15],tt=c*O-h*T,Ue=c*z-y*T,Je=c*$-w*T,st=h*z-y*O,it=h*$-w*O,It=y*$-w*z,Et=W*Se-ne*me,jt=W*Oe-oe*me,on=W*Ve-fe*me,Rt=ne*Oe-oe*Se,Yt=ne*Ve-fe*Se,Xt=oe*Ve-fe*Oe,en=tt*Xt-Ue*Yt+Je*Rt+st*on-it*jt+It*Et;return en?(u[0]=(O*Xt-z*Yt+$*Rt)*(en=1/en),u[1]=(y*Yt-h*Xt-w*Rt)*en,u[2]=(Se*It-Oe*it+Ve*st)*en,u[3]=(oe*it-ne*It-fe*st)*en,u[4]=(z*on-T*Xt-$*jt)*en,u[5]=(c*Xt-y*on+w*jt)*en,u[6]=(Oe*Je-me*It-Ve*Ue)*en,u[7]=(W*It-oe*Je+fe*Ue)*en,u[8]=(T*Yt-O*on+$*Et)*en,u[9]=(h*on-c*Yt-w*Et)*en,u[10]=(me*it-Se*Je+Ve*tt)*en,u[11]=(ne*Je-W*it-fe*tt)*en,u[12]=(O*jt-T*Rt-z*Et)*en,u[13]=(c*Rt-h*jt+y*Et)*en,u[14]=(Se*Ue-me*st-Oe*tt)*en,u[15]=(W*st-ne*Ue+oe*tt)*en,u):null}function vf(u,s,c){var h=s[0],y=s[1],w=s[2],T=s[3],O=s[4],z=s[5],$=s[6],W=s[7],ne=s[8],oe=s[9],fe=s[10],me=s[11],Se=s[12],Oe=s[13],Ve=s[14],tt=s[15],Ue=c[0],Je=c[1],st=c[2],it=c[3];return u[0]=Ue*h+Je*O+st*ne+it*Se,u[1]=Ue*y+Je*z+st*oe+it*Oe,u[2]=Ue*w+Je*$+st*fe+it*Ve,u[3]=Ue*T+Je*W+st*me+it*tt,u[4]=(Ue=c[4])*h+(Je=c[5])*O+(st=c[6])*ne+(it=c[7])*Se,u[5]=Ue*y+Je*z+st*oe+it*Oe,u[6]=Ue*w+Je*$+st*fe+it*Ve,u[7]=Ue*T+Je*W+st*me+it*tt,u[8]=(Ue=c[8])*h+(Je=c[9])*O+(st=c[10])*ne+(it=c[11])*Se,u[9]=Ue*y+Je*z+st*oe+it*Oe,u[10]=Ue*w+Je*$+st*fe+it*Ve,u[11]=Ue*T+Je*W+st*me+it*tt,u[12]=(Ue=c[12])*h+(Je=c[13])*O+(st=c[14])*ne+(it=c[15])*Se,u[13]=Ue*y+Je*z+st*oe+it*Oe,u[14]=Ue*w+Je*$+st*fe+it*Ve,u[15]=Ue*T+Je*W+st*me+it*tt,u}function Im(u,s,c){var h,y,w,T,O,z,$,W,ne,oe,fe,me,Se=c[0],Oe=c[1],Ve=c[2];return s===u?(u[12]=s[0]*Se+s[4]*Oe+s[8]*Ve+s[12],u[13]=s[1]*Se+s[5]*Oe+s[9]*Ve+s[13],u[14]=s[2]*Se+s[6]*Oe+s[10]*Ve+s[14],u[15]=s[3]*Se+s[7]*Oe+s[11]*Ve+s[15]):(y=s[1],w=s[2],T=s[3],O=s[4],z=s[5],$=s[6],W=s[7],ne=s[8],oe=s[9],fe=s[10],me=s[11],u[0]=h=s[0],u[1]=y,u[2]=w,u[3]=T,u[4]=O,u[5]=z,u[6]=$,u[7]=W,u[8]=ne,u[9]=oe,u[10]=fe,u[11]=me,u[12]=h*Se+O*Oe+ne*Ve+s[12],u[13]=y*Se+z*Oe+oe*Ve+s[13],u[14]=w*Se+$*Oe+fe*Ve+s[14],u[15]=T*Se+W*Oe+me*Ve+s[15]),u}function mf(u,s,c){var h=c[0],y=c[1],w=c[2];return u[0]=s[0]*h,u[1]=s[1]*h,u[2]=s[2]*h,u[3]=s[3]*h,u[4]=s[4]*y,u[5]=s[5]*y,u[6]=s[6]*y,u[7]=s[7]*y,u[8]=s[8]*w,u[9]=s[9]*w,u[10]=s[10]*w,u[11]=s[11]*w,u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15],u}function Hw(u,s,c){var h=Math.sin(c),y=Math.cos(c),w=s[4],T=s[5],O=s[6],z=s[7],$=s[8],W=s[9],ne=s[10],oe=s[11];return s!==u&&(u[0]=s[0],u[1]=s[1],u[2]=s[2],u[3]=s[3],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[4]=w*y+$*h,u[5]=T*y+W*h,u[6]=O*y+ne*h,u[7]=z*y+oe*h,u[8]=$*y-w*h,u[9]=W*y-T*h,u[10]=ne*y-O*h,u[11]=oe*y-z*h,u}function uy(u,s,c){var h=Math.sin(c),y=Math.cos(c),w=s[0],T=s[1],O=s[2],z=s[3],$=s[8],W=s[9],ne=s[10],oe=s[11];return s!==u&&(u[4]=s[4],u[5]=s[5],u[6]=s[6],u[7]=s[7],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[0]=w*y-$*h,u[1]=T*y-W*h,u[2]=O*y-ne*h,u[3]=z*y-oe*h,u[8]=w*h+$*y,u[9]=T*h+W*y,u[10]=O*h+ne*y,u[11]=z*h+oe*y,u}function RP(u,s){return u[0]=s[0],u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=s[1],u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=s[2],u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u}function LP(u,s,c){var h,y,w,T=c[0],O=c[1],z=c[2],$=Math.hypot(T,O,z);return $<ly?null:(T*=$=1/$,O*=$,z*=$,h=Math.sin(s),y=Math.cos(s),u[0]=T*T*(w=1-y)+y,u[1]=O*T*w+z*h,u[2]=z*T*w-O*h,u[3]=0,u[4]=T*O*w-z*h,u[5]=O*O*w+y,u[6]=z*O*w+T*h,u[7]=0,u[8]=T*z*w+O*h,u[9]=O*z*w-T*h,u[10]=z*z*w+y,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u)}Math.hypot||(Math.hypot=function(){for(var u=0,s=arguments.length;s--;)u+=arguments[s]*arguments[s];return Math.sqrt(u)});var pW=vf;function Kw(){var u=new Vo(3);return Vo!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u}function FP(u){var s=new Vo(3);return s[0]=u[0],s[1]=u[1],s[2]=u[2],s}function Om(u){return Math.hypot(u[0],u[1],u[2])}function lp(u,s,c){var h=new Vo(3);return h[0]=u,h[1]=s,h[2]=c,h}function Ou(u,s,c){return u[0]=s[0]+c[0],u[1]=s[1]+c[1],u[2]=s[2]+c[2],u}function Ww(u,s,c){return u[0]=s[0]-c[0],u[1]=s[1]-c[1],u[2]=s[2]-c[2],u}function NP(u,s,c){return u[0]=s[0]*c[0],u[1]=s[1]*c[1],u[2]=s[2]*c[2],u}function Dm(u,s,c){return u[0]=Math.min(s[0],c[0]),u[1]=Math.min(s[1],c[1]),u[2]=Math.min(s[2],c[2]),u}function Rm(u,s,c){return u[0]=Math.max(s[0],c[0]),u[1]=Math.max(s[1],c[1]),u[2]=Math.max(s[2],c[2]),u}function us(u,s,c){return u[0]=s[0]*c,u[1]=s[1]*c,u[2]=s[2]*c,u}function Lm(u,s,c,h){return u[0]=s[0]+c[0]*h,u[1]=s[1]+c[1]*h,u[2]=s[2]+c[2]*h,u}function so(u,s){var c=s[0],h=s[1],y=s[2],w=c*c+h*h+y*y;return w>0&&(w=1/Math.sqrt(w)),u[0]=s[0]*w,u[1]=s[1]*w,u[2]=s[2]*w,u}function Is(u,s){return u[0]*s[0]+u[1]*s[1]+u[2]*s[2]}function Gw(u,s,c){var h=s[0],y=s[1],w=s[2],T=c[0],O=c[1],z=c[2];return u[0]=y*z-w*O,u[1]=w*T-h*z,u[2]=h*O-y*T,u}function Vi(u,s,c){var h=s[0],y=s[1],w=s[2],T=c[3]*h+c[7]*y+c[11]*w+c[15];return u[0]=(c[0]*h+c[4]*y+c[8]*w+c[12])/(T=T||1),u[1]=(c[1]*h+c[5]*y+c[9]*w+c[13])/T,u[2]=(c[2]*h+c[6]*y+c[10]*w+c[14])/T,u}function BP(u,s,c){var h=c[0],y=c[1],w=c[2],T=s[0],O=s[1],z=s[2],$=y*z-w*O,W=w*T-h*z,ne=h*O-y*T,oe=y*ne-w*W,fe=w*$-h*ne,me=h*W-y*$,Se=2*c[3];return W*=Se,ne*=Se,fe*=2,me*=2,u[0]=T+($*=Se)+(oe*=2),u[1]=O+W+fe,u[2]=z+ne+me,u}var Fm,al=Ww,vW=NP,mW=Om;function zP(u,s,c){return u[0]=s[0]*c,u[1]=s[1]*c,u[2]=s[2]*c,u[3]=s[3]*c,u}function $P(u,s){var c=s[0],h=s[1],y=s[2],w=s[3],T=c*c+h*h+y*y+w*w;return T>0&&(T=1/Math.sqrt(T)),u[0]=c*T,u[1]=h*T,u[2]=y*T,u[3]=w*T,u}function gf(u,s,c){var h=s[0],y=s[1],w=s[2],T=s[3];return u[0]=c[0]*h+c[4]*y+c[8]*w+c[12]*T,u[1]=c[1]*h+c[5]*y+c[9]*w+c[13]*T,u[2]=c[2]*h+c[6]*y+c[10]*w+c[14]*T,u[3]=c[3]*h+c[7]*y+c[11]*w+c[15]*T,u}function jP(){var u=new Vo(4);return Vo!=Float32Array&&(u[0]=0,u[1]=0,u[2]=0),u[3]=1,u}function VP(u){return u[0]=0,u[1]=0,u[2]=0,u[3]=1,u}function UP(u,s,c){c*=.5;var h=s[0],y=s[1],w=s[2],T=s[3],O=Math.sin(c),z=Math.cos(c);return u[0]=h*z+T*O,u[1]=y*z+w*O,u[2]=w*z-y*O,u[3]=T*z-h*O,u}function HP(u,s,c){c*=.5;var h=s[0],y=s[1],w=s[2],T=s[3],O=Math.sin(c),z=Math.cos(c);return u[0]=h*z-w*O,u[1]=y*z+T*O,u[2]=w*z+h*O,u[3]=T*z-y*O,u}Kw(),Fm=new Vo(4),Vo!=Float32Array&&(Fm[0]=0,Fm[1]=0,Fm[2]=0,Fm[3]=0);var gW=$P;Kw(),lp(1,0,0),lp(0,1,0),jP(),jP(),OP();const yW=bt([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:KP}=yW,WP=bt([{name:"a_pos_3",components:3,type:"Int16"}]);var Nm=bt([{name:"a_pos",type:"Int16",components:2}]);class qw{constructor(s,c){this.pos=s,this.dir=c}intersectsPlane(s,c,h){const y=Is(c,this.dir);if(Math.abs(y)<1e-6)return!1;const w=((s[0]-this.pos[0])*c[0]+(s[1]-this.pos[1])*c[1]+(s[2]-this.pos[2])*c[2])/y;return h[0]=this.pos[0]+this.dir[0]*w,h[1]=this.pos[1]+this.dir[1]*w,h[2]=this.pos[2]+this.dir[2]*w,!0}closestPointOnSphere(s,c,h){if(function(fe,me){var Se=fe[0],Oe=fe[1],Ve=fe[2],tt=me[0],Ue=me[1],Je=me[2];return Math.abs(Se-tt)<=ly*Math.max(1,Math.abs(Se),Math.abs(tt))&&Math.abs(Oe-Ue)<=ly*Math.max(1,Math.abs(Oe),Math.abs(Ue))&&Math.abs(Ve-Je)<=ly*Math.max(1,Math.abs(Ve),Math.abs(Je))}(this.pos,s)||c===0)return h[0]=h[1]=h[2]=0,!1;const[y,w,T]=this.dir,O=this.pos[0]-s[0],z=this.pos[1]-s[1],$=this.pos[2]-s[2],W=y*y+w*w+T*T,ne=2*(O*y+z*w+$*T),oe=ne*ne-4*W*(O*O+z*z+$*$-c*c);if(oe<0){const fe=Math.max(-ne/2,0),me=O+y*fe,Se=z+w*fe,Oe=$+T*fe,Ve=Math.hypot(me,Se,Oe);return h[0]=me*c/Ve,h[1]=Se*c/Ve,h[2]=Oe*c/Ve,!1}{const fe=(-ne-Math.sqrt(oe))/(2*W);if(fe<0){const me=Math.hypot(O,z,$);return h[0]=O*c/me,h[1]=z*c/me,h[2]=$*c/me,!1}return h[0]=O+y*fe,h[1]=z+w*fe,h[2]=$+T*fe,!0}}}class Yw{constructor(s,c,h,y,w){this.TL=s,this.TR=c,this.BR=h,this.BL=y,this.horizon=w}static fromInvProjectionMatrix(s,c,h){const y=[-1,1,1],w=[1,1,1],T=[1,-1,1],O=[-1,-1,1],z=Vi(y,y,s),$=Vi(w,w,s),W=Vi(T,T,s),ne=Vi(O,O,s);return new Yw(z,$,W,ne,c/h)}}class Xw{constructor(s,c){this.points=s,this.planes=c}static fromInvProjectionMatrix(s,c,h,y){const w=Math.pow(2,h),T=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(z=>{const $=gf([],z,s),W=1/$[3]/c*w;return function(ne,oe,fe){return ne[0]=oe[0]*fe[0],ne[1]=oe[1]*fe[1],ne[2]=oe[2]*fe[2],ne[3]=oe[3]*fe[3],ne}($,$,[W,W,y?1/$[3]:W,W])}),O=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(z=>{const $=so([],Gw([],al([],T[z[0]],T[z[1]]),al([],T[z[2]],T[z[1]]))),W=-Is($,T[z[1]]);return $.concat(W)});return new Xw(T,O)}}class lo{static fromPoints(s){const c=[1/0,1/0,1/0],h=[-1/0,-1/0,-1/0];for(const y of s)Dm(c,c,y),Rm(h,h,y);return new lo(c,h)}static applyTransform(s,c){const h=s.getCorners();for(let y=0;y<h.length;++y)Vi(h[y],h[y],c);return lo.fromPoints(h)}constructor(s,c){this.min=s,this.max=c,this.center=us([],Ou([],this.min,this.max),.5)}quadrant(s){const c=[s%2==0,s<2],h=FP(this.min),y=FP(this.max);for(let w=0;w<c.length;w++)h[w]=c[w]?this.min[w]:this.center[w],y[w]=c[w]?this.center[w]:this.max[w];return y[2]=this.max[2],new lo(h,y)}distanceX(s){return Math.max(Math.min(this.max[0],s[0]),this.min[0])-s[0]}distanceY(s){return Math.max(Math.min(this.max[1],s[1]),this.min[1])-s[1]}distanceZ(s){return Math.max(Math.min(this.max[2],s[2]),this.min[2])-s[2]}getCorners(){const s=this.min,c=this.max;return[[s[0],s[1],s[2]],[c[0],s[1],s[2]],[c[0],c[1],s[2]],[s[0],c[1],s[2]],[s[0],s[1],c[2]],[c[0],s[1],c[2]],[c[0],c[1],c[2]],[s[0],c[1],c[2]]]}intersects(s){const c=this.getCorners();let h=!0;for(let y=0;y<s.planes.length;y++){const w=s.planes[y];let T=0;for(let O=0;O<c.length;O++)T+=Is(w,c[O])+w[3]>=0;if(T===0)return 0;T!==c.length&&(h=!1)}if(h)return 2;for(let y=0;y<3;y++){let w=Number.MAX_VALUE,T=-Number.MAX_VALUE;for(let O=0;O<s.points.length;O++){const z=s.points[O][y]-this.min[y];w=Math.min(w,z),T=Math.max(T,z)}if(T<0||w>this.max[y]-this.min[y])return 0}return 1}}const Zw=5,GP=6,jl=Bn/Math.PI/2,_W=16383,yf=64,Bm=[yf,32,16],Os=-jl,Ds=jl,bW=[new lo([Os,Os,Os],[Ds,Ds,Ds]),new lo([Os,Os,Os],[0,0,Ds]),new lo([0,Os,Os],[Ds,0,Ds]),new lo([Os,0,Os],[0,Ds,Ds]),new lo([0,0,Os],[Ds,Ds,Ds])];function cy(u){return u*jl/jm}function qP(u,s,c,h=!0){const y=us([],u._camera.position,u.worldSize),w=[s,c,1,1];gf(w,w,u.pixelMatrixInverse),zP(w,w,1/w[3]);const T=so([],al([],w,y)),O=u.globeMatrix,z=[O[12],O[13],O[14]],$=al([],z,y),W=Om($),ne=so([],$),oe=u.worldSize/(2*Math.PI),fe=Is(ne,T),me=Math.asin(oe/W);if(me<Math.acos(fe)){if(!h)return null;const on=[],Rt=[];us(on,T,W/fe),so(Rt,al(Rt,on,$)),so(T,Ou(T,$,us(T,Rt,Math.tan(me)*W)))}const Se=[];new qw(y,T).closestPointOnSphere(z,oe,Se);const Oe=so([],vt(O,0)),Ve=so([],vt(O,1)),tt=so([],vt(O,2)),Ue=Is(Oe,Se),Je=Is(Ve,Se),st=Is(tt,Se),it=G(Math.asin(-Je/oe));let It=G(Math.atan2(Ue,st));It=u.center.lng+function(on,Rt){const Yt=(Rt-on+180)%360-180;return Yt<-180?Yt+360:Yt}(u.center.lng,It);const Et=Ul(It),jt=X(Hl(it),0,1);return new fp(Et,jt)}class xW{constructor(s,c,h){this.a=al([],s,h),this.b=al([],c,h),this.center=h;const y=so([],this.a),w=so([],this.b);this.angle=Math.acos(Is(y,w))}}function Qw(u,s){if(u.angle===0)return null;let c;return c=u.a[s]===0?1/u.angle*.5*Math.PI:1/u.angle*Math.atan(u.b[s]/u.a[s]/Math.sin(u.angle)-1/Math.tan(u.angle)),c<0||c>1?null:function(h,y,w,T){const O=Math.sin(w);return h*(Math.sin((1-T)*w)/O)+y*(Math.sin(T*w)/O)}(u.a[s],u.b[s],u.angle,X(c,0,1))+u.center[s]}function Vl(u){if(u.z<=1)return bW[u.z+2*u.y+u.x];const s=Jw(dy(u));return lo.fromPoints(s)}function _f(u,s,c){return us(u,u,1-c),Lm(u,u,s,c)}function YP(u,s){const c=dp(s.zoom);if(c===0)return Vl(u);const h=dy(u),y=Jw(h),w=Ul(h.getWest())*s.worldSize,T=Ul(h.getEast())*s.worldSize,O=Hl(h.getNorth())*s.worldSize,z=Hl(h.getSouth())*s.worldSize,$=[w,O,0],W=[T,O,0],ne=[w,z,0],oe=[T,z,0],fe=Uw([],s.globeMatrix);return Vi($,$,fe),Vi(W,W,fe),Vi(ne,ne,fe),Vi(oe,oe,fe),y[0]=_f(y[0],ne,c),y[1]=_f(y[1],oe,c),y[2]=_f(y[2],W,c),y[3]=_f(y[3],$,c),lo.fromPoints(y)}function XP(u,s,c){for(const h of u)Vi(h,h,s),us(h,h,c)}function wW(u,s,c){const h=s/u.worldSize,y=u.globeMatrix;if(c.z<=1){const Et=Vl(c).getCorners();return XP(Et,y,h),lo.fromPoints(Et)}const w=dy(c),T=Jw(w);XP(T,y,h);const O=Number.MAX_VALUE,z=[-O,-O,-O],$=[O,O,O];if(w.contains(u.center)){for(const on of T)Dm($,$,on),Rm(z,z,on);z[2]=0;const Et=u.point,jt=[Et.x*h,Et.y*h,0];return Dm($,$,jt),Rm(z,z,jt),new lo($,z)}const W=[y[12]*h,y[13]*h,y[14]*h],ne=w.getCenter(),oe=X(u.center.lat,-Ua,Ua),fe=X(ne.lat,-Ua,Ua),me=Ul(u.center.lng),Se=Hl(oe);let Oe=me-Ul(ne.lng);const Ve=Se-Hl(fe);Oe>.5?Oe-=1:Oe<-.5&&(Oe+=1);let tt=0;Math.abs(Oe)>Math.abs(Ve)?tt=Oe>=0?1:3:(tt=Ve>=0?0:2,Lm(W,W,[y[4]*h,y[5]*h,y[6]*h],-Math.sin(q(Ve>=0?w.getSouth():w.getNorth()))*jl));const Ue=T[tt],Je=T[(tt+1)%4],st=new xW(Ue,Je,W),it=[Qw(st,0)||Ue[0],Qw(st,1)||Ue[1],Qw(st,2)||Ue[2]],It=dp(u.zoom);if(It>0){const Et=function({x:on,y:Rt,z:Yt},Xt,en,un,$t){const vn=1/(1<<Yt);let Tn=on*vn,gn=Tn+vn,ir=Rt*vn,cn=ir+vn,Ln=0;const ar=(Tn+gn)/2-un;return ar>.5?Ln=-1:ar<-.5&&(Ln=1),Tn=((Tn+Ln)*Xt-(un*=Xt))*en+un,gn=((gn+Ln)*Xt-un)*en+un,ir=(ir*Xt-($t*=Xt))*en+$t,cn=(cn*Xt-$t)*en+$t,[[Tn,cn,0],[gn,cn,0],[gn,ir,0],[Tn,ir,0]]}(c,s,u._pixelsPerMercatorPixel,me,Se);for(let on=0;on<T.length;on++)_f(T[on],Et[on],It);const jt=Ou([],Et[tt],Et[(tt+1)%4]);us(jt,jt,.5),_f(it,jt,It)}for(const Et of T)Dm($,$,Et),Rm(z,z,Et);return $[2]=Math.min(Ue[2],Je[2]),Dm($,$,it),Rm(z,z,it),new lo($,z)}function dy({x:u,y:s,z:c}){const h=1/(1<<c),y=new ei(cs(u*h),Va((s+1)*h)),w=new ei(cs((u+1)*h),Va(s*h));return new $c(y,w)}function Jw(u){const s=q(u.getNorth()),c=q(u.getSouth()),h=Math.cos(s),y=Math.cos(c),w=Math.sin(s),T=Math.sin(c),O=u.getWest(),z=u.getEast();return[up(y,T,O),up(y,T,z),up(h,w,z),up(h,w,O)]}function up(u,s,c,h=jl){return c=q(c),[u*Math.sin(c)*h,-s*h,u*Math.cos(c)*h]}function cp(u,s,c){return up(Math.cos(q(u)),Math.sin(q(u)),s,c)}function zm(u,s,c,h){const y=1<<c.z,w=(u/Bn+c.x)/y;return cp(Va((s/Bn+c.y)/y),cs(w),h)}function fy({min:u,max:s}){return _W/Math.max(s[0]-u[0],s[1]-u[1],s[2]-u[2])}const ZP=new Float64Array(16);function $m(u){const s=fy(u),c=RP(ZP,[s,s,s]);return Im(c,c,((h=[])[0]=-(y=u.min)[0],h[1]=-y[1],h[2]=-y[2],h));var h,y}function e3(u){const s=(h=u.min,(c=ZP)[0]=1,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c[5]=1,c[6]=0,c[7]=0,c[8]=0,c[9]=0,c[10]=1,c[11]=0,c[12]=h[0],c[13]=h[1],c[14]=h[2],c[15]=1,c);var c,h;const y=1/fy(u);return mf(s,s,[y,y,y])}function QP(u,s,c,h,y){const w=function(z){const $=Bn/(2*Math.PI);return z/(2*Math.PI)/$}(c),T=[u,s,-c/(2*Math.PI)],O=il(new Float64Array(16));return Im(O,O,T),mf(O,O,[w,w,w]),Hw(O,O,q(-y)),uy(O,O,q(-h)),O}function dp(u){return ie(Zw,GP,u)}function JP(u,s){const c=cp(s.lat,s.lng),h=function(me){const Se=cp(me._center.lat,me._center.lng);let Oe=Gw([],lp(0,1,0),Se);const Ve=LP([],-me.angle,Se);Oe=Vi(Oe,Oe,Ve),LP(Ve,-me._pitch,Oe);const tt=so([],Se);return us(tt,tt,cy(me.cameraToCenterDistance/me.pixelsPerMeter)),Vi(tt,tt,Ve),Ou([],Se,tt)}(u);return T=(y=Ww([],h,c))[0],O=y[1],z=y[2],$=(w=c)[0],W=w[1],ne=w[2],fe=(oe=Math.sqrt(T*T+O*O+z*z)*Math.sqrt($*$+W*W+ne*ne))&&Is(y,w)/oe,Math.acos(Math.min(Math.max(fe,-1),1));var y,w,T,O,z,$,W,ne,oe,fe}function t3(u,s){return JP(u,s)>Math.PI/2*1.01}const e9=q(85),CW=Math.cos(e9),SW=Math.sin(e9),jm=63710088e-1,t9=2*Math.PI*jm;class jc{constructor(s,c){if(isNaN(s)||isNaN(c))throw new Error(`Invalid LngLat object: (${s}, ${c})`);if(this.lng=+s,this.lat=+c,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new jc(he(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(s){const c=Math.PI/180,h=this.lat*c,y=s.lat*c,w=Math.sin(h)*Math.sin(y)+Math.cos(h)*Math.cos(y)*Math.cos((s.lng-this.lng)*c);return jm*Math.acos(Math.min(w,1))}toBounds(s=0){const c=360*s/40075017,h=c/Math.cos(Math.PI/180*this.lat);return new $c(new jc(this.lng-h,this.lat-c),new jc(this.lng+h,this.lat+c))}toEcef(s){const c=cy(s);return cp(this.lat,this.lng,jl+c)}static convert(s){if(s instanceof jc)return s;if(Array.isArray(s)&&(s.length===2||s.length===3))return new jc(Number(s[0]),Number(s[1]));if(!Array.isArray(s)&&typeof s=="object"&&s!==null)return new jc(Number("lng"in s?s.lng:s.lon),Number(s.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}var ei=jc;function n3(u){return t9*Math.cos(u*Math.PI/180)}function Ul(u){return(180+u)/360}function Hl(u){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+u*Math.PI/360)))/360}function ol(u,s){return u/n3(s)}function cs(u){return 360*u-180}function Va(u){return 360/Math.PI*Math.atan(Math.exp((180-360*u)*Math.PI/180))-90}function n9(u,s){return u*n3(Va(s))}const Ua=85.051129;function r9(u){return 1/Math.cos(u*Math.PI/180)}class fp{constructor(s,c,h=0){this.x=+s,this.y=+c,this.z=+h}static fromLngLat(s,c=0){const h=ei.convert(s);return new fp(Ul(h.lng),Hl(h.lat),ol(c,h.lat))}toLngLat(){return new ei(cs(this.x),Va(this.y))}toAltitude(){return n9(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/t9*r9(Va(this.y))}}function r3(u,s,c,h,y,w,T,O,z){const $=(s+h)/2,W=(c+y)/2,ne=new V($,W);O(ne),function(oe,fe,me,Se,Oe,Ve){const tt=me-Oe,Ue=Se-Ve;return Math.abs((Se-fe)*tt-(me-oe)*Ue)/Math.hypot(tt,Ue)}(ne.x,ne.y,w.x,w.y,T.x,T.y)>=z?(r3(u,s,c,$,W,w,ne,O,z),r3(u,$,W,h,y,ne,T,O,z)):u.push(T)}function i9(u,s,c){let h=u[0],y=h.x,w=h.y;s(h);const T=[h];for(let O=1;O<u.length;O++){const z=u[O],{x:$,y:W}=z;s(z),r3(T,y,w,$,W,h,z,s,c),y=$,w=W,h=z}return T}function i3(u,s,c,h){if(h(s,c)){const y=s.add(c)._mult(.5);i3(u,s,y,h),i3(u,y,c,h)}else u.push(c)}function TW(u,s){let c=u[0];const h=[c];for(let y=1;y<u.length;y++){const w=u[y];i3(h,c,w,s),c=w}return h}const a3=Math.pow(2,14)-1,a9=-a3-1;function EW(u,s){const c=Math.round(u.x*s),h=Math.round(u.y*s);return u.x=X(c,a9,a3),u.y=X(h,a9,a3),(c<u.x||c>u.x+1||h<u.y||h>u.y+1)&&We("Geometry exceeds allowed extent, reduce your vector tile buffer size"),u}function Du(u,s,c){const h=u.loadGeometry(),y=u.extent,w=Bn/y;if(s&&c&&c.projection.isReprojectedInTileSpace){const T=1<<s.z,{scale:O,x:z,y:$,projection:W}=c,ne=oe=>{const fe=cs((s.x+oe.x/y)/T),me=Va((s.y+oe.y/y)/T),Se=W.project(fe,me);oe.x=(Se.x*O-z)*y,oe.y=(Se.y*O-$)*y};for(let oe=0;oe<h.length;oe++)if(u.type!==1)h[oe]=i9(h[oe],ne,1);else{const fe=[];for(const me of h[oe])me.x<0||me.x>=y||me.y<0||me.y>=y||(ne(me),fe.push(me));h[oe]=fe}}for(const T of h)for(const O of T)EW(O,w);return h}function bf(u,s){return{type:u.type,id:u.id,properties:u.properties,geometry:s?Du(u):[]}}function hy(u,s,c,h,y){u.emplaceBack(2*s+(h+1)/2,2*c+(y+1)/2)}function py(u,s,c){u.emplaceBack(s.x,s.y,s.z,c[0]*16384,c[1]*16384,c[2]*16384)}class o3{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.projection=s.projection,this.layoutVertexArray=new an,this.indexArray=new On,this.segments=new Gi,this.programConfigurations=new pf(s.layers,s.zoom),this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,h,y){const w=this.layers[0],T=[];let O=null;w.type==="circle"&&(O=w.layout.get("circle-sort-key"));for(const{feature:$,id:W,index:ne,sourceLayerIndex:oe}of s){const fe=this.layers[0]._featureFilter.needGeometry,me=bf($,fe);if(!this.layers[0]._featureFilter.filter(new ee(this.zoom),me,h))continue;const Se=O?O.evaluate(me,{},h):void 0,Oe={id:W,properties:$.properties,type:$.type,sourceLayerIndex:oe,index:ne,geometry:fe?me.geometry:Du($,h,y),patterns:{},sortKey:Se};T.push(Oe)}O&&T.sort(($,W)=>$.sortKey-W.sortKey);let z=null;y.projection.name==="globe"&&(this.globeExtVertexArray=new sn,z=y.projection);for(const $ of T){const{geometry:W,index:ne,sourceLayerIndex:oe}=$,fe=s[ne].feature;this.addFeature($,W,ne,c.availableImages,h,z),c.featureIndex.insert(fe,W,ne,oe,this.index)}}update(s,c,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,h,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,fW.members),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=s.createVertexBuffer(this.globeExtVertexArray,hW.members))),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(s,c,h,y,w,T){for(const O of c)for(const z of O){const $=z.x,W=z.y;if($<0||$>=Bn||W<0||W>=Bn)continue;if(T){const fe=T.projectTilePoint($,W,w),me=T.upVector(w,$,W),Se=this.globeExtVertexArray;py(Se,fe,me),py(Se,fe,me),py(Se,fe,me),py(Se,fe,me)}const ne=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,s.sortKey),oe=ne.vertexLength;hy(this.layoutVertexArray,$,W,-1,-1),hy(this.layoutVertexArray,$,W,1,-1),hy(this.layoutVertexArray,$,W,1,1),hy(this.layoutVertexArray,$,W,-1,1),this.indexArray.emplaceBack(oe,oe+1,oe+2),this.indexArray.emplaceBack(oe,oe+2,oe+3),ne.vertexLength+=4,ne.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,{},y,w)}}function o9(u,s){for(let c=0;c<u.length;c++)if(xf(s,u[c]))return!0;for(let c=0;c<s.length;c++)if(xf(u,s[c]))return!0;return!!s3(u,s)}function PW(u,s,c){return!!xf(u,s)||!!l3(s,u,c)}function s9(u,s){if(u.length===1)return u9(s,u[0]);for(let c=0;c<s.length;c++){const h=s[c];for(let y=0;y<h.length;y++)if(xf(u,h[y]))return!0}for(let c=0;c<u.length;c++)if(u9(s,u[c]))return!0;for(let c=0;c<s.length;c++)if(s3(u,s[c]))return!0;return!1}function MW(u,s,c){if(u.length>1){if(s3(u,s))return!0;for(let h=0;h<s.length;h++)if(l3(s[h],u,c))return!0}for(let h=0;h<u.length;h++)if(l3(u[h],s,c))return!0;return!1}function s3(u,s){if(u.length===0||s.length===0)return!1;for(let c=0;c<u.length-1;c++){const h=u[c],y=u[c+1];for(let w=0;w<s.length-1;w++)if(kW(h,y,s[w],s[w+1]))return!0}return!1}function kW(u,s,c,h){return Qe(u,c,h)!==Qe(s,c,h)&&Qe(u,s,c)!==Qe(u,s,h)}function l3(u,s,c){const h=c*c;if(s.length===1)return u.distSqr(s[0])<h;for(let y=1;y<s.length;y++)if(l9(u,s[y-1],s[y])<h)return!0;return!1}function l9(u,s,c){const h=s.distSqr(c);if(h===0)return u.distSqr(s);const y=((u.x-s.x)*(c.x-s.x)+(u.y-s.y)*(c.y-s.y))/h;return u.distSqr(y<0?s:y>1?c:c.sub(s)._mult(y)._add(s))}function u9(u,s){let c,h,y,w=!1;for(let T=0;T<u.length;T++){c=u[T];for(let O=0,z=c.length-1;O<c.length;z=O++)h=c[O],y=c[z],h.y>s.y!=y.y>s.y&&s.x<(y.x-h.x)*(s.y-h.y)/(y.y-h.y)+h.x&&(w=!w)}return w}function xf(u,s){let c=!1;for(let h=0,y=u.length-1;h<u.length;y=h++){const w=u[h],T=u[y];w.y>s.y!=T.y>s.y&&s.x<(T.x-w.x)*(s.y-w.y)/(T.y-w.y)+w.x&&(c=!c)}return c}function c9(u,s,c,h,y){for(const T of u)if(s<=T.x&&c<=T.y&&h>=T.x&&y>=T.y)return!0;const w=[new V(s,c),new V(s,y),new V(h,y),new V(h,c)];if(u.length>2){for(const T of w)if(xf(u,T))return!0}for(let T=0;T<u.length-1;T++)if(AW(u[T],u[T+1],w))return!0;return!1}function AW(u,s,c){const h=c[0],y=c[2];if(u.x<h.x&&s.x<h.x||u.x>y.x&&s.x>y.x||u.y<h.y&&s.y<h.y||u.y>y.y&&s.y>y.y)return!1;const w=Qe(u,s,c[0]);return w!==Qe(u,s,c[1])||w!==Qe(u,s,c[2])||w!==Qe(u,s,c[3])}function hp(u,s,c){const h=s.paint.get(u).value;return h.kind==="constant"?h.value:c.programConfigurations.get(s.id).getMaxValue(u)}function vy(u){return Math.sqrt(u[0]*u[0]+u[1]*u[1])}function d9(u,s,c,h,y){if(!s[0]&&!s[1])return u;const w=V.convert(s)._mult(y);c==="viewport"&&w._rotate(-h);const T=[];for(let O=0;O<u.length;O++)T.push(u[O].sub(w));return T}function f9(u,s,c,h){const y=V.convert(u)._mult(h);return s==="viewport"&&y._rotate(-c),y}bn(o3,"CircleBucket",{omit:["layers"]});const IW=new Xe({"circle-sort-key":new Le(zt.layout_circle["circle-sort-key"])});var OW={paint:new Xe({"circle-radius":new Le(zt.paint_circle["circle-radius"]),"circle-color":new Le(zt.paint_circle["circle-color"]),"circle-blur":new Le(zt.paint_circle["circle-blur"]),"circle-opacity":new Le(zt.paint_circle["circle-opacity"]),"circle-translate":new Ce(zt.paint_circle["circle-translate"]),"circle-translate-anchor":new Ce(zt.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ce(zt.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ce(zt.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Le(zt.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Le(zt.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Le(zt.paint_circle["circle-stroke-opacity"])}),layout:IW};function h9(u,s,c,h,y,w,T,O,z){if(w&&u.queryGeometry.isAboveHorizon)return!1;w&&(z*=u.pixelToTileUnitsFactor);const $=u.tileID.canonical,W=c.projection.upVectorScale($,c.center.lat,c.worldSize).metersToTile;for(const ne of s)for(const oe of ne){const fe=oe.add(O),me=y&&c.elevation?c.elevation.exaggeration()*y.getElevationAt(fe.x,fe.y,!0):0,Se=c.projection.projectTilePoint(fe.x,fe.y,$);if(me>0){const Ue=c.projection.upVector($,fe.x,fe.y);Se.x+=Ue[0]*W*me,Se.y+=Ue[1]*W*me,Se.z+=Ue[2]*W*me}const Oe=w?fe:DW(Se.x,Se.y,Se.z,h),Ve=w?u.tilespaceRays.map(Ue=>LW(Ue,me)):u.queryGeometry.screenGeometry,tt=gf([],[Se.x,Se.y,Se.z,1],h);if(!T&&w?z*=tt[3]/c.cameraToCenterDistance:T&&!w&&(z*=c.cameraToCenterDistance/tt[3]),w){const Ue=Va((oe.y/Bn+$.y)/(1<<$.z));z/=c.projection.pixelsPerMeter(Ue,1)/ol(1,Ue)}if(PW(Ve,Oe,z))return!0}return!1}function DW(u,s,c,h){const y=gf([],[u,s,c,1],h);return new V(y[0]/y[3],y[1]/y[3])}const p9=lp(0,0,0),RW=lp(0,0,1);function LW(u,s){const c=Kw();return p9[2]=s,u.intersectsPlane(p9,RW,c),new V(c[0],c[1])}class v9 extends o3{}function m9(u,{width:s,height:c},h,y){if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==s*c*h)throw new RangeError("mismatched image size")}else y=new Uint8Array(s*c*h);return u.width=s,u.height=c,u.data=y,u}function g9(u,s,c){const{width:h,height:y}=s;h===u.width&&y===u.height||(u3(u,s,{x:0,y:0},{x:0,y:0},{width:Math.min(u.width,h),height:Math.min(u.height,y)},c),u.width=h,u.height=y,u.data=s.data)}function u3(u,s,c,h,y,w){if(y.width===0||y.height===0)return s;if(y.width>u.width||y.height>u.height||c.x>u.width-y.width||c.y>u.height-y.height)throw new RangeError("out of range source coordinates for image copy");if(y.width>s.width||y.height>s.height||h.x>s.width-y.width||h.y>s.height-y.height)throw new RangeError("out of range destination coordinates for image copy");const T=u.data,O=s.data;for(let z=0;z<y.height;z++){const $=((c.y+z)*u.width+c.x)*w,W=((h.y+z)*s.width+h.x)*w;for(let ne=0;ne<y.width*w;ne++)O[W+ne]=T[$+ne]}return s}bn(v9,"HeatmapBucket",{omit:["layers"]});class Ru{constructor(s,c){m9(this,s,1,c)}resize(s){g9(this,new Ru(s),1)}clone(){return new Ru({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,h,y,w){u3(s,c,h,y,w,1)}}class Uo{constructor(s,c){m9(this,s,4,c)}resize(s){g9(this,new Uo(s),4)}replace(s,c){c?this.data.set(s):this.data=s instanceof Uint8ClampedArray?new Uint8Array(s.buffer):s}clone(){return new Uo({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(s,c,h,y,w){u3(s,c,h,y,w,4)}}bn(Ru,"AlphaImage"),bn(Uo,"RGBAImage");var FW={paint:new Xe({"heatmap-radius":new Le(zt.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Le(zt.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ce(zt.paint_heatmap["heatmap-intensity"]),"heatmap-color":new qe(zt.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ce(zt.paint_heatmap["heatmap-opacity"])})};function c3(u){const s={},c=u.resolution||256,h=u.clips?u.clips.length:1,y=u.image||new Uo({width:c,height:h}),w=(T,O,z)=>{s[u.evaluationKey]=z;const $=u.expression.evaluate(s);y.data[T+O+0]=Math.floor(255*$.r/$.a),y.data[T+O+1]=Math.floor(255*$.g/$.a),y.data[T+O+2]=Math.floor(255*$.b/$.a),y.data[T+O+3]=Math.floor(255*$.a)};if(u.clips)for(let T=0,O=0;T<h;++T,O+=4*c)for(let z=0,$=0;z<c;z++,$+=4){const W=z/(c-1),{start:ne,end:oe}=u.clips[T];w(O,$,ne*(1-W)+oe*W)}else for(let T=0,O=0;T<c;T++,O+=4)w(0,O,T/(c-1));return y}var NW={paint:new Xe({"hillshade-illumination-direction":new Ce(zt.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ce(zt.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ce(zt.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ce(zt.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ce(zt.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ce(zt.paint_hillshade["hillshade-accent-color"])})};const BW=bt([{name:"a_pos",components:2,type:"Int16"}],4),{members:zW}=BW;var d3={exports:{}};function my(u,s,c){c=c||2;var h,y,w,T,O,z,$,W=s&&s.length,ne=W?s[0]*c:u.length,oe=y9(u,0,ne,c,!0),fe=[];if(!oe||oe.next===oe.prev)return fe;if(W&&(oe=function(Se,Oe,Ve,tt){var Ue,Je,st,it=[];for(Ue=0,Je=Oe.length;Ue<Je;Ue++)(st=y9(Se,Oe[Ue]*tt,Ue<Je-1?Oe[Ue+1]*tt:Se.length,tt,!1))===st.next&&(st.steiner=!0),it.push(GW(st));for(it.sort(HW),Ue=0;Ue<it.length;Ue++)Ve=KW(it[Ue],Ve);return Ve}(u,s,oe,c)),u.length>80*c){h=w=u[0],y=T=u[1];for(var me=c;me<ne;me+=c)(O=u[me])<h&&(h=O),(z=u[me+1])<y&&(y=z),O>w&&(w=O),z>T&&(T=z);$=($=Math.max(w-h,T-y))!==0?32767/$:0}return Vm(oe,fe,c,h,y,$,0),fe}function y9(u,s,c,h,y){var w,T;if(y===p3(u,s,c,h)>0)for(w=s;w<c;w+=h)T=x9(w,u[w],u[w+1],T);else for(w=c-h;w>=s;w-=h)T=x9(w,u[w],u[w+1],T);return T&&gy(T,T.next)&&(Hm(T),T=T.next),T}function wf(u,s){if(!u)return u;s||(s=u);var c,h=u;do if(c=!1,h.steiner||!gy(h,h.next)&&qi(h.prev,h,h.next)!==0)h=h.next;else{if(Hm(h),(h=s=h.prev)===h.next)break;c=!0}while(c||h!==s);return s}function Vm(u,s,c,h,y,w,T){if(u){!T&&w&&function(W,ne,oe,fe){var me=W;do me.z===0&&(me.z=f3(me.x,me.y,ne,oe,fe)),me.prevZ=me.prev,me.nextZ=me.next,me=me.next;while(me!==W);me.prevZ.nextZ=null,me.prevZ=null,function(Se){var Oe,Ve,tt,Ue,Je,st,it,It,Et=1;do{for(Ve=Se,Se=null,Je=null,st=0;Ve;){for(st++,tt=Ve,it=0,Oe=0;Oe<Et&&(it++,tt=tt.nextZ);Oe++);for(It=Et;it>0||It>0&&tt;)it!==0&&(It===0||!tt||Ve.z<=tt.z)?(Ue=Ve,Ve=Ve.nextZ,it--):(Ue=tt,tt=tt.nextZ,It--),Je?Je.nextZ=Ue:Se=Ue,Ue.prevZ=Je,Je=Ue;Ve=tt}Je.nextZ=null,Et*=2}while(st>1)}(me)}(u,h,y,w);for(var O,z,$=u;u.prev!==u.next;)if(O=u.prev,z=u.next,w?jW(u,h,y,w):$W(u))s.push(O.i/c|0),s.push(u.i/c|0),s.push(z.i/c|0),Hm(u),u=z.next,$=z.next;else if((u=z)===$){T?T===1?Vm(u=VW(wf(u),s,c),s,c,h,y,w,2):T===2&&UW(u,s,c,h,y,w):Vm(wf(u),s,c,h,y,w,1);break}}}function $W(u){var s=u.prev,c=u,h=u.next;if(qi(s,c,h)>=0)return!1;for(var y=s.x,w=c.x,T=h.x,O=s.y,z=c.y,$=h.y,W=y<w?y<T?y:T:w<T?w:T,ne=O<z?O<$?O:$:z<$?z:$,oe=y>w?y>T?y:T:w>T?w:T,fe=O>z?O>$?O:$:z>$?z:$,me=h.next;me!==s;){if(me.x>=W&&me.x<=oe&&me.y>=ne&&me.y<=fe&&pp(y,O,w,z,T,$,me.x,me.y)&&qi(me.prev,me,me.next)>=0)return!1;me=me.next}return!0}function jW(u,s,c,h){var y=u.prev,w=u,T=u.next;if(qi(y,w,T)>=0)return!1;for(var O=y.x,z=w.x,$=T.x,W=y.y,ne=w.y,oe=T.y,fe=O<z?O<$?O:$:z<$?z:$,me=W<ne?W<oe?W:oe:ne<oe?ne:oe,Se=O>z?O>$?O:$:z>$?z:$,Oe=W>ne?W>oe?W:oe:ne>oe?ne:oe,Ve=f3(fe,me,s,c,h),tt=f3(Se,Oe,s,c,h),Ue=u.prevZ,Je=u.nextZ;Ue&&Ue.z>=Ve&&Je&&Je.z<=tt;){if(Ue.x>=fe&&Ue.x<=Se&&Ue.y>=me&&Ue.y<=Oe&&Ue!==y&&Ue!==T&&pp(O,W,z,ne,$,oe,Ue.x,Ue.y)&&qi(Ue.prev,Ue,Ue.next)>=0||(Ue=Ue.prevZ,Je.x>=fe&&Je.x<=Se&&Je.y>=me&&Je.y<=Oe&&Je!==y&&Je!==T&&pp(O,W,z,ne,$,oe,Je.x,Je.y)&&qi(Je.prev,Je,Je.next)>=0))return!1;Je=Je.nextZ}for(;Ue&&Ue.z>=Ve;){if(Ue.x>=fe&&Ue.x<=Se&&Ue.y>=me&&Ue.y<=Oe&&Ue!==y&&Ue!==T&&pp(O,W,z,ne,$,oe,Ue.x,Ue.y)&&qi(Ue.prev,Ue,Ue.next)>=0)return!1;Ue=Ue.prevZ}for(;Je&&Je.z<=tt;){if(Je.x>=fe&&Je.x<=Se&&Je.y>=me&&Je.y<=Oe&&Je!==y&&Je!==T&&pp(O,W,z,ne,$,oe,Je.x,Je.y)&&qi(Je.prev,Je,Je.next)>=0)return!1;Je=Je.nextZ}return!0}function VW(u,s,c){var h=u;do{var y=h.prev,w=h.next.next;!gy(y,w)&&_9(y,h,h.next,w)&&Um(y,w)&&Um(w,y)&&(s.push(y.i/c|0),s.push(h.i/c|0),s.push(w.i/c|0),Hm(h),Hm(h.next),h=u=w),h=h.next}while(h!==u);return wf(h)}function UW(u,s,c,h,y,w){var T=u;do{for(var O=T.next.next;O!==T.prev;){if(T.i!==O.i&&qW(T,O)){var z=b9(T,O);return T=wf(T,T.next),z=wf(z,z.next),Vm(T,s,c,h,y,w,0),void Vm(z,s,c,h,y,w,0)}O=O.next}T=T.next}while(T!==u)}function HW(u,s){return u.x-s.x}function KW(u,s){var c=function(y,w){var T,O=w,z=y.x,$=y.y,W=-1/0;do{if($<=O.y&&$>=O.next.y&&O.next.y!==O.y){var ne=O.x+($-O.y)*(O.next.x-O.x)/(O.next.y-O.y);if(ne<=z&&ne>W&&(W=ne,T=O.x<O.next.x?O:O.next,ne===z))return T}O=O.next}while(O!==w);if(!T)return null;var oe,fe=T,me=T.x,Se=T.y,Oe=1/0;O=T;do z>=O.x&&O.x>=me&&z!==O.x&&pp($<Se?z:W,$,me,Se,$<Se?W:z,$,O.x,O.y)&&(oe=Math.abs($-O.y)/(z-O.x),Um(O,y)&&(oe<Oe||oe===Oe&&(O.x>T.x||O.x===T.x&&WW(T,O)))&&(T=O,Oe=oe)),O=O.next;while(O!==fe);return T}(u,s);if(!c)return s;var h=b9(c,u);return wf(h,h.next),wf(c,c.next)}function WW(u,s){return qi(u.prev,u,s.prev)<0&&qi(s.next,u,u.next)<0}function f3(u,s,c,h,y){return(u=1431655765&((u=858993459&((u=252645135&((u=16711935&((u=(u-c)*y|0)|u<<8))|u<<4))|u<<2))|u<<1))|(s=1431655765&((s=858993459&((s=252645135&((s=16711935&((s=(s-h)*y|0)|s<<8))|s<<4))|s<<2))|s<<1))<<1}function GW(u){var s=u,c=u;do(s.x<c.x||s.x===c.x&&s.y<c.y)&&(c=s),s=s.next;while(s!==u);return c}function pp(u,s,c,h,y,w,T,O){return(y-T)*(s-O)>=(u-T)*(w-O)&&(u-T)*(h-O)>=(c-T)*(s-O)&&(c-T)*(w-O)>=(y-T)*(h-O)}function qW(u,s){return u.next.i!==s.i&&u.prev.i!==s.i&&!function(c,h){var y=c;do{if(y.i!==c.i&&y.next.i!==c.i&&y.i!==h.i&&y.next.i!==h.i&&_9(y,y.next,c,h))return!0;y=y.next}while(y!==c);return!1}(u,s)&&(Um(u,s)&&Um(s,u)&&function(c,h){var y=c,w=!1,T=(c.x+h.x)/2,O=(c.y+h.y)/2;do y.y>O!=y.next.y>O&&y.next.y!==y.y&&T<(y.next.x-y.x)*(O-y.y)/(y.next.y-y.y)+y.x&&(w=!w),y=y.next;while(y!==c);return w}(u,s)&&(qi(u.prev,u,s.prev)||qi(u,s.prev,s))||gy(u,s)&&qi(u.prev,u,u.next)>0&&qi(s.prev,s,s.next)>0)}function qi(u,s,c){return(s.y-u.y)*(c.x-s.x)-(s.x-u.x)*(c.y-s.y)}function gy(u,s){return u.x===s.x&&u.y===s.y}function _9(u,s,c,h){var y=_y(qi(u,s,c)),w=_y(qi(u,s,h)),T=_y(qi(c,h,u)),O=_y(qi(c,h,s));return y!==w&&T!==O||!(y!==0||!yy(u,c,s))||!(w!==0||!yy(u,h,s))||!(T!==0||!yy(c,u,h))||!(O!==0||!yy(c,s,h))}function yy(u,s,c){return s.x<=Math.max(u.x,c.x)&&s.x>=Math.min(u.x,c.x)&&s.y<=Math.max(u.y,c.y)&&s.y>=Math.min(u.y,c.y)}function _y(u){return u>0?1:u<0?-1:0}function Um(u,s){return qi(u.prev,u,u.next)<0?qi(u,s,u.next)>=0&&qi(u,u.prev,s)>=0:qi(u,s,u.prev)<0||qi(u,u.next,s)<0}function b9(u,s){var c=new h3(u.i,u.x,u.y),h=new h3(s.i,s.x,s.y),y=u.next,w=s.prev;return u.next=s,s.prev=u,c.next=y,y.prev=c,h.next=c,c.prev=h,w.next=h,h.prev=w,h}function x9(u,s,c,h){var y=new h3(u,s,c);return h?(y.next=h.next,y.prev=h,h.next.prev=y,h.next=y):(y.prev=y,y.next=y),y}function Hm(u){u.next.prev=u.prev,u.prev.next=u.next,u.prevZ&&(u.prevZ.nextZ=u.nextZ),u.nextZ&&(u.nextZ.prevZ=u.prevZ)}function h3(u,s,c){this.i=u,this.x=s,this.y=c,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function p3(u,s,c,h){for(var y=0,w=s,T=c-h;w<c;w+=h)y+=(u[T]-u[w])*(u[w+1]+u[T+1]),T=w;return y}d3.exports=my,d3.exports.default=my,my.deviation=function(u,s,c,h){var y=s&&s.length,w=Math.abs(p3(u,0,y?s[0]*c:u.length,c));if(y)for(var T=0,O=s.length;T<O;T++)w-=Math.abs(p3(u,s[T]*c,T<O-1?s[T+1]*c:u.length,c));var z=0;for(T=0;T<h.length;T+=3){var $=h[T]*c,W=h[T+1]*c,ne=h[T+2]*c;z+=Math.abs((u[$]-u[ne])*(u[W+1]-u[$+1])-(u[$]-u[W])*(u[ne+1]-u[$+1]))}return w===0&&z===0?0:Math.abs((z-w)/w)},my.flatten=function(u){for(var s=u[0][0].length,c={vertices:[],holes:[],dimensions:s},h=0,y=0;y<u.length;y++){for(var w=0;w<u[y].length;w++)for(var T=0;T<s;T++)c.vertices.push(u[y][w][T]);y>0&&c.holes.push(h+=u[y-1].length)}return c};var v3=D(d3.exports);function YW(u,s,c,h,y){w9(u,s,c||0,h||u.length-1,y||XW)}function w9(u,s,c,h,y){for(;h>c;){if(h-c>600){var w=h-c+1,T=s-c+1,O=Math.log(w),z=.5*Math.exp(2*O/3),$=.5*Math.sqrt(O*z*(w-z)/w)*(T-w/2<0?-1:1);w9(u,s,Math.max(c,Math.floor(s-T*z/w+$)),Math.min(h,Math.floor(s+(w-T)*z/w+$)),y)}var W=u[s],ne=c,oe=h;for(Km(u,c,s),y(u[h],W)>0&&Km(u,c,h);ne<oe;){for(Km(u,ne,oe),ne++,oe--;y(u[ne],W)<0;)ne++;for(;y(u[oe],W)>0;)oe--}y(u[c],W)===0?Km(u,c,oe):Km(u,++oe,h),oe<=s&&(c=oe+1),s<=oe&&(h=oe-1)}}function Km(u,s,c){var h=u[s];u[s]=u[c],u[c]=h}function XW(u,s){return u<s?-1:u>s?1:0}function m3(u,s){const c=u.length;if(c<=1)return[u];const h=[];let y,w;for(let T=0;T<c;T++){const O=at(u[T]);O!==0&&(u[T].area=Math.abs(O),w===void 0&&(w=O<0),w===O<0?(y&&h.push(y),y=[u[T]]):y.push(u[T]))}if(y&&h.push(y),s>1)for(let T=0;T<h.length;T++)h[T].length<=s||(YW(h[T],s,1,h[T].length-1,ZW),h[T]=h[T].slice(0,s));return h}function ZW(u,s){return s.area-u.area}function g3(u,s,c){const h=c.patternDependencies;let y=!1;for(const w of s){const T=w.paint.get(`${u}-pattern`);T.isConstant()||(y=!0);const O=T.constantOr(null);O&&(y=!0,h[O]=!0)}return y}function y3(u,s,c,h,y){const w=y.patternDependencies;for(const T of s){const O=T.paint.get(`${u}-pattern`).value;if(O.kind!=="constant"){let z=O.evaluate({zoom:h},c,{},y.availableImages);z=z&&z.name?z.name:z,w[z]=!0,c.patterns[T.id]=z}}return c}class by{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new an,this.indexArray=new On,this.indexArray2=new Sa,this.programConfigurations=new pf(s.layers,s.zoom),this.segments=new Gi,this.segments2=new Gi,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id),this.projection=s.projection}populate(s,c,h,y){this.hasPattern=g3("fill",this.layers,c);const w=this.layers[0].layout.get("fill-sort-key"),T=[];for(const{feature:O,id:z,index:$,sourceLayerIndex:W}of s){const ne=this.layers[0]._featureFilter.needGeometry,oe=bf(O,ne);if(!this.layers[0]._featureFilter.filter(new ee(this.zoom),oe,h))continue;const fe=w?w.evaluate(oe,{},h,c.availableImages):void 0,me={id:z,properties:O.properties,type:O.type,sourceLayerIndex:W,index:$,geometry:ne?oe.geometry:Du(O,h,y),patterns:{},sortKey:fe};T.push(me)}w&&T.sort((O,z)=>O.sortKey-z.sortKey);for(const O of T){const{geometry:z,index:$,sourceLayerIndex:W}=O;if(this.hasPattern){const ne=y3("fill",this.layers,O,this.zoom,c);this.patternFeatures.push(ne)}else this.addFeature(O,z,$,h,{},c.availableImages);c.featureIndex.insert(s[$].feature,z,$,W,this.index)}}update(s,c,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,h,y)}addFeatures(s,c,h,y,w){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,c,h,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,zW),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.indexBuffer2=s.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(s,c,h,y,w,T=[]){for(const O of m3(c,500)){let z=0;for(const me of O)z+=me.length;const $=this.segments.prepareSegment(z,this.layoutVertexArray,this.indexArray),W=$.vertexLength,ne=[],oe=[];for(const me of O){if(me.length===0)continue;me!==O[0]&&oe.push(ne.length/2);const Se=this.segments2.prepareSegment(me.length,this.layoutVertexArray,this.indexArray2),Oe=Se.vertexLength;this.layoutVertexArray.emplaceBack(me[0].x,me[0].y),this.indexArray2.emplaceBack(Oe+me.length-1,Oe),ne.push(me[0].x),ne.push(me[0].y);for(let Ve=1;Ve<me.length;Ve++)this.layoutVertexArray.emplaceBack(me[Ve].x,me[Ve].y),this.indexArray2.emplaceBack(Oe+Ve-1,Oe+Ve),ne.push(me[Ve].x),ne.push(me[Ve].y);Se.vertexLength+=me.length,Se.primitiveLength+=me.length}const fe=v3(ne,oe);for(let me=0;me<fe.length;me+=3)this.indexArray.emplaceBack(W+fe[me],W+fe[me+1],W+fe[me+2]);$.vertexLength+=z,$.primitiveLength+=fe.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,w,T,y)}}bn(by,"FillBucket",{omit:["layers","patternFeatures"]});const QW=new Xe({"fill-sort-key":new Le(zt.layout_fill["fill-sort-key"])});var JW={paint:new Xe({"fill-antialias":new Ce(zt.paint_fill["fill-antialias"]),"fill-opacity":new Le(zt.paint_fill["fill-opacity"]),"fill-color":new Le(zt.paint_fill["fill-color"]),"fill-outline-color":new Le(zt.paint_fill["fill-outline-color"]),"fill-translate":new Ce(zt.paint_fill["fill-translate"]),"fill-translate-anchor":new Ce(zt.paint_fill["fill-translate-anchor"]),"fill-pattern":new Le(zt.paint_fill["fill-pattern"])}),layout:QW};const eG=bt([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),tG=bt([{name:"a_centroid_pos",components:2,type:"Uint16"}]),nG=bt([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:rG}=eG;var xy={},iG=j,C9=vp;function vp(u,s,c,h,y){this.properties={},this.extent=c,this.type=0,this._pbf=u,this._geometry=-1,this._keys=h,this._values=y,u.readFields(aG,this,s)}function aG(u,s,c){u==1?s.id=c.readVarint():u==2?function(h,y){for(var w=h.readVarint()+h.pos;h.pos<w;){var T=y._keys[h.readVarint()],O=y._values[h.readVarint()];y.properties[T]=O}}(c,s):u==3?s.type=c.readVarint():u==4&&(s._geometry=c.pos)}function oG(u){for(var s,c,h=0,y=0,w=u.length,T=w-1;y<w;T=y++)h+=((c=u[T]).x-(s=u[y]).x)*(s.y+c.y);return h}vp.types=["Unknown","Point","LineString","Polygon"],vp.prototype.loadGeometry=function(){var u=this._pbf;u.pos=this._geometry;for(var s,c=u.readVarint()+u.pos,h=1,y=0,w=0,T=0,O=[];u.pos<c;){if(y<=0){var z=u.readVarint();h=7&z,y=z>>3}if(y--,h===1||h===2)w+=u.readSVarint(),T+=u.readSVarint(),h===1&&(s&&O.push(s),s=[]),s.push(new iG(w,T));else{if(h!==7)throw new Error("unknown command "+h);s&&s.push(s[0].clone())}}return s&&O.push(s),O},vp.prototype.bbox=function(){var u=this._pbf;u.pos=this._geometry;for(var s=u.readVarint()+u.pos,c=1,h=0,y=0,w=0,T=1/0,O=-1/0,z=1/0,$=-1/0;u.pos<s;){if(h<=0){var W=u.readVarint();c=7&W,h=W>>3}if(h--,c===1||c===2)(y+=u.readSVarint())<T&&(T=y),y>O&&(O=y),(w+=u.readSVarint())<z&&(z=w),w>$&&($=w);else if(c!==7)throw new Error("unknown command "+c)}return[T,z,O,$]},vp.prototype.toGeoJSON=function(u,s,c){var h,y,w=this.extent*Math.pow(2,c),T=this.extent*u,O=this.extent*s,z=this.loadGeometry(),$=vp.types[this.type];function W(fe){for(var me=0;me<fe.length;me++){var Se=fe[me];fe[me]=[360*(Se.x+T)/w-180,360/Math.PI*Math.atan(Math.exp((180-360*(Se.y+O)/w)*Math.PI/180))-90]}}switch(this.type){case 1:var ne=[];for(h=0;h<z.length;h++)ne[h]=z[h][0];W(z=ne);break;case 2:for(h=0;h<z.length;h++)W(z[h]);break;case 3:for(z=function(fe){var me=fe.length;if(me<=1)return[fe];for(var Se,Oe,Ve=[],tt=0;tt<me;tt++){var Ue=oG(fe[tt]);Ue!==0&&(Oe===void 0&&(Oe=Ue<0),Oe===Ue<0?(Se&&Ve.push(Se),Se=[fe[tt]]):Se.push(fe[tt]))}return Se&&Ve.push(Se),Ve}(z),h=0;h<z.length;h++)for(y=0;y<z[h].length;y++)W(z[h][y])}z.length===1?z=z[0]:$="Multi"+$;var oe={type:"Feature",geometry:{type:$,coordinates:z},properties:this.properties};return"id"in this&&(oe.id=this.id),oe};var sG=C9,S9=T9;function T9(u,s){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=u,this._keys=[],this._values=[],this._features=[],u.readFields(lG,this,s),this.length=this._features.length}function lG(u,s,c){u===15?s.version=c.readVarint():u===1?s.name=c.readString():u===5?s.extent=c.readVarint():u===2?s._features.push(c.pos):u===3?s._keys.push(c.readString()):u===4&&s._values.push(function(h){for(var y=null,w=h.readVarint()+h.pos;h.pos<w;){var T=h.readVarint()>>3;y=T===1?h.readString():T===2?h.readFloat():T===3?h.readDouble():T===4?h.readVarint64():T===5?h.readVarint():T===6?h.readSVarint():T===7?h.readBoolean():null}return y}(c))}T9.prototype.feature=function(u){if(u<0||u>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[u];var s=this._pbf.readVarint()+this._pbf.pos;return new sG(this._pbf,s,this.extent,this._keys,this._values)};var uG=S9;function cG(u,s,c){if(u===3){var h=new uG(c,c.readVarint()+c.pos);h.length&&(s[h.name]=h)}}var _3=xy.VectorTile=function(u,s){this.layers=u.readFields(cG,{},s)},wy=xy.VectorTileFeature=C9;function Cy(u,s,c,h){const y=[],w=h===0?(T,O,z,$,W,ne)=>{T.push(new V(ne,z+(ne-O)/($-O)*(W-z)))}:(T,O,z,$,W,ne)=>{T.push(new V(O+(ne-z)/(W-z)*($-O),ne))};for(const T of u){const O=[];for(const z of T){if(z.length<=2)continue;const $=[];for(let oe=0;oe<z.length-1;oe++){const fe=z[oe].x,me=z[oe].y,Se=z[oe+1].x,Oe=z[oe+1].y,Ve=h===0?fe:me,tt=h===0?Se:Oe;Ve<s?tt>s&&w($,fe,me,Se,Oe,s):Ve>c?tt<c&&w($,fe,me,Se,Oe,c):$.push(z[oe]),tt<s&&Ve>=s&&w($,fe,me,Se,Oe,s),tt>c&&Ve<=c&&w($,fe,me,Se,Oe,c)}let W=z[z.length-1];const ne=h===0?W.x:W.y;ne>=s&&ne<=c&&$.push(W),$.length&&(W=$[$.length-1],$[0].x===W.x&&$[0].y===W.y||$.push($[0]),O.push($))}O.length&&y.push(O)}return y}xy.VectorTileLayer=S9;const dG=wy.types,fG=Math.pow(2,13);function Wm(u,s,c,h,y,w,T,O){u.emplaceBack((s<<1)+T,(c<<1)+w,(Math.floor(h*fG)<<1)+y,Math.round(O))}function Gm(u,s,c){u.emplaceBack(s.x,s.y,s.z,c[0]*16384,c[1]*16384,c[2]*16384)}class E9{constructor(){this.acc=new V(0,0),this.polyCount=[]}startRing(s){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new V(s.x,s.y),this.max=new V(s.x,s.y))}append(s,c){this.currentPolyCount.edges++,this.acc._add(s);const h=this.min,y=this.max;s.x<h.x?h.x=s.x:s.x>y.x&&(y.x=s.x),s.y<h.y?h.y=s.y:s.y>y.y&&(y.y=s.y),((s.x===0||s.x===Bn)&&s.x===c.x)!=((s.y===0||s.y===Bn)&&s.y===c.y)&&this.processBorderOverlap(s,c),c.x<0!=s.x<0&&this.addBorderIntersection(0,Ar(c.y,s.y,(0-c.x)/(s.x-c.x))),c.x>Bn!=s.x>Bn&&this.addBorderIntersection(1,Ar(c.y,s.y,(Bn-c.x)/(s.x-c.x))),c.y<0!=s.y<0&&this.addBorderIntersection(2,Ar(c.x,s.x,(0-c.y)/(s.y-c.y))),c.y>Bn!=s.y>Bn&&this.addBorderIntersection(3,Ar(c.x,s.x,(Bn-c.y)/(s.y-c.y)))}addBorderIntersection(s,c){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const h=this.borders[s];c<h[0]&&(h[0]=c),c>h[1]&&(h[1]=c)}processBorderOverlap(s,c){if(s.x===c.x){if(s.y===c.y)return;const h=s.x===0?0:1;this.addBorderIntersection(h,c.y),this.addBorderIntersection(h,s.y)}else{const h=s.y===0?2:3;this.addBorderIntersection(h,c.x),this.addBorderIntersection(h,s.x)}}centroid(){const s=this.polyCount.reduce((c,h)=>c+h.edges,0);return s!==0?this.acc.div(s)._round():new V(0,0)}span(){return new V(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((s,c)=>s+ +(c[0]!==Number.MAX_VALUE),0)}}class qm{constructor(s){this.zoom=s.zoom,this.canonical=s.canonical,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.hasPattern=!1,this.edgeRadius=0,this.projection=s.projection,this.layoutVertexArray=new Kt,this.centroidVertexArray=new tl,this.indexArray=new On,this.programConfigurations=new pf(s.layers,s.zoom),this.segments=new Gi,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id),this.enableTerrain=s.enableTerrain}populate(s,c,h,y){this.features=[],this.hasPattern=g3("fill-extrusion",this.layers,c),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(w){const T=Math.exp(Math.PI*(1-w.y/(1<<w.z)*2));return 80150034*T/(T*T+1)/Bn/(1<<w.z)}(h),this.edgeRadius=this.layers[0].layout.get("fill-extrusion-edge-radius")/this.tileToMeter;for(const{feature:w,id:T,index:O,sourceLayerIndex:z}of s){const $=this.layers[0]._featureFilter.needGeometry,W=bf(w,$);if(!this.layers[0]._featureFilter.filter(new ee(this.zoom),W,h))continue;const ne={id:T,sourceLayerIndex:z,index:O,geometry:$?W.geometry:Du(w,h,y),properties:w.properties,type:w.type,patterns:{}},oe=this.layoutVertexArray.length;this.hasPattern?this.features.push(y3("fill-extrusion",this.layers,ne,this.zoom,c)):this.addFeature(ne,ne.geometry,O,h,{},c.availableImages,y),c.featureIndex.insert(w,ne.geometry,O,z,this.index,oe)}this.sortBorders()}addFeatures(s,c,h,y,w){for(const T of this.features){const{geometry:O}=T;this.addFeature(T,O,T.index,c,h,y,w)}this.sortBorders()}update(s,c,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,h,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,rG),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=s.createVertexBuffer(this.layoutVertexExtArray,nG.members,!0))),this.programConfigurations.upload(s),this.uploaded=!0}uploadCentroid(s){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=s.createVertexBuffer(this.centroidVertexArray,tG.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(s,c,h,y,w,T,O){const z=[new V(0,0),new V(Bn,Bn)],$=O.projection,W=$.name==="globe",ne=this.enableTerrain&&!W?new E9:null,oe=dG[s.type]==="Polygon";W&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new sn);const fe=m3(c,500);for(let Ve=fe.length-1;Ve>=0;Ve--){const tt=fe[Ve];(tt.length===0||(me=tt[0]).every(Ue=>Ue.x<=0)||me.every(Ue=>Ue.x>=Bn)||me.every(Ue=>Ue.y<=0)||me.every(Ue=>Ue.y>=Bn))&&fe.splice(Ve,1)}var me;let Se;if(W)Se=D9(fe,z,y);else{Se=[];for(const Ve of fe)Se.push({polygon:Ve,bounds:z})}const Oe=oe?this.edgeRadius:0;for(const{polygon:Ve,bounds:tt}of Se){let Ue=0,Je=0;for(const it of Ve)oe&&!it[0].equals(it[it.length-1])&&it.push(it[0]),Je+=oe?it.length-1:it.length;const st=this.segments.prepareSegment((oe?5:4)*Je,this.layoutVertexArray,this.indexArray);if(oe){const it=[],It=[];Ue=st.vertexLength;for(const jt of Ve){let on,Rt;jt.length&&jt!==Ve[0]&&It.push(it.length/2),on=jt[1].sub(jt[0])._perp()._unit();for(let Yt=1;Yt<jt.length;Yt++){const Xt=jt[Yt],en=jt[Yt===jt.length-1?1:Yt+1];let{x:un,y:$t}=Xt;if(Oe){Rt=en.sub(Xt)._perp()._unit();const vn=on.add(Rt)._unit(),Tn=Oe*Math.min(4,1/(on.x*vn.x+on.y*vn.y));un+=Tn*vn.x,$t+=Tn*vn.y,on=Rt}Wm(this.layoutVertexArray,un,$t,0,0,1,1,0),st.vertexLength++,it.push(Xt.x,Xt.y),W&&Gm(this.layoutVertexExtArray,$.projectTilePoint(un,$t,y),$.upVector(y,un,$t))}}const Et=v3(it,It);for(let jt=0;jt<Et.length;jt+=3)this.indexArray.emplaceBack(Ue+Et[jt],Ue+Et[jt+2],Ue+Et[jt+1]),st.primitiveLength++}for(const it of Ve){ne&&it.length&&ne.startRing(it[0]);let It,Et,jt,on=it.length>4&&A9(it[it.length-2],it[0],it[1]),Rt=Oe?hG(it[it.length-2],it[0],it[1],Oe):0;Et=it[1].sub(it[0])._perp()._unit();let Yt=!0;for(let Xt=1,en=0;Xt<it.length;Xt++){let un=it[Xt-1],$t=it[Xt];const vn=it[Xt===it.length-1?1:Xt+1];if(ne&&oe&&ne.currentPolyCount.top++,k9($t,un,tt)){Oe&&(Et=vn.sub($t)._perp()._unit(),Yt=!Yt);continue}ne&&ne.append($t,un);const Tn=$t.sub(un)._perp(),gn=Tn.x/(Math.abs(Tn.x)+Math.abs(Tn.y)),ir=Tn.y>0?1:0,cn=un.dist($t);if(en+cn>32768&&(en=0),Oe){jt=vn.sub($t)._perp()._unit();let or=M9(un,$t,vn,P9(Et,jt),Oe);isNaN(or)&&(or=0);const Vn=$t.sub(un)._unit();un=un.add(Vn.mult(Rt))._round(),$t=$t.add(Vn.mult(-or))._round(),Rt=or,Et=jt}const Ln=st.vertexLength,ar=it.length>4&&A9(un,$t,vn);let Rr=I9(en,on,Yt);if(Wm(this.layoutVertexArray,un.x,un.y,gn,ir,0,0,Rr),Wm(this.layoutVertexArray,un.x,un.y,gn,ir,0,1,Rr),en+=cn,Rr=I9(en,ar,!Yt),on=ar,Wm(this.layoutVertexArray,$t.x,$t.y,gn,ir,0,0,Rr),Wm(this.layoutVertexArray,$t.x,$t.y,gn,ir,0,1,Rr),st.vertexLength+=4,this.indexArray.emplaceBack(Ln+0,Ln+1,Ln+2),this.indexArray.emplaceBack(Ln+1,Ln+3,Ln+2),st.primitiveLength+=2,Oe){const or=Ue+(Xt===1?it.length-2:Xt-2),Vn=Xt===1?Ue:or+1;if(this.indexArray.emplaceBack(Ln+1,or,Ln+3),this.indexArray.emplaceBack(or,Vn,Ln+3),st.primitiveLength+=2,It===void 0&&(It=Ln),!k9(vn,it[Xt],tt)){const ui=Xt===it.length-1?It:st.vertexLength;this.indexArray.emplaceBack(Ln+2,Ln+3,ui),this.indexArray.emplaceBack(Ln+3,ui+1,ui),this.indexArray.emplaceBack(Ln+3,Vn,ui+1),st.primitiveLength+=3}Yt=!Yt}if(W){const or=this.layoutVertexExtArray,Vn=$.projectTilePoint(un.x,un.y,y),ui=$.projectTilePoint($t.x,$t.y,y),cr=$.upVector(y,un.x,un.y),dr=$.upVector(y,$t.x,$t.y);Gm(or,Vn,cr),Gm(or,Vn,cr),Gm(or,ui,dr),Gm(or,ui,dr)}}oe&&(Ue+=it.length-1)}}if(ne&&ne.polyCount.length>0){if(ne.borders){ne.vertexArrayOffset=this.centroidVertexArray.length;const Ve=ne.borders,tt=this.featuresOnBorder.push(ne)-1;for(let Ue=0;Ue<4;Ue++)Ve[Ue][0]!==Number.MAX_VALUE&&this.borders[Ue].push(tt)}this.encodeCentroid(ne.borders?void 0:ne.centroid(),ne)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,w,T,y)}sortBorders(){for(let s=0;s<4;s++)this.borders[s].sort((c,h)=>this.featuresOnBorder[c].borders[s][0]-this.featuresOnBorder[h].borders[s][0])}encodeCentroid(s,c,h=!0){let y,w;if(s)if(s.y!==0){const O=c.span()._mult(this.tileToMeter);y=(Math.max(s.x,1)<<3)+Math.min(7,Math.round(O.x/10)),w=(Math.max(s.y,1)<<3)+Math.min(7,Math.round(O.y/10))}else y=Math.ceil(7*(s.x+450)),w=0;else y=0,w=+h;let T=h?this.centroidVertexArray.length:c.vertexArrayOffset;for(const O of c.polyCount){h&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*O.edges+O.top);for(let z=0;z<O.top;z++)this.centroidVertexArray.emplace(T++,y,w);for(let z=0;z<2*O.edges;z++)this.centroidVertexArray.emplace(T++,0,w),this.centroidVertexArray.emplace(T++,y,w)}}}function P9(u,s){const c=u.add(s)._unit();return u.x*c.x+u.y*c.y}function hG(u,s,c,h){const y=s.sub(u)._perp()._unit(),w=c.sub(s)._perp()._unit();return M9(u,s,c,P9(y,w),h)}function M9(u,s,c,h,y){const w=Math.sqrt(1-h*h);return Math.min(u.dist(s)/3,s.dist(c)/3,y*w/h)}function k9(u,s,c){return u.x<c[0].x&&s.x<c[0].x||u.x>c[1].x&&s.x>c[1].x||u.y<c[0].y&&s.y<c[0].y||u.y>c[1].y&&s.y>c[1].y}function A9(u,s,c){if(u.x<0||u.x>=Bn||s.x<0||s.x>=Bn||c.x<0||c.x>=Bn)return!1;const h=c.sub(s),y=h.perp(),w=u.sub(s);return(h.x*w.x+h.y*w.y)/Math.sqrt((h.x*h.x+h.y*h.y)*(w.x*w.x+w.y*w.y))>-.866&&y.x*w.x+y.y*w.y<0}function I9(u,s,c){const h=s?2|u:-3&u;return c?1|h:-2&h}function O9(){const u=Math.PI/32,s=Math.tan(u),c=jm;return c*Math.sqrt(1+2*s*s)-c}function D9(u,s,c){const h=1<<c.z,y=cs(c.x/h),w=cs((c.x+1)/h),T=Va(c.y/h),O=Va((c.y+1)/h);return function(z,$,W,ne,oe=0,fe){const me=[];if(!z.length||!W||!ne)return me;const Se=(it,It)=>{for(const Et of it)me.push({polygon:Et,bounds:It})},Oe=Math.ceil(Math.log2(W)),Ve=Math.ceil(Math.log2(ne)),tt=Oe-Ve,Ue=[];for(let it=0;it<Math.abs(tt);it++)Ue.push(tt>0?0:1);for(let it=0;it<Math.min(Oe,Ve);it++)Ue.push(0),Ue.push(1);let Je=z;if(Je=Cy(Je,$[0].y-oe,$[1].y+oe,1),Je=Cy(Je,$[0].x-oe,$[1].x+oe,0),!Je.length)return me;const st=[];for(Ue.length?st.push({polygons:Je,bounds:$,depth:0}):Se(Je,$);st.length;){const it=st.pop(),It=it.depth,Et=Ue[It],jt=it.bounds[0],on=it.bounds[1],Rt=Et===0?jt.x:jt.y,Yt=Et===0?on.x:on.y,Xt=fe?fe(Et,Rt,Yt):.5*(Rt+Yt),en=Cy(it.polygons,Rt-oe,Xt+oe,Et),un=Cy(it.polygons,Xt-oe,Yt+oe,Et);if(en.length){const $t=[jt,new V(Et===0?Xt:on.x,Et===1?Xt:on.y)];Ue.length>It+1?st.push({polygons:en,bounds:$t,depth:It+1}):Se(en,$t)}if(un.length){const $t=[new V(Et===0?Xt:jt.x,Et===1?Xt:jt.y),on];Ue.length>It+1?st.push({polygons:un,bounds:$t,depth:It+1}):Se(un,$t)}}return me}(u,s,Math.ceil((w-y)/11.25),Math.ceil((T-O)/11.25),1,(z,$,W)=>{if(z===0)return .5*($+W);{const ne=Va((c.y+$/Bn)/h);return(Hl(.5*(Va((c.y+W/Bn)/h)+ne))*h-c.y)*Bn}})}bn(qm,"FillExtrusionBucket",{omit:["layers","features"]}),bn(E9,"PartMetadata");const pG=new Xe({"fill-extrusion-edge-radius":new Ce(zt["layout_fill-extrusion"]["fill-extrusion-edge-radius"])});var vG={paint:new Xe({"fill-extrusion-opacity":new Ce(zt["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Le(zt["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ce(zt["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ce(zt["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Le(zt["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Le(zt["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Le(zt["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ce(zt["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"]),"fill-extrusion-ambient-occlusion-intensity":new Ce(zt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-intensity"]),"fill-extrusion-ambient-occlusion-radius":new Ce(zt["paint_fill-extrusion"]["fill-extrusion-ambient-occlusion-radius"]),"fill-extrusion-rounded-roof":new Ce(zt["paint_fill-extrusion"]["fill-extrusion-rounded-roof"])}),layout:pG};function R9(u,s,c){var h=2*Math.PI*6378137/256/Math.pow(2,c);return[u*h-2*Math.PI*6378137/2,s*h-2*Math.PI*6378137/2]}class Sy{constructor(s,c,h){this.z=s,this.x=c,this.y=h,this.key=Ym(0,s,s,c,h)}equals(s){return this.z===s.z&&this.x===s.x&&this.y===s.y}url(s,c){const h=function(w,T,O){var z=R9(256*w,256*(T=Math.pow(2,O)-T-1),O),$=R9(256*(w+1),256*(T+1),O);return z[0]+","+z[1]+","+$[0]+","+$[1]}(this.x,this.y,this.z),y=function(w,T,O){let z,$="";for(let W=w;W>0;W--)z=1<<W-1,$+=(T&z?1:0)+(O&z?2:0);return $}(this.z,this.x,this.y);return s[(this.x+this.y)%s.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String(c==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",y).replace("{bbox-epsg-3857}",h)}toString(){return`${this.z}/${this.x}/${this.y}`}}class L9{constructor(s,c){this.wrap=s,this.canonical=c,this.key=Ym(s,c.z,c.z,c.x,c.y)}}class uo{constructor(s,c,h,y,w){this.overscaledZ=s,this.wrap=c,this.canonical=new Sy(h,+y,+w),this.key=c===0&&s===h?this.canonical.key:Ym(c,s,h,y,w)}equals(s){return this.overscaledZ===s.overscaledZ&&this.wrap===s.wrap&&this.canonical.equals(s.canonical)}scaledTo(s){const c=this.canonical.z-s;return s>this.canonical.z?new uo(s,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new uo(s,this.wrap,s,this.canonical.x>>c,this.canonical.y>>c)}calculateScaledKey(s,c=!0){if(this.overscaledZ===s&&c)return this.key;if(s>this.canonical.z)return Ym(this.wrap*+c,s,this.canonical.z,this.canonical.x,this.canonical.y);{const h=this.canonical.z-s;return Ym(this.wrap*+c,s,s,this.canonical.x>>h,this.canonical.y>>h)}}isChildOf(s){if(s.wrap!==this.wrap)return!1;const c=this.canonical.z-s.canonical.z;return s.overscaledZ===0||s.overscaledZ<this.overscaledZ&&s.canonical.x===this.canonical.x>>c&&s.canonical.y===this.canonical.y>>c}children(s){if(this.overscaledZ>=s)return[new uo(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const c=this.canonical.z+1,h=2*this.canonical.x,y=2*this.canonical.y;return[new uo(c,this.wrap,c,h,y),new uo(c,this.wrap,c,h+1,y),new uo(c,this.wrap,c,h,y+1),new uo(c,this.wrap,c,h+1,y+1)]}isLessThan(s){return this.wrap<s.wrap||!(this.wrap>s.wrap)&&(this.overscaledZ<s.overscaledZ||!(this.overscaledZ>s.overscaledZ)&&(this.canonical.x<s.canonical.x||!(this.canonical.x>s.canonical.x)&&this.canonical.y<s.canonical.y))}wrapped(){return new uo(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(s){return new uo(this.overscaledZ,s,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new L9(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function Ym(u,s,c,h,y){const w=1<<Math.min(c,22);let T=w*(y%w)+h%w;return u&&c<22&&(T+=w*w*((u<0?-2*u-1:2*u)%(1<<2*(22-c)))),16*(32*T+c)+(s-c)}bn(Sy,"CanonicalTileID"),bn(uo,"OverscaledTileID",{omit:["projMatrix"]});class mp extends V{constructor(s,c,h){super(s,c),this.z=h}}function Xm(u,s){return u.x*s.x+u.y*s.y}function F9(u,s){if(u.length===1){let c=0;const h=s[c++];let y;for(;!y||h.equals(y);)if(y=s[c++],!y)return 1/0;for(;c<s.length;c++){const w=s[c],T=u[0],O=y.sub(h),z=w.sub(h),$=T.sub(h),W=Xm(O,O),ne=Xm(O,z),oe=Xm(z,z),fe=Xm($,O),me=Xm($,z),Se=W*oe-ne*ne,Oe=(oe*fe-ne*me)/Se,Ve=(W*me-ne*fe)/Se,tt=h.z*(1-Oe-Ve)+y.z*Oe+w.z*Ve;if(isFinite(tt))return tt}return 1/0}{let c=1/0;for(const h of s)c=Math.min(c,h.z);return c}}function N9(u,s,c,h,y,w,T,O){const z=T*y.getElevationAt(u,s,!0,!0),$=w[0]!==0,W=$?w[1]===0?T*(w[0]/7-450):T*function(ne,oe,fe){const me=Math.floor(oe[0]/8),Se=Math.floor(oe[1]/8),Oe=10*(oe[0]-8*me),Ve=10*(oe[1]-8*Se),tt=ne.getElevationAt(me,Se,!0,!0),Ue=ne.getMeterToDEM(fe),Je=Math.floor(.5*(Oe*Ue-1)),st=Math.floor(.5*(Ve*Ue-1)),it=ne.tileCoordToPixel(me,Se),It=2*Je+1,Et=2*st+1,jt=function(un,$t,vn,Tn,gn){return[un.getElevationAtPixel($t,vn,!0),un.getElevationAtPixel($t+gn,vn,!0),un.getElevationAtPixel($t,vn+gn,!0),un.getElevationAtPixel($t+Tn,vn+gn,!0)]}(ne,it.x-Je,it.y-st,It,Et),on=Math.abs(jt[0]-jt[1]),Rt=Math.abs(jt[2]-jt[3]),Yt=Math.abs(jt[0]-jt[2])+Math.abs(jt[1]-jt[3]),Xt=Math.min(.25,.5*Ue*(on+Rt)/It),en=Math.min(.25,.5*Ue*Yt/Et);return tt+Math.max(Xt*Oe,en*Ve)}(y,w,O):z;return{base:z+(c===0)?-1:c,top:$?Math.max(W+h,z+c+2):z+h}}const mG=bt([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:gG}=mG,yG=bt([{name:"a_packed",components:4,type:"Float32"}]),{members:_G}=yG,bG=wy.types,xG=Math.cos(Math.PI/180*37.5);class Ty{constructor(s){this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(c=>c.id),this.index=s.index,this.projection=s.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(c=>{this.gradients[c.id]={}}),this.layoutVertexArray=new Dt,this.layoutVertexArray2=new nn,this.indexArray=new On,this.programConfigurations=new pf(s.layers,s.zoom),this.segments=new Gi,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(c=>c.isStateDependent()).map(c=>c.id)}populate(s,c,h,y){this.hasPattern=g3("line",this.layers,c);const w=this.layers[0].layout.get("line-sort-key"),T=[];for(const{feature:W,id:ne,index:oe,sourceLayerIndex:fe}of s){const me=this.layers[0]._featureFilter.needGeometry,Se=bf(W,me);if(!this.layers[0]._featureFilter.filter(new ee(this.zoom),Se,h))continue;const Oe=w?w.evaluate(Se,{},h):void 0,Ve={id:ne,properties:W.properties,type:W.type,sourceLayerIndex:fe,index:oe,geometry:me?Se.geometry:Du(W,h,y),patterns:{},sortKey:Oe};T.push(Ve)}w&&T.sort((W,ne)=>W.sortKey-ne.sortKey);const{lineAtlas:O,featureIndex:z}=c,$=this.addConstantDashes(O);for(const W of T){const{geometry:ne,index:oe,sourceLayerIndex:fe}=W;if($&&this.addFeatureDashes(W,O),this.hasPattern){const me=y3("line",this.layers,W,this.zoom,c);this.patternFeatures.push(me)}else this.addFeature(W,ne,oe,h,O.positions,c.availableImages);z.insert(s[oe].feature,ne,oe,fe,this.index)}}addConstantDashes(s){let c=!1;for(const h of this.layers){const y=h.paint.get("line-dasharray").value,w=h.layout.get("line-cap").value;if(y.kind!=="constant"||w.kind!=="constant")c=!0;else{const T=w.value,O=y.value;if(!O)continue;s.addDash(O,T)}}return c}addFeatureDashes(s,c){const h=this.zoom;for(const y of this.layers){const w=y.paint.get("line-dasharray").value,T=y.layout.get("line-cap").value;if(w.kind==="constant"&&T.kind==="constant")continue;let O,z;if(w.kind==="constant"){if(O=w.value,!O)continue}else O=w.evaluate({zoom:h},s);z=T.kind==="constant"?T.value:T.evaluate({zoom:h},s),c.addDash(O,z),s.patterns[y.id]=c.getKey(O,z)}}update(s,c,h,y){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(s,c,this.stateDependentLayers,h,y)}addFeatures(s,c,h,y,w){for(const T of this.patternFeatures)this.addFeature(T,T.geometry,T.index,c,h,y)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(s){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=s.createVertexBuffer(this.layoutVertexArray2,_G)),this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,gG),this.indexBuffer=s.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(s),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(s){if(s.properties&&s.properties.hasOwnProperty("mapbox_clip_start")&&s.properties.hasOwnProperty("mapbox_clip_end"))return{start:+s.properties.mapbox_clip_start,end:+s.properties.mapbox_clip_end}}addFeature(s,c,h,y,w,T){const O=this.layers[0].layout,z=O.get("line-join").evaluate(s,{}),$=O.get("line-cap").evaluate(s,{}),W=O.get("line-miter-limit"),ne=O.get("line-round-limit");this.lineClips=this.lineFeatureClips(s);for(const oe of c)this.addLine(oe,s,z,$,W,ne);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,s,h,w,T,y)}addLine(s,c,h,y,w,T){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Ve=0;Ve<s.length-1;Ve++)this.totalDistance+=s[Ve].dist(s[Ve+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const O=bG[c.type]==="Polygon";let z=s.length;for(;z>=2&&s[z-1].equals(s[z-2]);)z--;let $=0;for(;$<z-1&&s[$].equals(s[$+1]);)$++;if(z<(O?3:2))return;h==="bevel"&&(w=1.05);const W=this.overscaling<=16?15*Bn/(512*this.overscaling):0,ne=this.segments.prepareSegment(10*z,this.layoutVertexArray,this.indexArray);let oe,fe,me,Se,Oe;this.e1=this.e2=-1,O&&(oe=s[z-2],Oe=s[$].sub(oe)._unit()._perp());for(let Ve=$;Ve<z;Ve++){if(me=Ve===z-1?O?s[$+1]:void 0:s[Ve+1],me&&s[Ve].equals(me))continue;Oe&&(Se=Oe),oe&&(fe=oe),oe=s[Ve],Oe=me?me.sub(oe)._unit()._perp():Se,Se=Se||Oe;let tt=Se.add(Oe);tt.x===0&&tt.y===0||tt._unit();const Ue=Se.x*Oe.x+Se.y*Oe.y,Je=tt.x*Oe.x+tt.y*Oe.y,st=Je!==0?1/Je:1/0,it=2*Math.sqrt(2-2*Je),It=Je<xG&&fe&&me,Et=Se.x*Oe.y-Se.y*Oe.x>0;if(It&&Ve>$){const Rt=oe.dist(fe);if(Rt>2*W){const Yt=oe.sub(oe.sub(fe)._mult(W/Rt)._round());this.updateDistance(fe,Yt),this.addCurrentVertex(Yt,Se,0,0,ne),fe=Yt}}const jt=fe&&me;let on=jt?h:O?"butt":y;if(jt&&on==="round"&&(st<T?on="miter":st<=2&&(on="fakeround")),on==="miter"&&st>w&&(on="bevel"),on==="bevel"&&(st>2&&(on="flipbevel"),st<w&&(on="miter")),fe&&this.updateDistance(fe,oe),on==="miter")tt._mult(st),this.addCurrentVertex(oe,tt,0,0,ne);else if(on==="flipbevel"){if(st>100)tt=Oe.mult(-1);else{const Rt=st*Se.add(Oe).mag()/Se.sub(Oe).mag();tt._perp()._mult(Rt*(Et?-1:1))}this.addCurrentVertex(oe,tt,0,0,ne),this.addCurrentVertex(oe,tt.mult(-1),0,0,ne)}else if(on==="bevel"||on==="fakeround"){const Rt=-Math.sqrt(st*st-1),Yt=Et?Rt:0,Xt=Et?0:Rt;if(fe&&this.addCurrentVertex(oe,Se,Yt,Xt,ne),on==="fakeround"){const en=Math.round(180*it/Math.PI/20);for(let un=1;un<en;un++){let $t=un/en;if($t!==.5){const Tn=$t-.5;$t+=$t*Tn*($t-1)*((1.0904+Ue*(Ue*(3.55645-1.43519*Ue)-3.2452))*Tn*Tn+(.848013+Ue*(.215638*Ue-1.06021)))}const vn=Oe.sub(Se)._mult($t)._add(Se)._unit()._mult(Et?-1:1);this.addHalfVertex(oe,vn.x,vn.y,!1,Et,0,ne)}}me&&this.addCurrentVertex(oe,Oe,-Yt,-Xt,ne)}else if(on==="butt")this.addCurrentVertex(oe,tt,0,0,ne);else if(on==="square"){const Rt=fe?1:-1;fe||this.addCurrentVertex(oe,tt,Rt,Rt,ne),this.addCurrentVertex(oe,tt,0,0,ne),fe&&this.addCurrentVertex(oe,tt,Rt,Rt,ne)}else on==="round"&&(fe&&(this.addCurrentVertex(oe,Se,0,0,ne),this.addCurrentVertex(oe,Se,1,1,ne,!0)),me&&(this.addCurrentVertex(oe,Oe,-1,-1,ne,!0),this.addCurrentVertex(oe,Oe,0,0,ne)));if(It&&Ve<z-1){const Rt=oe.dist(me);if(Rt>2*W){const Yt=oe.add(me.sub(oe)._mult(W/Rt)._round());this.updateDistance(oe,Yt),this.addCurrentVertex(Yt,Oe,0,0,ne),oe=Yt}}}}addCurrentVertex(s,c,h,y,w,T=!1){const O=c.y*y-c.x,z=-c.y-c.x*y;this.addHalfVertex(s,c.x+c.y*h,c.y-c.x*h,T,!1,h,w),this.addHalfVertex(s,O,z,T,!0,-y,w)}addHalfVertex({x:s,y:c},h,y,w,T,O,z){this.layoutVertexArray.emplaceBack((s<<1)+(w?1:0),(c<<1)+(T?1:0),Math.round(63*h)+128,Math.round(63*y)+128,1+(O===0?0:O<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineClips.start,this.lineClips.end);const $=z.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,$),z.primitiveLength++),T?this.e2=$:this.e1=$}updateScaledDistance(){if(this.lineClips){const s=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=s*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(s,c){this.distance+=s.dist(c),this.updateScaledDistance()}}bn(Ty,"LineBucket",{omit:["layers","patternFeatures"]});const wG=new Xe({"line-cap":new Le(zt.layout_line["line-cap"]),"line-join":new Le(zt.layout_line["line-join"]),"line-miter-limit":new Ce(zt.layout_line["line-miter-limit"]),"line-round-limit":new Ce(zt.layout_line["line-round-limit"]),"line-sort-key":new Le(zt.layout_line["line-sort-key"])});var B9={paint:new Xe({"line-opacity":new Le(zt.paint_line["line-opacity"]),"line-color":new Le(zt.paint_line["line-color"]),"line-translate":new Ce(zt.paint_line["line-translate"]),"line-translate-anchor":new Ce(zt.paint_line["line-translate-anchor"]),"line-width":new Le(zt.paint_line["line-width"]),"line-gap-width":new Le(zt.paint_line["line-gap-width"]),"line-offset":new Le(zt.paint_line["line-offset"]),"line-blur":new Le(zt.paint_line["line-blur"]),"line-dasharray":new Le(zt.paint_line["line-dasharray"]),"line-pattern":new Le(zt.paint_line["line-pattern"]),"line-gradient":new qe(zt.paint_line["line-gradient"]),"line-trim-offset":new Ce(zt.paint_line["line-trim-offset"])}),layout:wG};const z9=new class extends Le{possiblyEvaluate(u,s){return s=new ee(Math.floor(s.zoom),{now:s.now,fadeDuration:s.fadeDuration,transition:s.transition}),super.possiblyEvaluate(u,s)}evaluate(u,s,c,h){return s=be({},s,{zoom:Math.floor(s.zoom)}),super.evaluate(u,s,c,h)}}(B9.paint.properties["line-width"].specification);function $9(u,s){return s>0?s+2*u:u}z9.useIntegerZoom=!0;const CG=bt([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),SG=bt([{name:"a_globe_anchor",components:3,type:"Int16"},{name:"a_globe_normal",components:3,type:"Float32"}],4),TG=bt([{name:"a_projected_pos",components:4,type:"Float32"}],4);bt([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const EG=bt([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),PG=bt([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);bt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const j9=bt([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),MG=bt([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);bt([{name:"triangle",components:3,type:"Uint16"}]),bt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),bt([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),bt([{type:"Float32",name:"offsetX"}]),bt([{type:"Int16",name:"x"},{type:"Int16",name:"y"}]);var Ia=24;const sl=128;function b3(u,s){const{expression:c}=s;if(c.kind==="constant")return{kind:"constant",layoutSize:c.evaluate(new ee(u+1))};if(c.kind==="source")return{kind:"source"};{const{zoomStops:h,interpolationType:y}=c;let w=0;for(;w<h.length&&h[w]<=u;)w++;w=Math.max(0,w-1);let T=w;for(;T<h.length&&h[T]<u+1;)T++;T=Math.min(h.length-1,T);const O=h[w],z=h[T];return c.kind==="composite"?{kind:"composite",minZoom:O,maxZoom:z,interpolationType:y}:{kind:"camera",minZoom:O,maxZoom:z,minSize:c.evaluate(new ee(O)),maxSize:c.evaluate(new ee(z)),interpolationType:y}}}function Ey(u,{uSize:s,uSizeT:c},{lowerSize:h,upperSize:y}){return u.kind==="source"?h/sl:u.kind==="composite"?Ar(h/sl,y/sl,c):s}function gp(u,s){let c=0,h=0;if(u.kind==="constant")h=u.layoutSize;else if(u.kind!=="source"){const{interpolationType:y,minZoom:w,maxZoom:T}=u,O=y?X(Ms.interpolationFactor(y,s,w,T),0,1):0;u.kind==="camera"?h=Ar(u.minSize,u.maxSize,O):c=O}return{uSizeT:c,uSize:h}}var kG=Object.freeze({__proto__:null,SIZE_PACK_FACTOR:sl,evaluateSizeForFeature:Ey,evaluateSizeForZoom:gp,getSizeData:b3});function AG(u,s,c){return u.sections.forEach(h=>{h.text=function(y,w,T){const O=w.layout.get("text-transform").evaluate(T,{});return O==="uppercase"?y=y.toLocaleUpperCase():O==="lowercase"&&(y=y.toLocaleLowerCase()),K.applyArabicShaping&&(y=K.applyArabicShaping(y)),y}(h.text,s,c)}),u}const Zm={"!":"","#":"",$:"","%":"","&":"","(":"",")":"","*":"","+":"",",":"","-":"",".":"","/":"",":":"",";":"","<":"","=":"",">":"","?":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};function IG(u){return u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""}function OG(u){return u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""||u===""}var V9=ii,U9=function(u,s,c,h,y){var w,T,O=8*y-h-1,z=(1<<O)-1,$=z>>1,W=-7,ne=c?y-1:0,oe=c?-1:1,fe=u[s+ne];for(ne+=oe,w=fe&(1<<-W)-1,fe>>=-W,W+=O;W>0;w=256*w+u[s+ne],ne+=oe,W-=8);for(T=w&(1<<-W)-1,w>>=-W,W+=h;W>0;T=256*T+u[s+ne],ne+=oe,W-=8);if(w===0)w=1-$;else{if(w===z)return T?NaN:1/0*(fe?-1:1);T+=Math.pow(2,h),w-=$}return(fe?-1:1)*T*Math.pow(2,w-h)},H9=function(u,s,c,h,y,w){var T,O,z,$=8*w-y-1,W=(1<<$)-1,ne=W>>1,oe=y===23?Math.pow(2,-24)-Math.pow(2,-77):0,fe=h?0:w-1,me=h?1:-1,Se=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(O=isNaN(s)?1:0,T=W):(T=Math.floor(Math.log(s)/Math.LN2),s*(z=Math.pow(2,-T))<1&&(T--,z*=2),(s+=T+ne>=1?oe/z:oe*Math.pow(2,1-ne))*z>=2&&(T++,z/=2),T+ne>=W?(O=0,T=W):T+ne>=1?(O=(s*z-1)*Math.pow(2,y),T+=ne):(O=s*Math.pow(2,ne-1)*Math.pow(2,y),T=0));y>=8;u[c+fe]=255&O,fe+=me,O/=256,y-=8);for(T=T<<y|O,$+=y;$>0;u[c+fe]=255&T,fe+=me,T/=256,$-=8);u[c+fe-me]|=128*Se};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */function ii(u){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(u)?u:new Uint8Array(u||0),this.pos=0,this.type=0,this.length=this.buf.length}ii.Varint=0,ii.Fixed64=1,ii.Bytes=2,ii.Fixed32=5;var x3=4294967296,K9=1/x3,W9=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Lu(u){return u.type===ii.Bytes?u.readVarint()+u.pos:u.pos+1}function yp(u,s,c){return c?4294967296*s+(u>>>0):4294967296*(s>>>0)+(u>>>0)}function G9(u,s,c){var h=s<=16383?1:s<=2097151?2:s<=268435455?3:Math.floor(Math.log(s)/(7*Math.LN2));c.realloc(h);for(var y=c.pos-1;y>=u;y--)c.buf[y+h]=c.buf[y]}function DG(u,s){for(var c=0;c<u.length;c++)s.writeVarint(u[c])}function RG(u,s){for(var c=0;c<u.length;c++)s.writeSVarint(u[c])}function LG(u,s){for(var c=0;c<u.length;c++)s.writeFloat(u[c])}function FG(u,s){for(var c=0;c<u.length;c++)s.writeDouble(u[c])}function NG(u,s){for(var c=0;c<u.length;c++)s.writeBoolean(u[c])}function BG(u,s){for(var c=0;c<u.length;c++)s.writeFixed32(u[c])}function zG(u,s){for(var c=0;c<u.length;c++)s.writeSFixed32(u[c])}function $G(u,s){for(var c=0;c<u.length;c++)s.writeFixed64(u[c])}function jG(u,s){for(var c=0;c<u.length;c++)s.writeSFixed64(u[c])}function Py(u,s){return(u[s]|u[s+1]<<8|u[s+2]<<16)+16777216*u[s+3]}function _p(u,s,c){u[c]=s,u[c+1]=s>>>8,u[c+2]=s>>>16,u[c+3]=s>>>24}function q9(u,s){return(u[s]|u[s+1]<<8|u[s+2]<<16)+(u[s+3]<<24)}ii.prototype={destroy:function(){this.buf=null},readFields:function(u,s,c){for(c=c||this.length;this.pos<c;){var h=this.readVarint(),y=h>>3,w=this.pos;this.type=7&h,u(y,s,this),this.pos===w&&this.skip(h)}return s},readMessage:function(u,s){return this.readFields(u,s,this.readVarint()+this.pos)},readFixed32:function(){var u=Py(this.buf,this.pos);return this.pos+=4,u},readSFixed32:function(){var u=q9(this.buf,this.pos);return this.pos+=4,u},readFixed64:function(){var u=Py(this.buf,this.pos)+Py(this.buf,this.pos+4)*x3;return this.pos+=8,u},readSFixed64:function(){var u=Py(this.buf,this.pos)+q9(this.buf,this.pos+4)*x3;return this.pos+=8,u},readFloat:function(){var u=U9(this.buf,this.pos,!0,23,4);return this.pos+=4,u},readDouble:function(){var u=U9(this.buf,this.pos,!0,52,8);return this.pos+=8,u},readVarint:function(u){var s,c,h=this.buf;return s=127&(c=h[this.pos++]),c<128?s:(s|=(127&(c=h[this.pos++]))<<7,c<128?s:(s|=(127&(c=h[this.pos++]))<<14,c<128?s:(s|=(127&(c=h[this.pos++]))<<21,c<128?s:function(y,w,T){var O,z,$=T.buf;if(O=(112&(z=$[T.pos++]))>>4,z<128||(O|=(127&(z=$[T.pos++]))<<3,z<128)||(O|=(127&(z=$[T.pos++]))<<10,z<128)||(O|=(127&(z=$[T.pos++]))<<17,z<128)||(O|=(127&(z=$[T.pos++]))<<24,z<128)||(O|=(1&(z=$[T.pos++]))<<31,z<128))return yp(y,O,w);throw new Error("Expected varint not more than 10 bytes")}(s|=(15&(c=h[this.pos]))<<28,u,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var u=this.readVarint();return u%2==1?(u+1)/-2:u/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var u=this.readVarint()+this.pos,s=this.pos;return this.pos=u,u-s>=12&&W9?function(c,h,y){return W9.decode(c.subarray(h,y))}(this.buf,s,u):function(c,h,y){for(var w="",T=h;T<y;){var O,z,$,W=c[T],ne=null,oe=W>239?4:W>223?3:W>191?2:1;if(T+oe>y)break;oe===1?W<128&&(ne=W):oe===2?(192&(O=c[T+1]))==128&&(ne=(31&W)<<6|63&O)<=127&&(ne=null):oe===3?(z=c[T+2],(192&(O=c[T+1]))==128&&(192&z)==128&&((ne=(15&W)<<12|(63&O)<<6|63&z)<=2047||ne>=55296&&ne<=57343)&&(ne=null)):oe===4&&(z=c[T+2],$=c[T+3],(192&(O=c[T+1]))==128&&(192&z)==128&&(192&$)==128&&((ne=(15&W)<<18|(63&O)<<12|(63&z)<<6|63&$)<=65535||ne>=1114112)&&(ne=null)),ne===null?(ne=65533,oe=1):ne>65535&&(ne-=65536,w+=String.fromCharCode(ne>>>10&1023|55296),ne=56320|1023&ne),w+=String.fromCharCode(ne),T+=oe}return w}(this.buf,s,u)},readBytes:function(){var u=this.readVarint()+this.pos,s=this.buf.subarray(this.pos,u);return this.pos=u,s},readPackedVarint:function(u,s){if(this.type!==ii.Bytes)return u.push(this.readVarint(s));var c=Lu(this);for(u=u||[];this.pos<c;)u.push(this.readVarint(s));return u},readPackedSVarint:function(u){if(this.type!==ii.Bytes)return u.push(this.readSVarint());var s=Lu(this);for(u=u||[];this.pos<s;)u.push(this.readSVarint());return u},readPackedBoolean:function(u){if(this.type!==ii.Bytes)return u.push(this.readBoolean());var s=Lu(this);for(u=u||[];this.pos<s;)u.push(this.readBoolean());return u},readPackedFloat:function(u){if(this.type!==ii.Bytes)return u.push(this.readFloat());var s=Lu(this);for(u=u||[];this.pos<s;)u.push(this.readFloat());return u},readPackedDouble:function(u){if(this.type!==ii.Bytes)return u.push(this.readDouble());var s=Lu(this);for(u=u||[];this.pos<s;)u.push(this.readDouble());return u},readPackedFixed32:function(u){if(this.type!==ii.Bytes)return u.push(this.readFixed32());var s=Lu(this);for(u=u||[];this.pos<s;)u.push(this.readFixed32());return u},readPackedSFixed32:function(u){if(this.type!==ii.Bytes)return u.push(this.readSFixed32());var s=Lu(this);for(u=u||[];this.pos<s;)u.push(this.readSFixed32());return u},readPackedFixed64:function(u){if(this.type!==ii.Bytes)return u.push(this.readFixed64());var s=Lu(this);for(u=u||[];this.pos<s;)u.push(this.readFixed64());return u},readPackedSFixed64:function(u){if(this.type!==ii.Bytes)return u.push(this.readSFixed64());var s=Lu(this);for(u=u||[];this.pos<s;)u.push(this.readSFixed64());return u},skip:function(u){var s=7&u;if(s===ii.Varint)for(;this.buf[this.pos++]>127;);else if(s===ii.Bytes)this.pos=this.readVarint()+this.pos;else if(s===ii.Fixed32)this.pos+=4;else{if(s!==ii.Fixed64)throw new Error("Unimplemented type: "+s);this.pos+=8}},writeTag:function(u,s){this.writeVarint(u<<3|s)},realloc:function(u){for(var s=this.length||16;s<this.pos+u;)s*=2;if(s!==this.length){var c=new Uint8Array(s);c.set(this.buf),this.buf=c,this.length=s}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(u){this.realloc(4),_p(this.buf,u,this.pos),this.pos+=4},writeSFixed32:function(u){this.realloc(4),_p(this.buf,u,this.pos),this.pos+=4},writeFixed64:function(u){this.realloc(8),_p(this.buf,-1&u,this.pos),_p(this.buf,Math.floor(u*K9),this.pos+4),this.pos+=8},writeSFixed64:function(u){this.realloc(8),_p(this.buf,-1&u,this.pos),_p(this.buf,Math.floor(u*K9),this.pos+4),this.pos+=8},writeVarint:function(u){(u=+u||0)>268435455||u<0?function(s,c){var h,y;if(s>=0?(h=s%4294967296|0,y=s/4294967296|0):(y=~(-s/4294967296),4294967295^(h=~(-s%4294967296))?h=h+1|0:(h=0,y=y+1|0)),s>=18446744073709552e3||s<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");c.realloc(10),function(w,T,O){O.buf[O.pos++]=127&w|128,w>>>=7,O.buf[O.pos++]=127&w|128,w>>>=7,O.buf[O.pos++]=127&w|128,w>>>=7,O.buf[O.pos++]=127&w|128,O.buf[O.pos]=127&(w>>>=7)}(h,0,c),function(w,T){var O=(7&w)<<4;T.buf[T.pos++]|=O|((w>>>=3)?128:0),w&&(T.buf[T.pos++]=127&w|((w>>>=7)?128:0),w&&(T.buf[T.pos++]=127&w|((w>>>=7)?128:0),w&&(T.buf[T.pos++]=127&w|((w>>>=7)?128:0),w&&(T.buf[T.pos++]=127&w|((w>>>=7)?128:0),w&&(T.buf[T.pos++]=127&w)))))}(y,c)}(u,this):(this.realloc(4),this.buf[this.pos++]=127&u|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=127&(u>>>=7)|(u>127?128:0),u<=127||(this.buf[this.pos++]=u>>>7&127))))},writeSVarint:function(u){this.writeVarint(u<0?2*-u-1:2*u)},writeBoolean:function(u){this.writeVarint(!!u)},writeString:function(u){u=String(u),this.realloc(4*u.length),this.pos++;var s=this.pos;this.pos=function(h,y,w){for(var T,O,z=0;z<y.length;z++){if((T=y.charCodeAt(z))>55295&&T<57344){if(!O){T>56319||z+1===y.length?(h[w++]=239,h[w++]=191,h[w++]=189):O=T;continue}if(T<56320){h[w++]=239,h[w++]=191,h[w++]=189,O=T;continue}T=O-55296<<10|T-56320|65536,O=null}else O&&(h[w++]=239,h[w++]=191,h[w++]=189,O=null);T<128?h[w++]=T:(T<2048?h[w++]=T>>6|192:(T<65536?h[w++]=T>>12|224:(h[w++]=T>>18|240,h[w++]=T>>12&63|128),h[w++]=T>>6&63|128),h[w++]=63&T|128)}return w}(this.buf,u,this.pos);var c=this.pos-s;c>=128&&G9(s,c,this),this.pos=s-1,this.writeVarint(c),this.pos+=c},writeFloat:function(u){this.realloc(4),H9(this.buf,u,this.pos,!0,23,4),this.pos+=4},writeDouble:function(u){this.realloc(8),H9(this.buf,u,this.pos,!0,52,8),this.pos+=8},writeBytes:function(u){var s=u.length;this.writeVarint(s),this.realloc(s);for(var c=0;c<s;c++)this.buf[this.pos++]=u[c]},writeRawMessage:function(u,s){this.pos++;var c=this.pos;u(s,this);var h=this.pos-c;h>=128&&G9(c,h,this),this.pos=c-1,this.writeVarint(h),this.pos+=h},writeMessage:function(u,s,c){this.writeTag(u,ii.Bytes),this.writeRawMessage(s,c)},writePackedVarint:function(u,s){s.length&&this.writeMessage(u,DG,s)},writePackedSVarint:function(u,s){s.length&&this.writeMessage(u,RG,s)},writePackedBoolean:function(u,s){s.length&&this.writeMessage(u,NG,s)},writePackedFloat:function(u,s){s.length&&this.writeMessage(u,LG,s)},writePackedDouble:function(u,s){s.length&&this.writeMessage(u,FG,s)},writePackedFixed32:function(u,s){s.length&&this.writeMessage(u,BG,s)},writePackedSFixed32:function(u,s){s.length&&this.writeMessage(u,zG,s)},writePackedFixed64:function(u,s){s.length&&this.writeMessage(u,$G,s)},writePackedSFixed64:function(u,s){s.length&&this.writeMessage(u,jG,s)},writeBytesField:function(u,s){this.writeTag(u,ii.Bytes),this.writeBytes(s)},writeFixed32Field:function(u,s){this.writeTag(u,ii.Fixed32),this.writeFixed32(s)},writeSFixed32Field:function(u,s){this.writeTag(u,ii.Fixed32),this.writeSFixed32(s)},writeFixed64Field:function(u,s){this.writeTag(u,ii.Fixed64),this.writeFixed64(s)},writeSFixed64Field:function(u,s){this.writeTag(u,ii.Fixed64),this.writeSFixed64(s)},writeVarintField:function(u,s){this.writeTag(u,ii.Varint),this.writeVarint(s)},writeSVarintField:function(u,s){this.writeTag(u,ii.Varint),this.writeSVarint(s)},writeStringField:function(u,s){this.writeTag(u,ii.Bytes),this.writeString(s)},writeFloatField:function(u,s){this.writeTag(u,ii.Fixed32),this.writeFloat(s)},writeDoubleField:function(u,s){this.writeTag(u,ii.Fixed64),this.writeDouble(s)},writeBooleanField:function(u,s){this.writeVarintField(u,!!s)}};var My=D(V9);const w3=3;function VG(u,s,c){s.glyphs=[],u===1&&c.readMessage(UG,s)}function UG(u,s,c){if(u===3){const{id:h,bitmap:y,width:w,height:T,left:O,top:z,advance:$}=c.readMessage(HG,{});s.glyphs.push({id:h,bitmap:new Ru({width:w+2*w3,height:T+2*w3},y),metrics:{width:w,height:T,left:O,top:z,advance:$}})}else u===4?s.ascender=c.readSVarint():u===5&&(s.descender=c.readSVarint())}function HG(u,s,c){u===1?s.id=c.readVarint():u===2?s.bitmap=c.readBytes():u===3?s.width=c.readVarint():u===4?s.height=c.readVarint():u===5?s.left=c.readSVarint():u===6?s.top=c.readSVarint():u===7&&(s.advance=c.readVarint())}const Y9=w3;function C3(u){let s=0,c=0;for(const T of u)s+=T.w*T.h,c=Math.max(c,T.w);u.sort((T,O)=>O.h-T.h);const h=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(s/.95)),c),h:1/0}];let y=0,w=0;for(const T of u)for(let O=h.length-1;O>=0;O--){const z=h[O];if(!(T.w>z.w||T.h>z.h)){if(T.x=z.x,T.y=z.y,w=Math.max(w,T.y+T.h),y=Math.max(y,T.x+T.w),T.w===z.w&&T.h===z.h){const $=h.pop();O<h.length&&(h[O]=$)}else T.h===z.h?(z.x+=T.w,z.w-=T.w):T.w===z.w?(z.y+=T.h,z.h-=T.h):(h.push({x:z.x+T.w,y:z.y,w:z.w-T.w,h:T.h}),z.y+=T.h,z.h-=T.h);break}}return{w:y,h:w,fill:s/(y*w)||0}}const To=1;class S3{constructor(s,{pixelRatio:c,version:h,stretchX:y,stretchY:w,content:T}){this.paddedRect=s,this.pixelRatio=c,this.stretchX=y,this.stretchY=w,this.content=T,this.version=h}get tl(){return[this.paddedRect.x+To,this.paddedRect.y+To]}get br(){return[this.paddedRect.x+this.paddedRect.w-To,this.paddedRect.y+this.paddedRect.h-To]}get displaySize(){return[(this.paddedRect.w-2*To)/this.pixelRatio,(this.paddedRect.h-2*To)/this.pixelRatio]}}class X9{constructor(s,c){const h={},y={};this.haveRenderCallbacks=[];const w=[];this.addImages(s,h,w),this.addImages(c,y,w);const{w:T,h:O}=C3(w),z=new Uo({width:T||1,height:O||1});for(const $ in s){const W=s[$],ne=h[$].paddedRect;Uo.copy(W.data,z,{x:0,y:0},{x:ne.x+To,y:ne.y+To},W.data)}for(const $ in c){const W=c[$],ne=y[$].paddedRect,oe=ne.x+To,fe=ne.y+To,me=W.data.width,Se=W.data.height;Uo.copy(W.data,z,{x:0,y:0},{x:oe,y:fe},W.data),Uo.copy(W.data,z,{x:0,y:Se-1},{x:oe,y:fe-1},{width:me,height:1}),Uo.copy(W.data,z,{x:0,y:0},{x:oe,y:fe+Se},{width:me,height:1}),Uo.copy(W.data,z,{x:me-1,y:0},{x:oe-1,y:fe},{width:1,height:Se}),Uo.copy(W.data,z,{x:0,y:0},{x:oe+me,y:fe},{width:1,height:Se})}this.image=z,this.iconPositions=h,this.patternPositions=y}addImages(s,c,h){for(const y in s){const w=s[y],T={x:0,y:0,w:w.data.width+2*To,h:w.data.height+2*To};h.push(T),c[y]=new S3(T,w),w.hasRenderCallback&&this.haveRenderCallbacks.push(y)}}patchUpdatedImages(s,c){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(h=>s.hasImage(h)),s.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const h in s.updatedImages)this.patchUpdatedImage(this.iconPositions[h],s.getImage(h),c),this.patchUpdatedImage(this.patternPositions[h],s.getImage(h),c)}patchUpdatedImage(s,c,h){if(!s||!c||s.version===c.version)return;s.version=c.version;const[y,w]=s.tl;h.update(c.data,void 0,{x:y,y:w})}}bn(S3,"ImagePosition"),bn(X9,"ImageAtlas");const ds={horizontal:1,vertical:2,horizontalOnly:3},Z9=-17;class Qm{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(s,c){const h=new Qm;return h.scale=s||1,h.fontStack=c,h}static forImage(s){const c=new Qm;return c.imageName=s,c}}class bp{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(s,c){const h=new bp;for(let y=0;y<s.sections.length;y++){const w=s.sections[y];w.image?h.addImageSection(w):h.addTextSection(w,c)}return h}length(){return this.text.length}getSection(s){return this.sections[this.sectionIndex[s]]}getSections(){return this.sections}getSectionIndex(s){return this.sectionIndex[s]}getCharCode(s){return this.text.charCodeAt(s)}verticalizePunctuation(s){this.text=function(c,h){let y="";for(let w=0;w<c.length;w++){const T=c.charCodeAt(w+1)||null,O=c.charCodeAt(w-1)||null;y+=!h&&(T&&ry(T)&&!Zm[c[w+1]]||O&&ry(O)&&!Zm[c[w-1]])||!Zm[c[w]]?c[w]:Zm[c[w]]}return y}(this.text,s)}trim(){let s=0;for(let h=0;h<this.text.length&&ky[this.text.charCodeAt(h)];h++)s++;let c=this.text.length;for(let h=this.text.length-1;h>=0&&h>=s&&ky[this.text.charCodeAt(h)];h--)c--;this.text=this.text.substring(s,c),this.sectionIndex=this.sectionIndex.slice(s,c)}substring(s,c){const h=new bp;return h.text=this.text.substring(s,c),h.sectionIndex=this.sectionIndex.slice(s,c),h.sections=this.sections,h}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((s,c)=>Math.max(s,this.sections[c].scale),0)}addTextSection(s,c){this.text+=s.text,this.sections.push(Qm.forText(s.scale,s.fontStack||c));const h=this.sections.length-1;for(let y=0;y<s.text.length;++y)this.sectionIndex.push(h)}addImageSection(s){const c=s.image?s.image.name:"";if(c.length===0)return void We("Can't add FormattedSection with an empty image.");const h=this.getNextImageSectionCharCode();h?(this.text+=String.fromCharCode(h),this.sections.push(Qm.forImage(c)),this.sectionIndex.push(this.sections.length-1)):We("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function T3(u,s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me){const Se=bp.fromFeature(u,y);ne===ds.vertical&&Se.verticalizePunctuation(oe);let Oe=[];const Ve=function(it,It,Et,jt,on,Rt){if(!it)return[];const Yt=[],Xt=function(vn,Tn,gn,ir,cn,Ln){let ar=0;for(let Rr=0;Rr<vn.length();Rr++){const or=vn.getSection(Rr);ar+=Q9(vn.getCharCode(Rr),or,ir,cn,Tn,Ln)}return ar/Math.max(1,Math.ceil(ar/gn))}(it,It,Et,jt,on,Rt),en=it.text.indexOf("")>=0;let un=0;for(let vn=0;vn<it.length();vn++){const Tn=it.getSection(vn),gn=it.getCharCode(vn);if(ky[gn]||(un+=Q9(gn,Tn,jt,on,It,Rt)),vn<it.length()-1){const ir=!(($t=gn)<11904||!(yn["Bopomofo Extended"]($t)||yn.Bopomofo($t)||yn["CJK Compatibility Forms"]($t)||yn["CJK Compatibility Ideographs"]($t)||yn["CJK Compatibility"]($t)||yn["CJK Radicals Supplement"]($t)||yn["CJK Strokes"]($t)||yn["CJK Symbols and Punctuation"]($t)||yn["CJK Unified Ideographs Extension A"]($t)||yn["CJK Unified Ideographs"]($t)||yn["Enclosed CJK Letters and Months"]($t)||yn["Halfwidth and Fullwidth Forms"]($t)||yn.Hiragana($t)||yn["Ideographic Description Characters"]($t)||yn["Kangxi Radicals"]($t)||yn["Katakana Phonetic Extensions"]($t)||yn.Katakana($t)||yn["Vertical Forms"]($t)||yn["Yi Radicals"]($t)||yn["Yi Syllables"]($t)));(KG[gn]||ir||Tn.imageName)&&Yt.push(eM(vn+1,un,Xt,Yt,WG(gn,it.getCharCode(vn+1),ir&&en),!1))}}var $t;return tM(eM(it.length(),un,Xt,Yt,0,!0))}(Se,$,w,s,h,fe),{processBidirectionalText:tt,processStyledBidirectionalText:Ue}=K;if(tt&&Se.sections.length===1){const it=tt(Se.toString(),Ve);for(const It of it){const Et=new bp;Et.text=It,Et.sections=Se.sections;for(let jt=0;jt<It.length;jt++)Et.sectionIndex.push(0);Oe.push(Et)}}else if(Ue){const it=Ue(Se.text,Se.sectionIndex,Ve);for(const It of it){const Et=new bp;Et.text=It[0],Et.sectionIndex=It[1],Et.sections=Se.sections,Oe.push(Et)}}else Oe=function(it,It){const Et=[],jt=it.text;let on=0;for(const Rt of It)Et.push(it.substring(on,Rt)),on=Rt;return on<jt.length&&Et.push(it.substring(on,jt.length)),Et}(Se,Ve);const Je=[],st={positionedLines:Je,text:Se.toString(),top:W[1],bottom:W[1],left:W[0],right:W[0],writingMode:ne,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(it,It,Et,jt,on,Rt,Yt,Xt,en,un,$t,vn){let Tn=0,gn=0,ir=0;const cn=Xt==="right"?1:Xt==="left"?0:.5;let Ln=!1;for(const cr of on){const dr=cr.getSections();for(const ti of dr){if(ti.imageName)continue;const ai=It[ti.fontStack];if(ai&&(Ln=ai.ascender!==void 0&&ai.descender!==void 0,!Ln))break}if(!Ln)break}let ar=0;for(const cr of on){cr.trim();const dr=cr.getMaxScale(),ti=(dr-1)*Ia,ai={positionedGlyphs:[],lineOffset:0};it.positionedLines[ar]=ai;const oi=ai.positionedGlyphs;let ni=0;if(!cr.length()){gn+=Rt,++ar;continue}let Ci=0,Li=0;for(let ri=0;ri<cr.length();ri++){const ra=cr.getSection(ri),Xi=cr.getSectionIndex(ri),Pi=cr.getCharCode(ri);let Nr=ra.scale,Zi=null,si=null,co=null,Qi=Ia,Oa=0;const Ta=!(en===ds.horizontal||!$t&&!Tm(Pi)||$t&&(ky[Pi]||(Rr=Pi,yn.Arabic(Rr)||yn["Arabic Supplement"](Rr)||yn["Arabic Extended-A"](Rr)||yn["Arabic Presentation Forms-A"](Rr)||yn["Arabic Presentation Forms-B"](Rr))));if(ra.imageName){const fo=jt[ra.imageName];if(!fo)continue;co=ra.imageName,it.iconsInText=it.iconsInText||!0,si=fo.paddedRect;const Ea=fo.displaySize;Nr=Nr*Ia/vn,Zi={width:Ea[0],height:Ea[1],left:To,top:-Y9,advance:Ta?Ea[1]:Ea[0],localGlyph:!1},Oa=Ln?-Zi.height*Nr:Z9+dr*Ia-Ea[1]*Nr,Qi=Zi.advance;const cl=(Ta?Ea[0]:Ea[1])*Nr-Ia*dr;cl>0&&cl>ni&&(ni=cl)}else{const fo=Et[ra.fontStack];if(!fo)continue;fo[Pi]&&(si=fo[Pi]);const Ea=It[ra.fontStack];if(!Ea)continue;const cl=Ea.glyphs[Pi];if(!cl)continue;if(Zi=cl.metrics,Qi=Pi!==8203?Ia:0,Ln){const Pp=Ea.ascender!==void 0?Math.abs(Ea.ascender):0,lg=Ea.descender!==void 0?Math.abs(Ea.descender):0,ug=(Pp+lg)*Nr;Ci<ug&&(Ci=ug,Li=(Pp-lg)/2*Nr),Oa=-Pp*Nr}else Oa=Z9+(dr-Nr)*Ia}Ta?(it.verticalizable=!0,oi.push({glyph:Pi,imageName:co,x:Tn,y:gn+Oa,vertical:Ta,scale:Nr,localGlyph:Zi.localGlyph,fontStack:ra.fontStack,sectionIndex:Xi,metrics:Zi,rect:si}),Tn+=Qi*Nr+un):(oi.push({glyph:Pi,imageName:co,x:Tn,y:gn+Oa,vertical:Ta,scale:Nr,localGlyph:Zi.localGlyph,fontStack:ra.fontStack,sectionIndex:Xi,metrics:Zi,rect:si}),Tn+=Zi.advance*Nr+un)}oi.length!==0&&(ir=Math.max(Tn-un,ir),Ln?nM(oi,cn,ni,Li,Rt*dr/2):nM(oi,cn,ni,0,Rt/2)),Tn=0;const Yi=Rt*dr+ni;ai.lineOffset=Math.max(ni,ti),gn+=Yi,++ar}var Rr;const or=gn,{horizontalAlign:Vn,verticalAlign:ui}=E3(Yt);(function(cr,dr,ti,ai,oi,ni){const Ci=(dr-ti)*oi,Li=-ni*ai;for(const Yi of cr)for(const ri of Yi.positionedGlyphs)ri.x+=Ci,ri.y+=Li})(it.positionedLines,cn,Vn,ui,ir,or),it.top+=-ui*or,it.bottom=it.top+or,it.left+=-Vn*ir,it.right=it.left+ir,it.hasBaseline=Ln}(st,s,c,h,Oe,T,O,z,ne,$,oe,me),!function(it){for(const It of it)if(It.positionedGlyphs.length!==0)return!1;return!0}(Je)&&st}const ky={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},KG={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function Q9(u,s,c,h,y,w){if(s.imageName){const T=h[s.imageName];return T?T.displaySize[0]*s.scale*Ia/w+y:0}{const T=c[s.fontStack],O=T&&T.glyphs[u];return O?O.metrics.advance*s.scale+y:0}}function J9(u,s,c,h){const y=Math.pow(u-s,2);return h?u<s?y/2:2*y:y+Math.abs(c)*c}function WG(u,s,c){let h=0;return u===10&&(h-=1e4),c&&(h+=150),u!==40&&u!==65288||(h+=50),s!==41&&s!==65289||(h+=50),h}function eM(u,s,c,h,y,w){let T=null,O=J9(s,c,y,w);for(const z of h){const $=J9(s-z.x,c,y,w)+z.badness;$<=O&&(T=z,O=$)}return{index:u,x:s,priorBreak:T,badness:O}}function tM(u){return u?tM(u.priorBreak).concat(u.index):[]}function E3(u){let s=.5,c=.5;switch(u){case"right":case"top-right":case"bottom-right":s=1;break;case"left":case"top-left":case"bottom-left":s=0}switch(u){case"bottom":case"bottom-right":case"bottom-left":c=1;break;case"top":case"top-right":case"top-left":c=0}return{horizontalAlign:s,verticalAlign:c}}function nM(u,s,c,h,y){if(!(s||c||h||y))return;const w=u.length-1,T=u[w],O=(T.x+T.metrics.advance*T.scale)*s;for(let z=0;z<=w;z++)u[z].x-=O,u[z].y+=c+h+y}function GG(u,s,c){const{horizontalAlign:h,verticalAlign:y}=E3(c),w=s[0]-u.displaySize[0]*h,T=s[1]-u.displaySize[1]*y;return{image:u,top:T,bottom:T+u.displaySize[1],left:w,right:w+u.displaySize[0]}}function rM(u,s,c,h,y,w){const T=u.image;let O;if(T.content){const Oe=T.content,Ve=T.pixelRatio||1;O=[Oe[0]/Ve,Oe[1]/Ve,T.displaySize[0]-Oe[2]/Ve,T.displaySize[1]-Oe[3]/Ve]}const z=s.left*w,$=s.right*w;let W,ne,oe,fe;c==="width"||c==="both"?(fe=y[0]+z-h[3],ne=y[0]+$+h[1]):(fe=y[0]+(z+$-T.displaySize[0])/2,ne=fe+T.displaySize[0]);const me=s.top*w,Se=s.bottom*w;return c==="height"||c==="both"?(W=y[1]+me-h[0],oe=y[1]+Se+h[2]):(W=y[1]+(me+Se-T.displaySize[1])/2,oe=W+T.displaySize[1]),{image:T,top:W,right:ne,bottom:oe,left:fe,collisionPadding:O}}class Fu extends V{constructor(s,c,h,y,w){super(s,c),this.angle=y,this.z=h,w!==void 0&&(this.segment=w)}clone(){return new Fu(this.x,this.y,this.z,this.angle,this.segment)}}function iM(u,s,c,h,y){if(s.segment===void 0)return!0;let w=s,T=s.segment+1,O=0;for(;O>-c/2;){if(T--,T<0)return!1;O-=u[T].dist(w),w=u[T]}O+=u[T].dist(u[T+1]),T++;const z=[];let $=0;for(;O<c/2;){const W=u[T],ne=u[T+1];if(!ne)return!1;let oe=u[T-1].angleTo(W)-W.angleTo(ne);for(oe=Math.abs((oe+3*Math.PI)%(2*Math.PI)-Math.PI),z.push({distance:O,angleDelta:oe}),$+=oe;O-z[0].distance>h;)$-=z.shift().angleDelta;if($>y)return!1;T++,O+=W.dist(ne)}return!0}function aM(u){let s=0;for(let c=0;c<u.length-1;c++)s+=u[c].dist(u[c+1]);return s}function oM(u,s,c){return u?.6*s*c:0}function sM(u,s){return Math.max(u?u.right-u.left:0,s?s.right-s.left:0)}function qG(u,s,c,h,y,w){const T=oM(c,y,w),O=sM(c,h)*w;let z=0;const $=aM(u)/2;for(let W=0;W<u.length-1;W++){const ne=u[W],oe=u[W+1],fe=ne.dist(oe);if(z+fe>$){const me=($-z)/fe,Se=Ar(ne.x,oe.x,me),Oe=Ar(ne.y,oe.y,me),Ve=new Fu(Se,Oe,0,oe.angleTo(ne),W);return!T||iM(u,Ve,O,T,s)?Ve:void 0}z+=fe}}function YG(u,s,c,h,y,w,T,O,z){const $=oM(h,w,T),W=sM(h,y),ne=W*T,oe=u[0].x===0||u[0].x===z||u[0].y===0||u[0].y===z;return s-ne<s/4&&(s=ne+s/4),lM(u,oe?s/2*O%s:(W/2+2*w)*T*O%s,s,$,c,ne,oe,!1,z)}function lM(u,s,c,h,y,w,T,O,z){const $=w/2,W=aM(u);let ne=0,oe=s-c,fe=[];for(let me=0;me<u.length-1;me++){const Se=u[me],Oe=u[me+1],Ve=Se.dist(Oe),tt=Oe.angleTo(Se);for(;oe+c<ne+Ve;){oe+=c;const Ue=(oe-ne)/Ve,Je=Ar(Se.x,Oe.x,Ue),st=Ar(Se.y,Oe.y,Ue);if(Je>=0&&Je<z&&st>=0&&st<z&&oe-$>=0&&oe+$<=W){const it=new Fu(Je,st,0,tt,me);it._round(),h&&!iM(u,it,w,h,y)||fe.push(it)}}ne+=Ve}return O||fe.length||T||(fe=lM(u,ne/2,c,h,y,w,T,!0,z)),fe}function uM(u,s,c,h,y){const w=[];for(let T=0;T<u.length;T++){const O=u[T];let z;for(let $=0;$<O.length-1;$++){let W=O[$],ne=O[$+1];W.x<s&&ne.x<s||(W.x<s?W=new V(s,W.y+(s-W.x)/(ne.x-W.x)*(ne.y-W.y))._round():ne.x<s&&(ne=new V(s,W.y+(s-W.x)/(ne.x-W.x)*(ne.y-W.y))._round()),W.y<c&&ne.y<c||(W.y<c?W=new V(W.x+(c-W.y)/(ne.y-W.y)*(ne.x-W.x),c)._round():ne.y<c&&(ne=new V(W.x+(c-W.y)/(ne.y-W.y)*(ne.x-W.x),c)._round()),W.x>=h&&ne.x>=h||(W.x>=h?W=new V(h,W.y+(h-W.x)/(ne.x-W.x)*(ne.y-W.y))._round():ne.x>=h&&(ne=new V(h,W.y+(h-W.x)/(ne.x-W.x)*(ne.y-W.y))._round()),W.y>=y&&ne.y>=y||(W.y>=y?W=new V(W.x+(y-W.y)/(ne.y-W.y)*(ne.x-W.x),y)._round():ne.y>=y&&(ne=new V(W.x+(y-W.y)/(ne.y-W.y)*(ne.x-W.x),y)._round()),z&&W.equals(z[z.length-1])||(z=[W],w.push(z)),z.push(ne)))))}}return w}bn(Fu,"Anchor");const Jm=1e20;function cM(u,s,c,h,y,w,T,O,z){for(let $=s;$<s+h;$++)dM(u,c*w+$,w,y,T,O,z);for(let $=c;$<c+y;$++)dM(u,$*w+s,1,h,T,O,z)}function dM(u,s,c,h,y,w,T){w[0]=0,T[0]=-Jm,T[1]=Jm,y[0]=u[s];for(let O=1,z=0,$=0;O<h;O++){y[O]=u[s+O*c];const W=O*O;do{const ne=w[z];$=(y[O]-y[ne]+W-ne*ne)/(O-ne)/2}while($<=T[z]&&--z>-1);z++,w[z]=O,T[z]=$,T[z+1]=Jm}for(let O=0,z=0;O<h;O++){for(;T[z+1]<O;)z++;const $=w[z],W=O-$;u[s+O*c]=y[$]+W*W}}const ll=2,P3={none:0,ideographs:1,all:2};class xp{constructor(s,c,h){this.requestManager=s,this.localGlyphMode=c,this.localFontFamily=h,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(s){this.url=s}getGlyphs(s,c){const h=[];for(const y in s)for(const w of s[y])h.push({stack:y,id:w});ce(h,({stack:y,id:w},T)=>{let O=this.entries[y];O||(O=this.entries[y]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let z=O.glyphs[w];if(z!==void 0)return void T(null,{stack:y,id:w,glyph:z});if(z=this._tinySDF(O,y,w),z)return O.glyphs[w]=z,void T(null,{stack:y,id:w,glyph:z});const $=Math.floor(w/256);if(256*$>65535)return void T(new Error("glyphs > 65535 not supported"));if(O.ranges[$])return void T(null,{stack:y,id:w,glyph:z});let W=O.requests[$];W||(W=O.requests[$]=[],xp.loadGlyphRange(y,$,this.url,this.requestManager,(ne,oe)=>{if(oe){O.ascender=oe.ascender,O.descender=oe.descender;for(const fe in oe.glyphs)this._doesCharSupportLocalGlyph(+fe)||(O.glyphs[+fe]=oe.glyphs[+fe]);O.ranges[$]=!0}for(const fe of W)fe(ne,oe);delete O.requests[$]})),W.push((ne,oe)=>{ne?T(ne):oe&&T(null,{stack:y,id:w,glyph:oe.glyphs[w]||null})})},(y,w)=>{if(y)c(y);else if(w){const T={};for(const{stack:O,id:z,glyph:$}of w)T[O]===void 0&&(T[O]={}),T[O].glyphs===void 0&&(T[O].glyphs={}),T[O].glyphs[z]=$&&{id:$.id,bitmap:$.bitmap.clone(),metrics:$.metrics},T[O].ascender=this.entries[O].ascender,T[O].descender=this.entries[O].descender;c(null,T)}})}_doesCharSupportLocalGlyph(s){return this.localGlyphMode!==P3.none&&(this.localGlyphMode===P3.all?!!this.localFontFamily:!!this.localFontFamily&&(yn["CJK Unified Ideographs"](s)||yn["Hangul Syllables"](s)||yn.Hiragana(s)||yn.Katakana(s)||yn["CJK Symbols and Punctuation"](s)))}_tinySDF(s,c,h){const y=this.localFontFamily;if(!y||!this._doesCharSupportLocalGlyph(h))return;let w=s.tinySDF;if(!w){let Se="400";/bold/i.test(c)?Se="900":/medium/i.test(c)?Se="500":/light/i.test(c)&&(Se="200"),w=s.tinySDF=new xp.TinySDF({fontFamily:y,fontWeight:Se,fontSize:24*ll,buffer:3*ll,radius:8*ll}),w.fontWeight=Se}if(this.localGlyphs[w.fontWeight][h])return this.localGlyphs[w.fontWeight][h];const T=String.fromCharCode(h),{data:O,width:z,height:$,glyphWidth:W,glyphHeight:ne,glyphLeft:oe,glyphTop:fe,glyphAdvance:me}=w.draw(T);return this.localGlyphs[w.fontWeight][h]={id:h,bitmap:new Ru({width:z,height:$},O),metrics:{width:W/ll,height:ne/ll,left:oe/ll,top:fe/ll-27,advance:me/ll,localGlyph:!0}}}}xp.loadGlyphRange=function(u,s,c,h,y){const w=256*s,T=w+255,O=h.transformRequest(h.normalizeGlyphsURL(c).replace("{fontstack}",u).replace("{range}",`${w}-${T}`),ft.Glyphs);Gt(O,(z,$)=>{if(z)y(z);else if($){const W={},ne=function(oe){return new My(oe).readFields(VG,{})}($);for(const oe of ne.glyphs)W[oe.id]=oe;y(null,{glyphs:W,ascender:ne.ascender,descender:ne.descender})}})},xp.TinySDF=class{constructor({fontSize:u=24,buffer:s=3,radius:c=8,cutoff:h=.25,fontFamily:y="sans-serif",fontWeight:w="normal",fontStyle:T="normal"}={}){this.buffer=s,this.cutoff=h,this.radius=c;const O=this.size=u+4*s,z=this._createCanvas(O),$=this.ctx=z.getContext("2d",{willReadFrequently:!0});$.font=`${T} ${w} ${u}px ${y}`,$.textBaseline="alphabetic",$.textAlign="left",$.fillStyle="black",this.gridOuter=new Float64Array(O*O),this.gridInner=new Float64Array(O*O),this.f=new Float64Array(O),this.z=new Float64Array(O+1),this.v=new Uint16Array(O)}_createCanvas(u){const s=document.createElement("canvas");return s.width=s.height=u,s}draw(u){const{width:s,actualBoundingBoxAscent:c,actualBoundingBoxDescent:h,actualBoundingBoxLeft:y,actualBoundingBoxRight:w}=this.ctx.measureText(u),T=Math.ceil(c),O=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(w-y))),z=Math.min(this.size-this.buffer,T+Math.ceil(h)),$=O+2*this.buffer,W=z+2*this.buffer,ne=Math.max($*W,0),oe=new Uint8ClampedArray(ne),fe={data:oe,width:$,height:W,glyphWidth:O,glyphHeight:z,glyphTop:T,glyphLeft:0,glyphAdvance:s};if(O===0||z===0)return fe;const{ctx:me,buffer:Se,gridInner:Oe,gridOuter:Ve}=this;me.clearRect(Se,Se,O,z),me.fillText(u,Se,Se+T);const tt=me.getImageData(Se,Se,O,z);Ve.fill(Jm,0,ne),Oe.fill(0,0,ne);for(let Ue=0;Ue<z;Ue++)for(let Je=0;Je<O;Je++){const st=tt.data[4*(Ue*O+Je)+3]/255;if(st===0)continue;const it=(Ue+Se)*$+Je+Se;if(st===1)Ve[it]=0,Oe[it]=Jm;else{const It=.5-st;Ve[it]=It>0?It*It:0,Oe[it]=It<0?It*It:0}}cM(Ve,0,0,$,W,$,this.f,this.v,this.z),cM(Oe,Se,Se,O,z,$,this.f,this.v,this.z);for(let Ue=0;Ue<ne;Ue++){const Je=Math.sqrt(Ve[Ue])-Math.sqrt(Oe[Ue]);oe[Ue]=Math.round(255-255*(Je/this.radius+this.cutoff))}return fe}};const wp=To;function fM(u,s,c,h){const y=[],w=u.image,T=w.pixelRatio,O=w.paddedRect.w-2*wp,z=w.paddedRect.h-2*wp,$=u.right-u.left,W=u.bottom-u.top,ne=w.stretchX||[[0,O]],oe=w.stretchY||[[0,z]],fe=(Rt,Yt)=>Rt+Yt[1]-Yt[0],me=ne.reduce(fe,0),Se=oe.reduce(fe,0),Oe=O-me,Ve=z-Se;let tt=0,Ue=me,Je=0,st=Se,it=0,It=Oe,Et=0,jt=Ve;if(w.content&&h){const Rt=w.content;tt=Ay(ne,0,Rt[0]),Je=Ay(oe,0,Rt[1]),Ue=Ay(ne,Rt[0],Rt[2]),st=Ay(oe,Rt[1],Rt[3]),it=Rt[0]-tt,Et=Rt[1]-Je,It=Rt[2]-Rt[0]-Ue,jt=Rt[3]-Rt[1]-st}const on=(Rt,Yt,Xt,en)=>{const un=Iy(Rt.stretch-tt,Ue,$,u.left),$t=Oy(Rt.fixed-it,It,Rt.stretch,me),vn=Iy(Yt.stretch-Je,st,W,u.top),Tn=Oy(Yt.fixed-Et,jt,Yt.stretch,Se),gn=Iy(Xt.stretch-tt,Ue,$,u.left),ir=Oy(Xt.fixed-it,It,Xt.stretch,me),cn=Iy(en.stretch-Je,st,W,u.top),Ln=Oy(en.fixed-Et,jt,en.stretch,Se),ar=new V(un,vn),Rr=new V(gn,vn),or=new V(gn,cn),Vn=new V(un,cn),ui=new V($t/T,Tn/T),cr=new V(ir/T,Ln/T),dr=s*Math.PI/180;if(dr){const oi=Math.sin(dr),ni=Math.cos(dr),Ci=[ni,-oi,oi,ni];ar._matMult(Ci),Rr._matMult(Ci),Vn._matMult(Ci),or._matMult(Ci)}const ti=Rt.stretch+Rt.fixed,ai=Yt.stretch+Yt.fixed;return{tl:ar,tr:Rr,bl:Vn,br:or,tex:{x:w.paddedRect.x+wp+ti,y:w.paddedRect.y+wp+ai,w:Xt.stretch+Xt.fixed-ti,h:en.stretch+en.fixed-ai},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ui,pixelOffsetBR:cr,minFontScaleX:It/T/$,minFontScaleY:jt/T/W,isSDF:c}};if(h&&(w.stretchX||w.stretchY)){const Rt=hM(ne,Oe,me),Yt=hM(oe,Ve,Se);for(let Xt=0;Xt<Rt.length-1;Xt++){const en=Rt[Xt],un=Rt[Xt+1];for(let $t=0;$t<Yt.length-1;$t++)y.push(on(en,Yt[$t],un,Yt[$t+1]))}}else y.push(on({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:O+1},{fixed:0,stretch:z+1}));return y}function Ay(u,s,c){let h=0;for(const y of u)h+=Math.max(s,Math.min(c,y[1]))-Math.max(s,Math.min(c,y[0]));return h}function hM(u,s,c){const h=[{fixed:-wp,stretch:0}];for(const[y,w]of u){const T=h[h.length-1];h.push({fixed:y-T.stretch,stretch:T.stretch}),h.push({fixed:y-T.stretch,stretch:T.stretch+(w-y)})}return h.push({fixed:s+wp,stretch:c}),h}function Iy(u,s,c,h){return u/s*c+h}function Oy(u,s,c,h){return u-s*c/h}function XG(u,s,c,h){const y=s+u.positionedLines[h].lineOffset;return h===0?c+y/2:c+(y+(s+u.positionedLines[h-1].lineOffset))/2}class ZG{constructor(s=[],c=QG){if(this.data=s,this.length=this.data.length,this.compare=c,this.length>0)for(let h=(this.length>>1)-1;h>=0;h--)this._down(h)}push(s){this.data.push(s),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const s=this.data[0],c=this.data.pop();return this.length--,this.length>0&&(this.data[0]=c,this._down(0)),s}peek(){return this.data[0]}_up(s){const{data:c,compare:h}=this,y=c[s];for(;s>0;){const w=s-1>>1,T=c[w];if(h(y,T)>=0)break;c[s]=T,s=w}c[s]=y}_down(s){const{data:c,compare:h}=this,y=this.length>>1,w=c[s];for(;s<y;){let T=1+(s<<1),O=c[T];const z=T+1;if(z<this.length&&h(c[z],O)<0&&(T=z,O=c[z]),h(O,w)>=0)break;c[s]=O,s=T}c[s]=w}}function QG(u,s){return u<s?-1:u>s?1:0}function JG(u,s=1,c=!1){let h=1/0,y=1/0,w=-1/0,T=-1/0;const O=u[0];for(let fe=0;fe<O.length;fe++){const me=O[fe];(!fe||me.x<h)&&(h=me.x),(!fe||me.y<y)&&(y=me.y),(!fe||me.x>w)&&(w=me.x),(!fe||me.y>T)&&(T=me.y)}const z=Math.min(w-h,T-y);let $=z/2;const W=new ZG([],eq);if(z===0)return new V(h,y);for(let fe=h;fe<w;fe+=z)for(let me=y;me<T;me+=z)W.push(new Cp(fe+$,me+$,$,u));let ne=function(fe){let me=0,Se=0,Oe=0;const Ve=fe[0];for(let tt=0,Ue=Ve.length,Je=Ue-1;tt<Ue;Je=tt++){const st=Ve[tt],it=Ve[Je],It=st.x*it.y-it.x*st.y;Se+=(st.x+it.x)*It,Oe+=(st.y+it.y)*It,me+=3*It}return new Cp(Se/me,Oe/me,0,fe)}(u),oe=W.length;for(;W.length;){const fe=W.pop();(fe.d>ne.d||!ne.d)&&(ne=fe,c&&console.log("found best %d after %d probes",Math.round(1e4*fe.d)/1e4,oe)),fe.max-ne.d<=s||($=fe.h/2,W.push(new Cp(fe.p.x-$,fe.p.y-$,$,u)),W.push(new Cp(fe.p.x+$,fe.p.y-$,$,u)),W.push(new Cp(fe.p.x-$,fe.p.y+$,$,u)),W.push(new Cp(fe.p.x+$,fe.p.y+$,$,u)),oe+=4)}return c&&(console.log(`num probes: ${oe}`),console.log(`best distance: ${ne.d}`)),ne.p}function eq(u,s){return s.max-u.max}class Cp{constructor(s,c,h,y){this.p=new V(s,c),this.h=h,this.d=function(w,T){let O=!1,z=1/0;for(let $=0;$<T.length;$++){const W=T[$];for(let ne=0,oe=W.length,fe=oe-1;ne<oe;fe=ne++){const me=W[ne],Se=W[fe];me.y>w.y!=Se.y>w.y&&w.x<(Se.x-me.x)*(w.y-me.y)/(Se.y-me.y)+me.x&&(O=!O),z=Math.min(z,l9(w,me,Se))}}return(O?1:-1)*Math.sqrt(z)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}}const Sp=7,M3=Number.POSITIVE_INFINITY,tq=Math.sqrt(2);function pM(u,[s,c]){let h=0,y=0;if(c===M3){s<0&&(s=0);const w=s/tq;switch(u){case"top-right":case"top-left":y=w-Sp;break;case"bottom-right":case"bottom-left":y=-w+Sp;break;case"bottom":y=-s+Sp;break;case"top":y=s-Sp}switch(u){case"top-right":case"bottom-right":h=-w;break;case"top-left":case"bottom-left":h=w;break;case"left":h=s;break;case"right":h=-s}}else{switch(s=Math.abs(s),c=Math.abs(c),u){case"top-right":case"top-left":case"top":y=c-Sp;break;case"bottom-right":case"bottom-left":case"bottom":y=-c+Sp}switch(u){case"top-right":case"bottom-right":case"right":h=-s;break;case"top-left":case"bottom-left":case"left":h=s}}return[h,y]}function nq(u,s,c,h,y,w,T,O,z,$){u.createArrays(),u.tilePixelRatio=Bn/(512*u.overscaling),u.compareText={},u.iconsNeedLinear=!1;const W=u.layers[0].layout,ne=u.layers[0]._unevaluatedLayout._values,oe={};if(u.textSizeData.kind==="composite"){const{minZoom:Se,maxZoom:Oe}=u.textSizeData;oe.compositeTextSizes=[ne["text-size"].possiblyEvaluate(new ee(Se),O),ne["text-size"].possiblyEvaluate(new ee(Oe),O)]}if(u.iconSizeData.kind==="composite"){const{minZoom:Se,maxZoom:Oe}=u.iconSizeData;oe.compositeIconSizes=[ne["icon-size"].possiblyEvaluate(new ee(Se),O),ne["icon-size"].possiblyEvaluate(new ee(Oe),O)]}oe.layoutTextSize=ne["text-size"].possiblyEvaluate(new ee(z+1),O),oe.layoutIconSize=ne["icon-size"].possiblyEvaluate(new ee(z+1),O),oe.textMaxSize=ne["text-size"].possiblyEvaluate(new ee(18),O);const fe=W.get("text-rotation-alignment")==="map"&&W.get("symbol-placement")!=="point",me=W.get("text-size");for(const Se of u.features){const Oe=W.get("text-font").evaluate(Se,{},O).join(","),Ve=me.evaluate(Se,{},O),tt=oe.layoutTextSize.evaluate(Se,{},O),Ue=(oe.layoutIconSize.evaluate(Se,{},O),{horizontal:{},vertical:void 0}),Je=Se.text;let st,it=[0,0];if(Je){const jt=Je.toString(),on=W.get("text-letter-spacing").evaluate(Se,{},O)*Ia,Rt=W.get("text-line-height").evaluate(Se,{},O)*Ia,Yt=Nw(jt)?on:0,Xt=W.get("text-anchor").evaluate(Se,{},O),en=W.get("text-variable-anchor");if(!en){const gn=W.get("text-radial-offset").evaluate(Se,{},O);it=gn?pM(Xt,[gn*Ia,M3]):W.get("text-offset").evaluate(Se,{},O).map(ir=>ir*Ia)}let un=fe?"center":W.get("text-justify").evaluate(Se,{},O);const $t=W.get("symbol-placement")==="point",vn=$t?W.get("text-max-width").evaluate(Se,{},O)*Ia:1/0,Tn=gn=>{u.allowVerticalPlacement&&Sm(jt)&&(Ue.vertical=T3(Je,s,c,y,Oe,vn,Rt,Xt,gn,Yt,it,ds.vertical,!0,tt,Ve))};if(!fe&&en){const gn=un==="auto"?en.map(cn=>k3(cn)):[un];let ir=!1;for(let cn=0;cn<gn.length;cn++){const Ln=gn[cn];if(!Ue.horizontal[Ln])if(ir)Ue.horizontal[Ln]=Ue.horizontal[0];else{const ar=T3(Je,s,c,y,Oe,vn,Rt,"center",Ln,Yt,it,ds.horizontal,!1,tt,Ve);ar&&(Ue.horizontal[Ln]=ar,ir=ar.positionedLines.length===1)}}Tn("left")}else{if(un==="auto"&&(un=k3(Xt)),$t||W.get("text-writing-mode").indexOf("horizontal")>=0||!Sm(jt)){const gn=T3(Je,s,c,y,Oe,vn,Rt,Xt,un,Yt,it,ds.horizontal,!1,tt,Ve);gn&&(Ue.horizontal[un]=gn)}Tn($t?"left":un)}}let It=!1;if(Se.icon&&Se.icon.name){const jt=h[Se.icon.name];jt&&(st=GG(y[Se.icon.name],W.get("icon-offset").evaluate(Se,{},O),W.get("icon-anchor").evaluate(Se,{},O)),It=jt.sdf,u.sdfIcons===void 0?u.sdfIcons=jt.sdf:u.sdfIcons!==jt.sdf&&We("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(jt.pixelRatio!==u.pixelRatio||W.get("icon-rotate").constantOr(1)!==0)&&(u.iconsNeedLinear=!0))}const Et=mM(Ue.horizontal)||Ue.vertical;u.iconsInText||(u.iconsInText=!!Et&&Et.iconsInText),(Et||st)&&rq(u,Se,Ue,st,h,oe,tt,0,it,It,T,O,$)}w&&u.generateCollisionDebugBuffers(z,u.collisionBoxArray)}function k3(u){switch(u){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function rq(u,s,c,h,y,w,T,O,z,$,W,ne,oe){let fe=w.textMaxSize.evaluate(s,{},ne);fe===void 0&&(fe=T);const me=u.layers[0].layout,Se=me.get("icon-offset").evaluate(s,{},ne),Oe=mM(c.horizontal)||c.vertical,Ve=oe.name==="globe",tt=Ia,Ue=T/tt,Je=u.tilePixelRatio*fe/tt,st=(Xt=u.overscaling,u.zoom>18&&Xt>2&&(Xt>>=1),Math.max(Bn/(512*Xt),1)*me.get("symbol-spacing")),it=me.get("text-padding")*u.tilePixelRatio,It=me.get("icon-padding")*u.tilePixelRatio,Et=q(me.get("text-max-angle")),jt=me.get("text-rotation-alignment")==="map"&&me.get("symbol-placement")!=="point",on=me.get("icon-rotation-alignment")==="map"&&me.get("symbol-placement")!=="point",Rt=me.get("symbol-placement"),Yt=st/2;var Xt;const en=me.get("icon-text-fit");let un;h&&en!=="none"&&(u.allowVerticalPlacement&&c.vertical&&(un=rM(h,c.vertical,en,me.get("icon-text-fit-padding"),Se,Ue)),Oe&&(h=rM(h,Oe,en,me.get("icon-text-fit-padding"),Se,Ue)));const $t=(vn,Tn,gn)=>{if(Tn.x<0||Tn.x>=Bn||Tn.y<0||Tn.y>=Bn)return;let ir=null;if(Ve){const{x:cn,y:Ln,z:ar}=oe.projectTilePoint(Tn.x,Tn.y,gn);ir={anchor:new Fu(cn,Ln,ar,0,void 0),up:oe.upVector(gn,Tn.x,Tn.y)}}(function(cn,Ln,ar,Rr,or,Vn,ui,cr,dr,ti,ai,oi,ni,Ci,Li,Yi,ri,ra,Xi,Pi,Nr,Zi,si,co,Qi){const Oa=cn.addToLineVertexArray(Ln,Rr);let Ta,fo,Ea,cl,Pp,lg,ug,YM=0,XM=0,ZM=0,QM=0,H3=-1,K3=-1;const ql={};let JM=$w("");const Tf=ar?ar.anchor:Ln;let W3=0,G3=0;if(dr._unevaluatedLayout.getValue("text-radial-offset")===void 0?[W3,G3]=dr.layout.get("text-offset").evaluate(Nr,{},Qi).map(Ho=>Ho*Ia):(W3=dr.layout.get("text-radial-offset").evaluate(Nr,{},Qi)*Ia,G3=M3),cn.allowVerticalPlacement&&or.vertical){const Ho=or.vertical;if(Li)lg=A3(Ho),cr&&(ug=A3(cr));else{const Ko=dr.layout.get("text-rotate").evaluate(Nr,{},Qi)+90;Ea=Dy(ti,Tf,Ln,ai,oi,ni,Ho,Ci,Ko,Yi),cr&&(cl=Dy(ti,Tf,Ln,ai,oi,ni,cr,ra,Ko))}}if(Vn){const Ho=dr.layout.get("icon-rotate").evaluate(Nr,{},Qi),Ko=dr.layout.get("icon-text-fit")!=="none",cg=fM(Vn,Ho,si,Ko),Y3=cr?fM(cr,Ho,si,Ko):void 0;fo=Dy(ti,Tf,Ln,ai,oi,ni,Vn,ra,Ho),YM=4*cg.length;const ek=cn.iconSizeData;let Ef=null;ek.kind==="source"?(Ef=[sl*dr.layout.get("icon-size").evaluate(Nr,{},Qi)],Ef[0]>Vc&&We(`${cn.layerIds[0]}: Value for "icon-size" is >= ${eg}. Reduce your "icon-size".`)):ek.kind==="composite"&&(Ef=[sl*Zi.compositeIconSizes[0].evaluate(Nr,{},Qi),sl*Zi.compositeIconSizes[1].evaluate(Nr,{},Qi)],(Ef[0]>Vc||Ef[1]>Vc)&&We(`${cn.layerIds[0]}: Value for "icon-size" is >= ${eg}. Reduce your "icon-size".`)),cn.addSymbols(cn.icon,cg,Ef,Pi,Xi,Nr,!1,ar,Ln,Oa.lineStartIndex,Oa.lineLength,-1,co,Qi),H3=cn.icon.placedSymbolArray.length-1,Y3&&(XM=4*Y3.length,cn.addSymbols(cn.icon,Y3,Ef,Pi,Xi,Nr,ds.vertical,ar,Ln,Oa.lineStartIndex,Oa.lineLength,-1,co,Qi),K3=cn.icon.placedSymbolArray.length-1)}for(const Ho in or.horizontal){const Ko=or.horizontal[Ho];Ta||(JM=$w(Ko.text),Li?Pp=A3(Ko):Ta=Dy(ti,Tf,Ln,ai,oi,ni,Ko,Ci,dr.layout.get("text-rotate").evaluate(Nr,{},Qi),Yi));const cg=Ko.positionedLines.length===1;if(ZM+=vM(cn,ar,Ln,Ko,ui,dr,Li,Nr,Yi,Oa,or.vertical?ds.horizontal:ds.horizontalOnly,cg?Object.keys(or.horizontal):[Ho],ql,H3,Zi,co,Qi),cg)break}or.vertical&&(QM+=vM(cn,ar,Ln,or.vertical,ui,dr,Li,Nr,Yi,Oa,ds.vertical,["vertical"],ql,K3,Zi,co,Qi));let qc=-1;const q3=(Ho,Ko)=>Ho?Math.max(Ho,Ko):Ko;qc=q3(Pp,qc),qc=q3(lg,qc),qc=q3(ug,qc);const Iq=qc>-1?1:0;cn.glyphOffsetArray.length>=Hc.MAX_GLYPHS&&We("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Nr.sortKey!==void 0&&cn.addToSortKeyRanges(cn.symbolInstances.length,Nr.sortKey),cn.symbolInstances.emplaceBack(Tf.x,Tf.y,Tf.z,Ln.x,Ln.y,ql.right>=0?ql.right:-1,ql.center>=0?ql.center:-1,ql.left>=0?ql.left:-1,ql.vertical>=0?ql.vertical:-1,H3,K3,JM,Ta!==void 0?Ta:cn.collisionBoxArray.length,Ta!==void 0?Ta+1:cn.collisionBoxArray.length,Ea!==void 0?Ea:cn.collisionBoxArray.length,Ea!==void 0?Ea+1:cn.collisionBoxArray.length,fo!==void 0?fo:cn.collisionBoxArray.length,fo!==void 0?fo+1:cn.collisionBoxArray.length,cl||cn.collisionBoxArray.length,cl?cl+1:cn.collisionBoxArray.length,ai,ZM,QM,YM,XM,Iq,0,W3,G3,qc)})(u,Tn,ir,vn,c,h,y,un,u.layers[0],u.collisionBoxArray,s.index,s.sourceLayerIndex,u.index,it,jt,z,0,It,on,Se,s,w,$,W,ne)};if(Rt==="line")for(const vn of uM(s.geometry,0,0,Bn,Bn)){const Tn=YG(vn,st,Et,c.vertical||Oe,h,tt,Je,u.overscaling,Bn);for(const gn of Tn)Oe&&iq(u,Oe.text,Yt,gn)||$t(vn,gn,ne)}else if(Rt==="line-center"){for(const vn of s.geometry)if(vn.length>1){const Tn=qG(vn,Et,c.vertical||Oe,h,tt,Je);Tn&&$t(vn,Tn,ne)}}else if(s.type==="Polygon")for(const vn of m3(s.geometry,0)){const Tn=JG(vn,16);$t(vn[0],new Fu(Tn.x,Tn.y,0,0,void 0),ne)}else if(s.type==="LineString")for(const vn of s.geometry)$t(vn,new Fu(vn[0].x,vn[0].y,0,0,void 0),ne);else if(s.type==="Point")for(const vn of s.geometry)for(const Tn of vn)$t([Tn],new Fu(Tn.x,Tn.y,0,0,void 0),ne)}const eg=255,Vc=eg*sl;function vM(u,s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me,Se,Oe){const Ve=function(Je,st,it,It,Et,jt,on,Rt){const Yt=[];if(st.positionedLines.length===0)return Yt;const Xt=It.layout.get("text-rotate").evaluate(jt,{})*Math.PI/180,en=function(gn){const ir=gn[0],cn=gn[1],Ln=ir*cn;return Ln>0?[ir,-cn]:Ln<0?[-ir,cn]:ir===0?[cn,ir]:[cn,-ir]}(it);let un=Math.abs(st.top-st.bottom);for(const gn of st.positionedLines)un-=gn.lineOffset;const $t=st.positionedLines.length,vn=un/$t;let Tn=st.top-it[1];for(let gn=0;gn<$t;++gn){const ir=st.positionedLines[gn];Tn=XG(st,vn,Tn,gn);for(const cn of ir.positionedGlyphs){if(!cn.rect)continue;const Ln=cn.rect||{};let ar=Y9+1,Rr=!0,or=1,Vn=0;if(cn.imageName){const si=on[cn.imageName];if(!si)continue;if(si.sdf){We("SDF images are not supported in formatted text and will be ignored.");continue}Rr=!1,or=si.pixelRatio,ar=To/or}const ui=(Et||Rt)&&cn.vertical,cr=cn.metrics.advance*cn.scale/2,dr=cn.metrics,ti=cn.rect;if(ti===null)continue;Rt&&st.verticalizable&&(Vn=cn.imageName?cr-cn.metrics.width*cn.scale/2:0);const ai=Et?[cn.x+cr,cn.y]:[0,0];let oi=[0,0],ni=[0,0],Ci=!1;Et||(ui?(ni=[cn.x+cr+en[0],cn.y+en[1]-Vn],Ci=!0):oi=[cn.x+cr+it[0],cn.y+it[1]-Vn]);const Li=ti.w*cn.scale/(or*(cn.localGlyph?ll:1)),Yi=ti.h*cn.scale/(or*(cn.localGlyph?ll:1));let ri,ra,Xi,Pi;if(ui){const si=cn.y-Tn,co=new V(-cr,cr-si),Qi=-Math.PI/2,Oa=new V(...ni);ri=new V(-cr+oi[0],oi[1]),ri._rotateAround(Qi,co)._add(Oa),ri.x+=-si+cr,ri.y-=(dr.left-ar)*cn.scale;const Ta=cn.imageName?dr.advance*cn.scale:Ia*cn.scale,fo=String.fromCharCode(cn.glyph);IG(fo)?ri.x+=(1-ar)*cn.scale:OG(fo)?ri.x+=Ta-dr.height*cn.scale+(-ar-1)*cn.scale:ri.x+=cn.imageName||dr.width+2*ar===ti.w&&dr.height+2*ar===ti.h?(Ta-Yi)/2:(Ta-(dr.height+2*ar)*cn.scale)/2,ra=new V(ri.x,ri.y-Li),Xi=new V(ri.x+Yi,ri.y),Pi=new V(ri.x+Yi,ri.y-Li)}else{const si=(dr.left-ar)*cn.scale-cr+oi[0],co=(-dr.top-ar)*cn.scale+oi[1],Qi=si+Li,Oa=co+Yi;ri=new V(si,co),ra=new V(Qi,co),Xi=new V(si,Oa),Pi=new V(Qi,Oa)}if(Xt){let si;si=Et?new V(0,0):Ci?new V(en[0],en[1]):new V(it[0],it[1]),ri._rotateAround(Xt,si),ra._rotateAround(Xt,si),Xi._rotateAround(Xt,si),Pi._rotateAround(Xt,si)}const Nr=new V(0,0),Zi=new V(0,0);Yt.push({tl:ri,tr:ra,bl:Xi,br:Pi,tex:Ln,writingMode:st.writingMode,glyphOffset:ai,sectionIndex:cn.sectionIndex,isSDF:Rr,pixelOffsetTL:Nr,pixelOffsetBR:Zi,minFontScaleX:0,minFontScaleY:0})}}return Yt}(0,h,z,w,T,O,y,u.allowVerticalPlacement),tt=u.textSizeData;let Ue=null;tt.kind==="source"?(Ue=[sl*w.layout.get("text-size").evaluate(O,{},Oe)],Ue[0]>Vc&&We(`${u.layerIds[0]}: Value for "text-size" is >= ${eg}. Reduce your "text-size".`)):tt.kind==="composite"&&(Ue=[sl*me.compositeTextSizes[0].evaluate(O,{},Oe),sl*me.compositeTextSizes[1].evaluate(O,{},Oe)],(Ue[0]>Vc||Ue[1]>Vc)&&We(`${u.layerIds[0]}: Value for "text-size" is >= ${eg}. Reduce your "text-size".`)),u.addSymbols(u.text,Ve,Ue,z,T,O,W,s,c,$.lineStartIndex,$.lineLength,fe,Se,Oe);for(const Je of ne)oe[Je]=u.text.placedSymbolArray.length-1;return 4*Ve.length}function mM(u){for(const s in u)return u[s];return null}function Dy(u,s,c,h,y,w,T,O,z,$){let W=T.top,ne=T.bottom,oe=T.left,fe=T.right;const me=T.collisionPadding;if(me&&(oe-=me[0],W-=me[1],fe+=me[2],ne+=me[3]),z){const Se=new V(oe,W),Oe=new V(fe,W),Ve=new V(oe,ne),tt=new V(fe,ne),Ue=q(z);let Je=new V(0,0);$&&(Je=new V($[0],$[1])),Se._rotateAround(Ue,Je),Oe._rotateAround(Ue,Je),Ve._rotateAround(Ue,Je),tt._rotateAround(Ue,Je),oe=Math.min(Se.x,Oe.x,Ve.x,tt.x),fe=Math.max(Se.x,Oe.x,Ve.x,tt.x),W=Math.min(Se.y,Oe.y,Ve.y,tt.y),ne=Math.max(Se.y,Oe.y,Ve.y,tt.y)}return u.emplaceBack(s.x,s.y,s.z,c.x,c.y,oe,W,fe,ne,O,h,y,w),u.length-1}function A3(u){u.collisionPadding&&(u.top-=u.collisionPadding[1],u.bottom+=u.collisionPadding[3]);const s=u.bottom-u.top;return s>0?Math.max(10,s):null}function iq(u,s,c,h){const y=u.compareText;if(s in y){const w=y[s];for(let T=w.length-1;T>=0;T--)if(h.dist(w[T])<c)return!0}else y[s]=[];return y[s].push(h),!1}function gM(u,s){const c=u.fovAboveCenter,h=u.elevation?u.elevation.getMinElevationBelowMSL()*s:0,y=(u._camera.position[2]*u.worldSize-h)/Math.cos(u._pitch),w=Math.sin(c)*y/Math.sin(Math.max(Math.PI/2-u._pitch-c,.01)),T=Math.sin(u._pitch)*w+y;return Math.min(1.01*T,y*(1/u._horizonShift))}function Cf(u,s){if(!s.isReprojectedInTileSpace)return{scale:1<<u.z,x:u.x,y:u.y,x2:u.x+1,y2:u.y+1,projection:s};const c=Math.pow(2,-u.z),h=u.x*c,y=(u.x+1)*c,w=u.y*c,T=(u.y+1)*c,O=cs(h),z=cs(y),$=Va(w),W=Va(T),ne=s.project(O,$),oe=s.project(z,$),fe=s.project(z,W),me=s.project(O,W);let Se=Math.min(ne.x,oe.x,fe.x,me.x),Oe=Math.min(ne.y,oe.y,fe.y,me.y),Ve=Math.max(ne.x,oe.x,fe.x,me.x),tt=Math.max(ne.y,oe.y,fe.y,me.y);const Ue=c/16;function Je(it,It,Et,jt,on,Rt){const Yt=(Et+on)/2,Xt=(jt+Rt)/2,en=s.project(cs(Yt),Va(Xt)),un=Math.max(0,Se-en.x,Oe-en.y,en.x-Ve,en.y-tt);Se=Math.min(Se,en.x),Ve=Math.max(Ve,en.x),Oe=Math.min(Oe,en.y),tt=Math.max(tt,en.y),un>Ue&&(Je(it,en,Et,jt,Yt,Xt),Je(en,It,Yt,Xt,on,Rt))}Je(ne,oe,h,w,y,w),Je(oe,fe,y,w,y,T),Je(fe,me,y,T,h,T),Je(me,ne,h,T,h,w),Se-=Ue,Oe-=Ue,Ve+=Ue,tt+=Ue;const st=1/Math.max(Ve-Se,tt-Oe);return{scale:st,x:Se*st,y:Oe*st,x2:Ve*st,y2:tt*st,projection:s}}const aq=il(new Float32Array(16));class Uc{constructor(s){this.spec=s,this.name=s.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(s,c){return{x:0,y:0,z:0}}unproject(s,c){return new ei(0,0)}projectTilePoint(s,c,h){return{x:s,y:c,z:0}}locationPoint(s,c,h=!0){return s._coordinatePoint(s.locationCoordinate(c),h)}pixelsPerMeter(s,c){return ol(1,s)*c}pixelSpaceConversion(s,c,h){return 1}farthestPixelDistance(s){return gM(s,s.pixelsPerMeter)}pointCoordinate(s,c,h,y){const w=s.horizonLineFromTop(!1),T=new V(c,Math.max(w,h));return s.rayIntersectionCoordinate(s.pointRayIntersection(T,y))}pointCoordinate3D(s,c,h){const y=new V(c,h);if(s.elevation)return s.elevation.pointCoordinate(y);{const w=this.pointCoordinate(s,y.x,y.y,0);return[w.x,w.y,w.z]}}isPointAboveHorizon(s,c){if(s.elevation)return!this.pointCoordinate3D(s,c.x,c.y);const h=s.horizonLineFromTop();return c.y<h}createInversionMatrix(s,c){return aq}createTileMatrix(s,c,h){let y,w,T;const O=h.canonical,z=il(new Float64Array(16));if(this.isReprojectedInTileSpace){const $=Cf(O,this);y=1,w=$.x+h.wrap*$.scale,T=$.y,mf(z,z,[y/$.scale,y/$.scale,s.pixelsPerMeter/c])}else y=c/s.zoomScale(O.z),w=(O.x+Math.pow(2,O.z)*h.wrap)*y,T=O.y*y;return Im(z,z,[w,T,0]),mf(z,z,[y/Bn,y/Bn,1]),z}upVector(s,c,h){return[0,0,1]}upVectorScale(s,c,h){return{metersToTile:1}}}class oq extends Uc{constructor(s){super(s),this.range=[4,7],this.center=s.center||[-96,37.5];const[c,h]=this.parallels=s.parallels||[29.5,45.5],y=Math.sin(q(c));this.n=(y+Math.sin(q(h)))/2,this.c=1+y*(2*this.n-y),this.r0=Math.sqrt(this.c)/this.n}project(s,c){const{n:h,c:y,r0:w}=this,T=q(s-this.center[0]),O=q(c),z=Math.sqrt(y-2*h*Math.sin(O))/h;return{x:z*Math.sin(T*h),y:z*Math.cos(T*h)-w,z:0}}unproject(s,c){const{n:h,c:y,r0:w}=this,T=w+c;let O=Math.atan2(s,Math.abs(T))*Math.sign(T);T*h<0&&(O-=Math.PI*Math.sign(s)*Math.sign(T));const z=q(this.center[0])*h;O=he(O,-Math.PI-z,Math.PI-z);const $=X(G(O/h)+this.center[0],-180,180),W=Math.asin(X((y-(s*s+T*T)*h*h)/(2*h),-1,1)),ne=X(G(W),-Ua,Ua);return new ei($,ne)}}const tg=1.340264,ng=-.081106,rg=893e-6,ig=.003796,Ry=Math.sqrt(3)/2;class sq extends Uc{project(s,c){c=c/180*Math.PI,s=s/180*Math.PI;const h=Math.asin(Ry*Math.sin(c)),y=h*h,w=y*y*y;return{x:.5*(s*Math.cos(h)/(Ry*(tg+3*ng*y+w*(7*rg+9*ig*y)))/Math.PI+.5),y:1-.5*(h*(tg+ng*y+w*(rg+ig*y))/Math.PI+1),z:0}}unproject(s,c){s=(2*s-.5)*Math.PI;let h=c=(2*(1-c)-1)*Math.PI,y=h*h,w=y*y*y;for(let W,ne,oe,fe=0;fe<12&&(ne=h*(tg+ng*y+w*(rg+ig*y))-c,oe=tg+3*ng*y+w*(7*rg+9*ig*y),W=ne/oe,h=X(h-W,-Math.PI/3,Math.PI/3),y=h*h,w=y*y*y,!(Math.abs(W)<1e-12));++fe);const T=Ry*s*(tg+3*ng*y+w*(7*rg+9*ig*y))/Math.cos(h),O=Math.asin(Math.sin(h)/Ry),z=X(180*T/Math.PI,-180,180),$=X(180*O/Math.PI,-Ua,Ua);return new ei(z,$)}}class lq extends Uc{constructor(s){super(s),this.wrap=!0,this.supportsWorldCopies=!0}project(s,c){return{x:.5+s/360,y:.5-c/360,z:0}}unproject(s,c){const h=360*(s-.5),y=X(360*(.5-c),-Ua,Ua);return new ei(h,y)}}const Tp=Math.PI/2;function Ly(u){return Math.tan((Tp+u)/2)}class uq extends Uc{constructor(s){super(s),this.center=s.center||[0,30];const[c,h]=this.parallels=s.parallels||[30,30];let y=q(c),w=q(h);this.southernCenter=y+w<0,this.southernCenter&&(y=-y,w=-w);const T=Math.cos(y),O=Ly(y);this.n=y===w?Math.sin(y):Math.log(T/Math.cos(w))/Math.log(Ly(w)/O),this.f=T*Math.pow(Ly(y),this.n)/this.n}project(s,c){c=q(c),this.southernCenter&&(c=-c),s=q(s-this.center[0]);const h=1e-6,{n:y,f:w}=this;w>0?c<-Tp+h&&(c=-Tp+h):c>Tp-h&&(c=Tp-h);const T=w/Math.pow(Ly(c),y);let O=T*Math.sin(y*s),z=w-T*Math.cos(y*s);return O=.5*(O/Math.PI+.5),z=.5*(z/Math.PI+.5),{x:O,y:this.southernCenter?z:1-z,z:0}}unproject(s,c){s=(2*s-.5)*Math.PI,this.southernCenter&&(c=1-c),c=(2*(1-c)-.5)*Math.PI;const{n:h,f:y}=this,w=y-c,T=Math.sign(w),O=Math.sign(h)*Math.sqrt(s*s+w*w);let z=Math.atan2(s,Math.abs(w))*T;w*h<0&&(z-=Math.PI*Math.sign(s)*T);const $=X(G(z/h)+this.center[0],-180,180),W=X(G(2*Math.atan(Math.pow(y/O,1/h))-Tp),-Ua,Ua);return new ei($,this.southernCenter?-W:W)}}class yM extends Uc{constructor(s){super(s),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(s,c){return{x:Ul(s),y:Hl(c),z:0}}unproject(s,c){const h=cs(s),y=Va(c);return new ei(h,y)}}const _M=q(Ua);class cq extends Uc{project(s,c){const h=(c=q(c))*c,y=h*h;return{x:.5*((s=q(s))*(.8707-.131979*h+y*(y*(.003971*h-.001529*y)-.013791))/Math.PI+.5),y:1-.5*(c*(1.007226+h*(.015085+y*(.028874*h-.044475-.005916*y)))/Math.PI+1),z:0}}unproject(s,c){s=(2*s-.5)*Math.PI;let h=c=(2*(1-c)-1)*Math.PI,y=25,w=0,T=h*h;do{T=h*h;const $=T*T;w=(h*(1.007226+T*(.015085+$*(.028874*T-.044475-.005916*$)))-c)/(1.007226+T*(.045255+$*(.259866*T-.311325-.005916*11*$))),h=X(h-w,-_M,_M)}while(Math.abs(w)>1e-6&&--y>0);T=h*h;const O=X(G(s/(.8707+T*(T*(T*T*T*(.003971-.001529*T)-.013791)-.131979))),-180,180),z=G(h);return new ei(O,z)}}const bM=q(Ua);class dq extends Uc{project(s,c){c=q(c),s=q(s);const h=Math.cos(c),y=2/Math.PI,w=Math.acos(h*Math.cos(s/2)),T=Math.sin(w)/w,O=.5*(s*y+2*h*Math.sin(s/2)/T)||0,z=.5*(c+Math.sin(c)/T)||0;return{x:.5*(O/Math.PI+.5),y:1-.5*(z/Math.PI+1),z:0}}unproject(s,c){let h=s=(2*s-.5)*Math.PI,y=c=(2*(1-c)-1)*Math.PI,w=25;const T=1e-6;let O=0,z=0;do{const $=Math.cos(y),W=Math.sin(y),ne=2*W*$,oe=W*W,fe=$*$,me=Math.cos(h/2),Se=Math.sin(h/2),Oe=2*me*Se,Ve=Se*Se,tt=1-fe*me*me,Ue=tt?1/tt:0,Je=tt?Math.acos($*me)*Math.sqrt(1/tt):0,st=.5*(2*Je*$*Se+2*h/Math.PI)-s,it=.5*(Je*W+y)-c,It=.5*Ue*(fe*Ve+Je*$*me*oe)+1/Math.PI,Et=Ue*(Oe*ne/4-Je*W*Se),jt=.125*Ue*(ne*Se-Je*W*fe*Oe),on=.5*Ue*(oe*me+Je*Ve*$)+.5,Rt=Et*jt-on*It;O=(it*Et-st*on)/Rt,z=(st*jt-it*It)/Rt,h=X(h-O,-Math.PI,Math.PI),y=X(y-z,-bM,bM)}while((Math.abs(O)>T||Math.abs(z)>T)&&--w>0);return new ei(G(h),G(y))}}class xM extends Uc{constructor(s){super(s),this.center=s.center||[0,0],this.parallels=s.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(q(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(s,c){const{scale:h,cosPhi:y}=this;return{x:q(s)*y*h+.5,y:-Math.sin(q(c))/y*h+.5,z:0}}unproject(s,c){const{scale:h,cosPhi:y}=this,w=-(c-.5)/h,T=X(G((s-.5)/h)/y,-180,180),O=Math.asin(X(w*y,-1,1)),z=X(G(O),-Ua,Ua);return new ei(T,z)}}class fq extends yM{constructor(s){super(s),this.requiresDraping=!0,this.supportsWorldCopies=!1,this.supportsFog=!0,this.zAxisUnit="pixels",this.unsupportedLayers=["debug"],this.range=[3,5]}projectTilePoint(s,c,h){const y=zm(s,c,h);return Vi(y,y,$m(Vl(h))),{x:y[0],y:y[1],z:y[2]}}locationPoint(s,c){const h=cp(c.lat,c.lng),y=so([],h),w=s.elevation?s.elevation.getAtPointOrZero(s.locationCoordinate(c),s._centerAltitude):s._centerAltitude;Lm(h,h,y,ol(1,0)*Bn*w);const T=il(new Float64Array(16));return vf(T,s.pixelMatrix,s.globeMatrix),Vi(h,h,T),new V(h[0],h[1])}pixelsPerMeter(s,c){return ol(1,0)*c}pixelSpaceConversion(s,c,h){const y=ol(1,s)*c,w=Ar(ol(1,45)*c,y,h);return this.pixelsPerMeter(s,c)/w}createTileMatrix(s,c,h){const y=e3(Vl(h.canonical));return vf(new Float64Array(16),s.globeMatrix,y)}createInversionMatrix(s,c){const{center:h}=s,y=$m(Vl(c));return uy(y,y,q(h.lng)),Hw(y,y,q(h.lat)),mf(y,y,[s._pixelsPerMercatorPixel,s._pixelsPerMercatorPixel,1]),Float32Array.from(y)}pointCoordinate(s,c,h,y){return qP(s,c,h,!0)||new fp(0,0)}pointCoordinate3D(s,c,h){const y=this.pointCoordinate(s,c,h,0);return[y.x,y.y,y.z]}isPointAboveHorizon(s,c){return!qP(s,c.x,c.y,!1)}farthestPixelDistance(s){const c=function(y,w){const T=y.cameraToCenterDistance,O=y._centerAltitude*w,z=y._camera,$=y._camera.forward(),W=Ou([],us([],$,-T),[0,0,O]),ne=y.worldSize/(2*Math.PI),oe=[0,0,-ne],fe=y.width/y.height,me=Math.tan(y.fovAboveCenter),Se=us([],z.up(),me),Oe=us([],z.right(),me*fe),Ve=so([],Ou([],Ou([],$,Se),Oe)),tt=[];let Ue;if(new qw(W,Ve).closestPointOnSphere(oe,ne,tt)){const Je=Ou([],tt,oe),st=al([],Je,W);Ue=Math.cos(y.fovAboveCenter)*Om(st)}else{const Je=al([],W,oe),st=al([],oe,W);so(st,st);const it=Om(Je)-ne;Ue=Math.sqrt(it*(it+2*ne));const It=Math.acos(Ue/(ne+it))-Math.acos(Is($,st));Ue*=Math.cos(It)}return 1.01*Ue}(s,this.pixelsPerMeter(s.center.lat,s.worldSize)),h=dp(s.zoom);if(h>0){const y=gM(s,ol(1,s.center.lat)*s.worldSize),w=s.worldSize/(2*Math.PI),T=Math.max(s.width,s.height)/s.worldSize*Math.PI;return Ar(c,y+w*(1-Math.cos(T)),Math.pow(h,10))}return c}upVector(s,c,h){return zm(c,h,s,1)}upVectorScale(s){return{metersToTile:cy(fy(Vl(s)))}}}function wM(u){const s=u.parallels,c=!!s&&Math.abs(s[0]+s[1])<.01;switch(u.name){case"mercator":return new yM(u);case"equirectangular":return new lq(u);case"naturalEarth":return new cq(u);case"equalEarth":return new sq(u);case"winkelTripel":return new dq(u);case"albers":return c?new xM(u):new oq(u);case"lambertConformalConic":return c?new xM(u):new uq(u);case"globe":return new fq(u)}throw new Error(`Invalid projection name: ${u.name}`)}const hq=wy.types,pq=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Fy(u,s,c,h,y,w,T,O,z,$,W,ne,oe){const fe=O?Math.min(Vc,Math.round(O[0])):0,me=O?Math.min(Vc,Math.round(O[1])):0;u.emplaceBack(s,c,Math.round(32*h),Math.round(32*y),w,T,(fe<<1)+(z?1:0),me,16*$,16*W,256*ne,256*oe)}function Ny(u,s,c,h,y,w,T){u.emplaceBack(s,c,h,y,w,T)}function By(u,s,c,h,y){u.emplaceBack(s,c,h,y),u.emplaceBack(s,c,h,y),u.emplaceBack(s,c,h,y),u.emplaceBack(s,c,h,y)}function vq(u){for(const s of u.sections)if(zw(s.text))return!0;return!1}class I3{constructor(s){this.layoutVertexArray=new Qt,this.indexArray=new On,this.programConfigurations=s,this.segments=new Gi,this.dynamicLayoutVertexArray=new nn,this.opacityVertexArray=new Rn,this.placedSymbolArray=new Wi,this.globeExtVertexArray=new ln}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(s,c,h,y){this.isEmpty()||(h&&(this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,CG.members),this.indexBuffer=s.createIndexBuffer(this.indexArray,c),this.dynamicLayoutVertexBuffer=s.createVertexBuffer(this.dynamicLayoutVertexArray,TG.members,!0),this.opacityVertexBuffer=s.createVertexBuffer(this.opacityVertexArray,pq,!0),this.globeExtVertexArray.length>0&&(this.globeExtVertexBuffer=s.createVertexBuffer(this.globeExtVertexArray,SG.members,!0)),this.opacityVertexBuffer.itemSize=1),(h||y)&&this.programConfigurations.upload(s))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}}bn(I3,"SymbolBuffers");class O3{constructor(s,c,h){this.layoutVertexArray=new s,this.layoutAttributes=c,this.indexArray=new h,this.segments=new Gi,this.collisionVertexArray=new xr,this.collisionVertexArrayExt=new _r}upload(s){this.layoutVertexBuffer=s.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=s.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=s.createVertexBuffer(this.collisionVertexArray,EG.members,!0),this.collisionVertexBufferExt=s.createVertexBuffer(this.collisionVertexArrayExt,PG.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}bn(O3,"CollisionBuffers");class Hc{constructor(s){this.collisionBoxArray=s.collisionBoxArray,this.zoom=s.zoom,this.overscaling=s.overscaling,this.layers=s.layers,this.layerIds=this.layers.map(T=>T.id),this.index=s.index,this.pixelRatio=s.pixelRatio,this.sourceLayerIndex=s.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=il([]),this.placementViewportMatrix=il([]);const c=this.layers[0]._unevaluatedLayout._values;this.textSizeData=b3(this.zoom,c["text-size"]),this.iconSizeData=b3(this.zoom,c["icon-size"]);const h=this.layers[0].layout,y=h.get("symbol-sort-key"),w=h.get("symbol-z-order");this.canOverlap=h.get("text-allow-overlap")||h.get("icon-allow-overlap")||h.get("text-ignore-placement")||h.get("icon-ignore-placement"),this.sortFeaturesByKey=w!=="viewport-y"&&y.constantOr(1)!==void 0,this.sortFeaturesByY=(w==="viewport-y"||w==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=h.get("text-writing-mode").map(T=>ds[T]),this.stateDependentLayerIds=this.layers.filter(T=>T.isStateDependent()).map(T=>T.id),this.sourceID=s.sourceID,this.projection=s.projection}createArrays(){this.text=new I3(new pf(this.layers,this.zoom,s=>/^text/.test(s))),this.icon=new I3(new pf(this.layers,this.zoom,s=>/^icon/.test(s))),this.glyphOffsetArray=new oo,this.lineVertexArray=new ap,this.symbolInstances=new di}calculateGlyphDependencies(s,c,h,y,w){for(let T=0;T<s.length;T++)if(c[s.charCodeAt(T)]=!0,y&&w){const O=Zm[s.charAt(T)];O&&(c[O.charCodeAt(0)]=!0)}}populate(s,c,h,y){const w=this.layers[0],T=w.layout,O=this.projection.name==="globe",z=T.get("text-font"),$=T.get("text-field"),W=T.get("icon-image"),ne=($.value.kind!=="constant"||$.value.value instanceof Ei&&!$.value.value.isEmpty()||$.value.value.toString().length>0)&&(z.value.kind!=="constant"||z.value.value.length>0),oe=W.value.kind!=="constant"||!!W.value.value||Object.keys(W.parameters).length>0,fe=T.get("symbol-sort-key");if(this.features=[],!ne&&!oe)return;const me=c.iconDependencies,Se=c.glyphDependencies,Oe=c.availableImages,Ve=new ee(this.zoom);for(const{feature:tt,id:Ue,index:Je,sourceLayerIndex:st}of s){const it=w._featureFilter.needGeometry,It=bf(tt,it);if(!w._featureFilter.filter(Ve,It,h))continue;if(it||(It.geometry=Du(tt,h,y)),O&&tt.type!==1&&h.z<=5){const Rt=It.geometry,Yt=.98078528056,Xt=(en,un)=>Is(zm(en.x,en.y,h,1),zm(un.x,un.y,h,1))<Yt;for(let en=0;en<Rt.length;en++)Rt[en]=TW(Rt[en],Xt)}let Et,jt;if(ne){const Rt=w.getValueAndResolveTokens("text-field",It,h,Oe),Yt=Ei.factory(Rt);vq(Yt)&&(this.hasRTLText=!0),(!this.hasRTLText||F()==="unavailable"||this.hasRTLText&&K.isParsed())&&(Et=AG(Yt,w,It))}if(oe){const Rt=w.getValueAndResolveTokens("icon-image",It,h,Oe);jt=Rt instanceof Ja?Rt:Ja.fromString(Rt)}if(!Et&&!jt)continue;const on=this.sortFeaturesByKey?fe.evaluate(It,{},h):void 0;if(this.features.push({id:Ue,text:Et,icon:jt,index:Je,sourceLayerIndex:st,geometry:It.geometry,properties:tt.properties,type:hq[tt.type],sortKey:on}),jt&&(me[jt.name]=!0),Et){const Rt=z.evaluate(It,{},h).join(","),Yt=T.get("text-rotation-alignment")==="map"&&T.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(ds.vertical)>=0;for(const Xt of Et.sections)if(Xt.image)me[Xt.image.name]=!0;else{const en=Sm(Et.toString()),un=Xt.fontStack||Rt,$t=Se[un]=Se[un]||{};this.calculateGlyphDependencies(Xt.text,$t,Yt,this.allowVerticalPlacement,en)}}}T.get("symbol-placement")==="line"&&(this.features=function(tt){const Ue={},Je={},st=[];let it=0;function It(Rt){st.push(tt[Rt]),it++}function Et(Rt,Yt,Xt){const en=Je[Rt];return delete Je[Rt],Je[Yt]=en,st[en].geometry[0].pop(),st[en].geometry[0]=st[en].geometry[0].concat(Xt[0]),en}function jt(Rt,Yt,Xt){const en=Ue[Yt];return delete Ue[Yt],Ue[Rt]=en,st[en].geometry[0].shift(),st[en].geometry[0]=Xt[0].concat(st[en].geometry[0]),en}function on(Rt,Yt,Xt){const en=Xt?Yt[0][Yt[0].length-1]:Yt[0][0];return`${Rt}:${en.x}:${en.y}`}for(let Rt=0;Rt<tt.length;Rt++){const Yt=tt[Rt],Xt=Yt.geometry,en=Yt.text?Yt.text.toString():null;if(!en){It(Rt);continue}const un=on(en,Xt),$t=on(en,Xt,!0);if(un in Je&&$t in Ue&&Je[un]!==Ue[$t]){const vn=jt(un,$t,Xt),Tn=Et(un,$t,st[vn].geometry);delete Ue[un],delete Je[$t],Je[on(en,st[Tn].geometry,!0)]=Tn,st[vn].geometry=null}else un in Je?Et(un,$t,Xt):$t in Ue?jt(un,$t,Xt):(It(Rt),Ue[un]=it-1,Je[$t]=it-1)}return st.filter(Rt=>Rt.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((tt,Ue)=>tt.sortKey-Ue.sortKey)}update(s,c,h,y){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(s,c,this.layers,h,y),this.icon.programConfigurations.updatePaintArrays(s,c,this.layers,h,y))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(s){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(s),this.iconCollisionBox.upload(s)),this.text.upload(s,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(s,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}getProjection(){return this.projectionInstance||(this.projectionInstance=wM(this.projection)),this.projectionInstance}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(s,c){const h=this.lineVertexArray.length;if(s.segment!==void 0)for(const{x:y,y:w}of c)this.lineVertexArray.emplaceBack(y,w);return{lineStartIndex:h,lineLength:this.lineVertexArray.length-h}}addSymbols(s,c,h,y,w,T,O,z,$,W,ne,oe,fe,me){const Se=s.indexArray,Oe=s.layoutVertexArray,Ve=s.globeExtVertexArray,tt=s.segments.prepareSegment(4*c.length,Oe,Se,this.canOverlap?T.sortKey:void 0),Ue=this.glyphOffsetArray.length,Je=tt.vertexLength,st=this.allowVerticalPlacement&&O===ds.vertical?Math.PI/2:0,it=T.text&&T.text.sections;for(let Et=0;Et<c.length;Et++){const{tl:jt,tr:on,bl:Rt,br:Yt,tex:Xt,pixelOffsetTL:en,pixelOffsetBR:un,minFontScaleX:$t,minFontScaleY:vn,glyphOffset:Tn,isSDF:gn,sectionIndex:ir}=c[Et],cn=tt.vertexLength,Ln=Tn[1];if(Fy(Oe,$.x,$.y,jt.x,Ln+jt.y,Xt.x,Xt.y,h,gn,en.x,en.y,$t,vn),Fy(Oe,$.x,$.y,on.x,Ln+on.y,Xt.x+Xt.w,Xt.y,h,gn,un.x,en.y,$t,vn),Fy(Oe,$.x,$.y,Rt.x,Ln+Rt.y,Xt.x,Xt.y+Xt.h,h,gn,en.x,un.y,$t,vn),Fy(Oe,$.x,$.y,Yt.x,Ln+Yt.y,Xt.x+Xt.w,Xt.y+Xt.h,h,gn,un.x,un.y,$t,vn),z){const{x:ar,y:Rr,z:or}=z.anchor,[Vn,ui,cr]=z.up;Ny(Ve,ar,Rr,or,Vn,ui,cr),Ny(Ve,ar,Rr,or,Vn,ui,cr),Ny(Ve,ar,Rr,or,Vn,ui,cr),Ny(Ve,ar,Rr,or,Vn,ui,cr),By(s.dynamicLayoutVertexArray,ar,Rr,or,st)}else By(s.dynamicLayoutVertexArray,$.x,$.y,$.z,st);Se.emplaceBack(cn,cn+1,cn+2),Se.emplaceBack(cn+1,cn+2,cn+3),tt.vertexLength+=4,tt.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Tn[0]),Et!==c.length-1&&ir===c[Et+1].sectionIndex||s.programConfigurations.populatePaintArrays(Oe.length,T,T.index,{},fe,me,it&&it[ir])}const It=z?z.anchor:$;s.placedSymbolArray.emplaceBack(It.x,It.y,It.z,$.x,$.y,Ue,this.glyphOffsetArray.length-Ue,Je,W,ne,$.segment,h?h[0]:0,h?h[1]:0,y[0],y[1],O,0,!1,0,oe,0)}_commitLayoutVertex(s,c,h,y,w,T,O){s.emplaceBack(c,h,y,w,T,Math.round(O.x),Math.round(O.y))}_addCollisionDebugVertices(s,c,h,y,w,T,O){const z=h.segments.prepareSegment(4,h.layoutVertexArray,h.indexArray),$=z.vertexLength,W=O.tileAnchorX,ne=O.tileAnchorY;for(let fe=0;fe<4;fe++)h.collisionVertexArray.emplaceBack(0,0,0,0);h.collisionVertexArrayExt.emplaceBack(c,-s.padding,-s.padding),h.collisionVertexArrayExt.emplaceBack(c,s.padding,-s.padding),h.collisionVertexArrayExt.emplaceBack(c,s.padding,s.padding),h.collisionVertexArrayExt.emplaceBack(c,-s.padding,s.padding),this._commitLayoutVertex(h.layoutVertexArray,y,w,T,W,ne,new V(s.x1,s.y1)),this._commitLayoutVertex(h.layoutVertexArray,y,w,T,W,ne,new V(s.x2,s.y1)),this._commitLayoutVertex(h.layoutVertexArray,y,w,T,W,ne,new V(s.x2,s.y2)),this._commitLayoutVertex(h.layoutVertexArray,y,w,T,W,ne,new V(s.x1,s.y2)),z.vertexLength+=4;const oe=h.indexArray;oe.emplaceBack($,$+1),oe.emplaceBack($+1,$+2),oe.emplaceBack($+2,$+3),oe.emplaceBack($+3,$),z.primitiveLength+=4}_addTextDebugCollisionBoxes(s,c,h,y,w,T){for(let O=y;O<w;O++){const z=h.get(O),$=this.getSymbolInstanceTextSize(s,T,c,O);this._addCollisionDebugVertices(z,$,this.textCollisionBox,z.projectedAnchorX,z.projectedAnchorY,z.projectedAnchorZ,T)}}_addIconDebugCollisionBoxes(s,c,h,y,w,T){for(let O=y;O<w;O++){const z=h.get(O),$=this.getSymbolInstanceIconSize(s,c,T.placedIconSymbolIndex);this._addCollisionDebugVertices(z,$,this.iconCollisionBox,z.projectedAnchorX,z.projectedAnchorY,z.projectedAnchorZ,T)}}generateCollisionDebugBuffers(s,c){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new O3(Sn,j9.members,Sa),this.iconCollisionBox=new O3(Sn,j9.members,Sa);const h=gp(this.iconSizeData,s),y=gp(this.textSizeData,s);for(let w=0;w<this.symbolInstances.length;w++){const T=this.symbolInstances.get(w);this._addTextDebugCollisionBoxes(y,s,c,T.textBoxStartIndex,T.textBoxEndIndex,T),this._addTextDebugCollisionBoxes(y,s,c,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._addIconDebugCollisionBoxes(h,s,c,T.iconBoxStartIndex,T.iconBoxEndIndex,T),this._addIconDebugCollisionBoxes(h,s,c,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T)}}getSymbolInstanceTextSize(s,c,h,y){const w=this.text.placedSymbolArray.get(c.rightJustifiedTextSymbolIndex>=0?c.rightJustifiedTextSymbolIndex:c.centerJustifiedTextSymbolIndex>=0?c.centerJustifiedTextSymbolIndex:c.leftJustifiedTextSymbolIndex>=0?c.leftJustifiedTextSymbolIndex:c.verticalPlacedTextSymbolIndex>=0?c.verticalPlacedTextSymbolIndex:y),T=Ey(this.textSizeData,s,w)/Ia;return this.tilePixelRatio*T}getSymbolInstanceIconSize(s,c,h){const y=this.icon.placedSymbolArray.get(h),w=Ey(this.iconSizeData,s,y);return this.tilePixelRatio*w}_commitDebugCollisionVertexUpdate(s,c,h){s.emplaceBack(c,-h,-h),s.emplaceBack(c,h,-h),s.emplaceBack(c,h,h),s.emplaceBack(c,-h,h)}_updateTextDebugCollisionBoxes(s,c,h,y,w,T){for(let O=y;O<w;O++){const z=h.get(O),$=this.getSymbolInstanceTextSize(s,T,c,O);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,$,z.padding)}}_updateIconDebugCollisionBoxes(s,c,h,y,w,T){for(let O=y;O<w;O++){const z=h.get(O),$=this.getSymbolInstanceIconSize(s,c,T);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,$,z.padding)}}updateCollisionDebugBuffers(s,c){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const h=gp(this.iconSizeData,s),y=gp(this.textSizeData,s);for(let w=0;w<this.symbolInstances.length;w++){const T=this.symbolInstances.get(w);this._updateTextDebugCollisionBoxes(y,s,c,T.textBoxStartIndex,T.textBoxEndIndex,T),this._updateTextDebugCollisionBoxes(y,s,c,T.verticalTextBoxStartIndex,T.verticalTextBoxEndIndex,T),this._updateIconDebugCollisionBoxes(h,s,c,T.iconBoxStartIndex,T.iconBoxEndIndex,T.placedIconSymbolIndex),this._updateIconDebugCollisionBoxes(h,s,c,T.verticalIconBoxStartIndex,T.verticalIconBoxEndIndex,T.placedIconSymbolIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(s,c,h,y,w,T,O,z,$){const W={};if(c<h){const{x1:ne,y1:oe,x2:fe,y2:me,padding:Se,projectedAnchorX:Oe,projectedAnchorY:Ve,projectedAnchorZ:tt,tileAnchorX:Ue,tileAnchorY:Je,featureIndex:st}=s.get(c);W.textBox={x1:ne,y1:oe,x2:fe,y2:me,padding:Se,projectedAnchorX:Oe,projectedAnchorY:Ve,projectedAnchorZ:tt,tileAnchorX:Ue,tileAnchorY:Je},W.textFeatureIndex=st}if(y<w){const{x1:ne,y1:oe,x2:fe,y2:me,padding:Se,projectedAnchorX:Oe,projectedAnchorY:Ve,projectedAnchorZ:tt,tileAnchorX:Ue,tileAnchorY:Je,featureIndex:st}=s.get(y);W.verticalTextBox={x1:ne,y1:oe,x2:fe,y2:me,padding:Se,projectedAnchorX:Oe,projectedAnchorY:Ve,projectedAnchorZ:tt,tileAnchorX:Ue,tileAnchorY:Je},W.verticalTextFeatureIndex=st}if(T<O){const{x1:ne,y1:oe,x2:fe,y2:me,padding:Se,projectedAnchorX:Oe,projectedAnchorY:Ve,projectedAnchorZ:tt,tileAnchorX:Ue,tileAnchorY:Je,featureIndex:st}=s.get(T);W.iconBox={x1:ne,y1:oe,x2:fe,y2:me,padding:Se,projectedAnchorX:Oe,projectedAnchorY:Ve,projectedAnchorZ:tt,tileAnchorX:Ue,tileAnchorY:Je},W.iconFeatureIndex=st}if(z<$){const{x1:ne,y1:oe,x2:fe,y2:me,padding:Se,projectedAnchorX:Oe,projectedAnchorY:Ve,projectedAnchorZ:tt,tileAnchorX:Ue,tileAnchorY:Je,featureIndex:st}=s.get(z);W.verticalIconBox={x1:ne,y1:oe,x2:fe,y2:me,padding:Se,projectedAnchorX:Oe,projectedAnchorY:Ve,projectedAnchorZ:tt,tileAnchorX:Ue,tileAnchorY:Je},W.verticalIconFeatureIndex=st}return W}deserializeCollisionBoxes(s){this.collisionArrays=[];for(let c=0;c<this.symbolInstances.length;c++){const h=this.symbolInstances.get(c);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(s,h.textBoxStartIndex,h.textBoxEndIndex,h.verticalTextBoxStartIndex,h.verticalTextBoxEndIndex,h.iconBoxStartIndex,h.iconBoxEndIndex,h.verticalIconBoxStartIndex,h.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(s,c){const h=s.placedSymbolArray.get(c),y=h.vertexStartIndex+4*h.numGlyphs;for(let w=h.vertexStartIndex;w<y;w+=4)s.indexArray.emplaceBack(w,w+1,w+2),s.indexArray.emplaceBack(w+1,w+2,w+3)}getSortedSymbolIndexes(s){if(this.sortedAngle===s&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const c=Math.sin(s),h=Math.cos(s),y=[],w=[],T=[];for(let O=0;O<this.symbolInstances.length;++O){T.push(O);const z=this.symbolInstances.get(O);y.push(0|Math.round(c*z.tileAnchorX+h*z.tileAnchorY)),w.push(z.featureIndex)}return T.sort((O,z)=>y[O]-y[z]||w[z]-w[O]),T}addToSortKeyRanges(s,c){const h=this.sortKeyRanges[this.sortKeyRanges.length-1];h&&h.sortKey===c?h.symbolInstanceEnd=s+1:this.sortKeyRanges.push({sortKey:c,symbolInstanceStart:s,symbolInstanceEnd:s+1})}sortFeatures(s){if(this.sortFeaturesByY&&this.sortedAngle!==s&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(s),this.sortedAngle=s,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const c of this.symbolInstanceIndexes){const h=this.symbolInstances.get(c);this.featureSortOrder.push(h.featureIndex);const{rightJustifiedTextSymbolIndex:y,centerJustifiedTextSymbolIndex:w,leftJustifiedTextSymbolIndex:T,verticalPlacedTextSymbolIndex:O,placedIconSymbolIndex:z,verticalPlacedIconSymbolIndex:$}=h;y>=0&&this.addIndicesForPlacedSymbol(this.text,y),w>=0&&w!==y&&this.addIndicesForPlacedSymbol(this.text,w),T>=0&&T!==w&&T!==y&&this.addIndicesForPlacedSymbol(this.text,T),O>=0&&this.addIndicesForPlacedSymbol(this.text,O),z>=0&&this.addIndicesForPlacedSymbol(this.icon,z),$>=0&&this.addIndicesForPlacedSymbol(this.icon,$)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}bn(Hc,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Hc.MAX_GLYPHS=65535,Hc.addDynamicAttributes=By;const mq=new Xe({"symbol-placement":new Ce(zt.layout_symbol["symbol-placement"]),"symbol-spacing":new Ce(zt.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ce(zt.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Le(zt.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ce(zt.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ce(zt.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ce(zt.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ce(zt.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ce(zt.layout_symbol["icon-rotation-alignment"]),"icon-size":new Le(zt.layout_symbol["icon-size"]),"icon-text-fit":new Ce(zt.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ce(zt.layout_symbol["icon-text-fit-padding"]),"icon-image":new Le(zt.layout_symbol["icon-image"]),"icon-rotate":new Le(zt.layout_symbol["icon-rotate"]),"icon-padding":new Ce(zt.layout_symbol["icon-padding"]),"icon-keep-upright":new Ce(zt.layout_symbol["icon-keep-upright"]),"icon-offset":new Le(zt.layout_symbol["icon-offset"]),"icon-anchor":new Le(zt.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ce(zt.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ce(zt.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ce(zt.layout_symbol["text-rotation-alignment"]),"text-field":new Le(zt.layout_symbol["text-field"]),"text-font":new Le(zt.layout_symbol["text-font"]),"text-size":new Le(zt.layout_symbol["text-size"]),"text-max-width":new Le(zt.layout_symbol["text-max-width"]),"text-line-height":new Le(zt.layout_symbol["text-line-height"]),"text-letter-spacing":new Le(zt.layout_symbol["text-letter-spacing"]),"text-justify":new Le(zt.layout_symbol["text-justify"]),"text-radial-offset":new Le(zt.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ce(zt.layout_symbol["text-variable-anchor"]),"text-anchor":new Le(zt.layout_symbol["text-anchor"]),"text-max-angle":new Ce(zt.layout_symbol["text-max-angle"]),"text-writing-mode":new Ce(zt.layout_symbol["text-writing-mode"]),"text-rotate":new Le(zt.layout_symbol["text-rotate"]),"text-padding":new Ce(zt.layout_symbol["text-padding"]),"text-keep-upright":new Ce(zt.layout_symbol["text-keep-upright"]),"text-transform":new Le(zt.layout_symbol["text-transform"]),"text-offset":new Le(zt.layout_symbol["text-offset"]),"text-allow-overlap":new Ce(zt.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ce(zt.layout_symbol["text-ignore-placement"]),"text-optional":new Ce(zt.layout_symbol["text-optional"])});var D3={paint:new Xe({"icon-opacity":new Le(zt.paint_symbol["icon-opacity"]),"icon-color":new Le(zt.paint_symbol["icon-color"]),"icon-halo-color":new Le(zt.paint_symbol["icon-halo-color"]),"icon-halo-width":new Le(zt.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Le(zt.paint_symbol["icon-halo-blur"]),"icon-translate":new Ce(zt.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ce(zt.paint_symbol["icon-translate-anchor"]),"text-opacity":new Le(zt.paint_symbol["text-opacity"]),"text-color":new Le(zt.paint_symbol["text-color"],{runtimeType:Ya,getOverride:u=>u.textColor,hasOverride:u=>!!u.textColor}),"text-halo-color":new Le(zt.paint_symbol["text-halo-color"]),"text-halo-width":new Le(zt.paint_symbol["text-halo-width"]),"text-halo-blur":new Le(zt.paint_symbol["text-halo-blur"]),"text-translate":new Ce(zt.paint_symbol["text-translate"]),"text-translate-anchor":new Ce(zt.paint_symbol["text-translate-anchor"])}),layout:mq};class CM{constructor(s){this.type=s.property.overrides?s.property.overrides.runtimeType:Il,this.defaultValue=s}evaluate(s){if(s.formattedSection){const c=this.defaultValue.property.overrides;if(c&&c.hasOverride(s.formattedSection))return c.getOverride(s.formattedSection)}return s.feature&&s.featureState?this.defaultValue.evaluate(s.feature,s.featureState):this.defaultValue.property.specification.default}eachChild(s){this.defaultValue.isConstant()||s(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}bn(CM,"FormatSectionOverride",{omit:["defaultValue"]});class zy extends rl{constructor(s){super(s,D3)}recalculate(s,c){super.recalculate(s,c),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const h=this.layout.get("text-writing-mode");if(h){const y=[];for(const w of h)y.indexOf(w)<0&&y.push(w);this.layout._values["text-writing-mode"]=y}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(s,c,h,y){const w=this.layout.get(s).evaluate(c,{},h,y),T=this._unevaluatedLayout._values[s];return T.isDataDriven()||Oc(T.value)||!w?w:function(O,z){return z.replace(/{([^{}]+)}/g,($,W)=>W in O?String(O[W]):"")}(c.properties,w)}createBucket(s){return new Hc(s)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const s of D3.paint.overridableProperties){if(!zy.hasPaintOverride(this.layout,s))continue;const c=this.paint.get(s),h=new CM(c),y=new Zh(h,c.property.specification);let w=null;w=c.value.kind==="constant"||c.value.kind==="source"?new hm("source",y):new af("composite",y,c.value.zoomStops,c.value._interpolationType),this.paint._values[s]=new Be(c.property,w,c.parameters)}}_handleOverridablePaintPropertyUpdate(s,c,h){return!(!this.layout||c.isDataDriven()||h.isDataDriven())&&zy.hasPaintOverride(this.layout,s)}static hasPaintOverride(s,c){const h=s.get("text-field"),y=D3.paint.properties[c];let w=!1;const T=O=>{for(const z of O)if(y.overrides&&y.overrides.hasOverride(z))return void(w=!0)};if(h.value.kind==="constant"&&h.value.value instanceof Ei)T(h.value.value.sections);else if(h.value.kind==="source"){const O=$=>{w||($ instanceof Zs&&mi($.value)===wn?T($.value.sections):$ instanceof Ts?T($.sections):$.eachChild(O))},z=h.value;z._styleExpression&&O(z._styleExpression.expression)}return w}getProgramConfiguration(s){return new zc(this,s)}}var gq={paint:new Xe({"background-color":new Ce(zt.paint_background["background-color"]),"background-pattern":new Ce(zt.paint_background["background-pattern"]),"background-opacity":new Ce(zt.paint_background["background-opacity"])})},yq={paint:new Xe({"raster-opacity":new Ce(zt.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ce(zt.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ce(zt.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ce(zt.paint_raster["raster-brightness-max"]),"raster-saturation":new Ce(zt.paint_raster["raster-saturation"]),"raster-contrast":new Ce(zt.paint_raster["raster-contrast"]),"raster-resampling":new Ce(zt.paint_raster["raster-resampling"]),"raster-fade-duration":new Ce(zt.paint_raster["raster-fade-duration"])})};class _q extends rl{constructor(s){super(s,{}),this.implementation=s}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}isLayerDraped(){return this.implementation.renderToTile!==void 0}shouldRedrape(){return!!this.implementation.shouldRerenderTiles&&this.implementation.shouldRerenderTiles()}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(s){this.implementation.onAdd&&this.implementation.onAdd(s,s.painter.context.gl)}onRemove(s){this.implementation.onRemove&&this.implementation.onRemove(s,s.painter.context.gl)}}var bq={paint:new Xe({"sky-type":new Ce(zt.paint_sky["sky-type"]),"sky-atmosphere-sun":new Ce(zt.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Ce(zt.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Ce(zt.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Ce(zt.paint_sky["sky-gradient-radius"]),"sky-gradient":new qe(zt.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Ce(zt.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Ce(zt.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Ce(zt.paint_sky["sky-opacity"])})};function R3(u,s,c){const h=[0,0,1],y=VP([]);return HP(y,y,c?-q(u)+Math.PI:q(u)),UP(y,y,-q(s)),BP(h,h,y),so(h,h)}const xq={circle:class extends rl{constructor(u){super(u,OW)}createBucket(u){return new o3(u)}queryRadius(u){const s=u;return hp("circle-radius",this,s)+hp("circle-stroke-width",this,s)+vy(this.paint.get("circle-translate"))}queryIntersectsFeature(u,s,c,h,y,w,T,O){const z=f9(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),w.angle,u.pixelToTileUnitsFactor),$=this.paint.get("circle-radius").evaluate(s,c)+this.paint.get("circle-stroke-width").evaluate(s,c);return h9(u,h,w,T,O,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",z,$)}getProgramIds(){return["circle"]}getProgramConfiguration(u){return new zc(this,u)}},heatmap:class extends rl{createBucket(u){return new v9(u)}constructor(u){super(u,FW),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=c3({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(u){return hp("heatmap-radius",this,u)}queryIntersectsFeature(u,s,c,h,y,w,T,O){const z=this.paint.get("heatmap-radius").evaluate(s,c);return h9(u,h,w,T,O,!0,!0,new V(0,0),z)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(u){return new zc(this,u)}},hillshade:class extends rl{constructor(u){super(u,NW)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends rl{constructor(u){super(u,JW)}getProgramIds(){const u=this.paint.get("fill-pattern"),s=u&&u.constantOr(1),c=[s?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&c.push(s&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),c}getProgramConfiguration(u){return new zc(this,u)}recalculate(u,s){super.recalculate(u,s);const c=this.paint._values["fill-outline-color"];c.value.kind==="constant"&&c.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(u){return new by(u)}queryRadius(){return vy(this.paint.get("fill-translate"))}queryIntersectsFeature(u,s,c,h,y,w){return!u.queryGeometry.isAboveHorizon&&s9(d9(u.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),w.angle,u.pixelToTileUnitsFactor),h)}isTileClipped(){return!0}},"fill-extrusion":class extends rl{constructor(u){super(u,vG)}createBucket(u){return new qm(u)}queryRadius(){return vy(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(u){return new zc(this,u)}queryIntersectsFeature(u,s,c,h,y,w,T,O,z){const $=f9(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),w.angle,u.pixelToTileUnitsFactor),W=this.paint.get("fill-extrusion-height").evaluate(s,c),ne=this.paint.get("fill-extrusion-base").evaluate(s,c),oe=[0,0],fe=O&&w.elevation,me=w.elevation?w.elevation.exaggeration():1,Se=u.tile.getBucket(this);if(fe&&Se instanceof qm){const Je=Se.centroidVertexArray,st=z+1;st<Je.length&&(oe[0]=Je.geta_centroid_pos0(st),oe[1]=Je.geta_centroid_pos1(st))}if(oe[0]===0&&oe[1]===1)return!1;w.projection.name==="globe"&&(h=D9([h],[new V(0,0),new V(Bn,Bn)],u.tileID.canonical).map(Je=>Je.polygon).flat());const Oe=fe?O:null,[Ve,tt]=function(Je,st,it,It,Et,jt,on,Rt,Yt,Xt,en){return Je.projection.name==="globe"?function(un,$t,vn,Tn,gn,ir,cn,Ln,ar,Rr,or){const Vn=[],ui=[],cr=un.projection.upVectorScale(or,un.center.lat,un.worldSize).metersToTile,dr=[0,0,0,1],ti=[0,0,0,1],ai=(ni,Ci,Li,Yi)=>{ni[0]=Ci,ni[1]=Li,ni[2]=Yi,ni[3]=1},oi=O9();vn>0&&(vn+=oi),Tn+=oi;for(const ni of $t){const Ci=[],Li=[];for(const Yi of ni){const ri=Yi.x+gn.x,ra=Yi.y+gn.y,Xi=un.projection.projectTilePoint(ri,ra,or),Pi=un.projection.upVector(or,Yi.x,Yi.y);let Nr=vn,Zi=Tn;if(cn){const si=N9(ri,ra,vn,Tn,cn,Ln,ar,Rr);Nr+=si.base,Zi+=si.top}vn!==0?ai(dr,Xi.x+Pi[0]*cr*Nr,Xi.y+Pi[1]*cr*Nr,Xi.z+Pi[2]*cr*Nr):ai(dr,Xi.x,Xi.y,Xi.z),ai(ti,Xi.x+Pi[0]*cr*Zi,Xi.y+Pi[1]*cr*Zi,Xi.z+Pi[2]*cr*Zi),Vi(dr,dr,ir),Vi(ti,ti,ir),Ci.push(new mp(dr[0],dr[1],dr[2])),Li.push(new mp(ti[0],ti[1],ti[2]))}Vn.push(Ci),ui.push(Li)}return[Vn,ui]}(Je,st,it,It,Et,jt,on,Rt,Yt,Xt,en):on?function(un,$t,vn,Tn,gn,ir,cn,Ln,ar){const Rr=[],or=[],Vn=[0,0,0,1];for(const ui of un){const cr=[],dr=[];for(const ti of ui){const ai=ti.x+Tn.x,oi=ti.y+Tn.y,ni=N9(ai,oi,$t,vn,ir,cn,Ln,ar);Vn[0]=ai,Vn[1]=oi,Vn[2]=ni.base,Vn[3]=1,gf(Vn,Vn,gn),Vn[3]=Math.max(Vn[3],1e-5);const Ci=new mp(Vn[0]/Vn[3],Vn[1]/Vn[3],Vn[2]/Vn[3]);Vn[0]=ai,Vn[1]=oi,Vn[2]=ni.top,Vn[3]=1,gf(Vn,Vn,gn),Vn[3]=Math.max(Vn[3],1e-5);const Li=new mp(Vn[0]/Vn[3],Vn[1]/Vn[3],Vn[2]/Vn[3]);cr.push(Ci),dr.push(Li)}Rr.push(cr),or.push(dr)}return[Rr,or]}(st,it,It,Et,jt,on,Rt,Yt,Xt):function(un,$t,vn,Tn,gn){const ir=[],cn=[],Ln=gn[8]*$t,ar=gn[9]*$t,Rr=gn[10]*$t,or=gn[11]*$t,Vn=gn[8]*vn,ui=gn[9]*vn,cr=gn[10]*vn,dr=gn[11]*vn;for(const ti of un){const ai=[],oi=[];for(const ni of ti){const Ci=ni.x+Tn.x,Li=ni.y+Tn.y,Yi=gn[0]*Ci+gn[4]*Li+gn[12],ri=gn[1]*Ci+gn[5]*Li+gn[13],ra=gn[2]*Ci+gn[6]*Li+gn[14],Xi=gn[3]*Ci+gn[7]*Li+gn[15],Pi=Yi+Ln,Nr=ri+ar,Zi=ra+Rr,si=Math.max(Xi+or,1e-5),co=Yi+Vn,Qi=ri+ui,Oa=ra+cr,Ta=Math.max(Xi+dr,1e-5);ai.push(new mp(Pi/si,Nr/si,Zi/si)),oi.push(new mp(co/Ta,Qi/Ta,Oa/Ta))}ir.push(ai),cn.push(oi)}return[ir,cn]}(st,it,It,Et,jt)}(w,h,ne,W,$,T,Oe,oe,me,w.center.lat,u.tileID.canonical),Ue=u.queryGeometry;return function(Je,st,it){let It=1/0;s9(it,st)&&(It=F9(it,st[0]));for(let Et=0;Et<st.length;Et++){const jt=st[Et],on=Je[Et];for(let Rt=0;Rt<jt.length-1;Rt++){const Yt=jt[Rt],Xt=[Yt,jt[Rt+1],on[Rt+1],on[Rt],Yt];o9(it,Xt)&&(It=Math.min(It,F9(it,Xt)))}}return It!==1/0&&It}(Ve,tt,Ue.isPointQuery()?Ue.screenBounds:Ue.screenGeometry)}},line:class extends rl{constructor(u){super(u,B9),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(u){if(u==="line-gradient"){const s=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=s._styleExpression&&s._styleExpression.expression instanceof em,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}widthExpression(){return this._transitionablePaint._values["line-width"].value.expression}recalculate(u,s){super.recalculate(u,s),this.paint._values["line-floorwidth"]=z9.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)}createBucket(u){return new Ty(u)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(u){return new zc(this,u)}queryRadius(u){const s=u,c=$9(hp("line-width",this,s),hp("line-gap-width",this,s)),h=hp("line-offset",this,s);return c/2+Math.abs(h)+vy(this.paint.get("line-translate"))}queryIntersectsFeature(u,s,c,h,y,w){if(u.queryGeometry.isAboveHorizon)return!1;const T=d9(u.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),w.angle,u.pixelToTileUnitsFactor),O=u.pixelToTileUnitsFactor/2*$9(this.paint.get("line-width").evaluate(s,c),this.paint.get("line-gap-width").evaluate(s,c)),z=this.paint.get("line-offset").evaluate(s,c);return z&&(h=function($,W){const ne=[],oe=new V(0,0);for(let fe=0;fe<$.length;fe++){const me=$[fe],Se=[];for(let Oe=0;Oe<me.length;Oe++){const Ve=me[Oe],tt=me[Oe+1],Ue=Oe===0?oe:Ve.sub(me[Oe-1])._unit()._perp(),Je=Oe===me.length-1?oe:tt.sub(Ve)._unit()._perp(),st=Ue._add(Je)._unit();st._mult(1/(st.x*Je.x+st.y*Je.y)),Se.push(st._mult(W)._add(Ve))}ne.push(Se)}return ne}(h,z*u.pixelToTileUnitsFactor)),function($,W,ne){for(let oe=0;oe<W.length;oe++){const fe=W[oe];if($.length>=3){for(let me=0;me<fe.length;me++)if(xf($,fe[me]))return!0}if(MW($,fe,ne))return!0}return!1}(T,h,O)}isTileClipped(){return!0}},symbol:zy,background:class extends rl{constructor(u){super(u,gq)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends rl{constructor(u){super(u,yq)}getProgramIds(){return["raster"]}},sky:class extends rl{constructor(u){super(u,bq),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(u){u==="sky-gradient"?this._updateColorRamp():u!=="sky-atmosphere-sun"&&u!=="sky-atmosphere-halo-color"&&u!=="sky-atmosphere-color"&&u!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=c3({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(u){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const s=u.style.light.properties.get("position");return this._lightPosition.azimuthal!==s.azimuthal||this._lightPosition.polar!==s.polar}return!1}getCenter(u,s){if(this.paint.get("sky-type")==="atmosphere"){const h=this.paint.get("sky-atmosphere-sun"),y=!h,w=u.style.light,T=w.properties.get("position");return y&&w.properties.get("anchor")==="viewport"&&We("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),y?R3(T.azimuthal,90-T.polar,s):R3(h[0],90-h[1],s)}const c=this.paint.get("sky-gradient-center");return R3(c[0],90-c[1],s)}is3D(){return!1}isSky(){return!0}markSkyboxValid(u){this._skyboxInvalidated=!1,this._lightPosition=u.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const u=this.paint.get("sky-type");return u==="atmosphere"?["skyboxCapture","skybox"]:u==="gradient"?["skyboxGradient"]:null}}};class ag{constructor(s,c,h,y){this.context=s,this.format=h,this.texture=s.gl.createTexture(),this.update(c,y)}update(s,c,h){const{width:y,height:w}=s,{context:T}=this,{gl:O}=T,{HTMLImageElement:z,HTMLCanvasElement:$,HTMLVideoElement:W,ImageData:ne,ImageBitmap:oe}=f;if(O.bindTexture(O.TEXTURE_2D,this.texture),T.pixelStoreUnpackFlipY.set(!1),T.pixelStoreUnpack.set(1),T.pixelStoreUnpackPremultiplyAlpha.set(this.format===O.RGBA&&(!c||c.premultiply!==!1)),h||this.size&&this.size[0]===y&&this.size[1]===w){const{x:fe,y:me}=h||{x:0,y:0};s instanceof z||s instanceof $||s instanceof W||s instanceof ne||oe&&s instanceof oe?O.texSubImage2D(O.TEXTURE_2D,0,fe,me,O.RGBA,O.UNSIGNED_BYTE,s):O.texSubImage2D(O.TEXTURE_2D,0,fe,me,y,w,O.RGBA,O.UNSIGNED_BYTE,s.data)}else this.size=[y,w],s instanceof z||s instanceof $||s instanceof W||s instanceof ne||oe&&s instanceof oe?O.texImage2D(O.TEXTURE_2D,0,this.format,this.format,O.UNSIGNED_BYTE,s):O.texImage2D(O.TEXTURE_2D,0,this.format,y,w,0,this.format,O.UNSIGNED_BYTE,s.data);this.useMipmap=!!(c&&c.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&O.generateMipmap(O.TEXTURE_2D)}bind(s,c){const{context:h}=this,{gl:y}=h;y.bindTexture(y.TEXTURE_2D,this.texture),s!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,s),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,this.useMipmap?s===y.NEAREST?y.NEAREST_MIPMAP_NEAREST:y.LINEAR_MIPMAP_NEAREST:s),this.filter=s),c!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,c),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,c),this.wrap=c)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:s}=this.context;s.deleteTexture(this.texture),this.texture=null}}class wq{constructor(s){this._callback=s,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}class Cq{constructor(){this.tasks={},this.taskQueue=[],Re(["process"],this),this.invoker=new wq(this.process),this.nextId=0}add(s,c){const h=this.nextId++,y=function({type:w,isSymbolTile:T,zoom:O}){return O=O||0,w==="message"?0:w!=="maybePrepare"||T?w!=="parseTile"||T?w==="parseTile"&&T?300-O:w==="maybePrepare"&&T?400-O:500:200-O:100-O}(c);if(y===0){xt();try{s()}finally{}return{cancel:()=>{}}}return this.tasks[h]={fn:s,metadata:c,priority:y,id:h},this.taskQueue.push(h),this.invoker.trigger(),{cancel:()=>{delete this.tasks[h]}}}process(){xt();try{if(this.taskQueue=this.taskQueue.filter(h=>!!this.tasks[h]),!this.taskQueue.length)return;const s=this.pick();if(s===null)return;const c=this.tasks[s];if(delete this.tasks[s],this.taskQueue.length&&this.invoker.trigger(),!c)return;c.fn()}finally{}}pick(){let s=null,c=1/0;for(let y=0;y<this.taskQueue.length;y++){const w=this.tasks[this.taskQueue[y]];w.priority<c&&(c=w.priority,s=y)}if(s===null)return null;const h=this.taskQueue[s];return this.taskQueue.splice(s,1),h}remove(){this.invoker.remove()}}class SM{constructor(s){this._stringToNumber={},this._numberToString=[];for(let c=0;c<s.length;c++){const h=s[c];this._stringToNumber[h]=c,this._numberToString[c]=h}}encode(s){return this._stringToNumber[s]}decode(s){return this._numberToString[s]}}const Sq=["tile","layer","source","sourceLayer","state"];class TM{constructor(s,c,h,y,w){this.type="Feature",this._vectorTileFeature=s,this._z=c,this._x=h,this._y=y,this.properties=s.properties,this.id=w}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(s){this._geometry=s}toJSON(){const s={type:"Feature",state:void 0,geometry:this.geometry,properties:this.properties};this.id!==void 0&&(s.id=this.id);for(const c of Sq)this[c]!==void 0&&(s[c]=this[c]);return s}}const Rs=32,Kl=33,Kc=new Uint16Array(8184);for(let u=0;u<2046;u++){let s=u+2,c=0,h=0,y=0,w=0,T=0,O=0;for(1&s?y=w=T=Rs:c=h=O=Rs;(s>>=1)>1;){const $=c+y>>1,W=h+w>>1;1&s?(y=c,w=h,c=T,h=O):(c=y,h=w,y=T,w=O),T=$,O=W}const z=4*u;Kc[z+0]=c,Kc[z+1]=h,Kc[z+2]=y,Kc[z+3]=w}const Wl=new Uint16Array(2178),Wc=new Uint8Array(1089),$y=new Uint16Array(1089);function EM(u){return u===0?-.03125:u===32?.03125:0}var PM=bt([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const MM={type:2,extent:Bn,loadGeometry:()=>[[new V(0,0),new V(Bn+1,0),new V(Bn+1,Bn+1),new V(0,Bn+1),new V(0,0)]]};class L3{constructor(s,c,h,y,w){this.tileID=s,this.uid=ge(),this.uses=0,this.tileSize=c,this.tileZoom=h,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=w,this.expiredRequestCount=0,this.state="loading",y&&y.transform&&(this.projection=y.transform.projection)}registerFadeDuration(s){const c=s+this.timeAdded;c<Ro.now()||this.fadeEndTime&&c<this.fadeEndTime||(this.fadeEndTime=c)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Cf(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(s,c,h){if(this.unloadVectorData(),this.state="loaded",s){s.featureIndex&&(this.latestFeatureIndex=s.featureIndex,s.rawTileData?(this.latestRawTileData=s.rawTileData,this.latestFeatureIndex.rawTileData=s.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=s.collisionBoxArray,this.buckets=function(y,w){const T={};if(!w)return T;for(const O of y){const z=O.layerIds.map($=>w.getLayer($)).filter(Boolean);if(z.length!==0){O.layers=z,O.stateDependentLayerIds&&(O.stateDependentLayers=O.stateDependentLayerIds.map($=>z.filter(W=>W.id===$)[0]));for(const $ of z)T[$.id]=O}}return T}(s.buckets,c.style),this.hasSymbolBuckets=!1;for(const y in this.buckets){const w=this.buckets[y];if(w instanceof Hc){if(this.hasSymbolBuckets=!0,!h)break;w.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const y in this.buckets){const w=this.buckets[y];if(w instanceof Hc&&w.hasRTLText){this.hasRTLText=!0,K.isLoading()||K.isLoaded()||F()!=="deferred"||U();break}}this.queryPadding=0;for(const y in this.buckets){const w=this.buckets[y];this.queryPadding=Math.max(this.queryPadding,c.style.getLayer(y).queryRadius(w))}s.imageAtlas&&(this.imageAtlas=s.imageAtlas),s.glyphAtlasImage&&(this.glyphAtlasImage=s.glyphAtlasImage),s.lineAtlas&&(this.lineAtlas=s.lineAtlas)}else this.collisionBoxArray=new Jr}unloadVectorData(){if(this.hasData()){for(const s in this.buckets)this.buckets[s].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._tileDebugIndexBuffer&&(this._tileDebugIndexBuffer.destroy(),this._tileDebugIndexBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(s){return this.buckets[s.id]}upload(s){for(const h in this.buckets){const y=this.buckets[h];y.uploadPending()&&y.upload(s)}const c=s.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new ag(s,this.imageAtlas.image,c.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new ag(s,this.glyphAtlasImage,c.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new ag(s,this.lineAtlas.image,c.ALPHA),this.lineAtlas.uploaded=!0)}prepare(s){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(s,this.imageAtlasTexture)}queryRenderedFeatures(s,c,h,y,w,T,O,z){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:y,pixelPosMatrix:O,transform:T,params:w,tileTransform:this.tileTransform},s,c,h):{}}querySourceFeatures(s,c){const h=this.latestFeatureIndex;if(!h||!h.rawTileData)return;const y=h.loadVTLayers(),w=c?c.sourceLayer:"",T=y._geojsonTileLayer||y[w];if(!T)return;const O=tp(c&&c.filter),{z,x:$,y:W}=this.tileID.canonical,ne={z,x:$,y:W};for(let oe=0;oe<T.length;oe++){const fe=T.feature(oe);if(O.needGeometry){const Oe=bf(fe,!0);if(!O.filter(new ee(this.tileID.overscaledZ),Oe,this.tileID.canonical))continue}else if(!O.filter(new ee(this.tileID.overscaledZ),fe))continue;const me=h.getId(fe,w),Se=new TM(fe,z,$,W,me);Se.tile=ne,s.push(Se)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(s){const c=this.expirationTime;if(s.cacheControl){const h=ot(s.cacheControl);h["max-age"]&&(this.expirationTime=Date.now()+1e3*h["max-age"])}else s.expires&&(this.expirationTime=new Date(s.expires).getTime());if(this.expirationTime){const h=Date.now();let y=!1;if(this.expirationTime>h)y=!1;else if(c)if(this.expirationTime<c)y=!0;else{const w=this.expirationTime-c;w?this.expirationTime=h+Math.max(w,3e4):y=!0}else y=!0;y?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(s,c){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(s).length===0||!c)return;const h=this.latestFeatureIndex.loadVTLayers(),y=c.style.listImages();for(const w in this.buckets){if(!c.style.hasLayer(w))continue;const T=this.buckets[w],O=T.layers[0].sourceLayer||"_geojsonTileLayer",z=h[O],$=s[O];if(!z||!$||Object.keys($).length===0)continue;if(T.update($,z,y,this.imageAtlas&&this.imageAtlas.patternPositions||{}),T instanceof Ty||T instanceof by){const ne=c.style._getSourceCache(T.layers[0].source);c._terrain&&c._terrain.enabled&&ne&&T.programConfigurations.needsUpload&&c._terrain._clearRenderCacheForTile(ne.id,this.tileID)}const W=c&&c.style&&c.style.getLayer(w);W&&(this.queryPadding=Math.max(this.queryPadding,W.queryRadius(T)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Ro.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(s){this.symbolFadeHoldUntil=Ro.now()+s}setTexture(s,c){const h=c.context,y=h.gl;this.texture=this.texture||c.getTileTexture(s.width),this.texture?this.texture.update(s,{useMipmap:!0}):(this.texture=new ag(h,s,y.RGBA,{useMipmap:!0}),this.texture.bind(y.LINEAR,y.CLAMP_TO_EDGE))}setDependencies(s,c){const h={};for(const y of c)h[y]=!0;this.dependencies[s]=h}hasDependency(s,c){for(const h of s){const y=this.dependencies[h];if(y){for(const w of c)if(y[w])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(s,c){if(!c||c.name==="mercator"||this._tileDebugBuffer)return;const h=Du(MM,this.tileID.canonical,this.tileTransform)[0],y=new an,w=new jo;for(let T=0;T<h.length;T++){const{x:O,y:z}=h[T];y.emplaceBack(O,z),w.emplaceBack(T)}w.emplaceBack(0),this._tileDebugIndexBuffer=s.createIndexBuffer(w),this._tileDebugBuffer=s.createVertexBuffer(y,Nm.members),this._tileDebugSegments=Gi.simpleSegment(0,0,y.length,w.length)}_makeTileBoundsBuffers(s,c){if(this._tileBoundsBuffer||!c||c.name==="mercator")return;const h=Du(MM,this.tileID.canonical,this.tileTransform)[0];let y,w;if(this.isRaster){const T=function(O,z){const $=Cf(O,z),W=Math.pow(2,O.z);for(let Oe=0;Oe<Kl;Oe++)for(let Ve=0;Ve<Kl;Ve++){const tt=cs((O.x+(Ve+EM(Ve))/Rs)/W),Ue=Va((O.y+(Oe+EM(Oe))/Rs)/W),Je=z.project(tt,Ue),st=Oe*Kl+Ve;Wl[2*st+0]=Math.round((Je.x*$.scale-$.x)*Bn),Wl[2*st+1]=Math.round((Je.y*$.scale-$.y)*Bn)}Wc.fill(0),$y.fill(0);for(let Oe=2045;Oe>=0;Oe--){const Ve=4*Oe,tt=Kc[Ve+0],Ue=Kc[Ve+1],Je=Kc[Ve+2],st=Kc[Ve+3],it=tt+Je>>1,It=Ue+st>>1,Et=it+It-Ue,jt=It+tt-it,on=Ue*Kl+tt,Rt=st*Kl+Je,Yt=It*Kl+it,Xt=Math.hypot((Wl[2*on+0]+Wl[2*Rt+0])/2-Wl[2*Yt+0],(Wl[2*on+1]+Wl[2*Rt+1])/2-Wl[2*Yt+1])>=16;Wc[Yt]=Wc[Yt]||(Xt?1:0),Oe<1022&&(Wc[Yt]=Wc[Yt]||Wc[(Ue+jt>>1)*Kl+(tt+Et>>1)]||Wc[(st+jt>>1)*Kl+(Je+Et>>1)])}const ne=new Kt,oe=new On;let fe=0;function me(Oe,Ve){const tt=Ve*Kl+Oe;return $y[tt]===0&&(ne.emplaceBack(Wl[2*tt+0],Wl[2*tt+1],Oe*Bn/Rs,Ve*Bn/Rs),$y[tt]=++fe),$y[tt]-1}function Se(Oe,Ve,tt,Ue,Je,st){const it=Oe+tt>>1,It=Ve+Ue>>1;if(Math.abs(Oe-Je)+Math.abs(Ve-st)>1&&Wc[It*Kl+it])Se(Je,st,Oe,Ve,it,It),Se(tt,Ue,Je,st,it,It);else{const Et=me(Oe,Ve),jt=me(tt,Ue),on=me(Je,st);oe.emplaceBack(Et,jt,on)}}return Se(0,0,Rs,Rs,Rs,0),Se(Rs,Rs,0,0,0,Rs),{vertices:ne,indices:oe}}(this.tileID.canonical,c);y=T.vertices,w=T.indices}else{y=new Kt,w=new On;for(const{x:O,y:z}of h)y.emplaceBack(O,z,0,0);const T=v3(y.int16,void 0,4);for(let O=0;O<T.length;O+=3)w.emplaceBack(T[O],T[O+1],T[O+2])}this._tileBoundsBuffer=s.createVertexBuffer(y,PM.members),this._tileBoundsIndexBuffer=s.createIndexBuffer(w),this._tileBoundsSegments=Gi.simpleSegment(0,0,y.length,w.length)}_makeGlobeTileDebugBuffers(s,c){const h=c.projection;if(!h||h.name!=="globe"||c.freezeTileCoverage)return;const y=this.tileID.canonical,w=$m(YP(y,c)),T=dp(c.zoom);let O;T>0&&(O=Uw(new Float64Array(16),c.globeMatrix)),this._makeGlobeTileDebugBorderBuffer(s,y,c,w,O,T),this._makeGlobeTileDebugTextBuffer(s,y,c,w,O,T)}_globePoint(s,c,h,y,w,T,O){let z=zm(s,c,h);if(T){const $=1<<h.z,W=Ul(y.center.lng),ne=Hl(y.center.lat),oe=(h.x+.5)/$-W;let fe=0;oe>.5?fe=-1:oe<-.5&&(fe=1);let me=(s/Bn+h.x)/$+fe,Se=(c/Bn+h.y)/$;me=(me-W)*y._pixelsPerMercatorPixel+W,Se=(Se-ne)*y._pixelsPerMercatorPixel+ne;const Oe=[me*y.worldSize,Se*y.worldSize,0];Vi(Oe,Oe,T),z=_f(z,Oe,O)}return Vi(z,z,w)}_makeGlobeTileDebugBorderBuffer(s,c,h,y,w,T){const O=new an,z=new jo,$=new Tt,W=(oe,fe,me,Se,Oe)=>{const Ve=(me-oe)/(Oe-1),tt=(Se-fe)/(Oe-1),Ue=O.length;for(let Je=0;Je<Oe;Je++){const st=oe+Je*Ve,it=fe+Je*tt;O.emplaceBack(st,it);const It=this._globePoint(st,it,c,h,y,w,T);$.emplaceBack(It[0],It[1],It[2]),z.emplaceBack(Ue+Je)}},ne=Bn;W(0,0,ne,0,16),W(ne,0,ne,ne,16),W(ne,ne,0,ne,16),W(0,ne,0,0,16),this._tileDebugIndexBuffer=s.createIndexBuffer(z),this._tileDebugBuffer=s.createVertexBuffer(O,Nm.members),this._globeTileDebugBorderBuffer=s.createVertexBuffer($,WP.members),this._tileDebugSegments=Gi.simpleSegment(0,0,O.length,z.length)}_makeGlobeTileDebugTextBuffer(s,c,h,y,w,T){const O=Bn/4,z=new an,$=new On,W=new Tt,ne=25;$.reserve(32),z.reserve(ne),W.reserve(ne);const oe=(fe,me)=>ne*fe+me;for(let fe=0;fe<ne;fe++){const me=fe*O;for(let Se=0;Se<ne;Se++){const Oe=Se*O;z.emplaceBack(Oe,me);const Ve=this._globePoint(Oe,me,c,h,y,w,T);W.emplaceBack(Ve[0],Ve[1],Ve[2])}}for(let fe=0;fe<4;fe++)for(let me=0;me<4;me++){const Se=oe(fe,me),Oe=oe(fe,me+1),Ve=oe(fe+1,me),tt=oe(fe+1,me+1);$.emplaceBack(Se,Oe,Ve),$.emplaceBack(Ve,Oe,tt)}this._tileDebugTextIndexBuffer=s.createIndexBuffer($),this._tileDebugTextBuffer=s.createVertexBuffer(z,Nm.members),this._globeTileDebugTextBuffer=s.createVertexBuffer(W,WP.members),this._tileDebugTextSegments=Gi.simpleSegment(0,0,ne,32)}}class Tq{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(s,c,h){const y=String(c);if(this.stateChanges[s]=this.stateChanges[s]||{},this.stateChanges[s][y]=this.stateChanges[s][y]||{},be(this.stateChanges[s][y],h),this.deletedStates[s]===null){this.deletedStates[s]={};for(const w in this.state[s])w!==y&&(this.deletedStates[s][w]=null)}else if(this.deletedStates[s]&&this.deletedStates[s][y]===null){this.deletedStates[s][y]={};for(const w in this.state[s][y])h[w]||(this.deletedStates[s][y][w]=null)}else for(const w in h)this.deletedStates[s]&&this.deletedStates[s][y]&&this.deletedStates[s][y][w]===null&&delete this.deletedStates[s][y][w]}removeFeatureState(s,c,h){if(this.deletedStates[s]===null)return;const y=String(c);if(this.deletedStates[s]=this.deletedStates[s]||{},h&&c!==void 0)this.deletedStates[s][y]!==null&&(this.deletedStates[s][y]=this.deletedStates[s][y]||{},this.deletedStates[s][y][h]=null);else if(c!==void 0)if(this.stateChanges[s]&&this.stateChanges[s][y])for(h in this.deletedStates[s][y]={},this.stateChanges[s][y])this.deletedStates[s][y][h]=null;else this.deletedStates[s][y]=null;else this.deletedStates[s]=null}getState(s,c){const h=String(c),y=be({},(this.state[s]||{})[h],(this.stateChanges[s]||{})[h]);if(this.deletedStates[s]===null)return{};if(this.deletedStates[s]){const w=this.deletedStates[s][c];if(w===null)return{};for(const T in w)delete y[T]}return y}initializeTileState(s,c){s.setFeatureState(this.state,c)}coalesceChanges(s,c){const h={};for(const y in this.stateChanges){this.state[y]=this.state[y]||{};const w={};for(const T in this.stateChanges[y])this.state[y][T]||(this.state[y][T]={}),be(this.state[y][T],this.stateChanges[y][T]),w[T]=this.state[y][T];h[y]=w}for(const y in this.deletedStates){this.state[y]=this.state[y]||{};const w={};if(this.deletedStates[y]===null)for(const T in this.state[y])w[T]={},this.state[y][T]={};else for(const T in this.deletedStates[y]){if(this.deletedStates[y][T]===null)this.state[y][T]={};else if(this.state[y][T])for(const O of Object.keys(this.deletedStates[y][T]))delete this.state[y][T][O];w[T]=this.state[y][T]}h[y]=h[y]||{},be(h[y],w)}if(this.stateChanges={},this.deletedStates={},Object.keys(h).length!==0)for(const y in s)s[y].setFeatureState(h,c)}}class kM{constructor(s){this.size=s,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(s,c){const h=this.toIdx(s,c);return{min:this.minimums[h],max:this.maximums[h]}}isLeaf(s,c){return this.leaves[this.toIdx(s,c)]}toIdx(s,c){return c*this.size+s}}function AM(u,s,c,h){let y=0,w=Number.MAX_VALUE;for(let T=0;T<3;T++)if(Math.abs(h[T])<1e-15){if(c[T]<u[T]||c[T]>s[T])return null}else{const O=1/h[T];let z=(u[T]-c[T])*O,$=(s[T]-c[T])*O;if(z>$){const W=z;z=$,$=W}if(z>y&&(y=z),$<w&&(w=$),y>w)return null}return y}function IM(u,s,c,h,y,w,T,O,z,$,W){const ne=h-u,oe=y-s,fe=w-c,me=T-u,Se=O-s,Oe=z-c,Ve=W[1]*Oe-W[2]*Se,tt=W[2]*me-W[0]*Oe,Ue=W[0]*Se-W[1]*me,Je=ne*Ve+oe*tt+fe*Ue;if(Math.abs(Je)<1e-15)return null;const st=1/Je,it=$[0]-u,It=$[1]-s,Et=$[2]-c,jt=(it*Ve+It*tt+Et*Ue)*st;if(jt<0||jt>1)return null;const on=It*fe-Et*oe,Rt=Et*ne-it*fe,Yt=it*oe-It*ne,Xt=(W[0]*on+W[1]*Rt+W[2]*Yt)*st;return Xt<0||jt+Xt>1?null:(me*on+Se*Rt+Oe*Yt)*st}function OM(u,s,c){return(u-s)/(c-s)}function DM(u,s,c,h,y,w,T,O,z){const $=1<<c,W=w-h,ne=T-y,oe=(u+1)/$*W+h,fe=(s+0)/$*ne+y,me=(s+1)/$*ne+y;O[0]=(u+0)/$*W+h,O[1]=fe,z[0]=oe,z[1]=me}class RM{constructor(s){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=s,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const c=function(w){const T=Math.ceil(Math.log2(w.dim/8)),O=[];let z=Math.ceil(Math.pow(2,T));const $=1/z,W=(fe,me,Se,Oe,Ve)=>{const tt=Oe?1:0,Ue=(fe+1)*Se-tt,Je=me*Se,st=(me+1)*Se-tt;Ve[0]=fe*Se,Ve[1]=Je,Ve[2]=Ue,Ve[3]=st};let ne=new kM(z);const oe=[];for(let fe=0;fe<z*z;fe++){W(fe%z,Math.floor(fe/z),$,!1,oe);const me=Gc(oe[0],oe[1],w),Se=Gc(oe[2],oe[1],w),Oe=Gc(oe[2],oe[3],w),Ve=Gc(oe[0],oe[3],w);ne.minimums.push(Math.min(me,Se,Oe,Ve)),ne.maximums.push(Math.max(me,Se,Oe,Ve)),ne.leaves.push(1)}for(O.push(ne),z/=2;z>=1;z/=2){const fe=O[O.length-1];ne=new kM(z);for(let me=0;me<z*z;me++){W(me%z,Math.floor(me/z),2,!0,oe);const Se=fe.getElevation(oe[0],oe[1]),Oe=fe.getElevation(oe[2],oe[1]),Ve=fe.getElevation(oe[2],oe[3]),tt=fe.getElevation(oe[0],oe[3]),Ue=fe.isLeaf(oe[0],oe[1]),Je=fe.isLeaf(oe[2],oe[1]),st=fe.isLeaf(oe[2],oe[3]),it=fe.isLeaf(oe[0],oe[3]),It=Math.min(Se.min,Oe.min,Ve.min,tt.min),Et=Math.max(Se.max,Oe.max,Ve.max,tt.max),jt=Ue&&Je&&st&&it;ne.maximums.push(Et),ne.minimums.push(It),ne.leaves.push(Et-It<=5&&jt?1:0)}O.push(ne)}return O}(this.dem),h=c.length-1,y=c[h];this._addNode(y.minimums[0],y.maximums[0],y.leaves[0]),this._construct(c,0,0,h,0)}raycastRoot(s,c,h,y,w,T,O=1){return AM([s,c,-100],[h,y,this.maximums[0]*O],w,T)}raycast(s,c,h,y,w,T,O=1){if(!this.nodeCount)return null;const z=this.raycastRoot(s,c,h,y,w,T,O);if(z==null)return null;const $=[],W=[],ne=[],oe=[],fe=[{idx:0,t:z,nodex:0,nodey:0,depth:0}];for(;fe.length>0;){const{idx:me,t:Se,nodex:Oe,nodey:Ve,depth:tt}=fe.pop();if(this.leaves[me]){DM(Oe,Ve,tt,s,c,h,y,ne,oe);const Je=1<<tt,st=(Oe+0)/Je,it=(Oe+1)/Je,It=(Ve+0)/Je,Et=(Ve+1)/Je,jt=Gc(st,It,this.dem)*O,on=Gc(it,It,this.dem)*O,Rt=Gc(it,Et,this.dem)*O,Yt=Gc(st,Et,this.dem)*O,Xt=IM(ne[0],ne[1],jt,oe[0],ne[1],on,oe[0],oe[1],Rt,w,T),en=IM(oe[0],oe[1],Rt,ne[0],oe[1],Yt,ne[0],ne[1],jt,w,T),un=Math.min(Xt!==null?Xt:Number.MAX_VALUE,en!==null?en:Number.MAX_VALUE);if(un!==Number.MAX_VALUE)return un;{const $t=Lm([],w,T,Se);if(LM(jt,on,Yt,Rt,OM($t[0],ne[0],oe[0]),OM($t[1],ne[1],oe[1]))>=$t[2])return Se}continue}let Ue=0;for(let Je=0;Je<this._siblingOffset.length;Je++){DM((Oe<<1)+this._siblingOffset[Je][0],(Ve<<1)+this._siblingOffset[Je][1],tt+1,s,c,h,y,ne,oe),ne[2]=-100,oe[2]=this.maximums[this.childOffsets[me]+Je]*O;const st=AM(ne,oe,w,T);if(st!=null){const it=st;$[Je]=it;let It=!1;for(let Et=0;Et<Ue&&!It;Et++)it>=$[W[Et]]&&(W.splice(Et,0,Je),It=!0);It||(W[Ue]=Je),Ue++}}for(let Je=0;Je<Ue;Je++){const st=W[Je];fe.push({idx:this.childOffsets[me]+st,t:$[st],nodex:(Oe<<1)+this._siblingOffset[st][0],nodey:(Ve<<1)+this._siblingOffset[st][1],depth:tt+1})}}return null}_addNode(s,c,h){return this.minimums.push(s),this.maximums.push(c),this.leaves.push(h),this.childOffsets.push(0),this.nodeCount++}_construct(s,c,h,y,w){if(s[y].isLeaf(c,h)===1)return;this.childOffsets[w]||(this.childOffsets[w]=this.nodeCount);const T=y-1,O=s[T];let z=0,$=0;for(let W=0;W<this._siblingOffset.length;W++){const ne=2*c+this._siblingOffset[W][0],oe=2*h+this._siblingOffset[W][1],fe=O.getElevation(ne,oe),me=O.isLeaf(ne,oe),Se=this._addNode(fe.min,fe.max,me);me&&(z|=1<<W),$||($=Se)}for(let W=0;W<this._siblingOffset.length;W++)z&1<<W||this._construct(s,2*c+this._siblingOffset[W][0],2*h+this._siblingOffset[W][1],T,$+W)}}function LM(u,s,c,h,y,w){return Ar(Ar(u,c,w),Ar(s,h,w),y)}function Gc(u,s,c){const h=c.dim,y=X(u*h-.5,0,h-1),w=X(s*h-.5,0,h-1),T=Math.floor(y),O=Math.floor(w),z=Math.min(T+1,h-1),$=Math.min(O+1,h-1);return LM(c.get(T,O),c.get(z,O),c.get(T,$),c.get(z,$),y-T,w-O)}const FM={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};function Eq(u,s,c){return(256*u*256+256*s+c)/10-1e4}function Pq(u,s,c){return 256*u+s+c/256-32768}class jy{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(s,c,h,y=!1,w=!1){if(this.uid=s,c.height!==c.width)throw new RangeError("DEM tiles must be square");if(h&&h!=="mapbox"&&h!=="terrarium")return We(`"${h}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=c.height;const T=this.dim=c.height-2,O=new Uint32Array(c.data.buffer);if(this.pixels=new Uint8Array(c.data.buffer),this.encoding=h||"mapbox",this.borderReady=y,!y){for(let z=0;z<T;z++)O[this._idx(-1,z)]=O[this._idx(0,z)],O[this._idx(T,z)]=O[this._idx(T-1,z)],O[this._idx(z,-1)]=O[this._idx(z,0)],O[this._idx(z,T)]=O[this._idx(z,T-1)];O[this._idx(-1,-1)]=O[this._idx(0,0)],O[this._idx(T,-1)]=O[this._idx(T-1,0)],O[this._idx(-1,T)]=O[this._idx(0,T-1)],O[this._idx(T,T)]=O[this._idx(T-1,T-1)],w&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new RM(this)}get(s,c,h=!1){h&&(s=X(s,-1,this.dim),c=X(c,-1,this.dim));const y=4*this._idx(s,c);return(this.encoding==="terrarium"?Pq:Eq)(this.pixels[y],this.pixels[y+1],this.pixels[y+2])}static getUnpackVector(s){return FM[s]}get unpackVector(){return FM[this.encoding]}_idx(s,c){if(s<-1||s>=this.dim+1||c<-1||c>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(c+1)*this.stride+(s+1)}static pack(s,c){const h=[0,0,0,0],y=jy.getUnpackVector(c);let w=Math.floor((s+y[3])/y[2]);return h[2]=w%256,w=Math.floor(w/256),h[1]=w%256,w=Math.floor(w/256),h[0]=w,h}getPixels(){return new Uo({width:this.stride,height:this.stride},this.pixels)}backfillBorder(s,c,h){if(this.dim!==s.dim)throw new Error("dem dimension mismatch");let y=c*this.dim,w=c*this.dim+this.dim,T=h*this.dim,O=h*this.dim+this.dim;switch(c){case-1:y=w-1;break;case 1:w=y+1}switch(h){case-1:T=O-1;break;case 1:O=T+1}const z=-c*this.dim,$=-h*this.dim;for(let W=T;W<O;W++)for(let ne=y;ne<w;ne++){const oe=4*this._idx(ne,W),fe=4*this._idx(ne+z,W+$);this.pixels[oe+0]=s.pixels[fe+0],this.pixels[oe+1]=s.pixels[fe+1],this.pixels[oe+2]=s.pixels[fe+2],this.pixels[oe+3]=s.pixels[fe+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}bn(jy,"DEMData"),bn(RM,"DemMinMaxQuadTree",{omit:["dem"]});class Mq{constructor(s,c){this.max=s,this.onRemove=c,this.reset()}reset(){for(const s in this.data)for(const c of this.data[s])c.timeout&&clearTimeout(c.timeout),this.onRemove(c.value);return this.data={},this.order=[],this}add(s,c,h){const y=s.wrapped().key;this.data[y]===void 0&&(this.data[y]=[]);const w={value:c,timeout:void 0};if(h!==void 0&&(w.timeout=setTimeout(()=>{this.remove(s,w)},h)),this.data[y].push(w),this.order.push(y),this.order.length>this.max){const T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this}has(s){return s.wrapped().key in this.data}getAndRemove(s){return this.has(s)?this._getAndRemoveByKey(s.wrapped().key):null}_getAndRemoveByKey(s){const c=this.data[s].shift();return c.timeout&&clearTimeout(c.timeout),this.data[s].length===0&&delete this.data[s],this.order.splice(this.order.indexOf(s),1),c.value}getByKey(s){const c=this.data[s];return c?c[0].value:null}get(s){return this.has(s)?this.data[s.wrapped().key][0].value:null}remove(s,c){if(!this.has(s))return this;const h=s.wrapped().key,y=c===void 0?0:this.data[h].indexOf(c),w=this.data[h][y];return this.data[h].splice(y,1),w.timeout&&clearTimeout(w.timeout),this.data[h].length===0&&delete this.data[h],this.onRemove(w.value),this.order.splice(this.order.indexOf(h),1),this}setMaxSize(s){for(this.max=s;this.order.length>this.max;){const c=this._getAndRemoveByKey(this.order[0]);c&&this.onRemove(c)}return this}filter(s){const c=[];for(const h in this.data)for(const y of this.data[h])s(y.value)||c.push(y);for(const h of c)this.remove(h.value.tileID,h)}}class Ep{constructor(s,c,h){this.func=s,this.mask=c,this.range=h}}Ep.ReadOnly=!1,Ep.ReadWrite=!0,Ep.disabled=new Ep(519,Ep.ReadOnly,[0,1]);const F3=7680;class N3{constructor(s,c,h,y,w,T){this.test=s,this.ref=c,this.mask=h,this.fail=y,this.depthFail=w,this.pass=T}}N3.disabled=new N3({func:519,mask:0},0,0,F3,F3,F3);class Gl{constructor(s,c,h){this.blendFunction=s,this.blendColor=c,this.mask=h}}Gl.Replace=[1,0],Gl.disabled=new Gl(Gl.Replace,Lr.transparent,[!1,!1,!1,!1]),Gl.unblended=new Gl(Gl.Replace,Lr.transparent,[!0,!0,!0,!0]),Gl.alphaBlended=new Gl([1,771],Lr.transparent,[!0,!0,!0,!0]);const B3=1029,z3=2305;class ul{constructor(s,c,h){this.enable=s,this.mode=c,this.frontFace=h}}ul.disabled=new ul(!1,B3,z3),ul.backCCW=new ul(!0,B3,z3),ul.backCW=new ul(!0,B3,2304),ul.frontCW=new ul(!0,1028,2304),ul.frontCCW=new ul(!0,1028,z3);class Sf extends Al{constructor(s,c,h){super(),this.id=s,this._onlySymbols=h,c.on("data",y=>{y.dataType==="source"&&y.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&y.dataType==="source"&&y.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),c.on("error",()=>{this._sourceErrored=!0}),this._source=c,this._tiles={},this._cache=new Mq(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=c.minTileCacheSize,this._maxTileCacheSize=c.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new Tq,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(s){this.map=s,this._minTileCacheSize=this._minTileCacheSize===void 0&&s?s._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&s?s._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const s in this._tiles){const c=this._tiles[s];if(c.state!=="loaded"&&c.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const s=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,s&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(s,c){return s.isSymbolTile=this._onlySymbols,this._source.loadTile(s,c)}_unloadTile(s){if(this._source.unloadTile)return this._source.unloadTile(s,()=>{})}_abortTile(s){if(this._source.abortTile)return this._source.abortTile(s,()=>{})}serialize(){return this._source.serialize()}prepare(s){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null);for(const c in this._tiles){const h=this._tiles[c];h.upload(s),h.prepare(this.map.style.imageManager)}}getIds(){return we(this._tiles).map(s=>s.tileID).sort(NM).map(s=>s.key)}getRenderableIds(s){const c=[];for(const h in this._tiles)this._isIdRenderable(+h,s)&&c.push(this._tiles[h]);return s?c.sort((h,y)=>{const w=h.tileID,T=y.tileID,O=new V(w.canonical.x,w.canonical.y)._rotate(this.transform.angle),z=new V(T.canonical.x,T.canonical.y)._rotate(this.transform.angle);return w.overscaledZ-T.overscaledZ||z.y-O.y||z.x-O.x}).map(h=>h.tileID.key):c.map(h=>h.tileID).sort(NM).map(h=>h.key)}hasRenderableParent(s){const c=this.findLoadedParent(s,0);return!!c&&this._isIdRenderable(c.tileID.key)}_isIdRenderable(s,c){return this._tiles[s]&&this._tiles[s].hasData()&&!this._coveredTiles[s]&&(c||!this._tiles[s].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const s in this._tiles)this._tiles[s].state!=="errored"&&this._reloadTile(+s,"reloading")}}_reloadTile(s,c){const h=this._tiles[s];h&&(h.state!=="loading"&&(h.state=c),this._loadTile(h,this._tileLoaded.bind(this,h,s,c)))}_tileLoaded(s,c,h,y){if(y)if(s.state="errored",y.status!==404)this._source.fire(new Lo(y,{tile:s}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const w=this.map.painter.terrain;this.update(this.transform,w.getScaledDemTileSize(),!0),w.resetTileLookupCache(this.id)}else this.update(this.transform);else s.timeAdded=Ro.now(),h==="expired"&&(s.refreshedUponExpiration=!0),this._setTileReloadTimer(c,s),this._source.type==="raster-dem"&&s.dem&&this._backfillDEM(s),this._state.initializeTileState(s,this.map?this.map.painter:null),this._source.fire(new Ys("data",{dataType:"source",tile:s,coord:s.tileID,sourceCacheId:this.id}))}_backfillDEM(s){const c=this.getRenderableIds();for(let y=0;y<c.length;y++){const w=c[y];if(s.neighboringTiles&&s.neighboringTiles[w]){const T=this.getTileByID(w);h(s,T),h(T,s)}}function h(y,w){if(!y.dem||y.dem.borderReady)return;y.needsHillshadePrepare=!0,y.needsDEMTextureUpload=!0;let T=w.tileID.canonical.x-y.tileID.canonical.x;const O=w.tileID.canonical.y-y.tileID.canonical.y,z=Math.pow(2,y.tileID.canonical.z),$=w.tileID.key;T===0&&O===0||Math.abs(O)>1||(Math.abs(T)>1&&(Math.abs(T+z)===1?T+=z:Math.abs(T-z)===1&&(T-=z)),w.dem&&y.dem&&(y.dem.backfillBorder(w.dem,T,O),y.neighboringTiles&&y.neighboringTiles[$]&&(y.neighboringTiles[$].backfilled=!0)))}}getTile(s){return this.getTileByID(s.key)}getTileByID(s){return this._tiles[s]}_retainLoadedChildren(s,c,h,y){for(const w in this._tiles){let T=this._tiles[w];if(y[w]||!T.hasData()||T.tileID.overscaledZ<=c||T.tileID.overscaledZ>h)continue;let O=T.tileID;for(;T&&T.tileID.overscaledZ>c+1;){const $=T.tileID.scaledTo(T.tileID.overscaledZ-1);T=this._tiles[$.key],T&&T.hasData()&&(O=$)}let z=O;for(;z.overscaledZ>c;)if(z=z.scaledTo(z.overscaledZ-1),s[z.key]){y[O.key]=O;break}}}findLoadedParent(s,c){if(s.key in this._loadedParentTiles){const h=this._loadedParentTiles[s.key];return h&&h.tileID.overscaledZ>=c?h:null}for(let h=s.overscaledZ-1;h>=c;h--){const y=s.scaledTo(h),w=this._getLoadedTile(y);if(w)return w}}_getLoadedTile(s){const c=this._tiles[s.key];return c&&c.hasData()?c:this._cache.getByKey(this._source.reparseOverscaled?s.wrapped().key:s.canonical.key)}updateCacheSize(s,c){c=c||this._source.tileSize;const h=Math.ceil(s.width/c)+1,y=Math.ceil(s.height/c)+1,w=Math.floor(h*y*5),T=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,w):w,O=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,T):T;this._cache.setMaxSize(O)}handleWrapJump(s){const c=Math.round((s-(this._prevLng===void 0?s:this._prevLng))/360);if(this._prevLng=s,c){const h={};for(const y in this._tiles){const w=this._tiles[y];w.tileID=w.tileID.unwrapTo(w.tileID.wrap+c),h[w.tileID.key]=w}this._tiles=h;for(const y in this._timers)clearTimeout(this._timers[y]),delete this._timers[y];for(const y in this._tiles)this._setTileReloadTimer(+y,this._tiles[y])}}update(s,c,h){if(this.transform=s,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!h)return;let y;this.updateCacheSize(s,c),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?y=s.getVisibleUnwrappedCoordinates(this._source.tileID).map(O=>new uo(O.canonical.z,O.wrap,O.canonical.z,O.canonical.x,O.canonical.y)):(y=s.coveringTiles({tileSize:c||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!h,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(y=y.filter(O=>this._source.hasTile(O)))):y=[];const w=this._updateRetainedTiles(y);if(BM(this._source.type)&&y.length!==0){const O={},z={},$=Object.keys(w);for(const ne of $){const oe=w[ne],fe=this._tiles[ne];if(!fe||fe.fadeEndTime&&fe.fadeEndTime<=Ro.now())continue;const me=this.findLoadedParent(oe,Math.max(oe.overscaledZ-Sf.maxOverzooming,this._source.minzoom));me&&(this._addTile(me.tileID),O[me.tileID.key]=me.tileID),z[ne]=oe}const W=y[y.length-1].overscaledZ;for(const ne in this._tiles){const oe=this._tiles[ne];if(w[ne]||!oe.hasData())continue;let fe=oe.tileID;for(;fe.overscaledZ>W;){fe=fe.scaledTo(fe.overscaledZ-1);const me=this._tiles[fe.key];if(me&&me.hasData()&&z[fe.key]){w[ne]=oe.tileID;break}}}for(const ne in O)w[ne]||(this._coveredTiles[ne]=!0,w[ne]=O[ne])}for(const O in w)this._tiles[O].clearFadeHold();const T=function(O,z){const $=[];for(const W in O)W in z||$.push(W);return $}(this._tiles,w);for(const O of T){const z=this._tiles[O];z.hasSymbolBuckets&&!z.holdingForFade()?z.setHoldDuration(this.map._fadeDuration):z.hasSymbolBuckets&&!z.symbolFadeFinished()||this._removeTile(+O)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const s in this._tiles)this._tiles[s].holdingForFade()&&this._removeTile(+s)}_updateRetainedTiles(s){const c={};if(s.length===0)return c;const h={},y=s.reduce(($,W)=>Math.min($,W.overscaledZ),1/0),w=s[0].overscaledZ,T=Math.max(w-Sf.maxOverzooming,this._source.minzoom),O=Math.max(w+Sf.maxUnderzooming,this._source.minzoom),z={};for(const $ of s){const W=this._addTile($);c[$.key]=$,W.hasData()||y<this._source.maxzoom&&(z[$.key]=$)}this._retainLoadedChildren(z,y,O,c);for(const $ of s){let W=this._tiles[$.key];if(W.hasData())continue;if($.canonical.z>=this._source.maxzoom){const oe=$.children(this._source.maxzoom)[0],fe=this.getTile(oe);if(fe&&fe.hasData()){c[oe.key]=oe;continue}}else{const oe=$.children(this._source.maxzoom);if(c[oe[0].key]&&c[oe[1].key]&&c[oe[2].key]&&c[oe[3].key])continue}let ne=W.wasRequested();for(let oe=$.overscaledZ-1;oe>=T;--oe){const fe=$.scaledTo(oe);if(h[fe.key]||(h[fe.key]=!0,W=this.getTile(fe),!W&&ne&&(W=this._addTile(fe)),W&&(c[fe.key]=fe,ne=W.wasRequested(),W.hasData())))break}}return c}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const s in this._tiles){const c=[];let h,y=this._tiles[s].tileID;for(;y.overscaledZ>0;){if(y.key in this._loadedParentTiles){h=this._loadedParentTiles[y.key];break}c.push(y.key);const w=y.scaledTo(y.overscaledZ-1);if(h=this._getLoadedTile(w),h)break;y=w}for(const w of c)this._loadedParentTiles[w]=h}}_addTile(s){let c=this._tiles[s.key];if(c)return c;c=this._cache.getAndRemove(s),c&&(this._setTileReloadTimer(s.key,c),c.tileID=s,this._state.initializeTileState(c,this.map?this.map.painter:null),this._cacheTimers[s.key]&&(clearTimeout(this._cacheTimers[s.key]),delete this._cacheTimers[s.key],this._setTileReloadTimer(s.key,c)));const h=!!c;if(!h){const y=this.map?this.map.painter:null;c=new L3(s,this._source.tileSize*s.overscaleFactor(),this.transform.tileZoom,y,this._isRaster),this._loadTile(c,this._tileLoaded.bind(this,c,s.key,c.state))}return c?(c.uses++,this._tiles[s.key]=c,h||this._source.fire(new Ys("dataloading",{tile:c,coord:c.tileID,dataType:"source"})),c):null}_setTileReloadTimer(s,c){s in this._timers&&(clearTimeout(this._timers[s]),delete this._timers[s]);const h=c.getExpiryTimeout();h&&(this._timers[s]=setTimeout(()=>{this._reloadTile(s,"expired"),delete this._timers[s]},h))}_removeTile(s){const c=this._tiles[s];c&&(c.uses--,delete this._tiles[s],this._timers[s]&&(clearTimeout(this._timers[s]),delete this._timers[s]),c.uses>0||(c.hasData()&&c.state!=="reloading"?this._cache.add(c.tileID,c,c.getExpiryTimeout()):(c.aborted=!0,this._abortTile(c),this._unloadTile(c))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const s in this._tiles)this._removeTile(+s);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(s,c,h){const y=[],w=this.transform;if(!w)return y;const T=w.projection.name==="globe",O=Ul(w.center.lng);for(const z in this._tiles){const $=this._tiles[z];if(h&&$.clearQueryDebugViz(),$.holdingForFade())continue;let W;if(T){const ne=$.tileID.canonical;if(ne.z===0){const oe=[Math.abs(X(O,...og(ne,-1))-O),Math.abs(X(O,...og(ne,1))-O)];W=[0,2*oe.indexOf(Math.min(...oe))-1]}else{const oe=[Math.abs(X(O,...og(ne,-1))-O),Math.abs(X(O,...og(ne,0))-O),Math.abs(X(O,...og(ne,1))-O)];W=[oe.indexOf(Math.min(...oe))-1]}}else W=[0];for(const ne of W){const oe=s.containsTile($,w,c,ne);oe&&y.push(oe)}}return y}getVisibleCoordinates(s){const c=this.getRenderableIds(s).map(h=>this._tiles[h].tileID);for(const h of c)h.projMatrix=this.transform.calculateProjMatrix(h.toUnwrapped());return c}hasTransition(){if(this._source.hasTransition())return!0;if(BM(this._source.type))for(const s in this._tiles){const c=this._tiles[s];if(c.fadeEndTime!==void 0&&c.fadeEndTime>=Ro.now())return!0}return!1}setFeatureState(s,c,h){this._state.updateState(s=s||"_geojsonTileLayer",c,h)}removeFeatureState(s,c,h){this._state.removeFeatureState(s=s||"_geojsonTileLayer",c,h)}getFeatureState(s,c){return this._state.getState(s=s||"_geojsonTileLayer",c)}setDependencies(s,c,h){const y=this._tiles[s];y&&y.setDependencies(c,h)}reloadTilesForDependencies(s,c){for(const h in this._tiles)this._tiles[h].hasDependency(s,c)&&this._reloadTile(+h,"reloading");this._cache.filter(h=>!h.hasDependency(s,c))}_preloadTiles(s,c){if(!this._sourceLoaded){const O=()=>{this._sourceLoaded&&(this._source.off("data",O),this._preloadTiles(s,c))};return void this._source.on("data",O)}const h=new Map,y=Array.isArray(s)?s:[s],w=this.map.painter.terrain,T=this.usedForTerrain&&w?w.getScaledDemTileSize():this._source.tileSize;for(const O of y){const z=O.coveringTiles({tileSize:T,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const $ of z)h.set($.key,$);this.usedForTerrain&&O.updateElevation(!1)}ce(Array.from(h.values()),(O,z)=>{const $=new L3(O,this._source.tileSize*O.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile($,W=>{this._source.type==="raster-dem"&&$.dem&&this._backfillDEM($),z(W,$)})},c)}}function NM(u,s){const c=Math.abs(2*u.wrap)-+(u.wrap<0),h=Math.abs(2*s.wrap)-+(s.wrap<0);return u.overscaledZ-s.overscaledZ||h-c||s.canonical.y-u.canonical.y||s.canonical.x-u.canonical.x}function BM(u){return u==="raster"||u==="image"||u==="video"||u==="custom"}function og(u,s){const c=1<<u.z;return[u.x/c+s,(u.x+1)/c+s]}Sf.maxOverzooming=10,Sf.maxUnderzooming=3;class Vy{constructor(s,c,h){this._demTile=s,this._dem=this._demTile.dem,this._scale=c,this._offset=h}static create(s,c,h){const y=h||s.findDEMTileFor(c);if(!y||!y.dem)return;const w=y.dem,T=y.tileID,O=1<<c.canonical.z-T.canonical.z;return new Vy(y,y.tileSize/Bn/O,[(c.canonical.x/O-T.canonical.x)*w.dim,(c.canonical.y/O-T.canonical.y)*w.dim])}tileCoordToPixel(s,c){const h=c*this._scale+this._offset[1],y=Math.floor(s*this._scale+this._offset[0]),w=Math.floor(h);return new V(y,w)}getElevationAt(s,c,h,y){const w=s*this._scale+this._offset[0],T=c*this._scale+this._offset[1],O=Math.floor(w),z=Math.floor(T),$=this._dem;return y=!!y,h?Ar(Ar($.get(O,z,y),$.get(O,z+1,y),T-z),Ar($.get(O+1,z,y),$.get(O+1,z+1,y),T-z),w-O):$.get(O,z,y)}getElevationAtPixel(s,c,h){return this._dem.get(s,c,!!h)}getMeterToDEM(s){return(1<<this._demTile.tileID.canonical.z)*ol(1,s)*this._dem.stride}}class zM{constructor(s,c){this.tileID=s,this.x=s.canonical.x,this.y=s.canonical.y,this.z=s.canonical.z,this.grid=new Eu(Bn,16,0),this.featureIndexArray=new ff,this.promoteId=c}insert(s,c,h,y,w,T=0){const O=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(h,y,w,T);const z=this.grid;for(let $=0;$<c.length;$++){const W=c[$],ne=[1/0,1/0,-1/0,-1/0];for(let oe=0;oe<W.length;oe++){const fe=W[oe];ne[0]=Math.min(ne[0],fe.x),ne[1]=Math.min(ne[1],fe.y),ne[2]=Math.max(ne[2],fe.x),ne[3]=Math.max(ne[3],fe.y)}ne[0]<Bn&&ne[1]<Bn&&ne[2]>=0&&ne[3]>=0&&z.insert(O,ne[0],ne[1],ne[2],ne[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new _3(new My(this.rawTileData)).layers,this.sourceLayerCoder=new SM(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const s in this.vtLayers)this.vtFeatures[s]=[]}return this.vtLayers}query(s,c,h,y){this.loadVTLayers();const w=s.params||{},T=tp(w.filter),O=s.tileResult,z=s.transform,$=O.bufferedTilespaceBounds,W=this.grid.query($.min.x,$.min.y,$.max.x,$.max.y,(me,Se,Oe,Ve)=>c9(O.bufferedTilespaceGeometry,me,Se,Oe,Ve));W.sort(kq);let ne=null;z.elevation&&W.length>0&&(ne=Vy.create(z.elevation,this.tileID));const oe={};let fe;for(let me=0;me<W.length;me++){const Se=W[me];if(Se===fe)continue;fe=Se;const Oe=this.featureIndexArray.get(Se);let Ve=null;this.loadMatchingFeature(oe,Oe,T,w.layers,w.availableImages,c,h,y,(tt,Ue,Je,st=0)=>(Ve||(Ve=Du(tt,this.tileID.canonical,s.tileTransform)),Ue.queryIntersectsFeature(O,tt,Je,Ve,this.z,s.transform,s.pixelPosMatrix,ne,st)))}return oe}loadMatchingFeature(s,c,h,y,w,T,O,z,$){const{featureIndex:W,bucketIndex:ne,sourceLayerIndex:oe,layoutVertexArrayOffset:fe}=c,me=this.bucketLayerIDs[ne];if(y&&!function(tt,Ue){for(let Je=0;Je<tt.length;Je++)if(Ue.indexOf(tt[Je])>=0)return!0;return!1}(y,me))return;const Se=this.sourceLayerCoder.decode(oe),Oe=this.vtLayers[Se].feature(W);if(h.needGeometry){const tt=bf(Oe,!0);if(!h.filter(new ee(this.tileID.overscaledZ),tt,this.tileID.canonical))return}else if(!h.filter(new ee(this.tileID.overscaledZ),Oe))return;const Ve=this.getId(Oe,Se);for(let tt=0;tt<me.length;tt++){const Ue=me[tt];if(y&&y.indexOf(Ue)<0)continue;const Je=T[Ue];if(!Je)continue;let st={};Ve!==void 0&&z&&(st=z.getState(Je.sourceLayer||"_geojsonTileLayer",Ve));const it=be({},O[Ue]);it.paint=$M(it.paint,Je.paint,Oe,st,w),it.layout=$M(it.layout,Je.layout,Oe,st,w);const It=!$||$(Oe,Je,st,fe);if(!It)continue;const Et=new TM(Oe,this.z,this.x,this.y,Ve);Et.layer=it;let jt=s[Ue];jt===void 0&&(jt=s[Ue]=[]),jt.push({featureIndex:W,feature:Et,intersectionZ:It})}}lookupSymbolFeatures(s,c,h,y,w,T,O,z){const $={};this.loadVTLayers();const W=tp(w);for(const ne of s)this.loadMatchingFeature($,{bucketIndex:h,sourceLayerIndex:y,featureIndex:ne,layoutVertexArrayOffset:0},W,T,O,z,c);return $}loadFeature(s){const{featureIndex:c,sourceLayerIndex:h}=s;this.loadVTLayers();const y=this.sourceLayerCoder.decode(h),w=this.vtFeatures[y];if(w[c])return w[c];const T=this.vtLayers[y].feature(c);return w[c]=T,T}hasLayer(s){for(const c of this.bucketLayerIDs)for(const h of c)if(s===h)return!0;return!1}getId(s,c){let h=s.id;if(this.promoteId){const y=typeof this.promoteId=="string"?this.promoteId:this.promoteId[c];y!=null&&(h=s.properties[y]),typeof h=="boolean"&&(h=Number(h))}return h}}function $M(u,s,c,h,y){return He(u,(w,T)=>{const O=s instanceof je?s.get(T):null;return O&&O.evaluate?O.evaluate(c,h,y):O})}function kq(u,s){return s-u}bn(zM,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class jM{constructor(s,c){this.width=s,this.height=c,this.nextRow=0,this.image=new Ru({width:s,height:c}),this.positions={},this.uploaded=!1}getDash(s,c){const h=this.getKey(s,c);return this.positions[h]}trim(){const s=this.width,c=this.height=ye(this.nextRow);this.image.resize({width:s,height:c})}getKey(s,c){return s.join(",")+c}getDashRanges(s,c,h){const y=[];let w=s.length%2==1?-s[s.length-1]*h:0,T=s[0]*h,O=!0;y.push({left:w,right:T,isDash:O,zeroLength:s[0]===0});let z=s[0];for(let $=1;$<s.length;$++){O=!O;const W=s[$];w=z*h,z+=W,T=z*h,y.push({left:w,right:T,isDash:O,zeroLength:W===0})}return y}addRoundDash(s,c,h){const y=c/2;for(let w=-h;w<=h;w++){const T=this.width*(this.nextRow+h+w);let O=0,z=s[O];for(let $=0;$<this.width;$++){$/z.right>1&&(z=s[++O]);const W=Math.abs($-z.left),ne=Math.abs($-z.right),oe=Math.min(W,ne);let fe;const me=w/h*(y+1);if(z.isDash){const Se=y-Math.abs(me);fe=Math.sqrt(oe*oe+Se*Se)}else fe=y-Math.sqrt(oe*oe+me*me);this.image.data[T+$]=Math.max(0,Math.min(255,fe+128))}}}addRegularDash(s,c){for(let z=s.length-1;z>=0;--z){const $=s[z],W=s[z+1];$.zeroLength?s.splice(z,1):W&&W.isDash===$.isDash&&(W.left=$.left,s.splice(z,1))}const h=s[0],y=s[s.length-1];h.isDash===y.isDash&&(h.left=y.left-this.width,y.right=h.right+this.width);const w=this.width*this.nextRow;let T=0,O=s[T];for(let z=0;z<this.width;z++){z/O.right>1&&(O=s[++T]);const $=Math.abs(z-O.left),W=Math.abs(z-O.right),ne=Math.min($,W);this.image.data[w+z]=Math.max(0,Math.min(255,(O.isDash?ne:-ne)+c+128))}}addDash(s,c){const h=this.getKey(s,c);if(this.positions[h])return this.positions[h];const y=c==="round",w=y?7:0,T=2*w+1;if(this.nextRow+T>this.height)return We("LineAtlas out of space"),null;s.length===0&&s.push(1);let O=0;for(let W=0;W<s.length;W++)s[W]<0&&(We("Negative value is found in line dasharray, replacing values with 0"),s[W]=0),O+=s[W];if(O!==0){const W=this.width/O,ne=this.getDashRanges(s,this.width,W);y?this.addRoundDash(ne,W,w):this.addRegularDash(ne,c==="square"?.5*W:0)}const z=this.nextRow+w;this.nextRow+=T;const $={tl:[z,w],br:[O,0]};return this.positions[h]=$,$}}bn(jM,"LineAtlas");const VM=1*ll;class UM{constructor(s){const c={},h=[];for(const O in s){const z=s[O],$=c[O]={};for(const W in z.glyphs){const ne=z.glyphs[+W];if(!ne||ne.bitmap.width===0||ne.bitmap.height===0)continue;const oe=ne.metrics.localGlyph?VM:1,fe={x:0,y:0,w:ne.bitmap.width+2*oe,h:ne.bitmap.height+2*oe};h.push(fe),$[W]=fe}}const{w:y,h:w}=C3(h),T=new Ru({width:y||1,height:w||1});for(const O in s){const z=s[O];for(const $ in z.glyphs){const W=z.glyphs[+$];if(!W||W.bitmap.width===0||W.bitmap.height===0)continue;const ne=c[O][$],oe=W.metrics.localGlyph?VM:1;Ru.copy(W.bitmap,T,{x:0,y:0},{x:ne.x+oe,y:ne.y+oe},W.bitmap)}}this.image=T,this.positions=c}}bn(UM,"GlyphAtlas");class Aq{constructor(s){this.tileID=new uo(s.tileID.overscaledZ,s.tileID.wrap,s.tileID.canonical.z,s.tileID.canonical.x,s.tileID.canonical.y),this.tileZoom=s.tileZoom,this.uid=s.uid,this.zoom=s.zoom,this.canonical=s.tileID.canonical,this.pixelRatio=s.pixelRatio,this.tileSize=s.tileSize,this.source=s.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=s.showCollisionBoxes,this.collectResourceTiming=!!s.collectResourceTiming,this.returnDependencies=!!s.returnDependencies,this.promoteId=s.promoteId,this.enableTerrain=!!s.enableTerrain,this.isSymbolTile=s.isSymbolTile,this.tileTransform=Cf(s.tileID.canonical,s.projection),this.projection=s.projection}parse(s,c,h,y,w){this.status="parsing",this.data=s,this.collisionBoxArray=new Jr;const T=new SM(Object.keys(s.layers).sort()),O=new zM(this.tileID,this.promoteId);O.bucketLayerIDs=[];const z={},$=new jM(256,256),W={featureIndex:O,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:$,availableImages:h},ne=c.familiesBySource[this.source];for(const st in ne){const it=s.layers[st];if(!it)continue;let It=!1,Et=!1;for(const Rt of ne[st])Rt[0].type==="symbol"?It=!0:Et=!0;if(this.isSymbolTile===!0&&!It||this.isSymbolTile===!1&&!Et)continue;it.version===1&&We(`Vector tile source "${this.source}" layer "${st}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const jt=T.encode(st),on=[];for(let Rt=0;Rt<it.length;Rt++){const Yt=it.feature(Rt),Xt=O.getId(Yt,st);on.push({feature:Yt,id:Xt,index:Rt,sourceLayerIndex:jt})}for(const Rt of ne[st]){const Yt=Rt[0];this.isSymbolTile!==void 0&&Yt.type==="symbol"!==this.isSymbolTile||Yt.minzoom&&this.zoom<Math.floor(Yt.minzoom)||Yt.maxzoom&&this.zoom>=Yt.maxzoom||Yt.visibility!=="none"&&($3(Rt,this.zoom,h),(z[Yt.id]=Yt.createBucket({index:O.bucketLayerIDs.length,layers:Rt,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:jt,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.spec,availableImages:h})).populate(on,W,this.tileID.canonical,this.tileTransform),O.bucketLayerIDs.push(Rt.map(Xt=>Xt.id)))}}let oe,fe,me,Se;$.trim();const Oe={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Ve=()=>{if(oe)return w(oe);if(fe&&me&&Se){const st=new UM(fe),it=new X9(me,Se);for(const It in z){const Et=z[It];Et instanceof Hc?($3(Et.layers,this.zoom,h),nq(Et,fe,st.positions,me,it.iconPositions,this.showCollisionBoxes,h,this.tileID.canonical,this.tileZoom,this.projection)):Et.hasPattern&&(Et instanceof Ty||Et instanceof by||Et instanceof qm)&&($3(Et.layers,this.zoom,h),Et.addFeatures(W,this.tileID.canonical,it.patternPositions,h,this.tileTransform))}this.status="done",w(null,{buckets:we(z).filter(It=>!It.isEmpty()),featureIndex:O,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:st.image,lineAtlas:$,imageAtlas:it,glyphMap:this.returnDependencies?fe:null,iconMap:this.returnDependencies?me:null,glyphPositions:this.returnDependencies?st.positions:null})}},tt=He(W.glyphDependencies,st=>Object.keys(st).map(Number));Object.keys(tt).length?y.send("getGlyphs",{uid:this.uid,stacks:tt},(st,it)=>{oe||(oe=st,fe=it,Ve())},void 0,!1,Oe):fe={};const Ue=Object.keys(W.iconDependencies);Ue.length?y.send("getImages",{icons:Ue,source:this.source,tileID:this.tileID,type:"icons"},(st,it)=>{oe||(oe=st,me=it,Ve())},void 0,!1,Oe):me={};const Je=Object.keys(W.patternDependencies);Je.length?y.send("getImages",{icons:Je,source:this.source,tileID:this.tileID,type:"patterns"},(st,it)=>{oe||(oe=st,Se=it,Ve())},void 0,!1,Oe):Se={},Ve()}}function $3(u,s,c){const h=new ee(s);for(const y of u)y.recalculate(h,c)}class HM{constructor(s){this.entries={},this.scheduler=s}request(s,c,h,y){const w=this.entries[s]=this.entries[s]||{callbacks:[]};if(w.result){const[T,O]=w.result;return this.scheduler?this.scheduler.add(()=>{y(T,O)},c):y(T,O),()=>{}}return w.callbacks.push(y),w.cancel||(w.cancel=h((T,O)=>{w.result=[T,O];for(const z of w.callbacks)this.scheduler?this.scheduler.add(()=>{z(T,O)},c):z(T,O);setTimeout(()=>delete this.entries[s],3e3)})),()=>{w.result||(w.callbacks=w.callbacks.filter(T=>T!==y),w.callbacks.length||(w.cancel(),delete this.entries[s]))}}}function KM(u,s,c){const h=JSON.stringify(u.request);return u.data&&(this.deduped.entries[h]={result:[null,u.data]}),this.deduped.request(h,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom},y=>{const w=Gt(u.request,(T,O,z,$)=>{T?y(T):O&&y(null,{vectorTile:c?void 0:new _3(new My(O)),rawData:O,cacheControl:z,expires:$})});return()=>{w.cancel(),y()}},s)}const WM=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class j3{static from(s){if(!(s instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[c,h]=new Uint8Array(s,0,2);if(c!==219)throw new Error("Data does not appear to be in a KDBush format.");const y=h>>4;if(y!==1)throw new Error(`Got v${y} data when expected v1.`);const w=WM[15&h];if(!w)throw new Error("Unrecognized array type.");const[T]=new Uint16Array(s,2,1),[O]=new Uint32Array(s,4,1);return new j3(O,T,w,s)}constructor(s,c=64,h=Float64Array,y){if(isNaN(s)||s<0)throw new Error(`Unpexpected numItems value: ${s}.`);this.numItems=+s,this.nodeSize=Math.min(Math.max(+c,2),65535),this.ArrayType=h,this.IndexArrayType=s<65536?Uint16Array:Uint32Array;const w=WM.indexOf(this.ArrayType),T=2*s*this.ArrayType.BYTES_PER_ELEMENT,O=s*this.IndexArrayType.BYTES_PER_ELEMENT,z=(8-O%8)%8;if(w<0)throw new Error(`Unexpected typed array class: ${h}.`);y&&y instanceof ArrayBuffer?(this.data=y,this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+O+z,2*s),this._pos=2*s,this._finished=!0):(this.data=new ArrayBuffer(8+T+O+z),this.ids=new this.IndexArrayType(this.data,8,s),this.coords=new this.ArrayType(this.data,8+O+z,2*s),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+w]),new Uint16Array(this.data,2,1)[0]=c,new Uint32Array(this.data,4,1)[0]=s)}add(s,c){const h=this._pos>>1;return this.ids[h]=h,this.coords[this._pos++]=s,this.coords[this._pos++]=c,h}finish(){const s=this._pos>>1;if(s!==this.numItems)throw new Error(`Added ${s} items when expected ${this.numItems}.`);return V3(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(s,c,h,y){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:w,coords:T,nodeSize:O}=this,z=[0,w.length-1,0],$=[];for(;z.length;){const W=z.pop()||0,ne=z.pop()||0,oe=z.pop()||0;if(ne-oe<=O){for(let Oe=oe;Oe<=ne;Oe++){const Ve=T[2*Oe],tt=T[2*Oe+1];Ve>=s&&Ve<=h&&tt>=c&&tt<=y&&$.push(w[Oe])}continue}const fe=oe+ne>>1,me=T[2*fe],Se=T[2*fe+1];me>=s&&me<=h&&Se>=c&&Se<=y&&$.push(w[fe]),(W===0?s<=me:c<=Se)&&(z.push(oe),z.push(fe-1),z.push(1-W)),(W===0?h>=me:y>=Se)&&(z.push(fe+1),z.push(ne),z.push(1-W))}return $}within(s,c,h){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:y,coords:w,nodeSize:T}=this,O=[0,y.length-1,0],z=[],$=h*h;for(;O.length;){const W=O.pop()||0,ne=O.pop()||0,oe=O.pop()||0;if(ne-oe<=T){for(let Oe=oe;Oe<=ne;Oe++)qM(w[2*Oe],w[2*Oe+1],s,c)<=$&&z.push(y[Oe]);continue}const fe=oe+ne>>1,me=w[2*fe],Se=w[2*fe+1];qM(me,Se,s,c)<=$&&z.push(y[fe]),(W===0?s-h<=me:c-h<=Se)&&(O.push(oe),O.push(fe-1),O.push(1-W)),(W===0?s+h>=me:c+h>=Se)&&(O.push(fe+1),O.push(ne),O.push(1-W))}return z}}function V3(u,s,c,h,y,w){if(y-h<=c)return;const T=h+y>>1;GM(u,s,T,h,y,w),V3(u,s,c,h,T-1,1-w),V3(u,s,c,T+1,y,1-w)}function GM(u,s,c,h,y,w){for(;y>h;){if(y-h>600){const $=y-h+1,W=c-h+1,ne=Math.log($),oe=.5*Math.exp(2*ne/3),fe=.5*Math.sqrt(ne*oe*($-oe)/$)*(W-$/2<0?-1:1);GM(u,s,c,Math.max(h,Math.floor(c-W*oe/$+fe)),Math.min(y,Math.floor(c+($-W)*oe/$+fe)),w)}const T=s[2*c+w];let O=h,z=y;for(sg(u,s,h,c),s[2*y+w]>T&&sg(u,s,h,y);O<z;){for(sg(u,s,O,z),O++,z--;s[2*O+w]<T;)O++;for(;s[2*z+w]>T;)z--}s[2*h+w]===T?sg(u,s,h,z):(z++,sg(u,s,z,y)),z<=c&&(h=z+1),c<=z&&(y=z-1)}}function sg(u,s,c,h){U3(u,c,h),U3(s,2*c,2*h),U3(s,2*c+1,2*h+1)}function U3(u,s,c){const h=u[s];u[s]=u[c],u[c]=h}function qM(u,s,c,h){const y=u-c,w=s-h;return y*y+w*w}a.ARRAY_TYPE=Vo,a.AUTH_ERR_MSG=$e,a.Aabb=lo,a.Actor=class{constructor(u,s,c){this.target=u,this.parent=s,this.mapId=c,this.callbacks={},this.cancelCallbacks={},Re(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=xt()?u:f,this.scheduler=new Cq}send(u,s,c,h,y=!1,w){const T=Math.round(1e18*Math.random()).toString(36).substring(0,10);c&&(c.metadata=w,this.callbacks[T]=c);const O=Ze(this.globalScope)?void 0:[];return this.target.postMessage({id:T,type:u,hasCallback:!!c,targetMapId:h,mustQueue:y,sourceMapId:this.mapId,data:Fc(s,O)},O),{cancel:()=>{c&&delete this.callbacks[T],this.target.postMessage({id:T,type:"<cancel>",targetMapId:h,sourceMapId:this.mapId})}}}receive(u){const s=u.data,c=s.id;if(c&&(!s.targetMapId||this.mapId===s.targetMapId))if(s.type==="<cancel>"){const h=this.cancelCallbacks[c];delete this.cancelCallbacks[c],h&&h.cancel()}else if(s.mustQueue||xt()){const h=this.callbacks[c];this.cancelCallbacks[c]=this.scheduler.add(()=>this.processTask(c,s),h&&h.metadata||{type:"message"})}else this.processTask(c,s)}processTask(u,s){if(s.type==="<response>"){const c=this.callbacks[u];delete this.callbacks[u],c&&(s.error?c(Pu(s.error)):c(null,Pu(s.data)))}else{const c=Ze(this.globalScope)?void 0:[],h=s.hasCallback?(w,T)=>{delete this.cancelCallbacks[u],this.target.postMessage({id:u,type:"<response>",sourceMapId:this.mapId,error:w?Fc(w):null,data:Fc(T,c)},c)}:w=>{},y=Pu(s.data);if(this.parent[s.type])this.parent[s.type](s.sourceMapId,y,h);else if(this.parent.getWorkerSource){const w=s.type.split(".");this.parent.getWorkerSource(s.sourceMapId,w[0],y.source)[w[1]](y,h)}else h(new Error(`Could not find function ${s.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},a.CanonicalTileID=Sy,a.Color=Lr,a.ColorMode=Gl,a.CullFaceMode=ul,a.DEMData=jy,a.DataConstantProperty=Ce,a.DedupedRequest=HM,a.DepthMode=Ep,a.EXTENT=Bn,a.Elevation=class{isDataAvailableAtPoint(u){const s=this._source();if(this.isUsingMockSource()||!s||u.y<0||u.y>1)return!1;const c=s.getSource().maxzoom,h=1<<c,y=Math.floor(u.x),w=Math.floor((u.x-y)*h),T=Math.floor(u.y*h),O=this.findDEMTileFor(new uo(c,y,c,w,T));return!(!O||!O.dem)}getAtPointOrZero(u,s=0){return this.getAtPoint(u,s)||0}getAtPoint(u,s,c=!0){if(this.isUsingMockSource())return null;s==null&&(s=null);const h=this._source();if(!h||u.y<0||u.y>1)return s;const y=h.getSource().maxzoom,w=1<<y,T=Math.floor(u.x),O=u.x-T,z=new uo(y,T,y,Math.floor(O*w),Math.floor(u.y*w)),$=this.findDEMTileFor(z);if(!$||!$.dem)return s;const W=$.dem,ne=1<<$.tileID.canonical.z,oe=(O*ne-$.tileID.canonical.x)*W.dim,fe=(u.y*ne-$.tileID.canonical.y)*W.dim,me=Math.floor(oe),Se=Math.floor(fe);return(c?this.exaggeration():1)*Ar(Ar(W.get(me,Se),W.get(me,Se+1),fe-Se),Ar(W.get(me+1,Se),W.get(me+1,Se+1),fe-Se),oe-me)}getAtTileOffset(u,s,c){const h=1<<u.canonical.z;return this.getAtPointOrZero(new fp(u.wrap+(u.canonical.x+s/Bn)/h,(u.canonical.y+c/Bn)/h))}getAtTileOffsetFunc(u,s,c,h){return y=>{const w=this.getAtTileOffset(u,y.x,y.y),T=h.upVector(u.canonical,y.x,y.y);return us(T,T,w*h.upVectorScale(u.canonical,s,c).metersToTile),T}}getForTilePoints(u,s,c,h){if(this.isUsingMockSource())return!1;const y=Vy.create(this,u,h);return!!y&&(s.forEach(w=>{w[2]=this.exaggeration()*y.getElevationAt(w[0],w[1],c)}),!0)}getMinMaxForTile(u){if(this.isUsingMockSource())return null;const s=this.findDEMTileFor(u);if(!s||!s.dem)return null;const c=s.dem.tree,h=s.tileID,y=1<<u.canonical.z-h.canonical.z;let w=u.canonical.x/y-h.canonical.x,T=u.canonical.y/y-h.canonical.y,O=0;for(let z=0;z<u.canonical.z-h.canonical.z&&!c.leaves[O];z++){w*=2,T*=2;const $=2*Math.floor(T)+Math.floor(w);O=c.childOffsets[O]+$,w%=1,T%=1}return{min:this.exaggeration()*c.minimums[O],max:this.exaggeration()*c.maximums[O]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(u,s,c){throw new Error("Pure virtual method called.")}pointCoordinate(u){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}isUsingMockSource(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(u){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},a.ErrorEvent=Lo,a.EvaluationParameters=ee,a.Event=Ys,a.Evented=Al,a.FillExtrusionBucket=qm,a.Frustum=Xw,a.FrustumCorners=Yw,a.GLOBE_RADIUS=jl,a.GLOBE_SCALE_MATCH_LATITUDE=45,a.GLOBE_ZOOM_THRESHOLD_MAX=GP,a.GLOBE_ZOOM_THRESHOLD_MIN=Zw,a.GlobeSharedBuffers=class{constructor(u){this._createGrid(u),this._createPoles(u)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const u of this._poleSegments)u.destroy();for(const u of this._gridSegments)u.withSkirts.destroy(),u.withoutSkirts.destroy();if(this._wireframeIndexBuffer){this._wireframeIndexBuffer.destroy();for(const u of this._wireframeSegments)u.destroy()}}_fillGridMeshWithLods(u,s){const c=new an,h=new On,y=[],w=u+1+2,T=s[0]+1,O=s[0]+1+(1+s.length),z=($,W,ne)=>{let oe=$===w-1?$-2:$===0?$:$-1;return oe+=ne?24575:0,[oe,W]};for(let $=0;$<w;++$)c.emplaceBack(...z($,0,!0));for(let $=0;$<T;++$)for(let W=0;W<w;++W)c.emplaceBack(...z(W,$,(W===0||W===w-1)&&!0));for(let $=0;$<s.length;++$){const W=s[$];for(let ne=0;ne<w;++ne)c.emplaceBack(...z(ne,W,!0))}for(let $=0;$<s.length;++$){const W=h.length,ne=s[$]+1+2,oe=new On;for(let Se=0;Se<ne-1;Se++){const Oe=Se===ne-2,Ve=Oe?w*(O-s.length+$-Se):w;for(let tt=0;tt<w-1;tt++){const Ue=Se*w+tt;Se===0||Oe||tt===0||tt===w-2?(oe.emplaceBack(Ue+1,Ue,Ue+Ve),oe.emplaceBack(Ue+Ve,Ue+Ve+1,Ue+1)):(h.emplaceBack(Ue+1,Ue,Ue+Ve),h.emplaceBack(Ue+Ve,Ue+Ve+1,Ue+1))}}const fe=Gi.simpleSegment(0,W,c.length,h.length-W);for(let Se=0;Se<oe.uint16.length;Se+=3)h.emplaceBack(oe.uint16[Se],oe.uint16[Se+1],oe.uint16[Se+2]);const me=Gi.simpleSegment(0,W,c.length,h.length-W);y.push({withoutSkirts:fe,withSkirts:me})}return{vertices:c,indices:h,segments:y}}_createGrid(u){const s=this._fillGridMeshWithLods(yf,Bm);this._gridSegments=s.segments,this._gridBuffer=u.createVertexBuffer(s.vertices,Nm.members),this._gridIndexBuffer=u.createIndexBuffer(s.indices,!0)}_createPoles(u){const s=new On;for(let y=0;y<=yf;y++)s.emplaceBack(0,y+1,y+2);this._poleIndexBuffer=u.createIndexBuffer(s,!0);const c=new Qr,h=new Qr;this._poleSegments=[];for(let y=0,w=0;y<Zw;y++){const T=360/(1<<y);c.emplaceBack(0,-jl,0,.5,0),h.emplaceBack(0,-jl,0,.5,1);for(let O=0;O<=yf;O++){const z=O/yf,$=Ar(0,T,z),[W,ne,oe]=up(CW,SW,$,jl);c.emplaceBack(W,ne,oe,z,0),h.emplaceBack(W,ne,oe,z,1)}this._poleSegments.push(Gi.simpleSegment(w,0,66,64)),w+=66}this._poleNorthVertexBuffer=u.createVertexBuffer(c,KP,!1),this._poleSouthVertexBuffer=u.createVertexBuffer(h,KP,!1)}getGridBuffers(u,s){return[this._gridBuffer,this._gridIndexBuffer,s?this._gridSegments[u].withSkirts:this._gridSegments[u].withoutSkirts]}getPoleBuffers(u){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[u]]}getWirefameBuffers(u,s){if(!this._wireframeSegments){const c=new Sa,h=yf,y=h+1+2,w=1;this._wireframeSegments=[];for(let T=0,O=0;T<Bm.length;T++){const z=Bm[T];for(let W=w;W<z+w;W++)for(let ne=w;ne<h+w;ne++){const oe=W*y+ne;c.emplaceBack(oe,oe+1),c.emplaceBack(oe,oe+y),c.emplaceBack(oe,oe+y+1)}const $=z*h*3;this._wireframeSegments.push(Gi.simpleSegment(0,O,(z+1)*y,$)),O+=$}this._wireframeIndexBuffer=u.createIndexBuffer(c)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments[s]]}},a.GlyphManager=xp,a.ImagePosition=S3,a.KDBush=j3,a.LivePerformanceUtils=Oo,a.LngLat=ei,a.LngLatBounds=$c,a.LocalGlyphMode=P3,a.MAX_MERCATOR_LATITUDE=Ua,a.MercatorCoordinate=fp,a.ONE_EM=Ia,a.OverscaledTileID=uo,a.PerformanceMarkers=da,a.Point=V,a.Properties=Xe,a.RGBAImage=Uo,a.Ray=qw,a.RequestManager=class{constructor(u,s,c){this._transformRequestFn=u,this._customAccessToken=s,this._silenceAuthErrors=!!c,this._createSkuToken()}_createSkuToken(){const u=function(){let s="";for(let c=0;c<10;c++)s+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",I,s].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=u.token,this._skuTokenExpiresAt=u.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(u,s){return this._transformRequestFn&&this._transformRequestFn(u,s)||{url:u}}normalizeStyleURL(u,s){if(!Ke(u))return u;const c=Ht(u);return c.path=`/styles/v1${c.path}`,this._makeAPIURL(c,this._customAccessToken||s)}normalizeGlyphsURL(u,s){if(!Ke(u))return u;const c=Ht(u);return c.path=`/fonts/v1${c.path}`,this._makeAPIURL(c,this._customAccessToken||s)}normalizeSourceURL(u,s,c,h){if(!Ke(u))return u;const y=Ht(u);return y.path=`/v4/${y.authority}.json`,y.params.push("secure"),c&&y.params.push(`language=${c}`),h&&y.params.push(`worldview=${h}`),this._makeAPIURL(y,this._customAccessToken||s)}normalizeSpriteURL(u,s,c,h){const y=Ht(u);return Ke(u)?(y.path=`/styles/v1${y.path}/sprite${s}${c}`,this._makeAPIURL(y,this._customAccessToken||h)):(y.path+=`${s}${c}`,Ot(y))}normalizeTileURL(u,s,c){if(this._isSkuTokenExpired()&&this._createSkuToken(),u&&!Ke(u))return u;const h=Ht(u);h.path=h.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${s||c&&h.authority!=="raster"&&c===512?"@2x":""}${_.supported?".webp":"$1"}`),h.authority==="raster"?h.path=`/${g.RASTER_URL_PREFIX}${h.path}`:(h.path=h.path.replace(/^.+\/v4\//,"/"),h.path=`/${g.TILE_URL_VERSION}${h.path}`);const y=this._customAccessToken||function(w){for(const T of w){const O=T.match(/^access_token=(.*)$/);if(O)return O[1]}return null}(h.params)||g.ACCESS_TOKEN;return g.REQUIRE_ACCESS_TOKEN&&y&&this._skuToken&&h.params.push(`sku=${this._skuToken}`),this._makeAPIURL(h,y)}canonicalizeTileURL(u,s){const c=Ht(u);if(!c.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!c.path.match(/\.[\w]+$/))return u;let h="mapbox://";c.path.match(/^\/raster\/v1\//)?h+=`raster/${c.path.replace(`/${g.RASTER_URL_PREFIX}/`,"")}`:h+=`tiles/${c.path.replace(`/${g.TILE_URL_VERSION}/`,"")}`;let y=c.params;return s&&(y=y.filter(w=>!w.match(/^access_token=/))),y.length&&(h+=`?${y.join("&")}`),h}canonicalizeTileset(u,s){const c=!!s&&Ke(s),h=[];for(const y of u.tiles||[])et(y)?h.push(this.canonicalizeTileURL(y,c)):h.push(y);return h}_makeAPIURL(u,s){const c="See https://docs.mapbox.com/api/overview/#access-tokens-and-token-scopes",h=Ht(g.API_URL);if(u.protocol=h.protocol,u.authority=h.authority,u.protocol==="http"){const y=u.params.indexOf("secure");y>=0&&u.params.splice(y,1)}if(h.path!=="/"&&(u.path=`${h.path}${u.path}`),!g.REQUIRE_ACCESS_TOKEN)return Ot(u);if(s=s||g.ACCESS_TOKEN,!this._silenceAuthErrors){if(!s)throw new Error(`An API access token is required to use Mapbox GL. ${c}`);if(s[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${c}`)}return u.params=u.params.filter(y=>y.indexOf("access_token")===-1),u.params.push(`access_token=${s||""}`),Ot(u)}},a.ResourceType=ft,a.SegmentVector=Gi,a.SourceCache=Sf,a.StencilMode=N3,a.StructArrayLayout1ui2=jo,a.StructArrayLayout2f1f2i16=jn,a.StructArrayLayout2i4=an,a.StructArrayLayout2ui4=Sa,a.StructArrayLayout3f12=_r,a.StructArrayLayout3ui6=On,a.StructArrayLayout4i8=Kt,a.StructArrayLayout5f20=Qr,a.Texture=ag,a.Tile=L3,a.Transitionable=xe,a.Uniform1f=sy,a.Uniform1i=class extends Au{constructor(u){super(u),this.current=0}set(u,s,c){this.fetchUniformLocation(u,s)&&this.current!==c&&(this.current=c,this.gl.uniform1i(this.location,c))}},a.Uniform2f=class extends Au{constructor(u){super(u),this.current=[0,0]}set(u,s,c){this.fetchUniformLocation(u,s)&&(c[0]===this.current[0]&&c[1]===this.current[1]||(this.current=c,this.gl.uniform2f(this.location,c[0],c[1])))}},a.Uniform3f=class extends Au{constructor(u){super(u),this.current=[0,0,0]}set(u,s,c){this.fetchUniformLocation(u,s)&&(c[0]===this.current[0]&&c[1]===this.current[1]&&c[2]===this.current[2]||(this.current=c,this.gl.uniform3f(this.location,c[0],c[1],c[2])))}},a.Uniform4f=MP,a.UniformColor=kP,a.UniformMatrix2f=class extends Au{constructor(u){super(u),this.current=sW}set(u,s,c){if(this.fetchUniformLocation(u,s)){for(let h=0;h<4;h++)if(c[h]!==this.current[h]){this.current=c,this.gl.uniformMatrix2fv(this.location,!1,c);break}}}},a.UniformMatrix3f=class extends Au{constructor(u){super(u),this.current=oW}set(u,s,c){if(this.fetchUniformLocation(u,s)){for(let h=0;h<9;h++)if(c[h]!==this.current[h]){this.current=c,this.gl.uniformMatrix3fv(this.location,!1,c);break}}}},a.UniformMatrix4f=class extends Au{constructor(u){super(u),this.current=aW}set(u,s,c){if(this.fetchUniformLocation(u,s)){if(c[12]!==this.current[12]||c[0]!==this.current[0])return this.current=c,void this.gl.uniformMatrix4fv(this.location,!1,c);for(let h=1;h<16;h++)if(c[h]!==this.current[h]){this.current=c,this.gl.uniformMatrix4fv(this.location,!1,c);break}}}},a.UnwrappedTileID=L9,a.ValidationError=_n,a.VectorTileFeature=wy,a.VectorTileWorkerSource=class extends Al{constructor(u,s,c,h,y){super(),this.actor=u,this.layerIndex=s,this.availableImages=c,this.loadVectorData=y||KM,this.loading={},this.loaded={},this.deduped=new HM(u.scheduler),this.isSpriteLoaded=h,this.scheduler=u.scheduler}loadTile(u,s){const c=u.uid,h=u&&u.request,y=h&&h.collectResourceTiming,w=this.loading[c]=new Aq(u);w.abort=this.loadVectorData(u,(T,O)=>{const z=!this.loading[c];if(delete this.loading[c],z||T||!O)return w.status="done",z||(this.loaded[c]=w),s(T);const $=O.rawData,W={};O.expires&&(W.expires=O.expires),O.cacheControl&&(W.cacheControl=O.cacheControl),w.vectorTile=O.vectorTile||new _3(new My($));const ne=()=>{w.parse(w.vectorTile,this.layerIndex,this.availableImages,this.actor,(oe,fe)=>{if(oe||!fe)return s(oe);const me={};if(y){const Se=ci(h);Se.length>0&&(me.resourceTiming=JSON.parse(JSON.stringify(Se)))}s(null,be({rawTileData:$.slice(0)},fe,W,me))})};this.isSpriteLoaded?ne():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(ne,{type:"parseTile",isSymbolTile:u.isSymbolTile,zoom:u.tileZoom}):ne()}),this.loaded=this.loaded||{},this.loaded[c]=w})}reloadTile(u,s){const c=this.loaded,h=u.uid,y=this;if(c&&c[h]){const w=c[h];w.showCollisionBoxes=u.showCollisionBoxes,w.enableTerrain=!!u.enableTerrain,w.projection=u.projection,w.tileTransform=Cf(u.tileID.canonical,u.projection);const T=(O,z)=>{const $=w.reloadCallback;$&&(delete w.reloadCallback,w.parse(w.vectorTile,y.layerIndex,this.availableImages,y.actor,$)),s(O,z)};w.status==="parsing"?w.reloadCallback=T:w.status==="done"&&(w.vectorTile?w.parse(w.vectorTile,this.layerIndex,this.availableImages,this.actor,T):T())}}abortTile(u,s){const c=u.uid,h=this.loading[c];h&&(h.abort&&h.abort(),delete this.loading[c]),s()}removeTile(u,s){const c=this.loaded,h=u.uid;c&&c[h]&&delete c[h],s()}},a.WritingMode=ds,a.ZoomDependentExpression=af,a.add=Ou,a.addDynamicAttributes=By,a.adjoint=function(u,s){var c=s[0],h=s[1],y=s[2],w=s[3],T=s[4],O=s[5],z=s[6],$=s[7],W=s[8];return u[0]=T*W-O*$,u[1]=y*$-h*W,u[2]=h*O-y*T,u[3]=O*z-w*W,u[4]=c*W-y*z,u[5]=y*w-c*O,u[6]=w*$-T*z,u[7]=h*z-c*$,u[8]=c*T-h*w,u},a.asyncAll=ce,a.bezier=Q,a.bindAll=Re,a.boundsAttributes=PM,a.bufferConvexPolygon=function(u,s){const c=[];for(let h=0;h<u.length;h++){const y=he(h-1,-1,u.length-1),w=he(h+1,-1,u.length-1),T=u[h],O=u[w],z=u[y].sub(T).unit(),$=O.sub(T).unit(),W=$.angleWithSep(z.x,z.y),ne=z.add($).unit().mult(-1*s/Math.sin(W/2));c.push(T.add(ne))}return c},a.cacheEntryPossiblyAdded=function(u){St++,St>tn&&(u.getActor().send("enforceCacheSizeLimit",Nt),St=0)},a.calculateGlobeLabelMatrix=function(u,s){const{x:c,y:h}=u.point,y=QP(c,h,u.worldSize/u._pixelsPerMercatorPixel,0,0);return vf(y,y,e3(Vl(s)))},a.calculateGlobeMatrix=function(u){const{x:s,y:c}=u.point,{lng:h,lat:y}=u._center;return QP(s,c,u.worldSize,h,y)},a.calculateGlobeMercatorMatrix=function(u){const s=u.pixelsPerMeter,c=s/ol(1,u.center.lat),h=il(new Float64Array(16));return Im(h,h,[u.point.x,u.point.y,0]),mf(h,h,[c,c,s]),Float32Array.from(h)},a.circumferenceAtLatitude=n3,a.clamp=X,a.clearTileCache=function(u){if(!yt())return;const s=f.caches.delete(Ct);u&&s.catch(u).then(()=>u())},a.clipLine=uM,a.clone=function(u){var s=new Vo(16);return s[0]=u[0],s[1]=u[1],s[2]=u[2],s[3]=u[3],s[4]=u[4],s[5]=u[5],s[6]=u[6],s[7]=u[7],s[8]=u[8],s[9]=u[9],s[10]=u[10],s[11]=u[11],s[12]=u[12],s[13]=u[13],s[14]=u[14],s[15]=u[15],s},a.clone$1=pe,a.collisionCircleLayout=MG,a.config=g,a.conjugate=function(u,s){return u[0]=-s[0],u[1]=-s[1],u[2]=-s[2],u[3]=s[3],u},a.create=function(){var u=new Vo(16);return Vo!=Float32Array&&(u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=0,u[12]=0,u[13]=0,u[14]=0),u[0]=1,u[5]=1,u[10]=1,u[15]=1,u},a.create$1=OP,a.createExpression=Dc,a.createLayout=bt,a.createStyleLayer=function(u){return u.type==="custom"?new _q(u):new xq[u.type](u)},a.cross=Gw,a.degToRad=q,a.distance=function(u,s){return Math.hypot(s[0]-u[0],s[1]-u[1],s[2]-u[2])},a.div=function(u,s,c){return u[0]=s[0]/c[0],u[1]=s[1]/c[1],u[2]=s[2]/c[2],u},a.dot=Is,a.earthRadius=jm,a.ease=Y,a.easeCubicInOut=te,a.ecefToLatLng=function([u,s,c]){const h=Math.hypot(u,s,c),y=Math.atan2(u,c),w=.5*Math.PI-Math.acos(-s/h);return new ei(G(y),G(w))},a.emitValidationErrors=ty,a.endsWith=Ge,a.enforceCacheSizeLimit=function(u){Bt(),rn&&rn.then(s=>{s.keys().then(c=>{for(let h=0;h<c.length-u;h++)s.delete(c[h])})})},a.evaluateSizeForFeature=Ey,a.evaluateSizeForZoom=gp,a.evaluateVariableOffset=pM,a.evented=A,a.exactEquals=function(u,s){return u[0]===s[0]&&u[1]===s[1]&&u[2]===s[2]&&u[3]===s[3]},a.exactEquals$1=function(u,s){return u[0]===s[0]&&u[1]===s[1]&&u[2]===s[2]},a.exported=Ro,a.exported$1=_,a.extend=be,a.extend$1=rs,a.fillExtrusionHeightLift=O9,a.filterObject=Ee,a.fromMat4=function(u,s){return u[0]=s[0],u[1]=s[1],u[2]=s[2],u[3]=s[4],u[4]=s[5],u[5]=s[6],u[6]=s[8],u[7]=s[9],u[8]=s[10],u},a.fromQuat=function(u,s){var c=s[0],h=s[1],y=s[2],w=s[3],T=c+c,O=h+h,z=y+y,$=c*T,W=h*T,ne=h*O,oe=y*T,fe=y*O,me=y*z,Se=w*T,Oe=w*O,Ve=w*z;return u[0]=1-ne-me,u[1]=W+Ve,u[2]=oe-Oe,u[3]=0,u[4]=W-Ve,u[5]=1-$-me,u[6]=fe+Se,u[7]=0,u[8]=oe+Oe,u[9]=fe-Se,u[10]=1-$-ne,u[11]=0,u[12]=0,u[13]=0,u[14]=0,u[15]=1,u},a.fromRotation=function(u,s){var c=Math.sin(s),h=Math.cos(s);return u[0]=h,u[1]=c,u[2]=0,u[3]=-c,u[4]=h,u[5]=0,u[6]=0,u[7]=0,u[8]=1,u},a.fromScaling=RP,a.furthestTileCorner=function(u){const s=Math.round((u+45+360)%360/90)%4;return ae[s]},a.getAABBPointSquareDist=function(u,s,c){let h=0;for(let y=0;y<2;++y){const w=c?c[y]:0;u[y]>w&&(h+=(u[y]-w)*(u[y]-w)),s[y]<w&&(h+=(w-s[y])*(w-s[y]))}return h},a.getAnchorAlignment=E3,a.getAnchorJustification=k3,a.getBounds=function(u){let s=1/0,c=1/0,h=-1/0,y=-1/0;for(const w of u)s=Math.min(s,w.x),c=Math.min(c,w.y),h=Math.max(h,w.x),y=Math.max(y,w.y);return{min:new V(s,c),max:new V(h,y)}},a.getColumn=vt,a.getDefaultExportFromCjs=D,a.getGridMatrix=function(u,s,c,h){const y=s.getNorth(),w=s.getSouth(),T=s.getWest(),O=s.getEast(),z=1<<u.z,$=O-T,W=y-w,ne=$/yf,oe=-W/Bm[c],fe=[0,ne,0,oe,0,0,y,T,0];if(u.z>0){const me=180/h;DP(fe,fe,[me/$+1,0,0,0,me/W+1,0,-.5*me/ne,.5*me/oe,1])}return fe[2]=z,fe[5]=u.x,fe[8]=u.y,fe},a.getImage=De,a.getJSON=function(u,s){return Ft(be(u,{type:"json"}),s)},a.getLatitudinalLod=function(u){const s=Ua-5;u=X(u,-s,s)/s*90;const c=Math.pow(Math.abs(Math.sin(q(u))),3);return Math.round(c*(Bm.length-1))},a.getMapSessionAPI=hr,a.getPerformanceMeasurement=ci,a.getProjection=wM,a.getRTLTextPluginStatus=F,a.getReferrer=_t,a.getTilePoint=function(u,{x:s,y:c},h=0){return new V(((s-h)*u.scale-u.x)*Bn,(c*u.scale-u.y)*Bn)},a.getTileVec3=function(u,s,c=0){return lp(((s.x-c)*u.scale-u.x)*Bn,(s.y*u.scale-u.y)*Bn,n9(s.z,s.y))},a.getVideo=function(u,s){const c=f.document.createElement("video");c.muted=!0,c.onloadstart=function(){s(null,c)};for(let h=0;h<u.length;h++){const y=f.document.createElement("source");Zt(u[h])||(c.crossOrigin="Anonymous"),y.src=u[h],c.appendChild(y)}return{cancel:()=>{}}},a.globeCenterToScreenPoint=function(u){const s=[0,0,0],c=il(new Float64Array(16));return vf(c,u.pixelMatrix,u.globeMatrix),Vi(s,s,c),new V(s[0],s[1])},a.globeDenormalizeECEF=e3,a.globeECEFOrigin=function(u,s){const c=[0,0,0];return Vi(c,c,$m(Vl(s.canonical))),Vi(c,c,u),c},a.globeMetersToEcef=cy,a.globeNormalizeECEF=$m,a.globePixelsToTileUnits=function(u,s){return Bn/(512*Math.pow(2,u))*fy(Vl(s))},a.globePoleMatrixForTile=function(u,s,c){const h=il(new Float64Array(16)),y=(s/(1<<u)-.5)*Math.PI*2;return uy(h,c.globeMatrix,y),Float32Array.from(h)},a.globeTileBounds=Vl,a.globeTiltAtLngLat=JP,a.globeToMercatorTransition=dp,a.globeUseCustomAntiAliasing=function(u,s,c){const h=dp(c.zoom),y=u.style.map._antialias,w=!!s.extStandardDerivatives,T=s.extStandardDerivativesForceOff||u.terrain&&u.terrain.exaggeration()>0;return h===0&&!y&&!T&&w},a.identity=il,a.identity$1=VP,a.invert=Uw,a.isFullscreen=function(){return!!f.document.fullscreenElement||!!f.document.webkitFullscreenElement},a.isLngLatBehindGlobe=t3,a.isMapAuthenticated=function(u){return Yr.has(u)},a.isMapboxURL=Ke,a.isSafariWithAntialiasingBug=function(u){const s=u.navigator?u.navigator.userAgent:null;return!!Ze(u)&&s&&(s.match("Version/15.4")||s.match("Version/15.5")||s.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},a.latFromMercatorY=Va,a.latLngToECEF=cp,a.len=mW,a.length=Om,a.length$1=function(u){return Math.hypot(u[0],u[1],u[2],u[3])},a.lngFromMercatorX=cs,a.loadVectorTile=KM,a.makeRequest=Ft,a.mapValue=function(u,s,c,h,y){return X((u-s)/(c-s)*(y-h)+h,h,y)},a.mercatorScale=r9,a.mercatorXfromLng=Ul,a.mercatorYfromLat=Hl,a.mercatorZfromAltitude=ol,a.mul=pW,a.mul$1=vW,a.multiply=vf,a.multiply$1=DP,a.multiply$2=NP,a.nextPowerOfTwo=ye,a.normalize=so,a.normalize$1=gW,a.normalize$2=$P,a.number=Ar,a.ortho=function(u,s,c,h,y,w,T){var O=1/(s-c),z=1/(h-y),$=1/(w-T);return u[0]=-2*O,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=-2*z,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[10]=2*$,u[11]=0,u[12]=(s+c)*O,u[13]=(y+h)*z,u[14]=(T+w)*$,u[15]=1,u},a.pbf=V9,a.perspective=function(u,s,c,h,y){var w,T=1/Math.tan(s/2);return u[0]=T/c,u[1]=0,u[2]=0,u[3]=0,u[4]=0,u[5]=T,u[6]=0,u[7]=0,u[8]=0,u[9]=0,u[11]=-1,u[12]=0,u[13]=0,u[15]=0,y!=null&&y!==1/0?(u[10]=(y+h)*(w=1/(h-y)),u[14]=2*y*h*w):(u[10]=-1,u[14]=-2*h),u},a.pick=function(u,s){const c={};for(let h=0;h<s.length;h++){const y=s[h];y in u&&(c[y]=u[y])}return c},a.plugin=K,a.pointGeometry=j,a.polesInViewport=function(u){const s=il(new Float64Array(16));vf(s,u.pixelMatrix,u.globeMatrix);const c=[0,Os,0],h=[0,Ds,0];return Vi(c,c,s),Vi(h,h,s),[c[0]>0&&c[0]<=u.width&&c[1]>0&&c[1]<=u.height&&!t3(u,new ei(u.center.lat,90)),h[0]>0&&h[0]<=u.width&&h[1]>0&&h[1]<=u.height&&!t3(u,new ei(u.center.lat,-90))]},a.polygonContainsPoint=xf,a.polygonIntersectsBox=c9,a.polygonIntersectsPolygon=o9,a.polygonizeBounds=function(u,s,c=0,h=!0){const y=new V(c,c),w=u.sub(y),T=s.add(y),O=[w,new V(T.x,w.y),T,new V(w.x,T.y)];return h&&O.push(w.clone()),O},a.posAttributes=Nm,a.postMapLoadEvent=qn,a.postPerformanceEvent=ur,a.postTurnstileEvent=Nn,a.potpack=C3,a.prevPowerOfTwo=function(u){return u<=1?1:Math.pow(2,Math.floor(Math.log(u)/Math.LN2))},a.radToDeg=G,a.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],a.registerForPluginStateChange=function(u){return u({pluginStatus:x,pluginURL:d}),A.on("pluginStateChange",u),u},a.removeAuthState=function(u){Yr.delete(u)},a.renderColorRamp=c3,a.resample=i9,a.rotateX=Hw,a.rotateX$1=UP,a.rotateY=uy,a.rotateY$1=HP,a.rotateZ=function(u,s,c){var h=Math.sin(c),y=Math.cos(c),w=s[0],T=s[1],O=s[2],z=s[3],$=s[4],W=s[5],ne=s[6],oe=s[7];return s!==u&&(u[8]=s[8],u[9]=s[9],u[10]=s[10],u[11]=s[11],u[12]=s[12],u[13]=s[13],u[14]=s[14],u[15]=s[15]),u[0]=w*y+$*h,u[1]=T*y+W*h,u[2]=O*y+ne*h,u[3]=z*y+oe*h,u[4]=$*y-w*h,u[5]=W*y-T*h,u[6]=ne*y-O*h,u[7]=oe*y-z*h,u},a.rotateZ$1=function(u,s,c){c*=.5;var h=s[0],y=s[1],w=s[2],T=s[3],O=Math.sin(c),z=Math.cos(c);return u[0]=h*z+y*O,u[1]=y*z-h*O,u[2]=w*z+T*O,u[3]=T*z-w*O,u},a.scale=mf,a.scale$1=zP,a.scale$2=us,a.scaleAndAdd=Lm,a.set=function(u,s,c,h){return u[0]=s,u[1]=c,u[2]=h,u},a.setCacheLimits=function(u,s){Nt=u,tn=s},a.setColumn=function(u,s,c){u[4*s+0]=c[0],u[4*s+1]=c[1],u[4*s+2]=c[2],u[4*s+3]=c[3]},a.setRTLTextPlugin=function(u,s,c=!1){if(x===Em||x===Pm||x===Mm)throw new Error("setRTLTextPlugin cannot be called multiple times.");d=Ro.resolveURL(u),x=Em,Nc=s,C(),c||U()},a.smoothstep=ie,a.spec=zt,a.squaredLength=function(u){var s=u[0],c=u[1],h=u[2];return s*s+c*c+h*h},a.storeAuthState=function(u,s){s?Yr.add(u):Yr.delete(u)},a.sub=al,a.subtract=Ww,a.symbolSize=kG,a.tileAABB=function(u,s,c,h,y,w,T,O,z){if(z.name==="globe")return wW(u,s,new Sy(c,h,y));const $=Cf({z:c,x:h,y},z);return new lo([(w+$.x/$.scale)*s,s*($.y/$.scale),T],[(w+$.x2/$.scale)*s,s*($.y2/$.scale),O])},a.tileCornersToBounds=dy,a.tileTransform=Cf,a.transformMat3=function(u,s,c){var h=s[0],y=s[1],w=s[2];return u[0]=h*c[0]+y*c[3]+w*c[6],u[1]=h*c[1]+y*c[4]+w*c[7],u[2]=h*c[2]+y*c[5]+w*c[8],u},a.transformMat4=Vi,a.transformMat4$1=gf,a.transformQuat=BP,a.transitionTileAABBinECEF=YP,a.translate=Im,a.transpose=function(u,s){if(u===s){var c=s[1],h=s[2],y=s[5];u[1]=s[3],u[2]=s[6],u[3]=c,u[5]=s[7],u[6]=h,u[7]=y}else u[0]=s[0],u[1]=s[3],u[2]=s[6],u[3]=s[1],u[4]=s[4],u[5]=s[7],u[6]=s[2],u[7]=s[5],u[8]=s[8];return u},a.triggerPluginCompletionEvent=m,a.uniqueId=ge,a.updateGlobeVertexNormal=function(u,s,c,h,y){const w=5*s+2;u.float32[w+0]=c,u.float32[w+1]=h,u.float32[w+2]=y},a.validateCustomStyleLayer=function(u){const s=[],c=u.id;return c===void 0&&s.push({message:`layers.${c}: missing required property "id"`}),u.render===void 0&&s.push({message:`layers.${c}: missing required method "render"`}),u.renderingMode&&u.renderingMode!=="2d"&&u.renderingMode!=="3d"&&s.push({message:`layers.${c}: property "renderingMode" must be either "2d" or "3d"`}),s},a.validateFilter=u=>$o(cf(u)),a.validateFog=u=>$o(Q0(u)),a.validateLayer=u=>$o(q0(u)),a.validateLight=u=>$o(Z0(u)),a.validateSource=u=>$o(X0(u)),a.validateStyle=ey,a.validateTerrain=u=>$o(xm(u)),a.values=we,a.vectorTile=xy,a.version=p,a.warnOnce=We,a.window=f,a.wrap=he}),o(["./shared"],function(a){function f(Me){if(typeof Me=="number"||typeof Me=="boolean"||typeof Me=="string"||Me==null)return JSON.stringify(Me);if(Array.isArray(Me)){let _e="[";for(const De of Me)_e+=`${f(De)},`;return`${_e}]`}let de="{";for(const _e of Object.keys(Me).sort())de+=`${_e}:${f(Me[_e])},`;return`${de}}`}function p(Me){let de="";for(const _e of a.refProperties)de+=`/${f(Me[_e])}`;return de}class v{constructor(de){this.keyCache={},de&&this.replace(de)}replace(de){this._layerConfigs={},this._layers={},this.update(de,[])}update(de,_e){for(const $e of de)this._layerConfigs[$e.id]=$e,(this._layers[$e.id]=a.createStyleLayer($e)).compileFilter(),this.keyCache[$e.id]&&delete this.keyCache[$e.id];for(const $e of _e)delete this.keyCache[$e],delete this._layerConfigs[$e],delete this._layers[$e];this.familiesBySource={};const De=function($e,Ke){const et={};for(let Ye=0;Ye<$e.length;Ye++){const pt=Ke&&Ke[$e[Ye].id]||p($e[Ye]);Ke&&(Ke[$e[Ye].id]=pt);let kt=et[pt];kt||(kt=et[pt]=[]),kt.push($e[Ye])}const rt=[];for(const Ye in et)rt.push(et[Ye]);return rt}(a.values(this._layerConfigs),this.keyCache);for(const $e of De){const Ke=$e.map(Ht=>this._layers[Ht.id]),et=Ke[0];if(et.visibility==="none")continue;const rt=et.source||"";let Ye=this.familiesBySource[rt];Ye||(Ye=this.familiesBySource[rt]={});const pt=et.sourceLayer||"_geojsonTileLayer";let kt=Ye[pt];kt||(kt=Ye[pt]=[]),kt.push(Ke)}}}class g{loadTile(de,_e){const{uid:De,encoding:$e,rawImageData:Ke,padding:et,buildQuadTree:rt}=de,Ye=a.window.ImageBitmap&&Ke instanceof a.window.ImageBitmap?this.getImageData(Ke,et):Ke;_e(null,new a.DEMData(De,Ye,$e,et<1,rt))}getImageData(de,_e){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(de.width,de.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d",{willReadFrequently:!0})),this.offscreenCanvas.width=de.width,this.offscreenCanvas.height=de.height,this.offscreenCanvasContext.drawImage(de,0,0,de.width,de.height);const De=this.offscreenCanvasContext.getImageData(-_e,-_e,de.width+2*_e,de.height+2*_e);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),De}}function _(Me,de){if(Me.length!==0){b(Me[0],de);for(var _e=1;_e<Me.length;_e++)b(Me[_e],!de)}}function b(Me,de){for(var _e=0,De=0,$e=0,Ke=Me.length,et=Ke-1;$e<Ke;et=$e++){var rt=(Me[$e][0]-Me[et][0])*(Me[et][1]+Me[$e][1]),Ye=_e+rt;De+=Math.abs(_e)>=Math.abs(rt)?_e-Ye+rt:rt-Ye+_e,_e=Ye}_e+De>=0!=!!de&&Me.reverse()}var S=a.getDefaultExportFromCjs(function Me(de,_e){var De,$e=de&&de.type;if($e==="FeatureCollection")for(De=0;De<de.features.length;De++)Me(de.features[De],_e);else if($e==="GeometryCollection")for(De=0;De<de.geometries.length;De++)Me(de.geometries[De],_e);else if($e==="Feature")Me(de.geometry,_e);else if($e==="Polygon")_(de.coordinates,_e);else if($e==="MultiPolygon")for(De=0;De<de.coordinates.length;De++)_(de.coordinates[De],_e);return de});const E=a.VectorTileFeature.prototype.toGeoJSON;var P={exports:{}},k=a.pointGeometry,I=a.vectorTile.VectorTileFeature,D=L;function L(Me,de){this.options=de||{},this.features=Me,this.length=Me.length}function B(Me,de){this.id=typeof Me.id=="number"?Me.id:void 0,this.type=Me.type,this.rawGeometry=Me.type===1?[Me.geometry]:Me.geometry,this.properties=Me.tags,this.extent=de||4096}L.prototype.feature=function(Me){return new B(this.features[Me],this.options.extent)},B.prototype.loadGeometry=function(){var Me=this.rawGeometry;this.geometry=[];for(var de=0;de<Me.length;de++){for(var _e=Me[de],De=[],$e=0;$e<_e.length;$e++)De.push(new k(_e[$e][0],_e[$e][1]));this.geometry.push(De)}return this.geometry},B.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Me=this.geometry,de=1/0,_e=-1/0,De=1/0,$e=-1/0,Ke=0;Ke<Me.length;Ke++)for(var et=Me[Ke],rt=0;rt<et.length;rt++){var Ye=et[rt];de=Math.min(de,Ye.x),_e=Math.max(_e,Ye.x),De=Math.min(De,Ye.y),$e=Math.max($e,Ye.y)}return[de,De,_e,$e]},B.prototype.toGeoJSON=I.prototype.toGeoJSON;var N=a.pbf,j=D;function H(Me){var de=new N;return function(_e,De){for(var $e in _e.layers)De.writeMessage(3,V,_e.layers[$e])}(Me,de),de.finish()}function V(Me,de){var _e;de.writeVarintField(15,Me.version||1),de.writeStringField(1,Me.name||""),de.writeVarintField(5,Me.extent||4096);var De={keys:[],values:[],keycache:{},valuecache:{}};for(_e=0;_e<Me.length;_e++)De.feature=Me.feature(_e),de.writeMessage(2,Z,De);var $e=De.keys;for(_e=0;_e<$e.length;_e++)de.writeStringField(3,$e[_e]);var Ke=De.values;for(_e=0;_e<Ke.length;_e++)de.writeMessage(4,te,Ke[_e])}function Z(Me,de){var _e=Me.feature;_e.id!==void 0&&de.writeVarintField(1,_e.id),de.writeMessage(2,re,Me),de.writeVarintField(3,_e.type),de.writeMessage(4,ae,_e)}function re(Me,de){var _e=Me.feature,De=Me.keys,$e=Me.values,Ke=Me.keycache,et=Me.valuecache;for(var rt in _e.properties){var Ye=_e.properties[rt],pt=Ke[rt];if(Ye!==null){pt===void 0&&(De.push(rt),Ke[rt]=pt=De.length-1),de.writeVarint(pt);var kt=typeof Ye;kt!=="string"&&kt!=="boolean"&&kt!=="number"&&(Ye=JSON.stringify(Ye));var Ht=kt+":"+Ye,Ot=et[Ht];Ot===void 0&&($e.push(Ye),et[Ht]=Ot=$e.length-1),de.writeVarint(Ot)}}}function q(Me,de){return(de<<3)+(7&Me)}function G(Me){return Me<<1^Me>>31}function ae(Me,de){for(var _e=Me.loadGeometry(),De=Me.type,$e=0,Ke=0,et=_e.length,rt=0;rt<et;rt++){var Ye=_e[rt],pt=1;De===1&&(pt=Ye.length),de.writeVarint(q(1,pt));for(var kt=De===3?Ye.length-1:Ye.length,Ht=0;Ht<kt;Ht++){Ht===1&&De!==1&&de.writeVarint(q(2,kt-1));var Ot=Ye[Ht].x-$e,hn=Ye[Ht].y-Ke;de.writeVarint(G(Ot)),de.writeVarint(G(hn)),$e+=Ot,Ke+=hn}De===3&&de.writeVarint(q(7,1))}}function te(Me,de){var _e=typeof Me;_e==="string"?de.writeStringField(1,Me):_e==="boolean"?de.writeBooleanField(7,Me):_e==="number"&&(Me%1!=0?de.writeDoubleField(3,Me):Me<0?de.writeSVarintField(6,Me):de.writeVarintField(5,Me))}P.exports=H,P.exports.fromVectorTileJs=H,P.exports.fromGeojsonVt=function(Me,de){de=de||{};var _e={};for(var De in Me)_e[De]=new j(Me[De].features,de),_e[De].name=De,_e[De].version=de.version,_e[De].extent=de.extent;return H({layers:_e})},P.exports.GeoJSONWrapper=j;var Q=a.getDefaultExportFromCjs(P.exports);const Y={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Me=>Me},X=Math.fround||(ie=new Float32Array(1),Me=>(ie[0]=+Me,ie[0]));var ie;const he=3,ce=5,we=6;class be{constructor(de){this.options=Object.assign(Object.create(Y),de),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(de){const{log:_e,minZoom:De,maxZoom:$e}=this.options;_e&&console.time("total time");const Ke=`prepare ${de.length} points`;_e&&console.time(Ke),this.points=de;const et=[];for(let Ye=0;Ye<de.length;Ye++){const pt=de[Ye];if(!pt.geometry)continue;const[kt,Ht]=pt.geometry.coordinates,Ot=X(Pe(kt)),hn=X(ye(Ht));et.push(Ot,hn,1/0,Ye,-1,1),this.options.reduce&&et.push(0)}let rt=this.trees[$e+1]=this._createTree(et);_e&&console.timeEnd(Ke);for(let Ye=$e;Ye>=De;Ye--){const pt=+Date.now();rt=this.trees[Ye]=this._createTree(this._cluster(rt,Ye)),_e&&console.log("z%d: %d clusters in %dms",Ye,rt.numItems,+Date.now()-pt)}return _e&&console.timeEnd("total time"),this}getClusters(de,_e){let De=((de[0]+180)%360+360)%360-180;const $e=Math.max(-90,Math.min(90,de[1]));let Ke=de[2]===180?180:((de[2]+180)%360+360)%360-180;const et=Math.max(-90,Math.min(90,de[3]));if(de[2]-de[0]>=360)De=-180,Ke=180;else if(De>Ke){const Ht=this.getClusters([De,$e,180,et],_e),Ot=this.getClusters([-180,$e,Ke,et],_e);return Ht.concat(Ot)}const rt=this.trees[this._limitZoom(_e)],Ye=rt.range(Pe(De),ye(et),Pe(Ke),ye($e)),pt=rt.data,kt=[];for(const Ht of Ye){const Ot=this.stride*Ht;kt.push(pt[Ot+ce]>1?ve(pt,Ot,this.clusterProps):this.points[pt[Ot+he]])}return kt}getChildren(de){const _e=this._getOriginId(de),De=this._getOriginZoom(de),$e="No cluster with the specified id.",Ke=this.trees[De];if(!Ke)throw new Error($e);const et=Ke.data;if(_e*this.stride>=et.length)throw new Error($e);const rt=this.options.radius/(this.options.extent*Math.pow(2,De-1)),Ye=Ke.within(et[_e*this.stride],et[_e*this.stride+1],rt),pt=[];for(const kt of Ye){const Ht=kt*this.stride;et[Ht+4]===de&&pt.push(et[Ht+ce]>1?ve(et,Ht,this.clusterProps):this.points[et[Ht+he]])}if(pt.length===0)throw new Error($e);return pt}getLeaves(de,_e,De){const $e=[];return this._appendLeaves($e,de,_e=_e||10,De=De||0,0),$e}getTile(de,_e,De){const $e=this.trees[this._limitZoom(de)],Ke=Math.pow(2,de),{extent:et,radius:rt}=this.options,Ye=rt/et,pt=(De-Ye)/Ke,kt=(De+1+Ye)/Ke,Ht={features:[]};return this._addTileFeatures($e.range((_e-Ye)/Ke,pt,(_e+1+Ye)/Ke,kt),$e.data,_e,De,Ke,Ht),_e===0&&this._addTileFeatures($e.range(1-Ye/Ke,pt,1,kt),$e.data,Ke,De,Ke,Ht),_e===Ke-1&&this._addTileFeatures($e.range(0,pt,Ye/Ke,kt),$e.data,-1,De,Ke,Ht),Ht.features.length?Ht:null}getClusterExpansionZoom(de){let _e=this._getOriginZoom(de)-1;for(;_e<=this.options.maxZoom;){const De=this.getChildren(de);if(_e++,De.length!==1)break;de=De[0].properties.cluster_id}return _e}_appendLeaves(de,_e,De,$e,Ke){const et=this.getChildren(_e);for(const rt of et){const Ye=rt.properties;if(Ye&&Ye.cluster?Ke+Ye.point_count<=$e?Ke+=Ye.point_count:Ke=this._appendLeaves(de,Ye.cluster_id,De,$e,Ke):Ke<$e?Ke++:de.push(rt),de.length===De)break}return Ke}_createTree(de){const _e=new a.KDBush(de.length/this.stride|0,this.options.nodeSize,Float32Array);for(let De=0;De<de.length;De+=this.stride)_e.add(de[De],de[De+1]);return _e.finish(),_e.data=de,_e}_addTileFeatures(de,_e,De,$e,Ke,et){for(const rt of de){const Ye=rt*this.stride,pt=_e[Ye+ce]>1;let kt,Ht,Ot;if(pt)kt=ge(_e,Ye,this.clusterProps),Ht=_e[Ye],Ot=_e[Ye+1];else{const En=this.points[_e[Ye+he]];kt=En.properties;const[Cn,Nn]=En.geometry.coordinates;Ht=Pe(Cn),Ot=ye(Nn)}const hn={type:1,geometry:[[Math.round(this.options.extent*(Ht*Ke-De)),Math.round(this.options.extent*(Ot*Ke-$e))]],tags:kt};let pn;pn=pt||this.options.generateId?_e[Ye+he]:this.points[_e[Ye+he]].id,pn!==void 0&&(hn.id=pn),et.features.push(hn)}}_limitZoom(de){return Math.max(this.options.minZoom,Math.min(Math.floor(+de),this.options.maxZoom+1))}_cluster(de,_e){const{radius:De,extent:$e,reduce:Ke,minPoints:et}=this.options,rt=De/($e*Math.pow(2,_e)),Ye=de.data,pt=[],kt=this.stride;for(let Ht=0;Ht<Ye.length;Ht+=kt){if(Ye[Ht+2]<=_e)continue;Ye[Ht+2]=_e;const Ot=Ye[Ht],hn=Ye[Ht+1],pn=de.within(Ye[Ht],Ye[Ht+1],rt),En=Ye[Ht+ce];let Cn=En;for(const Nn of pn){const nr=Nn*kt;Ye[nr+2]>_e&&(Cn+=Ye[nr+ce])}if(Cn>En&&Cn>=et){let Nn,nr=Ot*En,qn=hn*En,rr=-1;const ur=((Ht/kt|0)<<5)+(_e+1)+this.points.length;for(const Si of pn){const hr=Si*kt;if(Ye[hr+2]<=_e)continue;Ye[hr+2]=_e;const Yr=Ye[hr+ce];nr+=Ye[hr]*Yr,qn+=Ye[hr+1]*Yr,Ye[hr+4]=ur,Ke&&(Nn||(Nn=this._map(Ye,Ht,!0),rr=this.clusterProps.length,this.clusterProps.push(Nn)),Ke(Nn,this._map(Ye,hr)))}Ye[Ht+4]=ur,pt.push(nr/Cn,qn/Cn,1/0,ur,-1,Cn),Ke&&pt.push(rr)}else{for(let Nn=0;Nn<kt;Nn++)pt.push(Ye[Ht+Nn]);if(Cn>1)for(const Nn of pn){const nr=Nn*kt;if(!(Ye[nr+2]<=_e)){Ye[nr+2]=_e;for(let qn=0;qn<kt;qn++)pt.push(Ye[nr+qn])}}}}return pt}_getOriginId(de){return de-this.points.length>>5}_getOriginZoom(de){return(de-this.points.length)%32}_map(de,_e,De){if(de[_e+ce]>1){const et=this.clusterProps[de[_e+we]];return De?Object.assign({},et):et}const $e=this.points[de[_e+he]].properties,Ke=this.options.map($e);return De&&Ke===$e?Object.assign({},Ke):Ke}}function ve(Me,de,_e){return{type:"Feature",id:Me[de+he],properties:ge(Me,de,_e),geometry:{type:"Point",coordinates:[(De=Me[de],360*(De-.5)),Ne(Me[de+1])]}};var De}function ge(Me,de,_e){const De=Me[de+ce],$e=De>=1e4?`${Math.round(De/1e3)}k`:De>=1e3?Math.round(De/100)/10+"k":De,Ke=Me[de+we],et=Ke===-1?{}:Object.assign({},_e[Ke]);return Object.assign(et,{cluster:!0,cluster_id:Me[de+he],point_count:De,point_count_abbreviated:$e})}function Pe(Me){return Me/360+.5}function ye(Me){const de=Math.sin(Me*Math.PI/180),_e=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return _e<0?0:_e>1?1:_e}function Ne(Me){const de=(180-360*Me)*Math.PI/180;return 360*Math.atan(Math.exp(de))/Math.PI-90}function Re(Me,de,_e,De){for(var $e,Ke=De,et=_e-de>>1,rt=_e-de,Ye=Me[de],pt=Me[de+1],kt=Me[_e],Ht=Me[_e+1],Ot=de+3;Ot<_e;Ot+=3){var hn=Ge(Me[Ot],Me[Ot+1],Ye,pt,kt,Ht);if(hn>Ke)$e=Ot,Ke=hn;else if(hn===Ke){var pn=Math.abs(Ot-et);pn<rt&&($e=Ot,rt=pn)}}Ke>De&&($e-de>3&&Re(Me,de,$e,De),Me[$e+2]=Ke,_e-$e>3&&Re(Me,$e,_e,De))}function Ge(Me,de,_e,De,$e,Ke){var et=$e-_e,rt=Ke-De;if(et!==0||rt!==0){var Ye=((Me-_e)*et+(de-De)*rt)/(et*et+rt*rt);Ye>1?(_e=$e,De=Ke):Ye>0&&(_e+=et*Ye,De+=rt*Ye)}return(et=Me-_e)*et+(rt=de-De)*rt}function He(Me,de,_e,De){var $e={id:Me===void 0?null:Me,type:de,geometry:_e,tags:De,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Ke){var et=Ke.geometry,rt=Ke.type;if(rt==="Point"||rt==="MultiPoint"||rt==="LineString")Ee(Ke,et);else if(rt==="Polygon"||rt==="MultiLineString")for(var Ye=0;Ye<et.length;Ye++)Ee(Ke,et[Ye]);else if(rt==="MultiPolygon")for(Ye=0;Ye<et.length;Ye++)for(var pt=0;pt<et[Ye].length;pt++)Ee(Ke,et[Ye][pt])}($e),$e}function Ee(Me,de){for(var _e=0;_e<de.length;_e+=3)Me.minX=Math.min(Me.minX,de[_e]),Me.minY=Math.min(Me.minY,de[_e+1]),Me.maxX=Math.max(Me.maxX,de[_e]),Me.maxY=Math.max(Me.maxY,de[_e+1])}function pe(Me,de,_e,De){if(de.geometry){var $e=de.geometry.coordinates,Ke=de.geometry.type,et=Math.pow(_e.tolerance/((1<<_e.maxZoom)*_e.extent),2),rt=[],Ye=de.id;if(_e.promoteId?Ye=de.properties[_e.promoteId]:_e.generateId&&(Ye=De||0),Ke==="Point")Ie($e,rt);else if(Ke==="MultiPoint")for(var pt=0;pt<$e.length;pt++)Ie($e[pt],rt);else if(Ke==="LineString")We($e,rt,et,!1);else if(Ke==="MultiLineString"){if(_e.lineMetrics){for(pt=0;pt<$e.length;pt++)We($e[pt],rt=[],et,!1),Me.push(He(Ye,"LineString",rt,de.properties));return}Qe($e,rt,et,!1)}else if(Ke==="Polygon")Qe($e,rt,et,!0);else{if(Ke!=="MultiPolygon"){if(Ke==="GeometryCollection"){for(pt=0;pt<de.geometry.geometries.length;pt++)pe(Me,{id:Ye,geometry:de.geometry.geometries[pt],properties:de.properties},_e,De);return}throw new Error("Input data is not a valid GeoJSON object.")}for(pt=0;pt<$e.length;pt++){var kt=[];Qe($e[pt],kt,et,!0),rt.push(kt)}}Me.push(He(Ye,Ke,rt,de.properties))}}function Ie(Me,de){de.push(at(Me[0])),de.push(xt(Me[1])),de.push(0)}function We(Me,de,_e,De){for(var $e,Ke,et=0,rt=0;rt<Me.length;rt++){var Ye=at(Me[rt][0]),pt=xt(Me[rt][1]);de.push(Ye),de.push(pt),de.push(0),rt>0&&(et+=De?($e*pt-Ye*Ke)/2:Math.sqrt(Math.pow(Ye-$e,2)+Math.pow(pt-Ke,2))),$e=Ye,Ke=pt}var kt=de.length-3;de[2]=1,Re(de,0,kt,_e),de[kt+2]=1,de.size=Math.abs(et),de.start=0,de.end=de.size}function Qe(Me,de,_e,De){for(var $e=0;$e<Me.length;$e++){var Ke=[];We(Me[$e],Ke,_e,De),de.push(Ke)}}function at(Me){return Me/360+.5}function xt(Me){var de=Math.sin(Me*Math.PI/180),_e=.5-.25*Math.log((1+de)/(1-de))/Math.PI;return _e<0?0:_e>1?1:_e}function ot(Me,de,_e,De,$e,Ke,et,rt){if(De/=de,Ke>=(_e/=de)&&et<De)return Me;if(et<_e||Ke>=De)return null;for(var Ye=[],pt=0;pt<Me.length;pt++){var kt=Me[pt],Ht=kt.geometry,Ot=kt.type,hn=$e===0?kt.minX:kt.minY,pn=$e===0?kt.maxX:kt.maxY;if(hn>=_e&&pn<De)Ye.push(kt);else if(!(pn<_e||hn>=De)){var En=[];if(Ot==="Point"||Ot==="MultiPoint")nt(Ht,En,_e,De,$e);else if(Ot==="LineString")Ze(Ht,En,_e,De,$e,!1,rt.lineMetrics);else if(Ot==="MultiLineString")vt(Ht,En,_e,De,$e,!1);else if(Ot==="Polygon")vt(Ht,En,_e,De,$e,!0);else if(Ot==="MultiPolygon")for(var Cn=0;Cn<Ht.length;Cn++){var Nn=[];vt(Ht[Cn],Nn,_e,De,$e,!0),Nn.length&&En.push(Nn)}if(En.length){if(rt.lineMetrics&&Ot==="LineString"){for(Cn=0;Cn<En.length;Cn++)Ye.push(He(kt.id,Ot,En[Cn],kt.tags));continue}Ot!=="LineString"&&Ot!=="MultiLineString"||(En.length===1?(Ot="LineString",En=En[0]):Ot="MultiLineString"),Ot!=="Point"&&Ot!=="MultiPoint"||(Ot=En.length===3?"Point":"MultiPoint"),Ye.push(He(kt.id,Ot,En,kt.tags))}}}return Ye.length?Ye:null}function nt(Me,de,_e,De,$e){for(var Ke=0;Ke<Me.length;Ke+=3){var et=Me[Ke+$e];et>=_e&&et<=De&&(de.push(Me[Ke]),de.push(Me[Ke+1]),de.push(Me[Ke+2]))}}function Ze(Me,de,_e,De,$e,Ke,et){for(var rt,Ye,pt=ht(Me),kt=$e===0?Nt:tn,Ht=Me.start,Ot=0;Ot<Me.length-3;Ot+=3){var hn=Me[Ot],pn=Me[Ot+1],En=Me[Ot+2],Cn=Me[Ot+3],Nn=Me[Ot+4],nr=$e===0?hn:pn,qn=$e===0?Cn:Nn,rr=!1;et&&(rt=Math.sqrt(Math.pow(hn-Cn,2)+Math.pow(pn-Nn,2))),nr<_e?qn>_e&&(Ye=kt(pt,hn,pn,Cn,Nn,_e),et&&(pt.start=Ht+rt*Ye)):nr>De?qn<De&&(Ye=kt(pt,hn,pn,Cn,Nn,De),et&&(pt.start=Ht+rt*Ye)):Ct(pt,hn,pn,En),qn<_e&&nr>=_e&&(Ye=kt(pt,hn,pn,Cn,Nn,_e),rr=!0),qn>De&&nr<=De&&(Ye=kt(pt,hn,pn,Cn,Nn,De),rr=!0),!Ke&&rr&&(et&&(pt.end=Ht+rt*Ye),de.push(pt),pt=ht(Me)),et&&(Ht+=rt)}var ur=Me.length-3;hn=Me[ur],pn=Me[ur+1],En=Me[ur+2],(nr=$e===0?hn:pn)>=_e&&nr<=De&&Ct(pt,hn,pn,En),ur=pt.length-3,Ke&&ur>=3&&(pt[ur]!==pt[0]||pt[ur+1]!==pt[1])&&Ct(pt,pt[0],pt[1],pt[2]),pt.length&&de.push(pt)}function ht(Me){var de=[];return de.size=Me.size,de.start=Me.start,de.end=Me.end,de}function vt(Me,de,_e,De,$e,Ke){for(var et=0;et<Me.length;et++)Ze(Me[et],de,_e,De,$e,Ke,!1)}function Ct(Me,de,_e,De){Me.push(de),Me.push(_e),Me.push(De)}function Nt(Me,de,_e,De,$e,Ke){var et=(Ke-de)/(De-de);return Me.push(Ke),Me.push(_e+($e-_e)*et),Me.push(1),et}function tn(Me,de,_e,De,$e,Ke){var et=(Ke-_e)/($e-_e);return Me.push(de+(De-de)*et),Me.push(Ke),Me.push(1),et}function rn(Me,de){for(var _e=[],De=0;De<Me.length;De++){var $e,Ke=Me[De],et=Ke.type;if(et==="Point"||et==="MultiPoint"||et==="LineString")$e=Pt(Ke.geometry,de);else if(et==="MultiLineString"||et==="Polygon"){$e=[];for(var rt=0;rt<Ke.geometry.length;rt++)$e.push(Pt(Ke.geometry[rt],de))}else if(et==="MultiPolygon")for($e=[],rt=0;rt<Ke.geometry.length;rt++){for(var Ye=[],pt=0;pt<Ke.geometry[rt].length;pt++)Ye.push(Pt(Ke.geometry[rt][pt],de));$e.push(Ye)}_e.push(He(Ke.id,et,$e,Ke.tags))}return _e}function Pt(Me,de){var _e=[];_e.size=Me.size,Me.start!==void 0&&(_e.start=Me.start,_e.end=Me.end);for(var De=0;De<Me.length;De+=3)_e.push(Me[De]+de,Me[De+1],Me[De+2]);return _e}function yt(Me,de){if(Me.transformed)return Me;var _e,De,$e,Ke=1<<Me.z,et=Me.x,rt=Me.y;for(_e=0;_e<Me.features.length;_e++){var Ye=Me.features[_e],pt=Ye.geometry,kt=Ye.type;if(Ye.geometry=[],kt===1)for(De=0;De<pt.length;De+=2)Ye.geometry.push(Bt(pt[De],pt[De+1],de,Ke,et,rt));else for(De=0;De<pt.length;De++){var Ht=[];for($e=0;$e<pt[De].length;$e+=2)Ht.push(Bt(pt[De][$e],pt[De][$e+1],de,Ke,et,rt));Ye.geometry.push(Ht)}}return Me.transformed=!0,Me}function Bt(Me,de,_e,De,$e,Ke){return[Math.round(_e*(Me*De-$e)),Math.round(_e*(de*De-Ke))]}function Ut(Me,de,_e,De,$e){for(var Ke=de===$e.maxZoom?0:$e.tolerance/((1<<de)*$e.extent),et={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:_e,y:De,z:de,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},rt=0;rt<Me.length;rt++){et.numFeatures++,St(et,Me[rt],Ke,$e);var Ye=Me[rt].minX,pt=Me[rt].minY,kt=Me[rt].maxX,Ht=Me[rt].maxY;Ye<et.minX&&(et.minX=Ye),pt<et.minY&&(et.minY=pt),kt>et.maxX&&(et.maxX=kt),Ht>et.maxY&&(et.maxY=Ht)}return et}function St(Me,de,_e,De){var $e=de.geometry,Ke=de.type,et=[];if(Ke==="Point"||Ke==="MultiPoint")for(var rt=0;rt<$e.length;rt+=3)et.push($e[rt]),et.push($e[rt+1]),Me.numPoints++,Me.numSimplified++;else if(Ke==="LineString")ft(et,$e,Me,_e,!1,!1);else if(Ke==="MultiLineString"||Ke==="Polygon")for(rt=0;rt<$e.length;rt++)ft(et,$e[rt],Me,_e,Ke==="Polygon",rt===0);else if(Ke==="MultiPolygon")for(var Ye=0;Ye<$e.length;Ye++){var pt=$e[Ye];for(rt=0;rt<pt.length;rt++)ft(et,pt[rt],Me,_e,!0,rt===0)}if(et.length){var kt=de.tags||null;if(Ke==="LineString"&&De.lineMetrics){for(var Ht in kt={},de.tags)kt[Ht]=de.tags[Ht];kt.mapbox_clip_start=$e.start/$e.size,kt.mapbox_clip_end=$e.end/$e.size}var Ot={geometry:et,type:Ke==="Polygon"||Ke==="MultiPolygon"?3:Ke==="LineString"||Ke==="MultiLineString"?2:1,tags:kt};de.id!==null&&(Ot.id=de.id),Me.features.push(Ot)}}function ft(Me,de,_e,De,$e,Ke){var et=De*De;if(De>0&&de.size<($e?et:De))_e.numPoints+=de.length/3;else{for(var rt=[],Ye=0;Ye<de.length;Ye+=3)(De===0||de[Ye+2]>et)&&(_e.numSimplified++,rt.push(de[Ye]),rt.push(de[Ye+1])),_e.numPoints++;$e&&function(pt,kt){for(var Ht=0,Ot=0,hn=pt.length,pn=hn-2;Ot<hn;pn=Ot,Ot+=2)Ht+=(pt[Ot]-pt[pn])*(pt[Ot+1]+pt[pn+1]);if(Ht>0===kt)for(Ot=0,hn=pt.length;Ot<hn/2;Ot+=2){var En=pt[Ot],Cn=pt[Ot+1];pt[Ot]=pt[hn-2-Ot],pt[Ot+1]=pt[hn-1-Ot],pt[hn-2-Ot]=En,pt[hn-1-Ot]=Cn}}(rt,Ke),Me.push(rt)}}function gt(Me,de){var _e=(de=this.options=function($e,Ke){for(var et in Ke)$e[et]=Ke[et];return $e}(Object.create(this.options),de)).debug;if(_e&&console.time("preprocess data"),de.maxZoom<0||de.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(de.promoteId&&de.generateId)throw new Error("promoteId and generateId cannot be used together.");var De=function($e,Ke){var et=[];if($e.type==="FeatureCollection")for(var rt=0;rt<$e.features.length;rt++)pe(et,$e.features[rt],Ke,rt);else pe(et,$e.type==="Feature"?$e:{geometry:$e},Ke);return et}(Me,de);this.tiles={},this.tileCoords=[],_e&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",de.indexMaxZoom,de.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),De=function($e,Ke){var et=Ke.buffer/Ke.extent,rt=$e,Ye=ot($e,1,-1-et,et,0,-1,2,Ke),pt=ot($e,1,1-et,2+et,0,-1,2,Ke);return(Ye||pt)&&(rt=ot($e,1,-et,1+et,0,-1,2,Ke)||[],Ye&&(rt=rn(Ye,1).concat(rt)),pt&&(rt=rt.concat(rn(pt,-1)))),rt}(De,de),De.length&&this.splitTile(De,0,0,0),_e&&(De.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function _t(Me,de,_e){return 32*((1<<Me)*_e+de)+Me}function Ft(Me,de){const _e=Me.tileID.canonical;if(!this._geoJSONIndex)return de(null,null);const De=this._geoJSONIndex.getTile(_e.z,_e.x,_e.y);if(!De)return de(null,null);const $e=new class{constructor(et){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=a.EXTENT,this.length=et.length,this._features=et}feature(et){return new class{constructor(rt){this._feature=rt,this.extent=a.EXTENT,this.type=rt.type,this.properties=rt.tags,"id"in rt&&!isNaN(rt.id)&&(this.id=parseInt(rt.id,10))}loadGeometry(){if(this._feature.type===1){const rt=[];for(const Ye of this._feature.geometry)rt.push([new a.Point(Ye[0],Ye[1])]);return rt}{const rt=[];for(const Ye of this._feature.geometry){const pt=[];for(const kt of Ye)pt.push(new a.Point(kt[0],kt[1]));rt.push(pt)}return rt}}toGeoJSON(rt,Ye,pt){return E.call(this,rt,Ye,pt)}}(this._features[et])}}(De.features);let Ke=Q($e);Ke.byteOffset===0&&Ke.byteLength===Ke.buffer.byteLength||(Ke=new Uint8Array(Ke)),de(null,{vectorTile:$e,rawData:Ke.buffer})}gt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},gt.prototype.splitTile=function(Me,de,_e,De,$e,Ke,et){for(var rt=[Me,de,_e,De],Ye=this.options,pt=Ye.debug;rt.length;){De=rt.pop(),_e=rt.pop(),de=rt.pop(),Me=rt.pop();var kt=1<<de,Ht=_t(de,_e,De),Ot=this.tiles[Ht];if(!Ot&&(pt>1&&console.time("creation"),Ot=this.tiles[Ht]=Ut(Me,de,_e,De,Ye),this.tileCoords.push({z:de,x:_e,y:De}),pt)){pt>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",de,_e,De,Ot.numFeatures,Ot.numPoints,Ot.numSimplified),console.timeEnd("creation"));var hn="z"+de;this.stats[hn]=(this.stats[hn]||0)+1,this.total++}if(Ot.source=Me,$e){if(de===Ye.maxZoom||de===$e)continue;var pn=1<<$e-de;if(_e!==Math.floor(Ke/pn)||De!==Math.floor(et/pn))continue}else if(de===Ye.indexMaxZoom||Ot.numPoints<=Ye.indexMaxPoints)continue;if(Ot.source=null,Me.length!==0){pt>1&&console.time("clipping");var En,Cn,Nn,nr,qn,rr,ur=.5*Ye.buffer/Ye.extent,Si=.5-ur,hr=.5+ur,Yr=1+ur;En=Cn=Nn=nr=null,qn=ot(Me,kt,_e-ur,_e+hr,0,Ot.minX,Ot.maxX,Ye),rr=ot(Me,kt,_e+Si,_e+Yr,0,Ot.minX,Ot.maxX,Ye),Me=null,qn&&(En=ot(qn,kt,De-ur,De+hr,1,Ot.minY,Ot.maxY,Ye),Cn=ot(qn,kt,De+Si,De+Yr,1,Ot.minY,Ot.maxY,Ye),qn=null),rr&&(Nn=ot(rr,kt,De-ur,De+hr,1,Ot.minY,Ot.maxY,Ye),nr=ot(rr,kt,De+Si,De+Yr,1,Ot.minY,Ot.maxY,Ye),rr=null),pt>1&&console.timeEnd("clipping"),rt.push(En||[],de+1,2*_e,2*De),rt.push(Cn||[],de+1,2*_e,2*De+1),rt.push(Nn||[],de+1,2*_e+1,2*De),rt.push(nr||[],de+1,2*_e+1,2*De+1)}}},gt.prototype.getTile=function(Me,de,_e){var De=this.options,$e=De.extent,Ke=De.debug;if(Me<0||Me>24)return null;var et=1<<Me,rt=_t(Me,de=(de%et+et)%et,_e);if(this.tiles[rt])return yt(this.tiles[rt],$e);Ke>1&&console.log("drilling down to z%d-%d-%d",Me,de,_e);for(var Ye,pt=Me,kt=de,Ht=_e;!Ye&&pt>0;)pt--,kt=Math.floor(kt/2),Ht=Math.floor(Ht/2),Ye=this.tiles[_t(pt,kt,Ht)];return Ye&&Ye.source?(Ke>1&&console.log("found parent tile z%d-%d-%d",pt,kt,Ht),Ke>1&&console.time("drilling down"),this.splitTile(Ye.source,pt,kt,Ht,Me,de,_e),Ke>1&&console.timeEnd("drilling down"),this.tiles[rt]?yt(this.tiles[rt],$e):null):null};class Gt extends a.VectorTileWorkerSource{constructor(de,_e,De,$e,Ke){super(de,_e,De,$e,Ft),Ke&&(this.loadGeoJSON=Ke)}loadData(de,_e){const De=de&&de.request,$e=De&&De.collectResourceTiming;this.loadGeoJSON(de,(Ke,et)=>{if(Ke||!et)return _e(Ke);if(typeof et!="object")return _e(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));{S(et,!0);try{if(de.filter){const Ye=a.createExpression(de.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Ye.result==="error")throw new Error(Ye.value.map(kt=>`${kt.key}: ${kt.message}`).join(", "));et={type:"FeatureCollection",features:et.features.filter(kt=>Ye.value.evaluate({zoom:0},kt))}}this._geoJSONIndex=de.cluster?new be(function({superclusterOptions:Ye,clusterProperties:pt}){if(!pt||!Ye)return Ye;const kt={},Ht={},Ot={accumulated:null,zoom:0},hn={properties:null},pn=Object.keys(pt);for(const En of pn){const[Cn,Nn]=pt[En],nr=a.createExpression(Nn),qn=a.createExpression(typeof Cn=="string"?[Cn,["accumulated"],["get",En]]:Cn);kt[En]=nr.value,Ht[En]=qn.value}return Ye.map=En=>{hn.properties=En;const Cn={};for(const Nn of pn)Cn[Nn]=kt[Nn].evaluate(Ot,hn);return Cn},Ye.reduce=(En,Cn)=>{hn.properties=Cn;for(const Nn of pn)Ot.accumulated=En[Nn],En[Nn]=Ht[Nn].evaluate(Ot,hn)},Ye}(de)).load(et.features):function(Ye,pt){return new gt(Ye,pt)}(et,de.geojsonVtOptions)}catch(Ye){return _e(Ye)}this.loaded={};const rt={};if($e){const Ye=a.getPerformanceMeasurement(De);Ye&&(rt.resourceTiming={},rt.resourceTiming[de.source]=JSON.parse(JSON.stringify(Ye)))}_e(null,rt)}})}reloadTile(de,_e){const De=this.loaded;return De&&De[de.uid]?super.reloadTile(de,_e):this.loadTile(de,_e)}loadGeoJSON(de,_e){if(de.request)a.getJSON(de.request,_e);else{if(typeof de.data!="string")return _e(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`));try{return _e(null,JSON.parse(de.data))}catch{return _e(new Error(`Input data given to '${de.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(de,_e){try{_e(null,this._geoJSONIndex.getClusterExpansionZoom(de.clusterId))}catch(De){_e(De)}}getClusterChildren(de,_e){try{_e(null,this._geoJSONIndex.getChildren(de.clusterId))}catch(De){_e(De)}}getClusterLeaves(de,_e){try{_e(null,this._geoJSONIndex.getLeaves(de.clusterId,de.limit,de.offset))}catch(De){_e(De)}}}class Zt{constructor(de){this.self=de,this.actor=new a.Actor(de,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=a.getProjection({name:"mercator"}),this.workerSourceTypes={vector:a.VectorTileWorkerSource,geojson:Gt},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(_e,De)=>{if(this.workerSourceTypes[_e])throw new Error(`Worker source with name "${_e}" already registered.`);this.workerSourceTypes[_e]=De},this.self.registerRTLTextPlugin=_e=>{if(a.plugin.isParsed())throw new Error("RTL text plugin already registered.");a.plugin.applyArabicShaping=_e.applyArabicShaping,a.plugin.processBidirectionalText=_e.processBidirectionalText,a.plugin.processStyledBidirectionalText=_e.processStyledBidirectionalText}}clearCaches(de,_e,De){delete this.layerIndexes[de],delete this.availableImages[de],delete this.workerSources[de],delete this.demWorkerSources[de],De()}checkIfReady(de,_e,De){De()}setReferrer(de,_e){this.referrer=_e}spriteLoaded(de,_e){this.isSpriteLoaded[de]=_e;for(const De in this.workerSources[de]){const $e=this.workerSources[de][De];for(const Ke in $e)$e[Ke]instanceof a.VectorTileWorkerSource&&($e[Ke].isSpriteLoaded=_e,$e[Ke].fire(new a.Event("isSpriteLoaded")))}}setImages(de,_e,De){this.availableImages[de]=_e;for(const $e in this.workerSources[de]){const Ke=this.workerSources[de][$e];for(const et in Ke)Ke[et].availableImages=_e}De()}enableTerrain(de,_e,De){this.terrain=_e,De()}setProjection(de,_e){this.projections[de]=a.getProjection(_e)}setLayers(de,_e,De){this.getLayerIndex(de).replace(_e),De()}updateLayers(de,_e,De){this.getLayerIndex(de).update(_e.layers,_e.removedIds),De()}loadTile(de,_e,De){const $e=this.enableTerrain?a.extend({enableTerrain:this.terrain},_e):_e;$e.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,_e.type,_e.source).loadTile($e,De)}loadDEMTile(de,_e,De){const $e=this.enableTerrain?a.extend({buildQuadTree:this.terrain},_e):_e;this.getDEMWorkerSource(de,_e.source).loadTile($e,De)}reloadTile(de,_e,De){const $e=this.enableTerrain?a.extend({enableTerrain:this.terrain},_e):_e;$e.projection=this.projections[de]||this.defaultProjection,this.getWorkerSource(de,_e.type,_e.source).reloadTile($e,De)}abortTile(de,_e,De){this.getWorkerSource(de,_e.type,_e.source).abortTile(_e,De)}removeTile(de,_e,De){this.getWorkerSource(de,_e.type,_e.source).removeTile(_e,De)}removeSource(de,_e,De){if(!this.workerSources[de]||!this.workerSources[de][_e.type]||!this.workerSources[de][_e.type][_e.source])return;const $e=this.workerSources[de][_e.type][_e.source];delete this.workerSources[de][_e.type][_e.source],$e.removeSource!==void 0?$e.removeSource(_e,De):De()}loadWorkerSource(de,_e,De){try{this.self.importScripts(_e.url),De()}catch($e){De($e.toString())}}syncRTLPluginState(de,_e,De){try{a.plugin.setState(_e);const $e=a.plugin.getPluginURL();if(a.plugin.isLoaded()&&!a.plugin.isParsed()&&$e!=null){this.self.importScripts($e);const Ke=a.plugin.isParsed();De(Ke?void 0:new Error(`RTL Text Plugin failed to import scripts from ${$e}`),Ke)}}catch($e){De($e.toString())}}getAvailableImages(de){let _e=this.availableImages[de];return _e||(_e=[]),_e}getLayerIndex(de){let _e=this.layerIndexes[de];return _e||(_e=this.layerIndexes[de]=new v),_e}getWorkerSource(de,_e,De){if(this.workerSources[de]||(this.workerSources[de]={}),this.workerSources[de][_e]||(this.workerSources[de][_e]={}),!this.workerSources[de][_e][De]){const $e={send:(Ke,et,rt,Ye,pt,kt)=>{this.actor.send(Ke,et,rt,de,pt,kt)},scheduler:this.actor.scheduler};this.workerSources[de][_e][De]=new this.workerSourceTypes[_e]($e,this.getLayerIndex(de),this.getAvailableImages(de),this.isSpriteLoaded[de])}return this.workerSources[de][_e][De]}getDEMWorkerSource(de,_e){return this.demWorkerSources[de]||(this.demWorkerSources[de]={}),this.demWorkerSources[de][_e]||(this.demWorkerSources[de][_e]=new g),this.demWorkerSources[de][_e]}enforceCacheSizeLimit(de,_e){a.enforceCacheSizeLimit(_e)}getWorkerPerformanceMetrics(de,_e,De){De(void 0,void 0)}}return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Zt(self)),Zt}),o(["./shared"],function(a){function f(x,d){if(Array.isArray(x)){if(!Array.isArray(d)||x.length!==d.length)return!1;for(let m=0;m<x.length;m++)if(!f(x[m],d[m]))return!1;return!0}if(typeof x=="object"&&x!==null&&d!==null){if(typeof d!="object"||Object.keys(x).length!==Object.keys(d).length)return!1;for(const m in x)if(!f(x[m],d[m]))return!1;return!0}return x===d}var p=v;function v(x){return!function(d){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var C,A,F=new Blob([""],{type:"text/javascript"}),U=URL.createObjectURL(F);try{A=new Worker(U),C=!0}catch{C=!1}return A&&A.terminate(),URL.revokeObjectURL(U),C}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var C=document.createElement("canvas");C.width=C.height=1;var A=C.getContext("2d");if(!A)return!1;var F=A.getImageData(0,0,1,1);return F&&F.width===C.width}()?(g[m=d&&d.failIfMajorPerformanceCaveat]===void 0&&(g[m]=function(C){var A,F=function(U){var K=document.createElement("canvas"),ee=Object.create(v.webGLContextAttributes);return ee.failIfMajorPerformanceCaveat=U,K.getContext("webgl",ee)||K.getContext("experimental-webgl",ee)}(C);if(!F)return!1;try{A=F.createShader(F.VERTEX_SHADER)}catch{return!1}return!(!A||F.isContextLost())&&(F.shaderSource(A,"void main() {}"),F.compileShader(A),F.getShaderParameter(A,F.COMPILE_STATUS)===!0)}(m)),g[m]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var m}(x)}var g={};function _(x,d,m){const C=a.window.document.createElement(x);return d!==void 0&&(C.className=d),m&&m.appendChild(C),C}function b(x,d,m){const C=a.window.document.createElementNS("http://www.w3.org/2000/svg",x);for(const A of Object.keys(d))C.setAttributeNS(null,A,d[A]);return m&&m.appendChild(C),C}v.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const S=a.window.document&&a.window.document.documentElement.style,E=S&&S.userSelect!==void 0?"userSelect":"WebkitUserSelect";let P;function k(){S&&E&&(P=S[E],S[E]="none")}function I(){S&&E&&(S[E]=P)}function D(x){x.preventDefault(),x.stopPropagation(),a.window.removeEventListener("click",D,!0)}function L(){a.window.addEventListener("click",D,!0),a.window.setTimeout(()=>{a.window.removeEventListener("click",D,!0)},0)}function B(x,d){const m=x.getBoundingClientRect();return H(x,m,d)}function N(x,d){const m=x.getBoundingClientRect(),C=[];for(let A=0;A<d.length;A++)C.push(H(x,m,d[A]));return C}function j(x){return a.window.InstallTrigger!==void 0&&x.button===2&&x.ctrlKey&&a.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:x.button}function H(x,d,m){const C=x.offsetWidth===d.width?1:x.offsetWidth/d.width;return new a.Point((m.clientX-d.left)*C,(m.clientY-d.top)*C)}function V(x,d){var m=d[0],C=d[1],A=d[2],F=d[3],U=m*F-A*C;return U?(x[0]=F*(U=1/U),x[1]=-C*U,x[2]=-A*U,x[3]=m*U,x):null}function Z(x){const{userImage:d}=x;return!!(d&&d.render&&d.render())&&(x.data.replace(new Uint8Array(d.data.buffer)),!0)}class re extends a.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new a.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(d){if(this.loaded!==d&&(this.loaded=d,d)){for(const{ids:m,callback:C}of this.requestors)this._notify(m,C);this.requestors=[]}}hasImage(d){return!!this.getImage(d)}getImage(d){return this.images[d]}addImage(d,m){this._validate(d,m)&&(this.images[d]=m)}_validate(d,m){let C=!0;return this._validateStretch(m.stretchX,m.data&&m.data.width)||(this.fire(new a.ErrorEvent(new Error(`Image "${d}" has invalid "stretchX" value`))),C=!1),this._validateStretch(m.stretchY,m.data&&m.data.height)||(this.fire(new a.ErrorEvent(new Error(`Image "${d}" has invalid "stretchY" value`))),C=!1),this._validateContent(m.content,m)||(this.fire(new a.ErrorEvent(new Error(`Image "${d}" has invalid "content" value`))),C=!1),C}_validateStretch(d,m){if(!d)return!0;let C=0;for(const A of d){if(A[0]<C||A[1]<A[0]||m<A[1])return!1;C=A[1]}return!0}_validateContent(d,m){return!(d&&(d.length!==4||d[0]<0||m.data.width<d[0]||d[1]<0||m.data.height<d[1]||d[2]<0||m.data.width<d[2]||d[3]<0||m.data.height<d[3]||d[2]<d[0]||d[3]<d[1]))}updateImage(d,m){m.version=this.images[d].version+1,this.images[d]=m,this.updatedImages[d]=!0}removeImage(d){const m=this.images[d];delete this.images[d],delete this.patterns[d],m.userImage&&m.userImage.onRemove&&m.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(d,m){let C=!0;if(!this.isLoaded())for(const A of d)this.images[A]||(C=!1);this.isLoaded()||C?this._notify(d,m):this.requestors.push({ids:d,callback:m})}_notify(d,m){const C={};for(const A of d){this.images[A]||this.fire(new a.Event("styleimagemissing",{id:A}));const F=this.images[A];F?C[A]={data:F.data.clone(),pixelRatio:F.pixelRatio,sdf:F.sdf,version:F.version,stretchX:F.stretchX,stretchY:F.stretchY,content:F.content,hasRenderCallback:!!(F.userImage&&F.userImage.render)}:a.warnOnce(`Image "${A}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}m(null,C)}getPixelSize(){const{width:d,height:m}=this.atlasImage;return{width:d,height:m}}getPattern(d){const m=this.patterns[d],C=this.getImage(d);if(!C)return null;if(m&&m.position.version===C.version)return m.position;if(m)m.position.version=C.version;else{const A={w:C.data.width+2,h:C.data.height+2,x:0,y:0},F=new a.ImagePosition(A,C);this.patterns[d]={bin:A,position:F}}return this._updatePatternAtlas(),this.patterns[d].position}bind(d){const m=d.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new a.Texture(d,this.atlasImage,m.RGBA),this.atlasTexture&&this.atlasTexture.bind(m.LINEAR,m.CLAMP_TO_EDGE)}_updatePatternAtlas(){const d=[];for(const F in this.patterns)d.push(this.patterns[F].bin);const{w:m,h:C}=a.potpack(d),A=this.atlasImage;A.resize({width:m||1,height:C||1});for(const F in this.patterns){const{bin:U}=this.patterns[F],K=U.x+1,ee=U.y+1,ue=this.images[F].data,se=ue.width,xe=ue.height;a.RGBAImage.copy(ue,A,{x:0,y:0},{x:K,y:ee},{width:se,height:xe}),a.RGBAImage.copy(ue,A,{x:0,y:xe-1},{x:K,y:ee-1},{width:se,height:1}),a.RGBAImage.copy(ue,A,{x:0,y:0},{x:K,y:ee+xe},{width:se,height:1}),a.RGBAImage.copy(ue,A,{x:se-1,y:0},{x:K-1,y:ee},{width:1,height:xe}),a.RGBAImage.copy(ue,A,{x:0,y:0},{x:K+se,y:ee},{width:1,height:xe})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(d){for(const m of d){if(this.callbackDispatchedThisFrame[m])continue;this.callbackDispatchedThisFrame[m]=!0;const C=this.images[m];Z(C)&&this.updateImage(m,C)}}}const q=new a.Properties({anchor:new a.DataConstantProperty(a.spec.light.anchor),position:new class{constructor(){this.specification=a.spec.light.position}possiblyEvaluate(x,d){return function([m,C,A]){const F=a.degToRad(C+90),U=a.degToRad(A);return{x:m*Math.cos(F)*Math.sin(U),y:m*Math.sin(F)*Math.sin(U),z:m*Math.cos(U),azimuthal:C,polar:A}}(x.expression.evaluate(d))}interpolate(x,d,m){return{x:a.number(x.x,d.x,m),y:a.number(x.y,d.y,m),z:a.number(x.z,d.z,m),azimuthal:a.number(x.azimuthal,d.azimuthal,m),polar:a.number(x.polar,d.polar,m)}}},color:new a.DataConstantProperty(a.spec.light.color),intensity:new a.DataConstantProperty(a.spec.light.intensity)});class G extends a.Evented{constructor(d){super(),this._transitionable=new a.Transitionable(q),this.setLight(d),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(d,m={}){if(!this._validate(a.validateLight,d,m))for(const C in d){const A=d[C];a.endsWith(C,"-transition")?this._transitionable.setTransition(C.slice(0,-11),A):this._transitionable.setValue(C,A)}}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,m,C){return(!C||C.validate!==!1)&&a.emitValidationErrors(this,d.call(a.validateStyle,a.extend({value:m,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}const ae=new a.Properties({source:new a.DataConstantProperty(a.spec.terrain.source),exaggeration:new a.DataConstantProperty(a.spec.terrain.exaggeration)});let te=class extends a.Evented{constructor(x,d){super(),this._transitionable=new a.Transitionable(ae),this.set(x),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=d}get(){return this._transitionable.serialize()}set(x){for(const d in x){const m=x[d];a.endsWith(d,"-transition")?this._transitionable.setTransition(d.slice(0,-11),m):this._transitionable.setValue(d,m)}}updateTransitions(x){this._transitioning=this._transitionable.transitioned(x,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(x){this.properties=this._transitioning.possiblyEvaluate(x)}};function Q(x,d,m,C){const A=a.smoothstep(45,65,m),[F,U]=Y(x,C),K=a.length(d);let ee=1-Math.min(1,Math.exp((K-F)/(U-F)*-6));return ee*=ee*ee,ee=Math.min(1,1.00747*ee),ee*A*x.alpha}function Y(x,d){const m=.5/Math.tan(.5*d);return[x.range[0]+m,x.range[1]+m]}const X=new a.Properties({range:new a.DataConstantProperty(a.spec.fog.range),color:new a.DataConstantProperty(a.spec.fog.color),"high-color":new a.DataConstantProperty(a.spec.fog["high-color"]),"space-color":new a.DataConstantProperty(a.spec.fog["space-color"]),"horizon-blend":new a.DataConstantProperty(a.spec.fog["horizon-blend"]),"star-intensity":new a.DataConstantProperty(a.spec.fog["star-intensity"])});class ie extends a.Evented{constructor(d,m){super(),this._transitionable=new a.Transitionable(X),this.set(d),this._transitioning=this._transitionable.untransitioned(),this._transform=m}get state(){const d=this._transform,m=d.projection.name==="globe",C=a.globeToMercatorTransition(d.zoom),A=this.properties.get("range"),F=[.5,3];return{range:m?[a.number(F[0],A[0],C),a.number(F[1],A[1],C)]:A,horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(d,m={}){if(!this._validate(a.validateFog,d,m)){for(const C of Object.keys(a.spec.fog))d&&d[C]===void 0&&(d[C]=a.spec.fog[C].default);for(const C in d){const A=d[C];a.endsWith(C,"-transition")?this._transitionable.setTransition(C.slice(0,-11),A):this._transitionable.setValue(C,A)}}}getOpacity(d){if(!this._transform.projection.supportsFog)return 0;const m=this.properties&&this.properties.get("color")||1;return(this._transform.projection.name==="globe"?1:a.smoothstep(45,65,d))*m.a}getOpacityAtLatLng(d,m){return this._transform.projection.supportsFog?function(C,A,F){const U=a.MercatorCoordinate.fromLngLat(A),K=F.elevation?F.elevation.getAtPointOrZero(U):0,ee=[U.x,U.y,K];return a.transformMat4(ee,ee,F.mercatorFogMatrix),Q(C,ee,F.pitch,F._fov)}(this.state,d,m):0}getFovAdjustedRange(d){return this._transform.projection.supportsFog?Y(this.state,d):[0,1]}updateTransitions(d){this._transitioning=this._transitionable.transitioned(d,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(d){this.properties=this._transitioning.possiblyEvaluate(d)}_validate(d,m,C){return(!C||C.validate!==!1)&&a.emitValidationErrors(this,d.call(a.validateStyle,a.extend({value:m,style:{glyphs:!0,sprite:!0},styleSpec:a.spec})))}}class he{constructor(d,m){this.workerPool=d,this.actors=[],this.currentActor=0,this.id=a.uniqueId();const C=this.workerPool.acquire(this.id);for(let A=0;A<C.length;A++){const F=new he.Actor(C[A],m,this.id);F.name=`Worker ${A}`,this.actors.push(F)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(d,m,C){a.asyncAll(this.actors,(A,F)=>{A.send(d,m,F)},C=C||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(d=>{d.remove()}),this.actors=[],this.workerPool.release(this.id)}}function ce(x,d,m){return d*(a.EXTENT/(x.tileSize*Math.pow(2,m-x.tileID.overscaledZ)))}he.Actor=a.Actor;class we{constructor(d,m,C,A){this.screenBounds=d,this.cameraPoint=m,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=C,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this._bufferedScreenMercator(0,A)}static createFromScreenPoints(d,m){let C,A;if(d instanceof a.Point||typeof d[0]=="number"){const F=a.Point.convert(d);C=[F],A=m.isPointAboveHorizon(F)}else{const F=a.Point.convert(d[0]),U=a.Point.convert(d[1]);C=[F,U],A=a.polygonizeBounds(F,U).every(K=>m.isPointAboveHorizon(K))}return new we(C,m.getCameraPoint(),A,m)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(d){return a.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],d)}bufferedCameraGeometry(d){const m=this.screenBounds[0],C=this.screenBounds.length===1?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],A=a.polygonizeBounds(m,C,0,!1);return this.cameraPoint.y>C.y&&(this.cameraPoint.x>m.x&&this.cameraPoint.x<C.x?A.splice(3,0,this.cameraPoint):this.cameraPoint.x>=C.x?A[2]=this.cameraPoint:this.cameraPoint.x<=m.x&&(A[3]=this.cameraPoint)),a.bufferConvexPolygon(A,d)}bufferedCameraGeometryGlobe(d){const m=this.screenBounds[0],C=this.screenBounds.length===1?this.screenBounds[0].add(new a.Point(1,1)):this.screenBounds[1],A=a.polygonizeBounds(m,C,d),F=this.cameraPoint.clone();switch(3*((F.y>m.y)+(F.y>C.y))+((F.x>m.x)+(F.x>C.x))){case 0:A[0]=F,A[4]=F.clone();break;case 1:A.splice(1,0,F);break;case 2:A[1]=F;break;case 3:A.splice(4,0,F);break;case 5:A.splice(2,0,F);break;case 6:A[3]=F;break;case 7:A.splice(3,0,F);break;case 8:A[2]=F}return A}containsTile(d,m,C,A=0){const F=d.queryPadding/m._pixelsPerMercatorPixel+1,U=C?this._bufferedCameraMercator(F,m):this._bufferedScreenMercator(F,m);let K=d.tileID.wrap+(U.unwrapped?A:0);const ee=U.polygon.map(je=>a.getTilePoint(d.tileTransform,je,K));if(!a.polygonIntersectsBox(ee,0,0,a.EXTENT,a.EXTENT))return;K=d.tileID.wrap+(this.screenGeometryMercator.unwrapped?A:0);const ue=this.screenGeometryMercator.polygon.map(je=>a.getTileVec3(d.tileTransform,je,K)),se=ue.map(je=>new a.Point(je[0],je[1])),xe=m.getFreeCameraOptions().position||new a.MercatorCoordinate(0,0,0),Ae=a.getTileVec3(d.tileTransform,xe,K),Fe=ue.map(je=>{const Ce=a.sub(je,je,Ae);return a.normalize(Ce,Ce),new a.Ray(Ae,Ce)}),ze=ce(d,1,m.zoom)*m._pixelsPerMercatorPixel;return{queryGeometry:this,tilespaceGeometry:se,tilespaceRays:Fe,bufferedTilespaceGeometry:ee,bufferedTilespaceBounds:(Be=a.getBounds(ee),Be.min.x=a.clamp(Be.min.x,0,a.EXTENT),Be.min.y=a.clamp(Be.min.y,0,a.EXTENT),Be.max.x=a.clamp(Be.max.x,0,a.EXTENT),Be.max.y=a.clamp(Be.max.y,0,a.EXTENT),Be),tile:d,tileID:d.tileID,pixelToTileUnitsFactor:ze};var Be}_bufferedScreenMercator(d,m){const C=ge(d);if(this._screenRaycastCache[C])return this._screenRaycastCache[C];{let A;return A=m.projection.name==="globe"?this._projectAndResample(this.bufferedScreenGeometry(d),m):{polygon:this.bufferedScreenGeometry(d).map(F=>m.pointCoordinate3D(F)),unwrapped:!0},this._screenRaycastCache[C]=A,A}}_bufferedCameraMercator(d,m){const C=ge(d);if(this._cameraRaycastCache[C])return this._cameraRaycastCache[C];{let A;return A=m.projection.name==="globe"?this._projectAndResample(this.bufferedCameraGeometryGlobe(d),m):{polygon:this.bufferedCameraGeometry(d).map(F=>m.pointCoordinate3D(F)),unwrapped:!0},this._cameraRaycastCache[C]=A,A}}_projectAndResample(d,m){const C=function(F,U){const K=a.multiply([],U.pixelMatrix,U.globeMatrix),ee=[0,-a.GLOBE_RADIUS,0,1],ue=[0,a.GLOBE_RADIUS,0,1],se=[0,0,0,1];a.transformMat4$1(ee,ee,K),a.transformMat4$1(ue,ue,K),a.transformMat4$1(se,se,K);const xe=new a.Point(ee[0]/ee[3],ee[1]/ee[3]),Ae=new a.Point(ue[0]/ue[3],ue[1]/ue[3]),Fe=a.polygonContainsPoint(F,xe)&&ee[3]<se[3],ze=a.polygonContainsPoint(F,Ae)&&ue[3]<se[3];if(!Fe&&!ze)return null;const Be=function(ct,wt,bt){for(let At=1;At<ct.length;At++){const an=ve(wt.pointCoordinate3D(ct[At-1]).x),Tt=ve(wt.pointCoordinate3D(ct[At]).x);if(bt<0){if(an<Tt)return{idx:At,t:-an/(Tt-1-an)}}else if(Tt<an)return{idx:At,t:(1-an)/(Tt+1-an)}}return null}(F,U,Fe?-1:1);if(!Be)return null;const{idx:je,t:Ce}=Be;let Le=je>1?be(F.slice(0,je),U):[],qe=je<F.length?be(F.slice(je),U):[];Le=Le.map(ct=>new a.Point(ve(ct.x),ct.y)),qe=qe.map(ct=>new a.Point(ve(ct.x),ct.y));const Xe=[...Le];Xe.length===0&&Xe.push(qe[qe.length-1]);const ut=a.number(Xe[Xe.length-1].y,(qe.length===0?Le[0]:qe[0]).y,Ce);let dt;return dt=Fe?[new a.Point(0,ut),new a.Point(0,0),new a.Point(1,0),new a.Point(1,ut)]:[new a.Point(1,ut),new a.Point(1,1),new a.Point(0,1),new a.Point(0,ut)],Xe.push(...dt),qe.length===0?Xe.push(Le[0]):Xe.push(...qe),{polygon:Xe.map(ct=>new a.MercatorCoordinate(ct.x,ct.y)),unwrapped:!1}}(d,m);if(C)return C;const A=function(F,U){let K=!1,ee=-1/0,ue=0;for(let xe=0;xe<F.length-1;xe++)F[xe].x>ee&&(ee=F[xe].x,ue=xe);for(let xe=0;xe<F.length-1;xe++){const Ae=(ue+xe)%(F.length-1),Fe=F[Ae],ze=F[Ae+1];Math.abs(Fe.x-ze.x)>.5&&(Fe.x<ze.x?(Fe.x+=1,Ae===0&&(F[F.length-1].x+=1)):(ze.x+=1,Ae+1===F.length-1&&(F[0].x+=1)),K=!0)}const se=a.mercatorXfromLng(U.center.lng);return K&&se<Math.abs(se-1)&&F.forEach(xe=>{xe.x-=1}),{polygon:F,unwrapped:K}}(be(d,m).map(F=>new a.Point(ve(F.x),F.y)),m);return{polygon:A.polygon.map(F=>new a.MercatorCoordinate(F.x,F.y)),unwrapped:A.unwrapped}}}function be(x,d){return a.resample(x,m=>{const C=d.pointCoordinate3D(m);m.x=C.x,m.y=C.y},1/256)}function ve(x){return x<0?1+x%1:x%1}function ge(x){return 100*x|0}function Pe(x,d,m,C,A){const F=function(U,K){if(U)return A(U);if(K){x.url&&K.tiles&&x.tiles&&delete x.tiles;const ee=a.pick(a.extend(K,x),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);K.vector_layers&&(ee.vectorLayers=K.vector_layers,ee.vectorLayerIds=ee.vectorLayers.map(ue=>ue.id)),ee.tiles=d.canonicalizeTileset(ee,x.url),A(null,ee)}};return x.url?a.getJSON(d.transformRequest(d.normalizeSourceURL(x.url,null,m,C),a.ResourceType.Source),F):a.exported.frame(()=>F(null,x))}class ye{constructor(d,m,C){this.bounds=a.LngLatBounds.convert(this.validateBounds(d)),this.minzoom=m||0,this.maxzoom=C||24}validateBounds(d){return Array.isArray(d)&&d.length===4?[Math.max(-180,d[0]),Math.max(-90,d[1]),Math.min(180,d[2]),Math.min(90,d[3])]:[-180,-90,180,90]}contains(d){const m=Math.pow(2,d.z),C=Math.floor(a.mercatorXfromLng(this.bounds.getWest())*m),A=Math.floor(a.mercatorYfromLat(this.bounds.getNorth())*m),F=Math.ceil(a.mercatorXfromLng(this.bounds.getEast())*m),U=Math.ceil(a.mercatorYfromLat(this.bounds.getSouth())*m);return d.x>=C&&d.x<F&&d.y>=A&&d.y<U}}class Ne{constructor(d,m,C){this.context=d;const A=d.gl;this.buffer=A.createBuffer(),this.dynamicDraw=!!C,this.context.unbindVAO(),d.bindElementBuffer.set(this.buffer),A.bufferData(A.ELEMENT_ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?A.DYNAMIC_DRAW:A.STATIC_DRAW),this.dynamicDraw||m.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(d){const m=this.context.gl;this.context.unbindVAO(),this.bind(),m.bufferSubData(m.ELEMENT_ARRAY_BUFFER,0,d.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const Re={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ge{constructor(d,m,C,A){this.length=m.length,this.attributes=C,this.itemSize=m.bytesPerElement,this.dynamicDraw=A,this.context=d;const F=d.gl;this.buffer=F.createBuffer(),d.bindVertexBuffer.set(this.buffer),F.bufferData(F.ARRAY_BUFFER,m.arrayBuffer,this.dynamicDraw?F.DYNAMIC_DRAW:F.STATIC_DRAW),this.dynamicDraw||m.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(d){const m=this.context.gl;this.bind(),m.bufferSubData(m.ARRAY_BUFFER,0,d.arrayBuffer)}enableAttributes(d,m){for(let C=0;C<this.attributes.length;C++){const A=m.attributes[this.attributes[C].name];A!==void 0&&d.enableVertexAttribArray(A)}}setVertexAttribPointers(d,m,C){for(let A=0;A<this.attributes.length;A++){const F=this.attributes[A],U=m.attributes[F.name];U!==void 0&&d.vertexAttribPointer(U,F.components,d[Re[F.type]],!1,this.itemSize,F.offset+this.itemSize*(C||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class He{constructor(d){this.gl=d.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(d){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Ee extends He{getDefault(){return a.Color.transparent}set(d){const m=this.current;(d.r!==m.r||d.g!==m.g||d.b!==m.b||d.a!==m.a||this.dirty)&&(this.gl.clearColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class pe extends He{getDefault(){return 1}set(d){(d!==this.current||this.dirty)&&(this.gl.clearDepth(d),this.current=d,this.dirty=!1)}}class Ie extends He{getDefault(){return 0}set(d){(d!==this.current||this.dirty)&&(this.gl.clearStencil(d),this.current=d,this.dirty=!1)}}class We extends He{getDefault(){return[!0,!0,!0,!0]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||d[3]!==m[3]||this.dirty)&&(this.gl.colorMask(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class Qe extends He{getDefault(){return!0}set(d){(d!==this.current||this.dirty)&&(this.gl.depthMask(d),this.current=d,this.dirty=!1)}}class at extends He{getDefault(){return 255}set(d){(d!==this.current||this.dirty)&&(this.gl.stencilMask(d),this.current=d,this.dirty=!1)}}class xt extends He{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(d){const m=this.current;(d.func!==m.func||d.ref!==m.ref||d.mask!==m.mask||this.dirty)&&(this.gl.stencilFunc(d.func,d.ref,d.mask),this.current=d,this.dirty=!1)}}class ot extends He{getDefault(){const d=this.gl;return[d.KEEP,d.KEEP,d.KEEP]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||this.dirty)&&(this.gl.stencilOp(d[0],d[1],d[2]),this.current=d,this.dirty=!1)}}class nt extends He{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.STENCIL_TEST):m.disable(m.STENCIL_TEST),this.current=d,this.dirty=!1}}class Ze extends He{getDefault(){return[0,1]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||this.dirty)&&(this.gl.depthRange(d[0],d[1]),this.current=d,this.dirty=!1)}}class ht extends He{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.DEPTH_TEST):m.disable(m.DEPTH_TEST),this.current=d,this.dirty=!1}}class vt extends He{getDefault(){return this.gl.LESS}set(d){(d!==this.current||this.dirty)&&(this.gl.depthFunc(d),this.current=d,this.dirty=!1)}}class Ct extends He{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.BLEND):m.disable(m.BLEND),this.current=d,this.dirty=!1}}class Nt extends He{getDefault(){const d=this.gl;return[d.ONE,d.ZERO]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||this.dirty)&&(this.gl.blendFunc(d[0],d[1]),this.current=d,this.dirty=!1)}}class tn extends He{getDefault(){return a.Color.transparent}set(d){const m=this.current;(d.r!==m.r||d.g!==m.g||d.b!==m.b||d.a!==m.a||this.dirty)&&(this.gl.blendColor(d.r,d.g,d.b,d.a),this.current=d,this.dirty=!1)}}class rn extends He{getDefault(){return this.gl.FUNC_ADD}set(d){(d!==this.current||this.dirty)&&(this.gl.blendEquation(d),this.current=d,this.dirty=!1)}}class Pt extends He{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;d?m.enable(m.CULL_FACE):m.disable(m.CULL_FACE),this.current=d,this.dirty=!1}}class yt extends He{getDefault(){return this.gl.BACK}set(d){(d!==this.current||this.dirty)&&(this.gl.cullFace(d),this.current=d,this.dirty=!1)}}class Bt extends He{getDefault(){return this.gl.CCW}set(d){(d!==this.current||this.dirty)&&(this.gl.frontFace(d),this.current=d,this.dirty=!1)}}let Ut,St=class extends He{getDefault(){return null}set(x){(x!==this.current||this.dirty)&&(this.gl.useProgram(x),this.current=x,this.dirty=!1)}};class ft extends He{getDefault(){return this.gl.TEXTURE0}set(d){(d!==this.current||this.dirty)&&(this.gl.activeTexture(d),this.current=d,this.dirty=!1)}}class gt extends He{getDefault(){const d=this.gl;return[0,0,d.drawingBufferWidth,d.drawingBufferHeight]}set(d){const m=this.current;(d[0]!==m[0]||d[1]!==m[1]||d[2]!==m[2]||d[3]!==m[3]||this.dirty)&&(this.gl.viewport(d[0],d[1],d[2],d[3]),this.current=d,this.dirty=!1)}}class _t extends He{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindFramebuffer(m.FRAMEBUFFER,d),this.current=d,this.dirty=!1}}class Ft extends He{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindRenderbuffer(m.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class Gt extends He{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindTexture(m.TEXTURE_2D,d),this.current=d,this.dirty=!1}}class Zt extends He{getDefault(){return null}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.bindBuffer(m.ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class Me extends He{getDefault(){return null}set(d){const m=this.gl;m.bindBuffer(m.ELEMENT_ARRAY_BUFFER,d),this.current=d,this.dirty=!1}}class de extends He{constructor(d){super(d),this.vao=d.extVertexArrayObject}getDefault(){return null}set(d){this.vao&&(d!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(d),this.current=d,this.dirty=!1)}}class _e extends He{getDefault(){return 4}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_ALIGNMENT,d),this.current=d,this.dirty=!1}}class De extends He{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_PREMULTIPLY_ALPHA_WEBGL,d),this.current=d,this.dirty=!1}}class $e extends He{getDefault(){return!1}set(d){if(d===this.current&&!this.dirty)return;const m=this.gl;m.pixelStorei(m.UNPACK_FLIP_Y_WEBGL,d),this.current=d,this.dirty=!1}}class Ke extends He{constructor(d,m){super(d),this.context=d,this.parent=m}getDefault(){return null}}class et extends Ke{setDirty(){this.dirty=!0}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,d,0),this.current=d,this.dirty=!1}}class rt extends Ke{attachment(){return this.gl.DEPTH_ATTACHMENT}set(d){if(d===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const m=this.gl;m.framebufferRenderbuffer(m.FRAMEBUFFER,this.attachment(),m.RENDERBUFFER,d),this.current=d,this.dirty=!1}}class Ye extends rt{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class pt{constructor(d,m,C,A){this.context=d,this.width=m,this.height=C;const F=this.framebuffer=d.gl.createFramebuffer();this.colorAttachment=new et(d,F),A&&(this.depthAttachment=new rt(d,F))}destroy(){const d=this.context.gl,m=this.colorAttachment.get();if(m&&d.deleteTexture(m),this.depthAttachment){const C=this.depthAttachment.get();C&&d.deleteRenderbuffer(C)}d.deleteFramebuffer(this.framebuffer)}}class kt{constructor(d,m=!1){if(this.gl=d,this.isWebGL2=m,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),m){const C=d;this.extVertexArrayObject={createVertexArrayOES:C.createVertexArray.bind(d),deleteVertexArrayOES:C.deleteVertexArray.bind(d),bindVertexArrayOES:C.bindVertexArray.bind(d)}}this.clearColor=new Ee(this),this.clearDepth=new pe(this),this.clearStencil=new Ie(this),this.colorMask=new We(this),this.depthMask=new Qe(this),this.stencilMask=new at(this),this.stencilFunc=new xt(this),this.stencilOp=new ot(this),this.stencilTest=new nt(this),this.depthRange=new Ze(this),this.depthTest=new ht(this),this.depthFunc=new vt(this),this.blend=new Ct(this),this.blendFunc=new Nt(this),this.blendColor=new tn(this),this.blendEquation=new rn(this),this.cullFace=new Pt(this),this.cullFaceSide=new yt(this),this.frontFace=new Bt(this),this.program=new St(this),this.activeTexture=new ft(this),this.viewport=new gt(this),this.bindFramebuffer=new _t(this),this.bindRenderbuffer=new Ft(this),this.bindTexture=new Gt(this),this.bindVertexBuffer=new Zt(this),this.bindElementBuffer=new Me(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new de(this),this.pixelStoreUnpack=new _e(this),this.pixelStoreUnpackPremultiplyAlpha=new De(this),this.pixelStoreUnpackFlipY=new $e(this),this.extTextureFilterAnisotropic=d.getExtension("EXT_texture_filter_anisotropic")||d.getExtension("MOZ_EXT_texture_filter_anisotropic")||d.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=d.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extStandardDerivativesForceOff=!1,this.extDebugRendererInfo=d.getExtension("WEBGL_debug_renderer_info"),this.extDebugRendererInfo&&(this.renderer=d.getParameter(this.extDebugRendererInfo.UNMASKED_RENDERER_WEBGL),this.vendor=d.getParameter(this.extDebugRendererInfo.UNMASKED_VENDOR_WEBGL)),m||(this.extTextureHalfFloat=d.getExtension("OES_texture_half_float")),(m||this.extTextureHalfFloat&&d.getExtension("OES_texture_half_float_linear"))&&(this.extRenderToTextureHalfFloat=d.getExtension("EXT_color_buffer_half_float")),this.extStandardDerivatives=m||d.getExtension("OES_standard_derivatives"),this.extTimerQuery=d.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=d.getParameter(d.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(d,m){return new Ne(this,d,m)}createVertexBuffer(d,m,C){return new Ge(this,d,m,C)}createRenderbuffer(d,m,C){const A=this.gl,F=A.createRenderbuffer();return this.bindRenderbuffer.set(F),A.renderbufferStorage(A.RENDERBUFFER,d,m,C),this.bindRenderbuffer.set(null),F}createFramebuffer(d,m,C){return new pt(this,d,m,C)}clear({color:d,depth:m,stencil:C}){const A=this.gl;let F=0;d&&(F|=A.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set([!0,!0,!0,!0])),m!==void 0&&(F|=A.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(m),this.depthMask.set(!0)),C!==void 0&&(F|=A.STENCIL_BUFFER_BIT,this.clearStencil.set(C),this.stencilMask.set(255)),A.clear(F)}setCullFace(d){d.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(d.mode),this.frontFace.set(d.frontFace))}setDepthMode(d){d.func!==this.gl.ALWAYS||d.mask?(this.depthTest.set(!0),this.depthFunc.set(d.func),this.depthMask.set(d.mask),this.depthRange.set(d.range)):this.depthTest.set(!1)}setStencilMode(d){d.test.func!==this.gl.ALWAYS||d.mask?(this.stencilTest.set(!0),this.stencilMask.set(d.mask),this.stencilOp.set([d.fail,d.depthFail,d.pass]),this.stencilFunc.set({func:d.test.func,ref:d.ref,mask:d.test.mask})):this.stencilTest.set(!1)}setColorMode(d){f(d.blendFunction,a.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(d.blendFunction),this.blendColor.set(d.blendColor)),this.colorMask.set(d.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class Ht extends a.Evented{constructor(d,m,C,A){if(super(),this.id=d,this.dispatcher=C,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,a.extend(this,a.pick(m,["url","scheme","tileSize","promoteId"])),this._options=a.extend({type:"vector"},m),this._collectResourceTiming=m.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(A),this._tileWorkers={},this._deduped=new a.DedupedRequest}load(d){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"}));const m=Array.isArray(this.map._language)?this.map._language.join():this.map._language,C=this.map._worldview;this._tileJSONRequest=Pe(this._options,this.map._requestManager,m,C,(A,F)=>{this._tileJSONRequest=null,this._loaded=!0,A?(m&&console.warn(`Ensure that your requested language string is a valid BCP-47 code or list of codes. Found: ${m}`),C&&C.length!==2&&console.warn(`Requested worldview strings must be a valid ISO alpha-2 code. Found: ${C}`),this.fire(new a.ErrorEvent(A))):F&&(a.extend(this,F),F.bounds&&(this.tileBounds=new ye(F.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(F.tiles,this.map._requestManager._customAccessToken),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),d&&d(A)})}loaded(){return this._loaded}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}loadTile(d,m){const C=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme)),A={request:this.map._requestManager.transformRequest(C,a.ResourceType.Tile),data:void 0,uid:d.uid,tileID:d.tileID,tileZoom:d.tileZoom,zoom:d.tileID.overscaledZ,tileSize:this.tileSize*d.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:d.isSymbolTile};if(A.request.collectResourceTiming=this._collectResourceTiming,d.actor&&d.state!=="expired")d.state==="loading"?d.reloadCallback=m:d.request=d.actor.send("reloadTile",A,F.bind(this));else if(d.actor=this._tileWorkers[C]=this._tileWorkers[C]||this.dispatcher.getActor(),this.dispatcher.ready)d.request=d.actor.send("loadTile",A,F.bind(this),void 0,!0);else{const U=a.loadVectorTile.call({deduped:this._deduped},A,(K,ee)=>{K||!ee?F.call(this,K):(A.data={cacheControl:ee.cacheControl,expires:ee.expires,rawData:ee.rawData.slice(0)},d.actor&&d.actor.send("loadTile",A,F.bind(this),void 0,!0))},!0);d.request={cancel:U}}function F(U,K){return delete d.request,d.aborted?m(null):U&&U.status!==404?m(U):(K&&K.resourceTiming&&(d.resourceTiming=K.resourceTiming),this.map._refreshExpiredTiles&&K&&d.setExpiryData(K),d.loadVectorData(K,this.map.painter),a.cacheEntryPossiblyAdded(this.dispatcher),m(null),void(d.reloadCallback&&(this.loadTile(d,d.reloadCallback),d.reloadCallback=null)))}}abortTile(d){d.request&&(d.request.cancel(),delete d.request),d.actor&&d.actor.send("abortTile",{uid:d.uid,type:this.type,source:this.id})}unloadTile(d){d.unloadVectorData(),d.actor&&d.actor.send("removeTile",{uid:d.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}class Ot extends a.Evented{constructor(d,m,C,A){super(),this.id=d,this.dispatcher=C,this.setEventedParent(A),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=a.extend({type:"raster"},m),a.extend(this,a.pick(m,["url","scheme","tileSize"]))}load(d){this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Pe(this._options,this.map._requestManager,null,null,(m,C)=>{this._tileJSONRequest=null,this._loaded=!0,m?this.fire(new a.ErrorEvent(m)):C&&(a.extend(this,C),C.bounds&&(this.tileBounds=new ye(C.bounds,this.minzoom,this.maxzoom)),a.postTurnstileEvent(C.tiles),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))),d&&d(m)})}loaded(){return this._loaded}onAdd(d){this.map=d,this.load()}reload(){this.cancelTileJSONRequest(),this.load(()=>this.map.style._clearSource(this.id))}setTiles(d){return this._options.tiles=d,this.reload(),this}setUrl(d){return this.url=d,this._options.url=d,this.reload(),this}onRemove(){this.cancelTileJSONRequest()}serialize(){return a.extend({},this._options)}hasTile(d){return!this.tileBounds||this.tileBounds.contains(d.canonical)}loadTile(d,m){const C=a.exported.devicePixelRatio>=2,A=this.map._requestManager.normalizeTileURL(d.tileID.canonical.url(this.tiles,this.scheme),C,this.tileSize);d.request=a.getImage(this.map._requestManager.transformRequest(A,a.ResourceType.Tile),(F,U,K,ee)=>(delete d.request,d.aborted?(d.state="unloaded",m(null)):F?(d.state="errored",m(F)):U?(this.map._refreshExpiredTiles&&d.setExpiryData({cacheControl:K,expires:ee}),d.setTexture(U,this.map.painter),d.state="loaded",a.cacheEntryPossiblyAdded(this.dispatcher),void m(null)):m(null)))}static loadTileData(d,m,C){d.setTexture(m,C)}static unloadTileData(d,m){d.texture&&m.saveTileTexture(d.texture)}abortTile(d,m){d.request&&(d.request.cancel(),delete d.request),m()}unloadTile(d,m){d.texture&&this.map.painter.saveTileTexture(d.texture),m()}hasTransition(){return!1}cancelTileJSONRequest(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}}function hn(x,d,m,C,A,F,U,K){const ee=[x,m,A,d,C,F,1,1,1],ue=[U,K,1],se=a.adjoint([],ee),[xe,Ae,Fe]=a.transformMat3(ue,ue,a.transpose(se,se));return a.multiply$1(ee,[xe,0,0,0,Ae,0,0,0,Fe],ee)}class pn extends a.Evented{constructor(d,m,C,A){super(),this.id=d,this.dispatcher=C,this.coordinates=m.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(A),this.options=m,this._dirty=!1}load(d,m){this._loaded=m||!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this.url=this.options.url,this._imageRequest=a.getImage(this.map._requestManager.transformRequest(this.url,a.ResourceType.Image),(C,A)=>{if(this._imageRequest=null,this._loaded=!0,C)this.fire(new a.ErrorEvent(C));else if(A){const{HTMLImageElement:F}=a.window;this.image=A instanceof F?a.exported.getImageData(A):A,this._dirty=!0,this.width=this.image.width,this.height=this.image.height,d&&(this.coordinates=d),this._finishLoading()}})}loaded(){return this._loaded}updateImage(d){return this.image&&d.url?(this._imageRequest&&d.url!==this.options.url&&(this._imageRequest.cancel(),this._imageRequest=null),this.options.url=d.url,this.load(d.coordinates,this._loaded),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(d){this.map=d,this.load()}onRemove(){this._imageRequest&&(this._imageRequest.cancel(),this._imageRequest=null),this.texture&&this.texture.destroy()}setCoordinates(d){this.coordinates=d,this._boundsArray=void 0;const m=d.map(a.MercatorCoordinate.fromLngLat);return this.tileID=function(C){let A=1/0,F=1/0,U=-1/0,K=-1/0;for(const xe of C)A=Math.min(A,xe.x),F=Math.min(F,xe.y),U=Math.max(U,xe.x),K=Math.max(K,xe.y);const ee=Math.max(U-A,K-F),ue=Math.max(0,Math.floor(-Math.log(ee)/Math.LN2)),se=Math.pow(2,ue);return new a.CanonicalTileID(ue,Math.floor((A+U)/2*se),Math.floor((F+K)/2*se))}(m),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(d){for(const ee in this.tiles){const ue=this.tiles[ee];ue.state!=="loaded"&&(ue.state="loaded",ue.texture=this.texture)}if(this._boundsArray)return;const m=a.tileTransform(this.tileID,this.map.transform.projection),[C,A,F,U]=this.coordinates.map(ee=>{const ue=m.projection.project(ee[0],ee[1]);return a.getTilePoint(m,ue)._round()});this.perspectiveTransform=function(ee,ue,se,xe,Ae,Fe,ze,Be,je,Ce){const Le=hn(0,0,ee,0,0,ue,ee,ue),qe=hn(se,xe,Ae,Fe,ze,Be,je,Ce);return a.multiply$1(qe,a.adjoint(Le,Le),qe),[qe[6]/qe[8]*ee/a.EXTENT,qe[7]/qe[8]*ue/a.EXTENT]}(this.width,this.height,C.x,C.y,A.x,A.y,U.x,U.y,F.x,F.y);const K=this._boundsArray=new a.StructArrayLayout4i8;K.emplaceBack(C.x,C.y,0,0),K.emplaceBack(A.x,A.y,a.EXTENT,0),K.emplaceBack(U.x,U.y,0,a.EXTENT),K.emplaceBack(F.x,F.y,a.EXTENT,a.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=d.createVertexBuffer(K,a.boundsAttributes.members),this.boundsSegments=a.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const d=this.map.painter.context,m=d.gl;this._dirty&&(this.texture?this.texture.update(this.image):(this.texture=new a.Texture(d,this.image,m.RGBA),this.texture.bind(m.LINEAR,m.CLAMP_TO_EDGE)),this._dirty=!1),this._prepareData(d)}loadTile(d,m){this.tileID&&this.tileID.equals(d.tileID.canonical)?(this.tiles[String(d.tileID.wrap)]=d,d.buckets={},m(null)):(d.state="errored",m(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const En={vector:Ht,raster:Ot,"raster-dem":class extends Ot{constructor(x,d,m,C){super(x,d,m,C),this.type="raster-dem",this.maxzoom=22,this._options=a.extend({type:"raster-dem"},d),this.encoding=d.encoding||"mapbox"}loadTile(x,d){const m=this.map._requestManager.normalizeTileURL(x.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function C(A,F){A&&(x.state="errored",d(A)),F&&(x.dem=F,x.dem.onDeserialize(),x.needsHillshadePrepare=!0,x.needsDEMTextureUpload=!0,x.state="loaded",d(null))}x.request=a.getImage(this.map._requestManager.transformRequest(m,a.ResourceType.Tile),function(A,F,U,K){if(delete x.request,x.aborted)x.state="unloaded",d(null);else if(A)x.state="errored",d(A);else if(F){this.map._refreshExpiredTiles&&x.setExpiryData({cacheControl:U,expires:K});const ee=a.window.ImageBitmap&&F instanceof a.window.ImageBitmap&&(Ut==null&&(Ut=a.window.OffscreenCanvas&&new a.window.OffscreenCanvas(1,1).getContext("2d")&&typeof a.window.createImageBitmap=="function"),Ut),ue=1-(F.width-a.prevPowerOfTwo(F.width))/2;ue<1||x.neighboringTiles||(x.neighboringTiles=this._getNeighboringTiles(x.tileID));const se=ee?F:a.exported.getImageData(F,ue),xe={uid:x.uid,coord:x.tileID,source:this.id,rawImageData:se,encoding:this.encoding,padding:ue};x.actor&&x.state!=="expired"||(x.actor=this.dispatcher.getActor(),x.actor.send("loadDEMTile",xe,C.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(x){const d=x.canonical,m=Math.pow(2,d.z),C=(d.x-1+m)%m,A=d.x===0?x.wrap-1:x.wrap,F=(d.x+1+m)%m,U=d.x+1===m?x.wrap+1:x.wrap,K={};return K[new a.OverscaledTileID(x.overscaledZ,A,d.z,C,d.y).key]={backfilled:!1},K[new a.OverscaledTileID(x.overscaledZ,U,d.z,F,d.y).key]={backfilled:!1},d.y>0&&(K[new a.OverscaledTileID(x.overscaledZ,A,d.z,C,d.y-1).key]={backfilled:!1},K[new a.OverscaledTileID(x.overscaledZ,x.wrap,d.z,d.x,d.y-1).key]={backfilled:!1},K[new a.OverscaledTileID(x.overscaledZ,U,d.z,F,d.y-1).key]={backfilled:!1}),d.y+1<m&&(K[new a.OverscaledTileID(x.overscaledZ,A,d.z,C,d.y+1).key]={backfilled:!1},K[new a.OverscaledTileID(x.overscaledZ,x.wrap,d.z,d.x,d.y+1).key]={backfilled:!1},K[new a.OverscaledTileID(x.overscaledZ,U,d.z,F,d.y+1).key]={backfilled:!1}),K}unloadTile(x){x.demTexture&&this.map.painter.saveTileTexture(x.demTexture),x.fbo&&(x.fbo.destroy(),delete x.fbo),x.dem&&delete x.dem,delete x.neighboringTiles,x.state="unloaded"}},geojson:class extends a.Evented{constructor(x,d,m,C){super(),this.id=x,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=m.getActor(),this.setEventedParent(C),this._data=d.data,this._options=a.extend({},d),this._collectResourceTiming=d.collectResourceTiming,d.maxzoom!==void 0&&(this.maxzoom=d.maxzoom),d.type&&(this.type=d.type),d.attribution&&(this.attribution=d.attribution),this.promoteId=d.promoteId;const A=a.EXTENT/this.tileSize;this.workerOptions=a.extend({source:this.id,cluster:d.cluster||!1,geojsonVtOptions:{buffer:(d.buffer!==void 0?d.buffer:128)*A,tolerance:(d.tolerance!==void 0?d.tolerance:.375)*A,extent:a.EXTENT,maxZoom:this.maxzoom,lineMetrics:d.lineMetrics||!1,generateId:d.generateId||!1},superclusterOptions:{maxZoom:d.clusterMaxZoom!==void 0?d.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,d.clusterMinPoints||2),extent:a.EXTENT,radius:(d.clusterRadius!==void 0?d.clusterRadius:50)*A,log:!1,generateId:d.generateId||!1},clusterProperties:d.clusterProperties,filter:d.filter},d.workerOptions)}onAdd(x){this.map=x,this.setData(this._data)}setData(x){return this._data=x,this._updateWorkerData(),this}getClusterExpansionZoom(x,d){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:x,source:this.id},d),this}getClusterChildren(x,d){return this.actor.send("geojson.getClusterChildren",{clusterId:x,source:this.id},d),this}getClusterLeaves(x,d,m,C){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:x,limit:d,offset:m},C),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new a.Event("dataloading",{dataType:"source"})),this._loaded=!1;const x=a.extend({},this.workerOptions),d=this._data;typeof d=="string"?(x.request=this.map._requestManager.transformRequest(a.exported.resolveURL(d),a.ResourceType.Source),x.request.collectResourceTiming=this._collectResourceTiming):x.data=JSON.stringify(d),this._pendingLoad=this.actor.send(`${this.type}.loadData`,x,(m,C)=>{if(this._loaded=!0,this._pendingLoad=null,m)this.fire(new a.ErrorEvent(m));else{const A={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&C&&C.resourceTiming&&C.resourceTiming[this.id]&&(A.resourceTiming=C.resourceTiming[this.id]),this.fire(new a.Event("data",A)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(x,d){const m=x.actor?"reloadTile":"loadTile";x.actor=this.actor,x.request=this.actor.send(m,{type:this.type,uid:x.uid,tileID:x.tileID,tileZoom:x.tileZoom,zoom:x.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:a.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(C,A)=>(delete x.request,x.unloadVectorData(),x.aborted?d(null):C?d(C):(x.loadVectorData(A,this.map.painter,m==="reloadTile"),d(null))),void 0,m==="loadTile")}abortTile(x){x.request&&(x.request.cancel(),delete x.request),x.aborted=!0}unloadTile(x){x.unloadVectorData(),this.actor.send("removeTile",{uid:x.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return a.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends pn{constructor(x,d,m,C){super(x,d,m,C),this.roundZoom=!0,this.type="video",this.options=d}load(){this._loaded=!1;const x=this.options;this.urls=[];for(const d of x.urls)this.urls.push(this.map._requestManager.transformRequest(d,a.ResourceType.Source).url);a.getVideo(this.urls,(d,m)=>{this._loaded=!0,d?this.fire(new a.ErrorEvent(d)):m&&(this.video=m,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(x){if(this.video){const d=this.video.seekable;x<d.start(0)||x>d.end(0)?this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${d.start(0)} and ${d.end(0)}-second mark.`))):this.video.currentTime=x}}getVideo(){return this.video}onAdd(x){this.map||(this.map=x,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const x=this.map.painter.context,d=x.gl;this.texture?this.video.paused||(this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),d.texSubImage2D(d.TEXTURE_2D,0,0,0,d.RGBA,d.UNSIGNED_BYTE,this.video)):(this.texture=new a.Texture(x,this.video,d.RGBA),this.texture.bind(d.LINEAR,d.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(x)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:pn,canvas:class extends pn{constructor(x,d,m,C){super(x,d,m,C),d.coordinates?Array.isArray(d.coordinates)&&d.coordinates.length===4&&!d.coordinates.some(A=>!Array.isArray(A)||A.length!==2||A.some(F=>typeof F!="number"))||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${x}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${x}`,null,'missing required property "coordinates"'))),d.animate&&typeof d.animate!="boolean"&&this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${x}`,null,'optional "animate" property must be a boolean value'))),d.canvas?typeof d.canvas=="string"||d.canvas instanceof a.window.HTMLCanvasElement||this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${x}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new a.ErrorEvent(new a.ValidationError(`sources.${x}`,null,'missing required property "canvas"'))),this.options=d,this.animate=d.animate===void 0||d.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof a.window.HTMLCanvasElement?this.options.canvas:a.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new a.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(x){this.map=x,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let x=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,x=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,x=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const d=this.map.painter.context;this.texture?(x||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new a.Texture(d,this.canvas,d.gl.RGBA,{premultiply:!0}),this._prepareData(d)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const x of[this.canvas.width,this.canvas.height])if(isNaN(x)||x<=0)return!0;return!1}},custom:class extends a.Evented{constructor(x,d,m,C){super(),this.id=x,this.type="custom",this._dataType="raster",this._dispatcher=m,this._implementation=d,this.setEventedParent(C),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new a.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new a.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new ye(this._implementation.bounds,this.minzoom,this.maxzoom)),d.update=this._update.bind(this),d.clearTiles=this._clearTiles.bind(this),d.coveringTiles=this._coveringTiles.bind(this),a.extend(this,a.pick(d,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return a.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new a.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(x){this._map=x,this._loaded=!1,this.fire(new a.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(x),this.load()}onRemove(x){this._implementation.onRemove&&this._implementation.onRemove(x)}hasTile(x){if(this._implementation.hasTile){const{x:d,y:m,z:C}=x.canonical;return this._implementation.hasTile({x:d,y:m,z:C})}return!this.tileBounds||this.tileBounds.contains(x.canonical)}loadTile(x,d){const{x:m,y:C,z:A}=x.tileID.canonical,F=new a.window.AbortController;x.request=Promise.resolve(this._implementation.loadTile({x:m,y:C,z:A},{signal:F.signal})).then(function(U){return delete x.request,x.aborted?(x.state="unloaded",d(null)):U===void 0?(x.state="errored",d(null)):U===null?(this.loadTileData(x,{width:this.tileSize,height:this.tileSize,data:null}),x.state="loaded",d(null)):function(K){return K instanceof a.window.ImageData||K instanceof a.window.HTMLCanvasElement||K instanceof a.window.ImageBitmap||K instanceof a.window.HTMLImageElement}(U)?(this.loadTileData(x,U),x.state="loaded",void d(null)):(x.state="errored",d(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`)))}.bind(this)).catch(U=>{U.code!==20&&(x.state="errored",d(U))}),x.request.cancel=()=>F.abort()}loadTileData(x,d){Ot.loadTileData(x,d,this._map.painter)}unloadTileData(x){Ot.unloadTileData(x,this._map.painter)}unloadTile(x,d){if(this.unloadTileData(x),this._implementation.unloadTile){const{x:m,y:C,z:A}=x.tileID.canonical;this._implementation.unloadTile({x:m,y:C,z:A})}d()}abortTile(x,d){x.request&&x.request.cancel&&(x.request.cancel(),delete x.request),d()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(x=>({x:x.canonical.x,y:x.canonical.y,z:x.canonical.z}))}_clearTiles(){this._map.style._clearSource(this.id)}_update(){this.fire(new a.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Cn=function(x,d,m,C){const A=new En[d.type](x,d,m,C);if(A.id!==x)throw new Error(`Expected Source id to be ${x} instead of ${A.id}`);return a.bindAll(["load","abort","unload","serialize","prepare"],A),A};function Nn(x,d){const m=a.identity([]);return a.scale(m,m,[.5*x.width,.5*-x.height,1]),a.translate(m,m,[1,-1,0]),a.multiply(m,m,x.calculateProjMatrix(d.toUnwrapped())),Float32Array.from(m)}function nr(x,d,m,C,A,F,U,K=!1){const ee=x.tilesIn(C,U,K);ee.sort(rr);const ue=[];for(const xe of ee)ue.push({wrappedTileID:xe.tile.tileID.wrapped().key,queryResults:xe.tile.queryRenderedFeatures(d,m,x._state,xe,A,F,Nn(x.transform,xe.tile.tileID),K)});const se=function(xe){const Ae={},Fe={};for(const ze of xe){const Be=ze.queryResults,je=ze.wrappedTileID,Ce=Fe[je]=Fe[je]||{};for(const Le in Be){const qe=Be[Le],Xe=Ce[Le]=Ce[Le]||{},ut=Ae[Le]=Ae[Le]||[];for(const dt of qe)Xe[dt.featureIndex]||(Xe[dt.featureIndex]=!0,ut.push(dt))}}return Ae}(ue);for(const xe in se)se[xe].forEach(Ae=>{const Fe=Ae.feature,ze=Fe.layer;ze&&ze.type!=="background"&&ze.type!=="sky"&&(Fe.source=ze.source,ze["source-layer"]&&(Fe.sourceLayer=ze["source-layer"]),Fe.state=Fe.id!==void 0?x.getFeatureState(ze["source-layer"],Fe.id):{})});return se}function qn(x,d){const m=x.getRenderableIds().map(F=>x.getTileByID(F)),C=[],A={};for(let F=0;F<m.length;F++){const U=m[F],K=U.tileID.canonical.key;A[K]||(A[K]=!0,U.querySourceFeatures(C,d))}return C}function rr(x,d){const m=x.tileID,C=d.tileID;return m.overscaledZ-C.overscaledZ||m.canonical.y-C.canonical.y||m.wrap-C.wrap||m.canonical.x-C.canonical.x}function ur(){return Nc.workerClass!=null?new Nc.workerClass:new a.window.Worker(Nc.workerUrl)}const Si="mapboxgl_preloaded_worker_pool";class hr{constructor(){this.active={}}acquire(d){if(!this.workers)for(this.workers=[];this.workers.length<hr.workerCount;)this.workers.push(new ur);return this.active[d]=!0,this.workers.slice()}release(d){delete this.active[d],this.numActive()===0&&(this.workers.forEach(m=>{m.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Si]}numActive(){return Object.keys(this.active).length}}let Yr;function da(){return Yr||(Yr=new hr),Yr}function Oo(x,d){const m={};for(const C in x)C!=="ref"&&(m[C]=x[C]);return a.refProperties.forEach(C=>{C in d&&(m[C]=d[C])}),m}function ba(x){x=x.slice();const d=Object.create(null);for(let m=0;m<x.length;m++)d[x[m].id]=x[m];for(let m=0;m<x.length;m++)"ref"in x[m]&&(x[m]=Oo(x[m],d[x[m].ref]));return x}hr.workerCount=2;const er={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function ci(x,d,m){m.push({command:er.addSource,args:[x,d[x]]})}function fa(x,d,m){d.push({command:er.removeSource,args:[x]}),m[x]=!0}function xo(x,d,m,C){fa(x,m,C),ci(x,d,m)}function gc(x,d,m){let C;for(C in x[m])if(x[m].hasOwnProperty(C)&&C!=="data"&&!f(x[m][C],d[m][C]))return!1;for(C in d[m])if(d[m].hasOwnProperty(C)&&C!=="data"&&!f(x[m][C],d[m][C]))return!1;return!0}function Do(x,d,m,C,A,F){let U;for(U in d=d||{},x=x||{})x.hasOwnProperty(U)&&(f(x[U],d[U])||m.push({command:F,args:[C,U,d[U],A]}));for(U in d)d.hasOwnProperty(U)&&!x.hasOwnProperty(U)&&(f(x[U],d[U])||m.push({command:F,args:[C,U,d[U],A]}))}function Ro(x){return x.id}function Ud(x,d){return x[d.id]=d,x}class yc{constructor(d,m){this.reset(d,m)}reset(d,m){this.points=d||[],this._distances=[0];for(let C=1;C<this.points.length;C++)this._distances[C]=this._distances[C-1]+this.points[C].dist(this.points[C-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(m||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(d){if(this.points.length===1)return this.points[0];d=a.clamp(d,0,1);let m=1,C=this._distances[m];const A=d*this.paddedLength+this.padding;for(;C<A&&m<this._distances.length;)C=this._distances[++m];const F=m-1,U=this._distances[F],K=C-U,ee=K>0?(A-U)/K:0;return this.points[F].mult(1-ee).add(this.points[m].mult(ee))}}class Ys{constructor(d,m,C){const A=this.boxCells=[],F=this.circleCells=[];this.xCellCount=Math.ceil(d/C),this.yCellCount=Math.ceil(m/C);for(let U=0;U<this.xCellCount*this.yCellCount;U++)A.push([]),F.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=d,this.height=m,this.xScale=this.xCellCount/d,this.yScale=this.yCellCount/m,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(d,m,C,A,F){this._forEachCell(m,C,A,F,this._insertBoxCell,this.boxUid++),this.boxKeys.push(d),this.bboxes.push(m),this.bboxes.push(C),this.bboxes.push(A),this.bboxes.push(F)}insertCircle(d,m,C,A){this._forEachCell(m-A,C-A,m+A,C+A,this._insertCircleCell,this.circleUid++),this.circleKeys.push(d),this.circles.push(m),this.circles.push(C),this.circles.push(A)}_insertBoxCell(d,m,C,A,F,U){this.boxCells[F].push(U)}_insertCircleCell(d,m,C,A,F,U){this.circleCells[F].push(U)}_query(d,m,C,A,F,U){if(C<0||d>this.width||A<0||m>this.height)return!F&&[];const K=[];if(d<=0&&m<=0&&this.width<=C&&this.height<=A){if(F)return!0;for(let ee=0;ee<this.boxKeys.length;ee++)K.push({key:this.boxKeys[ee],x1:this.bboxes[4*ee],y1:this.bboxes[4*ee+1],x2:this.bboxes[4*ee+2],y2:this.bboxes[4*ee+3]});for(let ee=0;ee<this.circleKeys.length;ee++){const ue=this.circles[3*ee],se=this.circles[3*ee+1],xe=this.circles[3*ee+2];K.push({key:this.circleKeys[ee],x1:ue-xe,y1:se-xe,x2:ue+xe,y2:se+xe})}return U?K.filter(U):K}return this._forEachCell(d,m,C,A,this._queryCell,K,{hitTest:F,seenUids:{box:{},circle:{}}},U),F?K.length>0:K}_queryCircle(d,m,C,A,F){const U=d-C,K=d+C,ee=m-C,ue=m+C;if(K<0||U>this.width||ue<0||ee>this.height)return!A&&[];const se=[];return this._forEachCell(U,ee,K,ue,this._queryCellCircle,se,{hitTest:A,circle:{x:d,y:m,radius:C},seenUids:{box:{},circle:{}}},F),A?se.length>0:se}query(d,m,C,A,F){return this._query(d,m,C,A,!1,F)}hitTest(d,m,C,A,F){return this._query(d,m,C,A,!0,F)}hitTestCircle(d,m,C,A){return this._queryCircle(d,m,C,!0,A)}_queryCell(d,m,C,A,F,U,K,ee){const ue=K.seenUids,se=this.boxCells[F];if(se!==null){const Ae=this.bboxes;for(const Fe of se)if(!ue.box[Fe]){ue.box[Fe]=!0;const ze=4*Fe;if(d<=Ae[ze+2]&&m<=Ae[ze+3]&&C>=Ae[ze+0]&&A>=Ae[ze+1]&&(!ee||ee(this.boxKeys[Fe]))){if(K.hitTest)return U.push(!0),!0;U.push({key:this.boxKeys[Fe],x1:Ae[ze],y1:Ae[ze+1],x2:Ae[ze+2],y2:Ae[ze+3]})}}}const xe=this.circleCells[F];if(xe!==null){const Ae=this.circles;for(const Fe of xe)if(!ue.circle[Fe]){ue.circle[Fe]=!0;const ze=3*Fe;if(this._circleAndRectCollide(Ae[ze],Ae[ze+1],Ae[ze+2],d,m,C,A)&&(!ee||ee(this.circleKeys[Fe]))){if(K.hitTest)return U.push(!0),!0;{const Be=Ae[ze],je=Ae[ze+1],Ce=Ae[ze+2];U.push({key:this.circleKeys[Fe],x1:Be-Ce,y1:je-Ce,x2:Be+Ce,y2:je+Ce})}}}}}_queryCellCircle(d,m,C,A,F,U,K,ee){const ue=K.circle,se=K.seenUids,xe=this.boxCells[F];if(xe!==null){const Fe=this.bboxes;for(const ze of xe)if(!se.box[ze]){se.box[ze]=!0;const Be=4*ze;if(this._circleAndRectCollide(ue.x,ue.y,ue.radius,Fe[Be+0],Fe[Be+1],Fe[Be+2],Fe[Be+3])&&(!ee||ee(this.boxKeys[ze])))return U.push(!0),!0}}const Ae=this.circleCells[F];if(Ae!==null){const Fe=this.circles;for(const ze of Ae)if(!se.circle[ze]){se.circle[ze]=!0;const Be=3*ze;if(this._circlesCollide(Fe[Be],Fe[Be+1],Fe[Be+2],ue.x,ue.y,ue.radius)&&(!ee||ee(this.circleKeys[ze])))return U.push(!0),!0}}}_forEachCell(d,m,C,A,F,U,K,ee){const ue=this._convertToXCellCoord(d),se=this._convertToYCellCoord(m),xe=this._convertToXCellCoord(C),Ae=this._convertToYCellCoord(A);for(let Fe=ue;Fe<=xe;Fe++)for(let ze=se;ze<=Ae;ze++)if(F.call(this,d,m,C,A,this.xCellCount*ze+Fe,U,K,ee))return}_convertToXCellCoord(d){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(d*this.xScale)))}_convertToYCellCoord(d){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(d*this.yScale)))}_circlesCollide(d,m,C,A,F,U){const K=A-d,ee=F-m,ue=C+U;return ue*ue>K*K+ee*ee}_circleAndRectCollide(d,m,C,A,F,U,K){const ee=(U-A)/2,ue=Math.abs(d-(A+ee));if(ue>ee+C)return!1;const se=(K-F)/2,xe=Math.abs(m-(F+se));if(xe>se+C)return!1;if(ue<=ee||xe<=se)return!0;const Ae=ue-ee,Fe=xe-se;return Ae*Ae+Fe*Fe<=C*C}}const Lo={unknown:0,flipRequired:1,flipNotRequired:2},Al=Math.tan(85*Math.PI/180);function zt(x,d,m,C,A,F,U){const K=a.create();if(m)if(F.name==="globe"){const ee=a.calculateGlobeLabelMatrix(A,d);a.multiply(K,K,ee)}else{const ee=V([],U);K[0]=ee[0],K[1]=ee[1],K[4]=ee[2],K[5]=ee[3],C||a.rotateZ(K,K,A.angle)}else a.multiply(K,A.labelPlaneMatrix,x);return K}function rs(x,d,m,C,A,F,U){const K=zt(x,d,m,C,A,F,U);return F.name==="globe"&&m||(K[2]=K[6]=K[10]=K[14]=0),K}function Ti(x,d,m,C,A,F,U){if(m){if(F.name==="globe"){const K=zt(x,d,m,C,A,F,U);return a.invert(K,K),a.multiply(K,x,K),K}{const K=a.clone(x),ee=a.identity([]);return ee[0]=U[0],ee[1]=U[1],ee[4]=U[2],ee[5]=U[3],a.multiply(K,K,ee),C||a.rotateZ(K,K,-A.angle),K}}return A.glCoordMatrix}function na(x,d,m,C){const A=[x,d,m,1];m?a.transformMat4$1(A,A,C):gr(A,A,C);const F=A[3];return A[0]/=F,A[1]/=F,A[2]/=F,A}function Hd(x,d){return Math.min(.5+x/d*.5,1.5)}function wo(x,d){const m=x[0]/x[3],C=x[1]/x[3];return m>=-d[0]&&m<=d[0]&&C>=-d[1]&&C<=d[1]}function _c(x,d,m,C,A,F,U,K,ee,ue){const se=m.transform,xe=C?x.textSizeData:x.iconSizeData,Ae=a.evaluateSizeForZoom(xe,m.transform.zoom),Fe=se.projection.name==="globe",ze=[256/m.width*2+1,256/m.height*2+1],Be=C?x.text.dynamicLayoutVertexArray:x.icon.dynamicLayoutVertexArray;Be.clear();let je=null;Fe&&(je=C?x.text.globeExtVertexArray:x.icon.globeExtVertexArray);const Ce=x.lineVertexArray,Le=C?x.text.placedSymbolArray:x.icon.placedSymbolArray,qe=m.transform.width/m.transform.height;let Xe,ut=!1;for(let dt=0;dt<Le.length;dt++){const ct=Le.get(dt),{numGlyphs:wt,writingMode:bt}=ct;if(bt!==a.WritingMode.vertical||ut||Xe===a.WritingMode.horizontal||(ut=!0),Xe=bt,(ct.hidden||bt===a.WritingMode.vertical)&&!ut){Xa(wt,Be);continue}ut=!1;const At=new a.Point(ct.tileAnchorX,ct.tileAnchorY);let{x:an,y:Tt,z:Kt}=se.projection.projectTilePoint(At.x,At.y,ue.canonical);if(ee){const[Zn,Sn,jn]=ee(At);an+=Zn,Tt+=Sn,Kt+=jn}const Dt=[an,Tt,Kt,1];if(a.transformMat4$1(Dt,Dt,d),!wo(Dt,ze)){Xa(wt,Be);continue}const nn=Hd(m.transform.cameraToCenterDistance,Dt[3]),Mt=a.evaluateSizeForFeature(xe,Ae,ct),Vt=U?Mt/nn:Mt*nn,sn=na(an,Tt,Kt,A);if(sn[3]<=0){Xa(wt,Be);continue}let Qt={};const ln=U?null:ee,Rn=mn(ct,Vt,!1,K,d,A,F,x.glyphOffsetArray,Ce,Be,je,sn,At,Qt,qe,ln,se.projection,ue,U);ut=Rn.useVertical,ln&&Rn.needsFlipping&&(Qt={}),(Rn.notEnoughRoom||ut||Rn.needsFlipping&&mn(ct,Vt,!0,K,d,A,F,x.glyphOffsetArray,Ce,Be,je,sn,At,Qt,qe,ln,se.projection,ue,U).notEnoughRoom)&&Xa(wt,Be)}C?(x.text.dynamicLayoutVertexBuffer.updateData(Be),je&&x.text.globeExtVertexBuffer.updateData(je)):(x.icon.dynamicLayoutVertexBuffer.updateData(Be),je&&x.icon.globeExtVertexBuffer.updateData(je))}function Dh(x,d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be){const{lineStartIndex:je,glyphStartIndex:Ce,segment:Le}=K,qe=Ce+K.numGlyphs,Xe=je+K.lineLength,ut=d.getoffsetX(Ce),dt=d.getoffsetX(qe-1),ct=Ya(x*ut,m,C,A,F,U,Le,je,Xe,ee,ue,se,xe,Ae,!0,Fe,ze,Be);if(!ct)return null;const wt=Ya(x*dt,m,C,A,F,U,Le,je,Xe,ee,ue,se,xe,Ae,!0,Fe,ze,Be);return wt?{first:ct,last:wt}:null}function Il(x,d,m,C){return x===a.WritingMode.horizontal&&Math.abs(C)>Math.abs(m)?{useVertical:!0}:x===a.WritingMode.vertical?C>0?{needsFlipping:!0}:null:d!==Lo.unknown&&function(A,F){return A===0||Math.abs(F/A)>Al}(m,C)?d===Lo.flipRequired?{needsFlipping:!0}:null:m<0?{needsFlipping:!0}:null}function mn(x,d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be,je,Ce,Le){const qe=d/24,Xe=x.lineOffsetX*qe,ut=x.lineOffsetY*qe,{lineStartIndex:dt,glyphStartIndex:ct,numGlyphs:wt,segment:bt,writingMode:At,flipState:an}=x,Tt=dt+x.lineLength,Kt=Dt=>{if(se){const[sn,Qt,ln]=Dt.up,Rn=ue.length;a.updateGlobeVertexNormal(se,Rn+0,sn,Qt,ln),a.updateGlobeVertexNormal(se,Rn+1,sn,Qt,ln),a.updateGlobeVertexNormal(se,Rn+2,sn,Qt,ln),a.updateGlobeVertexNormal(se,Rn+3,sn,Qt,ln)}const[nn,Mt,Vt]=Dt.point;a.addDynamicAttributes(ue,nn,Mt,Vt,Dt.angle)};if(wt>1){const Dt=Dh(qe,K,Xe,ut,m,xe,Ae,x,ee,F,Fe,Be,!1,je,Ce,Le);if(!Dt)return{notEnoughRoom:!0};if(C&&!m){let[nn,Mt,Vt]=Dt.first.point,[sn,Qt,ln]=Dt.last.point;[nn,Mt]=na(nn,Mt,Vt,U),[sn,Qt]=na(sn,Qt,ln,U);const Rn=Il(At,an,(sn-nn)*ze,Qt-Mt);if(x.flipState=Rn&&Rn.needsFlipping?Lo.flipRequired:Lo.flipNotRequired,Rn)return Rn}Kt(Dt.first);for(let nn=ct+1;nn<ct+wt-1;nn++){const Mt=Ya(qe*K.getoffsetX(nn),Xe,ut,m,xe,Ae,bt,dt,Tt,ee,F,Fe,Be,!1,!1,je,Ce,Le);if(!Mt)return ue.length-=4*(nn-ct),{notEnoughRoom:!0};Kt(Mt)}Kt(Dt.last)}else{if(C&&!m){const nn=na(Ae.x,Ae.y,0,A),Mt=dt+bt+1,Vt=new a.Point(ee.getx(Mt),ee.gety(Mt)),sn=na(Vt.x,Vt.y,0,A),Qt=sn[3]>0?sn:mr(Ae,Vt,nn,1,A,void 0,je,Ce.canonical),ln=Il(At,an,(Qt[0]-nn[0])*ze,Qt[1]-nn[1]);if(x.flipState=ln&&ln.needsFlipping?Lo.flipRequired:Lo.flipNotRequired,ln)return ln}const Dt=Ya(qe*K.getoffsetX(ct),Xe,ut,m,xe,Ae,bt,dt,Tt,ee,F,Fe,Be,!1,!1,je,Ce,Le);if(!Dt)return{notEnoughRoom:!0};Kt(Dt)}return{}}function br(x,d,m,C,A){const{x:F,y:U,z:K}=C.projectTilePoint(x.x,x.y,d);if(!A)return na(F,U,K,m);const[ee,ue,se]=A(x);return na(F+ee,U+ue,K+se,m)}function mr(x,d,m,C,A,F,U,K){const ee=br(x.sub(d)._unit()._add(x),K,A,U,F);return a.sub(ee,m,ee),a.normalize(ee,ee),a.scaleAndAdd(ee,m,ee,C)}function Ya(x,d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be,je,Ce){const Le=C?x-d:x+d;let qe=Le>0?1:-1,Xe=0;C&&(qe*=-1,Xe=Math.PI),qe<0&&(Xe+=Math.PI);let ut=K+U+(qe>0?0:1)|0,dt=A,ct=A,wt=0,bt=0;const At=Math.abs(Le),an=[],Tt=[];let Kt=F,Dt=Kt;const nn=()=>mr(Dt,Kt,ct,At-wt+1,se,Ae,Be,je.canonical);for(;wt+bt<=At;){if(ut+=qe,ut<K||ut>=ee)return null;if(ct=dt,Dt=Kt,an.push(ct),Fe&&Tt.push(Dt),Kt=new a.Point(ue.getx(ut),ue.gety(ut)),dt=xe[ut],!dt){const jn=br(Kt,je.canonical,se,Be,Ae);dt=jn[3]>0?xe[ut]=jn:nn()}wt+=bt,bt=a.distance(ct,dt)}ze&&Ae&&(xe[ut]&&(dt=nn(),bt=a.distance(ct,dt)),xe[ut]=dt);const Mt=(At-wt)/bt,Vt=Kt.sub(Dt)._mult(Mt)._add(Dt),sn=a.sub([],dt,ct),Qt=a.scaleAndAdd([],ct,sn,Mt);let ln=[0,0,1],Rn=sn[0],Zn=sn[1];if(Ce&&(ln=Be.upVector(je.canonical,Vt.x,Vt.y),ln[0]!==0||ln[1]!==0||ln[2]!==1)){const jn=[ln[2],0,-ln[0]],xr=a.cross([],ln,jn);a.normalize(jn,jn),a.normalize(xr,xr),Rn=a.dot(sn,jn),Zn=a.dot(sn,xr)}if(m){const jn=a.cross([],ln,sn);a.normalize(jn,jn),a.scaleAndAdd(Qt,Qt,jn,m*qe)}const Sn=Xe+Math.atan2(Zn,Rn);return an.push(Qt),Fe&&Tt.push(Vt),{point:Qt,angle:Sn,path:an,tilePath:Tt,up:ln}}function Xa(x,d){const m=d.length,C=m+4*x;d.resize(C),d.float32.fill(-1/0,4*m,4*C)}function gr(x,d,m){const C=d[0],A=d[1];return x[0]=m[0]*C+m[4]*A+m[12],x[1]=m[1]*C+m[5]*A+m[13],x[3]=m[3]*C+m[7]*A+m[15],x}const Dn=100;class wn{constructor(d,m,C=new Ys(d.width+200,d.height+200,25),A=new Ys(d.width+200,d.height+200,25)){this.transform=d,this.grid=C,this.ignoredGrid=A,this.pitchfactor=Math.cos(d._pitch)*d.cameraToCenterDistance,this.screenRightBoundary=d.width+Dn,this.screenBottomBoundary=d.height+Dn,this.gridRightBoundary=d.width+200,this.gridBottomBoundary=d.height+200,this.fogState=m}placeCollisionBox(d,m,C,A,F,U,K,ee){let ue=C.projectedAnchorX,se=C.projectedAnchorY,xe=C.projectedAnchorZ;const Ae=C.elevation,Fe=C.tileID,ze=d.getProjection();if(Ae&&Fe){const[dt,ct,wt]=ze.upVector(Fe.canonical,C.tileAnchorX,C.tileAnchorY),bt=ze.upVectorScale(Fe.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;ue+=dt*Ae*bt,se+=ct*Ae*bt,xe+=wt*Ae*bt}const Be=this.projectAndGetPerspectiveRatio(K,ue,se,xe,C.tileID,ze.name==="globe"||!!Ae||this.transform.pitch>0,ze),je=U*Be.perspectiveRatio,Ce=(C.x1*m+A.x-C.padding)*je+Be.point.x,Le=(C.y1*m+A.y-C.padding)*je+Be.point.y,qe=(C.x2*m+A.x+C.padding)*je+Be.point.x,Xe=(C.y2*m+A.y+C.padding)*je+Be.point.y,ut=Be.perspectiveRatio<=.55||Be.occluded;return!this.isInsideGrid(Ce,Le,qe,Xe)||!F&&this.grid.hitTest(Ce,Le,qe,Xe,ee)||ut?{box:[],offscreen:!1,occluded:Be.occluded}:{box:[Ce,Le,qe,Xe],offscreen:this.isOffscreen(Ce,Le,qe,Xe),occluded:!1}}placeCollisionCircles(d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be){const je=[],Ce=this.transform.elevation,Le=d.getProjection(),qe=Ce?Ce.getAtTileOffsetFunc(Be,this.transform.center.lat,this.transform.worldSize,Le):null,Xe=new a.Point(C.tileAnchorX,C.tileAnchorY);let{x:ut,y:dt,z:ct}=Le.projectTilePoint(Xe.x,Xe.y,Be.canonical);if(qe){const[Vt,sn,Qt]=qe(Xe);ut+=Vt,dt+=sn,ct+=Qt}const wt=Le.name==="globe",bt=this.projectAndGetPerspectiveRatio(K,ut,dt,ct,Be,wt||!!Ce||this.transform.pitch>0,Le),{perspectiveRatio:At}=bt,an=(xe?U/At:U*At)/a.ONE_EM,Tt=na(ut,dt,ct,ee),Kt=bt.signedDistanceFromCamera>0?Dh(an,F,C.lineOffsetX*an,C.lineOffsetY*an,!1,Tt,Xe,C,A,ee,{},Ce&&!xe?qe:null,xe&&!!Ce,Le,Be,xe):null;let Dt=!1,nn=!1,Mt=!0;if(Kt&&!bt.occluded){const Vt=.5*Fe*At+ze,sn=new a.Point(-100,-100),Qt=new a.Point(this.screenRightBoundary,this.screenBottomBoundary),ln=new yc,{first:Rn,last:Zn}=Kt,Sn=Rn.path.length;let jn=[];for(let On=Sn-1;On>=1;On--)jn.push(Rn.path[On]);for(let On=1;On<Zn.path.length;On++)jn.push(Zn.path[On]);const xr=2.5*Vt;ue&&(jn=jn.map(([On,Vr,Xr],Zr)=>(qe&&!wt&&(Xr=qe(Zr<Sn-1?Rn.tilePath[Sn-1-Zr]:Zn.tilePath[Zr-Sn+2])[2]),na(On,Vr,Xr,ue))),jn.some(On=>On[3]<=0)&&(jn=[]));let _r=[];if(jn.length>0){let On=1/0,Vr=-1/0,Xr=1/0,Zr=-1/0;for(const Qr of jn)On=Math.min(On,Qr[0]),Xr=Math.min(Xr,Qr[1]),Vr=Math.max(Vr,Qr[0]),Zr=Math.max(Zr,Qr[1]);Vr>=sn.x&&On<=Qt.x&&Zr>=sn.y&&Xr<=Qt.y&&(_r=[jn.map(Qr=>new a.Point(Qr[0],Qr[1]))],(On<sn.x||Vr>Qt.x||Xr<sn.y||Zr>Qt.y)&&(_r=a.clipLine(_r,sn.x,sn.y,Qt.x,Qt.y)))}for(const On of _r){ln.reset(On,.25*Vt);let Vr=0;Vr=ln.length<=.5*Vt?1:Math.ceil(ln.paddedLength/xr)+1;for(let Xr=0;Xr<Vr;Xr++){const Zr=Xr/Math.max(Vr-1,1),Qr=ln.lerp(Zr),ja=Qr.x+Dn,Sa=Qr.y+Dn;je.push(ja,Sa,Vt,0);const jo=ja-Vt,As=Sa-Vt,gi=ja+Vt,Jr=Sa+Vt;if(Mt=Mt&&this.isOffscreen(jo,As,gi,Jr),nn=nn||this.isInsideGrid(jo,As,gi,Jr),!m&&this.grid.hitTestCircle(ja,Sa,Vt,Ae)&&(Dt=!0,!se))return{circles:[],offscreen:!1,collisionDetected:Dt,occluded:!1}}}}return{circles:!se&&Dt||!nn?[]:je,offscreen:Mt,collisionDetected:Dt,occluded:bt.occluded}}queryRenderedSymbols(d){if(d.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const m=[];let C=1/0,A=1/0,F=-1/0,U=-1/0;for(const se of d){const xe=new a.Point(se.x+Dn,se.y+Dn);C=Math.min(C,xe.x),A=Math.min(A,xe.y),F=Math.max(F,xe.x),U=Math.max(U,xe.y),m.push(xe)}const K=this.grid.query(C,A,F,U).concat(this.ignoredGrid.query(C,A,F,U)),ee={},ue={};for(const se of K){const xe=se.key;if(ee[xe.bucketInstanceId]===void 0&&(ee[xe.bucketInstanceId]={}),ee[xe.bucketInstanceId][xe.featureIndex])continue;const Ae=[new a.Point(se.x1,se.y1),new a.Point(se.x2,se.y1),new a.Point(se.x2,se.y2),new a.Point(se.x1,se.y2)];a.polygonIntersectsPolygon(m,Ae)&&(ee[xe.bucketInstanceId][xe.featureIndex]=!0,ue[xe.bucketInstanceId]===void 0&&(ue[xe.bucketInstanceId]=[]),ue[xe.bucketInstanceId].push(xe.featureIndex))}return ue}insertCollisionBox(d,m,C,A,F){(m?this.ignoredGrid:this.grid).insert({bucketInstanceId:C,featureIndex:A,collisionGroupID:F},d[0],d[1],d[2],d[3])}insertCollisionCircles(d,m,C,A,F){const U=m?this.ignoredGrid:this.grid,K={bucketInstanceId:C,featureIndex:A,collisionGroupID:F};for(let ee=0;ee<d.length;ee+=4)U.insertCircle(K,d[ee],d[ee+1],d[ee+2])}projectAndGetPerspectiveRatio(d,m,C,A,F,U,K){const ee=[m,C,A,1];let ue=!1;A||this.transform.pitch>0?(a.transformMat4$1(ee,ee,d),this.fogState&&F&&K.name!=="globe"&&(ue=function(Ae,Fe,ze,Be,je,Ce){const Le=Ce.calculateFogTileMatrix(je),qe=[Fe,ze,Be];return a.transformMat4(qe,qe,Le),Q(Ae,qe,Ce.pitch,Ce._fov)}(this.fogState,m,C,A,F.toUnwrapped(),this.transform)>.9)):gr(ee,ee,d);const se=ee[3];return{point:new a.Point((ee[0]/se+1)/2*this.transform.width+Dn,(-ee[1]/se+1)/2*this.transform.height+Dn),perspectiveRatio:Math.min(.5+this.transform.getCameraToCenterDistance(K)/se*.5,1.5),signedDistanceFromCamera:se,occluded:U&&ee[2]>se||ue}}isOffscreen(d,m,C,A){return C<Dn||d>=this.screenRightBoundary||A<Dn||m>this.screenBottomBoundary}isInsideGrid(d,m,C,A){return C>=0&&d<this.gridRightBoundary&&A>=0&&m<this.gridBottomBoundary}getViewportMatrix(){const d=a.identity([]);return a.translate(d,d,[-100,-100,0]),d}}function Mn(x,d,m){const C=d.createTileMatrix(x,x.worldSize,m.toUnwrapped());return a.multiply(new Float32Array(16),x.projMatrix,C)}function In(x,d,m){if(d.projection.name===m.projection.name)return x.projMatrix;const C=m.clone();return C.setProjection(d.projection),Mn(C,d.getProjection(),x)}function Pn(x,d,m){return d.name===m.projection.name?x.projMatrix:Mn(m,d,x)}class xi{constructor(d,m,C,A){this.opacity=d?Math.max(0,Math.min(1,d.opacity+(d.placed?m:-m))):A&&C?1:0,this.placed=C}isHidden(){return this.opacity===0&&!this.placed}}class xa{constructor(d,m,C,A,F,U=!1){this.text=new xi(d?d.text:null,m,C,F),this.icon=new xi(d?d.icon:null,m,A,F),this.clipped=U}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class za{constructor(d,m,C,A=!1){this.text=d,this.icon=m,this.skipFade=C,this.clipped=A}}class is{constructor(){this.invProjMatrix=a.create(),this.viewportMatrix=a.create(),this.circles=[]}}class as{constructor(d,m,C,A,F){this.bucketInstanceId=d,this.featureIndex=m,this.sourceLayerIndex=C,this.bucketIndex=A,this.tileID=F}}class Xs{constructor(d){this.crossSourceCollisions=d,this.maxGroupID=0,this.collisionGroups={}}get(d){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[d]){const m=++this.maxGroupID;this.collisionGroups[d]={ID:m,predicate:C=>C.collisionGroupID===m}}return this.collisionGroups[d]}}function Za(x,d,m,C,A){const{horizontalAlign:F,verticalAlign:U}=a.getAnchorAlignment(x),K=-(F-.5)*d,ee=-(U-.5)*m,ue=a.evaluateVariableOffset(x,C);return new a.Point(K+ue[0]*A,ee+ue[1]*A)}function os(x,d,m,C,A){const F=new a.Point(x,d);return m&&F._rotate(C?A:-A),F}class Qa{constructor(d,m,C,A,F){this.transform=d.clone(),this.projection=d.projection.name,this.collisionIndex=new wn(this.transform,F),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=m,this.retainedQueryData={},this.collisionGroups=new Xs(C),this.collisionCircleArrays={},this.prevPlacement=A,A&&(A.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(d,m,C,A){const F=C.getBucket(m),U=C.latestFeatureIndex;if(!F||!U||m.id!==F.layerIds[0])return;const K=F.layers[0].layout,ee=C.collisionBoxArray,ue=Math.pow(2,this.transform.zoom-C.tileID.overscaledZ),se=C.tileSize/a.EXTENT,xe=C.tileID.toUnwrapped();this.transform.setProjection(F.projection);const Ae=(Fe=C.tileID,ze=F.getProjection(),Be=this.transform,ze.name===this.projection?Be.calculateProjMatrix(Fe.toUnwrapped()):Mn(Be,ze,Fe));var Fe,ze,Be;const je=K.get("text-pitch-alignment")==="map",Ce=K.get("text-rotation-alignment")==="map";m.compileFilter();const Le=m.dynamicFilter(),qe=m.dynamicFilterNeedsFeature(),Xe=this.transform.calculatePixelsToTileUnitsMatrix(C),ut=rs(Ae,C.tileID.canonical,je,Ce,this.transform,F.getProjection(),Xe);let dt=null;if(je){const bt=Ti(Ae,C.tileID.canonical,je,Ce,this.transform,F.getProjection(),Xe);dt=a.multiply([],this.transform.labelPlaneMatrix,bt)}let ct=null;Le&&C.latestFeatureIndex&&(ct={unwrappedTileID:xe,dynamicFilter:Le,dynamicFilterNeedsFeature:qe,featureIndex:C.latestFeatureIndex}),this.retainedQueryData[F.bucketInstanceId]=new as(F.bucketInstanceId,U,F.sourceLayerIndex,F.index,C.tileID);const wt={bucket:F,layout:K,posMatrix:Ae,textLabelPlaneMatrix:ut,labelToScreenMatrix:dt,clippingData:ct,scale:ue,textPixelRatio:se,holdingForFade:C.holdingForFade(),collisionBoxArray:ee,partiallyEvaluatedTextSize:a.evaluateSizeForZoom(F.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:a.evaluateSizeForZoom(F.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(F.sourceID)};if(A)for(const bt of F.sortKeyRanges){const{sortKey:At,symbolInstanceStart:an,symbolInstanceEnd:Tt}=bt;d.push({sortKey:At,symbolInstanceStart:an,symbolInstanceEnd:Tt,parameters:wt})}else d.push({symbolInstanceStart:0,symbolInstanceEnd:F.symbolInstances.length,parameters:wt})}attemptAnchorPlacement(d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be,je,Ce,Le){const{textOffset0:qe,textOffset1:Xe,crossTileID:ut}=Ae,dt=[qe,Xe],ct=Za(d,C,A,dt,F),wt=this.collisionIndex.placeCollisionBox(ze,F,m,os(ct.x,ct.y,U,K,this.transform.angle),xe,ee,ue,se.predicate);if(je){const bt=ze.getSymbolInstanceIconSize(Le,this.transform.zoom,Ae.placedIconSymbolIndex);if(this.collisionIndex.placeCollisionBox(ze,bt,je,os(ct.x,ct.y,U,K,this.transform.angle),xe,ee,ue,se.predicate).box.length===0)return}if(wt.box.length>0){let bt;return this.prevPlacement&&this.prevPlacement.variableOffsets[ut]&&this.prevPlacement.placements[ut]&&this.prevPlacement.placements[ut].text&&(bt=this.prevPlacement.variableOffsets[ut].anchor),this.variableOffsets[ut]={textOffset:dt,width:C,height:A,anchor:d,textScale:F,prevAnchor:bt},this.markUsedJustification(ze,d,Ae,Be),ze.allowVerticalPlacement&&(this.markUsedOrientation(ze,Be,Ae),this.placedOrientations[ut]=Be),{shift:ct,placedGlyphBoxes:wt}}}placeLayerBucketPart(d,m,C,A){const{bucket:F,layout:U,posMatrix:K,textLabelPlaneMatrix:ee,labelToScreenMatrix:ue,clippingData:se,textPixelRatio:xe,holdingForFade:Ae,collisionBoxArray:Fe,partiallyEvaluatedTextSize:ze,partiallyEvaluatedIconSize:Be,collisionGroup:je}=d.parameters,Ce=U.get("text-optional"),Le=U.get("icon-optional"),qe=U.get("text-allow-overlap"),Xe=U.get("icon-allow-overlap"),ut=U.get("text-rotation-alignment")==="map",dt=U.get("text-pitch-alignment")==="map",ct=U.get("icon-text-fit")!=="none",wt=U.get("symbol-z-order")==="viewport-y";this.transform.setProjection(F.projection);let bt=qe&&(Xe||!F.hasIconData()||Le),At=Xe&&(qe||!F.hasTextData()||Ce);!F.collisionArrays&&Fe&&F.deserializeCollisionBoxes(Fe),C&&A&&F.updateCollisionDebugBuffers(this.transform.zoom,Fe);const an=(Tt,Kt,Dt)=>{const{crossTileID:nn,numVerticalGlyphVertices:Mt}=Tt;if(se){const gi={zoom:this.transform.zoom,pitch:this.transform.pitch};let Jr=null;if(se.dynamicFilterNeedsFeature){const Fr=this.retainedQueryData[F.bucketInstanceId];Jr=se.featureIndex.loadFeature({featureIndex:Tt.featureIndex,bucketIndex:Fr.bucketIndex,sourceLayerIndex:Fr.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,se.dynamicFilter)(gi,Jr,this.retainedQueryData[F.bucketInstanceId].tileID.canonical,new a.Point(Tt.tileAnchorX,Tt.tileAnchorY),this.transform.calculateDistanceTileData(se.unwrappedTileID)))return this.placements[nn]=new za(!1,!1,!1,!0),void m.add(nn)}if(m.has(nn))return;if(Ae)return void(this.placements[nn]=new za(!1,!1,!1));let Vt=!1,sn=!1,Qt=!0,ln=!1,Rn=!1,Zn=null,Sn={box:null,offscreen:null,occluded:null},jn={box:null,offscreen:null,occluded:null},xr=null,_r=null,On=null,Vr=0,Xr=0,Zr=0;Dt.textFeatureIndex?Vr=Dt.textFeatureIndex:Tt.useRuntimeCollisionCircles&&(Vr=Tt.featureIndex),Dt.verticalTextFeatureIndex&&(Xr=Dt.verticalTextFeatureIndex);const Qr=gi=>{gi.tileID=this.retainedQueryData[F.bucketInstanceId].tileID;const Jr=this.transform.elevation;(Jr||gi.elevation)&&(gi.elevation=Jr?Jr.getAtTileOffset(gi.tileID,gi.tileAnchorX,gi.tileAnchorY):0)},ja=Dt.textBox;if(ja){Qr(ja);const gi=Fr=>{let Wi=a.WritingMode.horizontal;if(F.allowVerticalPlacement&&!Fr&&this.prevPlacement){const eo=this.prevPlacement.placedOrientations[nn];eo&&(this.placedOrientations[nn]=eo,Wi=eo,this.markUsedOrientation(F,Wi,Tt))}return Wi},Jr=(Fr,Wi)=>{if(F.allowVerticalPlacement&&Mt>0&&Dt.verticalTextBox){for(const eo of F.writingModes)if(eo===a.WritingMode.vertical?(Sn=Wi(),jn=Sn):Sn=Fr(),Sn&&Sn.box&&Sn.box.length)break}else Sn=Fr()};if(U.get("text-variable-anchor")){let Fr=U.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[nn]){const di=this.prevPlacement.variableOffsets[nn];Fr.indexOf(di.anchor)>0&&(Fr=Fr.filter(oo=>oo!==di.anchor),Fr.unshift(di.anchor))}const Wi=(di,oo,ap)=>{const Mu=F.getSymbolInstanceTextSize(ze,Tt,this.transform.zoom,Kt),ff=(di.x2-di.x1)*Mu+2*di.padding,tl=(di.y2-di.y1)*Mu+2*di.padding,$l=ct&&!Xe?oo:null;$l&&Qr($l);let ku={box:[],offscreen:!1,occluded:!1};const op=qe?2*Fr.length:Fr.length;for(let hf=0;hf<op;++hf){const km=this.attemptAnchorPlacement(Fr[hf%Fr.length],di,ff,tl,Mu,ut,dt,xe,K,je,hf>=Fr.length,Tt,Kt,F,ap,$l,ze,Be);if(km&&(ku=km.placedGlyphBoxes,ku&&ku.box&&ku.box.length)){Vt=!0,Zn=km.shift;break}}return ku};Jr(()=>Wi(ja,Dt.iconBox,a.WritingMode.horizontal),()=>{const di=Dt.verticalTextBox;return di&&Qr(di),F.allowVerticalPlacement&&!(Sn&&Sn.box&&Sn.box.length)&&Mt>0&&di?Wi(di,Dt.verticalIconBox,a.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),Sn&&(Vt=Sn.box,Qt=Sn.offscreen,ln=Sn.occluded);const eo=gi(!(!Sn||!Sn.box));if(!Vt&&this.prevPlacement){const di=this.prevPlacement.variableOffsets[nn];di&&(this.variableOffsets[nn]=di,this.markUsedJustification(F,di.anchor,Tt,eo))}}else{const Fr=(Wi,eo)=>{const di=F.getSymbolInstanceTextSize(ze,Tt,this.transform.zoom,Kt),oo=this.collisionIndex.placeCollisionBox(F,di,Wi,new a.Point(0,0),qe,xe,K,je.predicate);return oo&&oo.box&&oo.box.length&&(this.markUsedOrientation(F,eo,Tt),this.placedOrientations[nn]=eo),oo};Jr(()=>Fr(ja,a.WritingMode.horizontal),()=>{const Wi=Dt.verticalTextBox;return F.allowVerticalPlacement&&Mt>0&&Wi?(Qr(Wi),Fr(Wi,a.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),gi(!!(Sn&&Sn.box&&Sn.box.length))}}if(xr=Sn,Vt=xr&&xr.box&&xr.box.length>0,Qt=xr&&xr.offscreen,ln=xr&&xr.occluded,Tt.useRuntimeCollisionCircles){const gi=F.text.placedSymbolArray.get(Tt.centerJustifiedTextSymbolIndex>=0?Tt.centerJustifiedTextSymbolIndex:Tt.verticalPlacedTextSymbolIndex),Jr=a.evaluateSizeForFeature(F.textSizeData,ze,gi),Fr=U.get("text-padding");_r=this.collisionIndex.placeCollisionCircles(F,qe,gi,F.lineVertexArray,F.glyphOffsetArray,Jr,K,ee,ue,C,dt,je.predicate,Tt.collisionCircleDiameter*Jr/a.ONE_EM,Fr,this.retainedQueryData[F.bucketInstanceId].tileID),Vt=qe||_r.circles.length>0&&!_r.collisionDetected,Qt=Qt&&_r.offscreen,ln=_r.occluded}if(Dt.iconFeatureIndex&&(Zr=Dt.iconFeatureIndex),Dt.iconBox){const gi=Jr=>{Qr(Jr);const Fr=ct&&Zn?os(Zn.x,Zn.y,ut,dt,this.transform.angle):new a.Point(0,0),Wi=F.getSymbolInstanceIconSize(Be,this.transform.zoom,Tt.placedIconSymbolIndex);return this.collisionIndex.placeCollisionBox(F,Wi,Jr,Fr,Xe,xe,K,je.predicate)};jn&&jn.box&&jn.box.length&&Dt.verticalIconBox?(On=gi(Dt.verticalIconBox),sn=On.box.length>0):(On=gi(Dt.iconBox),sn=On.box.length>0),Qt=Qt&&On.offscreen,Rn=On.occluded}const Sa=Ce||Tt.numHorizontalGlyphVertices===0&&Mt===0,jo=Le||Tt.numIconVertices===0;if(Sa||jo?jo?Sa||(sn=sn&&Vt):Vt=sn&&Vt:sn=Vt=sn&&Vt,Vt&&xr&&xr.box&&this.collisionIndex.insertCollisionBox(xr.box,U.get("text-ignore-placement"),F.bucketInstanceId,jn&&jn.box&&Xr?Xr:Vr,je.ID),sn&&On&&this.collisionIndex.insertCollisionBox(On.box,U.get("icon-ignore-placement"),F.bucketInstanceId,Zr,je.ID),_r&&(Vt&&this.collisionIndex.insertCollisionCircles(_r.circles,U.get("text-ignore-placement"),F.bucketInstanceId,Vr,je.ID),C)){const gi=F.bucketInstanceId;let Jr=this.collisionCircleArrays[gi];Jr===void 0&&(Jr=this.collisionCircleArrays[gi]=new is);for(let Fr=0;Fr<_r.circles.length;Fr+=4)Jr.circles.push(_r.circles[Fr+0]),Jr.circles.push(_r.circles[Fr+1]),Jr.circles.push(_r.circles[Fr+2]),Jr.circles.push(_r.collisionDetected?1:0)}const As=F.projection.name!=="globe";bt=bt&&(As||!ln),At=At&&(As||!Rn),this.placements[nn]=new za(Vt||bt,sn||At,Qt||F.justReloaded),m.add(nn)};if(wt){const Tt=F.getSortedSymbolIndexes(this.transform.angle);for(let Kt=Tt.length-1;Kt>=0;--Kt){const Dt=Tt[Kt];an(F.symbolInstances.get(Dt),Dt,F.collisionArrays[Dt])}}else for(let Tt=d.symbolInstanceStart;Tt<d.symbolInstanceEnd;Tt++)an(F.symbolInstances.get(Tt),Tt,F.collisionArrays[Tt]);if(C&&F.bucketInstanceId in this.collisionCircleArrays){const Tt=this.collisionCircleArrays[F.bucketInstanceId];a.invert(Tt.invProjMatrix,K),Tt.viewportMatrix=this.collisionIndex.getViewportMatrix()}F.justReloaded=!1}markUsedJustification(d,m,C,A){const{leftJustifiedTextSymbolIndex:F,centerJustifiedTextSymbolIndex:U,rightJustifiedTextSymbolIndex:K,verticalPlacedTextSymbolIndex:ee,crossTileID:ue}=C,se=a.getAnchorJustification(m),xe=A===a.WritingMode.vertical?ee:se==="left"?F:se==="center"?U:se==="right"?K:-1;F>=0&&(d.text.placedSymbolArray.get(F).crossTileID=xe>=0&&F!==xe?0:ue),U>=0&&(d.text.placedSymbolArray.get(U).crossTileID=xe>=0&&U!==xe?0:ue),K>=0&&(d.text.placedSymbolArray.get(K).crossTileID=xe>=0&&K!==xe?0:ue),ee>=0&&(d.text.placedSymbolArray.get(ee).crossTileID=xe>=0&&ee!==xe?0:ue)}markUsedOrientation(d,m,C){const A=m===a.WritingMode.horizontal||m===a.WritingMode.horizontalOnly?m:0,F=m===a.WritingMode.vertical?m:0,{leftJustifiedTextSymbolIndex:U,centerJustifiedTextSymbolIndex:K,rightJustifiedTextSymbolIndex:ee,verticalPlacedTextSymbolIndex:ue}=C,se=d.text.placedSymbolArray;U>=0&&(se.get(U).placedOrientation=A),K>=0&&(se.get(K).placedOrientation=A),ee>=0&&(se.get(ee).placedOrientation=A),ue>=0&&(se.get(ue).placedOrientation=F)}commit(d){this.commitTime=d,this.zoomAtLastRecencyCheck=this.transform.zoom;const m=this.prevPlacement;let C=!1;this.prevZoomAdjustment=m?m.zoomAdjustment(this.transform.zoom):0;const A=m?m.symbolFadeChange(d):1,F=m?m.opacities:{},U=m?m.variableOffsets:{},K=m?m.placedOrientations:{};for(const ee in this.placements){const ue=this.placements[ee],se=F[ee];se?(this.opacities[ee]=new xa(se,A,ue.text,ue.icon,null,ue.clipped),C=C||ue.text!==se.text.placed||ue.icon!==se.icon.placed):(this.opacities[ee]=new xa(null,A,ue.text,ue.icon,ue.skipFade,ue.clipped),C=C||ue.text||ue.icon)}for(const ee in F){const ue=F[ee];if(!this.opacities[ee]){const se=new xa(ue,A,!1,!1);se.isHidden()||(this.opacities[ee]=se,C=C||ue.text.placed||ue.icon.placed)}}for(const ee in U)this.variableOffsets[ee]||!this.opacities[ee]||this.opacities[ee].isHidden()||(this.variableOffsets[ee]=U[ee]);for(const ee in K)this.placedOrientations[ee]||!this.opacities[ee]||this.opacities[ee].isHidden()||(this.placedOrientations[ee]=K[ee]);C?this.lastPlacementChangeTime=d:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=m?m.lastPlacementChangeTime:d)}updateLayerOpacities(d,m){const C=new Set;for(const A of m){const F=A.getBucket(d);F&&A.latestFeatureIndex&&d.id===F.layerIds[0]&&this.updateBucketOpacities(F,C,A.collisionBoxArray)}}updateBucketOpacities(d,m,C){d.hasTextData()&&d.text.opacityVertexArray.clear(),d.hasIconData()&&d.icon.opacityVertexArray.clear(),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexArray.clear(),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexArray.clear();const A=d.layers[0].layout,F=!!d.layers[0].dynamicFilter(),U=new xa(null,0,!1,!1,!0),K=A.get("text-allow-overlap"),ee=A.get("icon-allow-overlap"),ue=A.get("text-variable-anchor"),se=A.get("text-rotation-alignment")==="map",xe=A.get("text-pitch-alignment")==="map",Ae=A.get("icon-text-fit")!=="none",Fe=new xa(null,0,K&&(ee||!d.hasIconData()||A.get("icon-optional")),ee&&(K||!d.hasTextData()||A.get("text-optional")),!0);!d.collisionArrays&&C&&(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData())&&d.deserializeCollisionBoxes(C);const ze=(je,Ce,Le)=>{for(let qe=0;qe<Ce/4;qe++)je.opacityVertexArray.emplaceBack(Le)};let Be=0;for(let je=0;je<d.symbolInstances.length;je++){const Ce=d.symbolInstances.get(je),{numHorizontalGlyphVertices:Le,numVerticalGlyphVertices:qe,crossTileID:Xe,numIconVertices:ut}=Ce,dt=m.has(Xe);let ct=this.opacities[Xe];dt?ct=U:ct||(ct=Fe,this.opacities[Xe]=ct),m.add(Xe);const wt=Le>0||qe>0,bt=ut>0,At=this.placedOrientations[Xe],an=At===a.WritingMode.vertical,Tt=At===a.WritingMode.horizontal||At===a.WritingMode.horizontalOnly;if(!wt&&!bt||ct.isHidden()||Be++,wt){const Kt=bu(ct.text);ze(d.text,Le,an?mi:Kt),ze(d.text,qe,Tt?mi:Kt);const Dt=ct.text.isHidden(),{leftJustifiedTextSymbolIndex:nn,centerJustifiedTextSymbolIndex:Mt,rightJustifiedTextSymbolIndex:Vt,verticalPlacedTextSymbolIndex:sn}=Ce,Qt=d.text.placedSymbolArray,ln=Dt||an?1:0;nn>=0&&(Qt.get(nn).hidden=ln),Mt>=0&&(Qt.get(Mt).hidden=ln),Vt>=0&&(Qt.get(Vt).hidden=ln),sn>=0&&(Qt.get(sn).hidden=Dt||Tt?1:0);const Rn=this.variableOffsets[Xe];Rn&&this.markUsedJustification(d,Rn.anchor,Ce,At);const Zn=this.placedOrientations[Xe];Zn&&(this.markUsedJustification(d,"left",Ce,Zn),this.markUsedOrientation(d,Zn,Ce))}if(bt){const Kt=bu(ct.icon),{placedIconSymbolIndex:Dt,verticalPlacedIconSymbolIndex:nn}=Ce,Mt=d.icon.placedSymbolArray,Vt=ct.icon.isHidden()?1:0;Dt>=0&&(ze(d.icon,ut,an?mi:Kt),Mt.get(Dt).hidden=Vt),nn>=0&&(ze(d.icon,Ce.numVerticalIconVertices,Tt?mi:Kt),Mt.get(nn).hidden=Vt)}if(d.hasIconCollisionBoxData()||d.hasTextCollisionBoxData()){const Kt=d.collisionArrays[je];if(Kt){let Dt=new a.Point(0,0),nn=!0;if(Kt.textBox||Kt.verticalTextBox){if(ue){const Vt=this.variableOffsets[Xe];Vt?(Dt=Za(Vt.anchor,Vt.width,Vt.height,Vt.textOffset,Vt.textScale),se&&Dt._rotate(xe?this.transform.angle:-this.transform.angle)):nn=!1}F&&(nn=!ct.clipped),Kt.textBox&&wa(d.textCollisionBox.collisionVertexArray,ct.text.placed,!nn||an,Dt.x,Dt.y),Kt.verticalTextBox&&wa(d.textCollisionBox.collisionVertexArray,ct.text.placed,!nn||Tt,Dt.x,Dt.y)}const Mt=nn&&!!(!Tt&&Kt.verticalIconBox);Kt.iconBox&&wa(d.iconCollisionBox.collisionVertexArray,ct.icon.placed,Mt,Ae?Dt.x:0,Ae?Dt.y:0),Kt.verticalIconBox&&wa(d.iconCollisionBox.collisionVertexArray,ct.icon.placed,!Mt,Ae?Dt.x:0,Ae?Dt.y:0)}}}if(d.fullyClipped=Be===0,d.sortFeatures(this.transform.angle),this.retainedQueryData[d.bucketInstanceId]&&(this.retainedQueryData[d.bucketInstanceId].featureSortOrder=d.featureSortOrder),d.hasTextData()&&d.text.opacityVertexBuffer&&d.text.opacityVertexBuffer.updateData(d.text.opacityVertexArray),d.hasIconData()&&d.icon.opacityVertexBuffer&&d.icon.opacityVertexBuffer.updateData(d.icon.opacityVertexArray),d.hasIconCollisionBoxData()&&d.iconCollisionBox.collisionVertexBuffer&&d.iconCollisionBox.collisionVertexBuffer.updateData(d.iconCollisionBox.collisionVertexArray),d.hasTextCollisionBoxData()&&d.textCollisionBox.collisionVertexBuffer&&d.textCollisionBox.collisionVertexBuffer.updateData(d.textCollisionBox.collisionVertexArray),d.bucketInstanceId in this.collisionCircleArrays){const je=this.collisionCircleArrays[d.bucketInstanceId];d.placementInvProjMatrix=je.invProjMatrix,d.placementViewportMatrix=je.viewportMatrix,d.collisionCircleArray=je.circles,delete this.collisionCircleArrays[d.bucketInstanceId]}}symbolFadeChange(d){return this.fadeDuration===0?1:(d-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(d){return Math.max(0,(this.transform.zoom-d)/1.5)}hasTransitions(d){return this.stale||d-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(d,m){const C=this.zoomAtLastRecencyCheck===m?1-this.zoomAdjustment(m):1;return this.zoomAtLastRecencyCheck=m,this.commitTime+this.fadeDuration*C>d}setStale(){this.stale=!0}}function wa(x,d,m,C,A){x.emplaceBack(d?1:0,m?1:0,C||0,A||0),x.emplaceBack(d?1:0,m?1:0,C||0,A||0),x.emplaceBack(d?1:0,m?1:0,C||0,A||0),x.emplaceBack(d?1:0,m?1:0,C||0,A||0)}const wi=Math.pow(2,25),Lr=Math.pow(2,24),_u=Math.pow(2,17),Ol=Math.pow(2,16),Ei=Math.pow(2,9),Ja=Math.pow(2,8),Kd=Math.pow(2,1);function bu(x){if(x.opacity===0&&!x.placed)return 0;if(x.opacity===1&&x.placed)return 4294967295;const d=x.placed?1:0,m=Math.floor(127*x.opacity);return m*wi+d*Lr+m*_u+d*Ol+m*Ei+d*Ja+m*Kd+d}const mi=0;class xu{constructor(d){this._sortAcrossTiles=d.layout.get("symbol-z-order")!=="viewport-y"&&d.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs=new Set,this._bucketParts=[]}continuePlacement(d,m,C,A,F){const U=this._bucketParts;for(;this._currentTileIndex<d.length;)if(m.getBucketParts(U,A,d[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,F())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,U.sort((K,ee)=>K.sortKey-ee.sortKey));this._currentPartIndex<U.length;){const K=U[this._currentPartIndex];if(m.placeLayerBucketPart(K,this._seenCrossTileIDs,C,K.symbolInstanceStart===0),this._currentPartIndex++,F())return!0}return!1}}class bc{constructor(d,m,C,A,F,U,K,ee){this.placement=new Qa(d,F,U,K,ee),this._currentPlacementIndex=m.length-1,this._forceFullPlacement=C,this._showCollisionBoxes=A,this._done=!1}isDone(){return this._done}continuePlacement(d,m,C){const A=a.exported.now(),F=()=>{const U=a.exported.now()-A;return!this._forceFullPlacement&&U>2};for(;this._currentPlacementIndex>=0;){const U=m[d[this._currentPlacementIndex]],K=this.placement.collisionIndex.transform.zoom;if(U.type==="symbol"&&(!U.minzoom||U.minzoom<=K)&&(!U.maxzoom||U.maxzoom>K)){if(this._inProgressLayer||(this._inProgressLayer=new xu(U)),this._inProgressLayer.continuePlacement(C[U.source],this.placement,this._showCollisionBoxes,U,F))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(d){return this.placement.commit(d),this.placement}}const Zs=512/a.EXTENT/2;class ha{constructor(d,m,C){this.tileID=d,this.bucketInstanceId=C,this.index=new a.KDBush(m.length,16,Int32Array),this.keys=[],this.crossTileIDs=[];const A=d.canonical.x*a.EXTENT,F=d.canonical.y*a.EXTENT;for(let U=0;U<m.length;U++){const{key:K,crossTileID:ee,tileAnchorX:ue,tileAnchorY:se}=m.get(U),xe=Math.floor((A+ue)*Zs),Ae=Math.floor((F+se)*Zs);this.index.add(xe,Ae),this.keys.push(K),this.crossTileIDs.push(ee)}this.index.finish()}findMatches(d,m,C){const A=this.tileID.canonical.z<m.canonical.z?1:Math.pow(2,this.tileID.canonical.z-m.canonical.z),F=Zs/Math.pow(2,m.canonical.z-this.tileID.canonical.z),U=m.canonical.x*a.EXTENT,K=m.canonical.y*a.EXTENT;for(let ee=0;ee<d.length;ee++){const ue=d.get(ee);if(ue.crossTileID)continue;const{key:se,tileAnchorX:xe,tileAnchorY:Ae}=ue,Fe=Math.floor((U+xe)*F),ze=Math.floor((K+Ae)*F),Be=this.index.range(Fe-A,ze-A,Fe+A,ze+A);for(const je of Be){const Ce=this.crossTileIDs[je];if(this.keys[je]===se&&!C.has(Ce)){C.add(Ce),ue.crossTileID=Ce;break}}}}}class Wd{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class Gd{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(d){const m=Math.round((d-this.lng)/360);if(m!==0)for(const C in this.indexes){const A=this.indexes[C],F={};for(const U in A){const K=A[U];K.tileID=K.tileID.unwrapTo(K.tileID.wrap+m),F[K.tileID.key]=K}this.indexes[C]=F}this.lng=d}addBucket(d,m,C){if(this.indexes[d.overscaledZ]&&this.indexes[d.overscaledZ][d.key]){if(this.indexes[d.overscaledZ][d.key].bucketInstanceId===m.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(d.overscaledZ,this.indexes[d.overscaledZ][d.key])}for(let F=0;F<m.symbolInstances.length;F++)m.symbolInstances.get(F).crossTileID=0;this.usedCrossTileIDs[d.overscaledZ]||(this.usedCrossTileIDs[d.overscaledZ]=new Set);const A=this.usedCrossTileIDs[d.overscaledZ];for(const F in this.indexes){const U=this.indexes[F];if(Number(F)>d.overscaledZ)for(const K in U){const ee=U[K];ee.tileID.isChildOf(d)&&ee.findMatches(m.symbolInstances,d,A)}else{const K=U[d.scaledTo(Number(F)).key];K&&K.findMatches(m.symbolInstances,d,A)}}for(let F=0;F<m.symbolInstances.length;F++){const U=m.symbolInstances.get(F);U.crossTileID||(U.crossTileID=C.generate(),A.add(U.crossTileID))}return this.indexes[d.overscaledZ]===void 0&&(this.indexes[d.overscaledZ]={}),this.indexes[d.overscaledZ][d.key]=new ha(d,m.symbolInstances,m.bucketInstanceId),!0}removeBucketCrossTileIDs(d,m){for(const C of m.crossTileIDs)this.usedCrossTileIDs[d].delete(C)}removeStaleBuckets(d){let m=!1;for(const C in this.indexes){const A=this.indexes[C];for(const F in A)d[A[F].bucketInstanceId]||(this.removeBucketCrossTileIDs(C,A[F]),delete A[F],m=!0)}return m}}class Fo{constructor(){this.layerIndexes={},this.crossTileIDs=new Wd,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(d,m,C,A){let F=this.layerIndexes[d.id];F===void 0&&(F=this.layerIndexes[d.id]=new Gd);let U=!1;const K={};A.name!=="globe"&&F.handleWrapJump(C);for(const ee of m){const ue=ee.getBucket(d);ue&&d.id===ue.layerIds[0]&&(ue.bucketInstanceId||(ue.bucketInstanceId=++this.maxBucketInstanceId),F.addBucket(ee.tileID,ue,this.crossTileIDs)&&(U=!0),K[ue.bucketInstanceId]=!0)}return F.removeStaleBuckets(K)&&(U=!0),U}pruneUnusedLayers(d){const m={};d.forEach(C=>{m[C]=!0});for(const C in this.layerIndexes)m[C]||delete this.layerIndexes[C]}}const Ts=(x,d)=>a.emitValidationErrors(x,d&&d.filter(m=>m.identifier!=="source.canvas")),Es=a.pick(er,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),Rh=a.pick(er,["setCenter","setZoom","setBearing","setPitch"]),xc={version:8,layers:[],sources:{}},Dl={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class No extends a.Evented{constructor(d,m={}){super(),this.map=d,this.dispatcher=new he(da(),this),this.imageManager=new re,this.imageManager.setEventedParent(this),this.glyphManager=new a.GlyphManager(d._requestManager,m.localFontFamily?a.LocalGlyphMode.all:m.localIdeographFontFamily?a.LocalGlyphMode.ideographs:a.LocalGlyphMode.none,m.localFontFamily||m.localIdeographFontFamily),this.crossTileSymbolIndex=new Fo,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",a.getReferrer());const C=this;this._rtlTextPluginCallback=No.registerForPluginStateChange(A=>{C.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:A.pluginStatus,pluginURL:A.pluginURL},(F,U)=>{if(a.triggerPluginCompletionEvent(F),U&&U.every(K=>K))for(const K in C._sourceCaches){const ee=C._sourceCaches[K],ue=ee.getSource().type;ue!=="vector"&&ue!=="geojson"||ee.reload()}})}),this.on("data",A=>{if(A.dataType!=="source"||A.sourceDataType!=="metadata")return;const F=this.getSource(A.sourceId);if(F&&F.vectorLayerIds)for(const U in this._layers){const K=this._layers[U];K.source===F.id&&this._validateLayer(K)}})}loadURL(d,m={}){this.fire(new a.Event("dataloading",{dataType:"style"}));const C=typeof m.validate=="boolean"?m.validate:!a.isMapboxURL(d);d=this.map._requestManager.normalizeStyleURL(d,m.accessToken);const A=this.map._requestManager.transformRequest(d,a.ResourceType.Style);this._request=a.getJSON(A,(F,U)=>{this._request=null,F?this.fire(new a.ErrorEvent(F)):U&&this._load(U,C)})}loadJSON(d,m={}){this.fire(new a.Event("dataloading",{dataType:"style"})),this._request=a.exported.frame(()=>{this._request=null,this._load(d,m.validate!==!1)})}loadEmpty(){this.fire(new a.Event("dataloading",{dataType:"style"})),this._load(xc,!1)}_updateLayerCount(d,m){const C=m?1:-1;d.is3D()&&(this._num3DLayers+=C),d.type==="circle"&&(this._numCircleLayers+=C),d.type==="symbol"&&(this._numSymbolLayers+=C)}_load(d,m){if(m&&Ts(this,a.validateStyle(d)))return;this._loaded=!0,this.stylesheet=a.clone$1(d),this._updateMapProjection();for(const A in d.sources)this.addSource(A,d.sources[A],{validate:!1});this._changed=!1,d.sprite?this._loadSprite(d.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(d.glyphs);const C=ba(this.stylesheet.layers);this._order=C.map(A=>A.id),this._layers={},this._serializedLayers={};for(const A of C){const F=a.createStyleLayer(A);F.setEventedParent(this,{layer:{id:F.id}}),this._layers[F.id]=F,this._serializedLayers[F.id]=F.serialize(),this._updateLayerCount(F,!0)}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new G(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new a.Event("data",{dataType:"style"})),this.fire(new a.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(d){d?this.stylesheet.projection=d:delete this.stylesheet.projection,this._updateMapProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_updateMapProjection(){this.map._useExplicitProjection?this.applyProjectionUpdate():this.map._prioritizeAndUpdateProjection(null,this.stylesheet.projection)}_loadSprite(d){this._spriteRequest=function(m,C,A){let F,U,K;const ee=a.exported.devicePixelRatio>1?"@2x":"";let ue=a.getJSON(C.transformRequest(C.normalizeSpriteURL(m,ee,".json"),a.ResourceType.SpriteJSON),(Ae,Fe)=>{ue=null,K||(K=Ae,F=Fe,xe())}),se=a.getImage(C.transformRequest(C.normalizeSpriteURL(m,ee,".png"),a.ResourceType.SpriteImage),(Ae,Fe)=>{se=null,K||(K=Ae,U=Fe,xe())});function xe(){if(K)A(K);else if(F&&U){const Ae=a.exported.getImageData(U),Fe={};for(const ze in F){const{width:Be,height:je,x:Ce,y:Le,sdf:qe,pixelRatio:Xe,stretchX:ut,stretchY:dt,content:ct}=F[ze],wt=new a.RGBAImage({width:Be,height:je});a.RGBAImage.copy(Ae,wt,{x:Ce,y:Le},{x:0,y:0},{width:Be,height:je}),Fe[ze]={data:wt,pixelRatio:Xe,sdf:qe,stretchX:ut,stretchY:dt,content:ct}}A(null,Fe)}}return{cancel(){ue&&(ue.cancel(),ue=null),se&&(se.cancel(),se=null)}}}(d,this.map._requestManager,(m,C)=>{if(this._spriteRequest=null,m)this.fire(new a.ErrorEvent(m));else if(C)for(const A in C)this.imageManager.addImage(A,C[A]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new a.Event("data",{dataType:"style"}))})}_validateLayer(d){const m=this.getSource(d.source);if(!m)return;const C=d.sourceLayer;C&&(m.type==="geojson"||m.vectorLayerIds&&m.vectorLayerIds.indexOf(C)===-1)&&this.fire(new a.ErrorEvent(new Error(`Source layer "${C}" does not exist on source "${m.id}" as specified by style layer "${d.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const d in this._sourceCaches)if(!this._sourceCaches[d].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(d){const m=[];for(const C of d){const A=this._layers[C];A.type!=="custom"&&m.push(A.serialize())}return m}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const d in this._sourceCaches)if(this._sourceCaches[d].hasTransition())return!0;for(const d in this._layers)if(this._layers[d].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(d){return!!this.terrain&&(typeof d.isLayerDraped=="function"?d.isLayerDraped():Dl[d.type])}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(d){if(!this._loaded)return;const m=this._changed;if(this._changed){const A=Object.keys(this._updatedLayers),F=Object.keys(this._removedLayers);(A.length||F.length)&&this._updateWorkerLayers(A,F);for(const U in this._updatedSources){const K=this._updatedSources[U];K==="reload"?this._reloadSource(U):K==="clear"&&this._clearSource(U)}this._updateTilesForChangedImages();for(const U in this._updatedPaintProps)this._layers[U].updateTransitions(d);this.light.updateTransitions(d),this.fog&&this.fog.updateTransitions(d),this._resetUpdates()}const C={};for(const A in this._sourceCaches){const F=this._sourceCaches[A];C[A]=F.used,F.used=!1}for(const A of this._order){const F=this._layers[A];if(F.recalculate(d,this._availableImages),!F.isHidden(d.zoom)){const K=this._getLayerSourceCache(F);K&&(K.used=!0)}const U=this.map.painter;if(U){const K=F.getProgramIds();if(!K)continue;const ee=F.getProgramConfiguration(d.zoom);for(const ue of K)U.useProgram(ue,ee)}}for(const A in C){const F=this._sourceCaches[A];C[A]!==F.used&&F.getSource().fire(new a.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:F.getSource().id}))}this.light.recalculate(d),this.terrain&&this.terrain.recalculate(d),this.fog&&this.fog.recalculate(d),this.z=d.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),m&&this.fire(new a.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const d=Object.keys(this._changedImages);if(d.length){for(const m in this._sourceCaches)this._sourceCaches[m].reloadTilesForDependencies(["icons","patterns"],d);this._changedImages={}}}_updateWorkerLayers(d,m){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(d),removedIds:m})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(d){if(this._checkLoaded(),Ts(this,a.validateStyle(d)))return!1;(d=a.clone$1(d)).layers=ba(d.layers);const m=function(A,F){if(!A)return[{command:er.setStyle,args:[F]}];let U=[];try{if(!f(A.version,F.version))return[{command:er.setStyle,args:[F]}];f(A.center,F.center)||U.push({command:er.setCenter,args:[F.center]}),f(A.zoom,F.zoom)||U.push({command:er.setZoom,args:[F.zoom]}),f(A.bearing,F.bearing)||U.push({command:er.setBearing,args:[F.bearing]}),f(A.pitch,F.pitch)||U.push({command:er.setPitch,args:[F.pitch]}),f(A.sprite,F.sprite)||U.push({command:er.setSprite,args:[F.sprite]}),f(A.glyphs,F.glyphs)||U.push({command:er.setGlyphs,args:[F.glyphs]}),f(A.transition,F.transition)||U.push({command:er.setTransition,args:[F.transition]}),f(A.light,F.light)||U.push({command:er.setLight,args:[F.light]}),f(A.fog,F.fog)||U.push({command:er.setFog,args:[F.fog]}),f(A.projection,F.projection)||U.push({command:er.setProjection,args:[F.projection]});const K={},ee=[];(function(xe,Ae,Fe,ze){let Be;for(Be in Ae=Ae||{},xe=xe||{})xe.hasOwnProperty(Be)&&(Ae.hasOwnProperty(Be)||fa(Be,Fe,ze));for(Be in Ae){if(!Ae.hasOwnProperty(Be))continue;const je=Ae[Be];xe.hasOwnProperty(Be)?f(xe[Be],je)||(xe[Be].type==="geojson"&&je.type==="geojson"&&gc(xe,Ae,Be)?Fe.push({command:er.setGeoJSONSourceData,args:[Be,je.data]}):xo(Be,Ae,Fe,ze)):ci(Be,Ae,Fe)}})(A.sources,F.sources,ee,K);const ue=[];A.layers&&A.layers.forEach(xe=>{xe.source&&K[xe.source]?U.push({command:er.removeLayer,args:[xe.id]}):ue.push(xe)});let se=A.terrain;se&&K[se.source]&&(U.push({command:er.setTerrain,args:[void 0]}),se=void 0),U=U.concat(ee),f(se,F.terrain)||U.push({command:er.setTerrain,args:[F.terrain]}),function(xe,Ae,Fe){Ae=Ae||[];const ze=(xe=xe||[]).map(Ro),Be=Ae.map(Ro),je=xe.reduce(Ud,{}),Ce=Ae.reduce(Ud,{}),Le=ze.slice(),qe=Object.create(null);let Xe,ut,dt,ct,wt,bt,At;for(Xe=0,ut=0;Xe<ze.length;Xe++)dt=ze[Xe],Ce.hasOwnProperty(dt)?ut++:(Fe.push({command:er.removeLayer,args:[dt]}),Le.splice(Le.indexOf(dt,ut),1));for(Xe=0,ut=0;Xe<Be.length;Xe++)dt=Be[Be.length-1-Xe],Le[Le.length-1-Xe]!==dt&&(je.hasOwnProperty(dt)?(Fe.push({command:er.removeLayer,args:[dt]}),Le.splice(Le.lastIndexOf(dt,Le.length-ut),1)):ut++,bt=Le[Le.length-Xe],Fe.push({command:er.addLayer,args:[Ce[dt],bt]}),Le.splice(Le.length-Xe,0,dt),qe[dt]=!0);for(Xe=0;Xe<Be.length;Xe++)if(dt=Be[Xe],ct=je[dt],wt=Ce[dt],!qe[dt]&&!f(ct,wt))if(f(ct.source,wt.source)&&f(ct["source-layer"],wt["source-layer"])&&f(ct.type,wt.type)){for(At in Do(ct.layout,wt.layout,Fe,dt,null,er.setLayoutProperty),Do(ct.paint,wt.paint,Fe,dt,null,er.setPaintProperty),f(ct.filter,wt.filter)||Fe.push({command:er.setFilter,args:[dt,wt.filter]}),f(ct.minzoom,wt.minzoom)&&f(ct.maxzoom,wt.maxzoom)||Fe.push({command:er.setLayerZoomRange,args:[dt,wt.minzoom,wt.maxzoom]}),ct)ct.hasOwnProperty(At)&&At!=="layout"&&At!=="paint"&&At!=="filter"&&At!=="metadata"&&At!=="minzoom"&&At!=="maxzoom"&&(At.indexOf("paint.")===0?Do(ct[At],wt[At],Fe,dt,At.slice(6),er.setPaintProperty):f(ct[At],wt[At])||Fe.push({command:er.setLayerProperty,args:[dt,At,wt[At]]}));for(At in wt)wt.hasOwnProperty(At)&&!ct.hasOwnProperty(At)&&At!=="layout"&&At!=="paint"&&At!=="filter"&&At!=="metadata"&&At!=="minzoom"&&At!=="maxzoom"&&(At.indexOf("paint.")===0?Do(ct[At],wt[At],Fe,dt,At.slice(6),er.setPaintProperty):f(ct[At],wt[At])||Fe.push({command:er.setLayerProperty,args:[dt,At,wt[At]]}))}else Fe.push({command:er.removeLayer,args:[dt]}),bt=Le[Le.lastIndexOf(dt)+1],Fe.push({command:er.addLayer,args:[wt,bt]})}(ue,F.layers,U)}catch(K){console.warn("Unable to compute style diff:",K),U=[{command:er.setStyle,args:[F]}]}return U}(this.serialize(),d).filter(A=>!(A.command in Rh));if(m.length===0)return!1;const C=m.filter(A=>!(A.command in Es));if(C.length>0)throw new Error(`Unimplemented: ${C.map(A=>A.command).join(", ")}.`);return m.forEach(A=>{A.command!=="setTransition"&&A.command!=="setProjection"&&this[A.command].apply(this,A.args)}),this.stylesheet=d,this._updateMapProjection(),!0}addImage(d,m){return this.getImage(d)?this.fire(new a.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(d,m),this._afterImageUpdated(d),this)}updateImage(d,m){this.imageManager.updateImage(d,m)}getImage(d){return this.imageManager.getImage(d)}removeImage(d){return this.getImage(d)?(this.imageManager.removeImage(d),this._afterImageUpdated(d),this):this.fire(new a.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(d){this._availableImages=this.imageManager.listImages(),this._changedImages[d]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new a.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(d,m,C={}){if(this._checkLoaded(),this.getSource(d)!==void 0)throw new Error("There is already a source with this ID");if(!m.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(m).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(m.type)>=0&&this._validate(a.validateSource,`sources.${d}`,m,null,C))return;this.map&&this.map._collectResourceTiming&&(m.collectResourceTiming=!0);const A=Cn(d,m,this.dispatcher,this);A.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(d),source:A.serialize(),sourceId:d}));const F=U=>{const K=(U?"symbol:":"other:")+d,ee=this._sourceCaches[K]=new a.SourceCache(K,A,U);(U?this._symbolSourceCaches:this._otherSourceCaches)[d]=ee,ee.style=this,ee.onAdd(this.map)};F(!1),m.type!=="vector"&&m.type!=="geojson"||F(!0),A.onAdd&&A.onAdd(this.map),this._changed=!0}removeSource(d){this._checkLoaded();const m=this.getSource(d);if(!m)throw new Error("There is no source with this ID");for(const A in this._layers)if(this._layers[A].source===d)return this.fire(new a.ErrorEvent(new Error(`Source "${d}" cannot be removed while layer "${A}" is using it.`)));if(this.terrain&&this.terrain.get().source===d)return this.fire(new a.ErrorEvent(new Error(`Source "${d}" cannot be removed while terrain is using it.`)));const C=this._getSourceCaches(d);for(const A of C)delete this._sourceCaches[A.id],delete this._updatedSources[A.id],A.fire(new a.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:A.getSource().id})),A.setEventedParent(null),A.clearTiles();return delete this._otherSourceCaches[d],delete this._symbolSourceCaches[d],m.setEventedParent(null),m.onRemove&&m.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(d,m){this._checkLoaded(),this.getSource(d).setData(m),this._changed=!0}getSource(d){const m=this._getSourceCache(d);return m&&m.getSource()}_getSources(){const d=[];for(const m in this._otherSourceCaches){const C=this._getSourceCache(m);C&&d.push(C.getSource())}return d}addLayer(d,m,C={}){this._checkLoaded();const A=d.id;if(this.getLayer(A))return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${A}" already exists on this map`)));let F;if(d.type==="custom"){if(Ts(this,a.validateCustomStyleLayer(d)))return;F=a.createStyleLayer(d)}else{if(typeof d.source=="object"&&(this.addSource(A,d.source),d=a.clone$1(d),d=a.extend(d,{source:A})),this._validate(a.validateLayer,`layers.${A}`,d,{arrayIndex:-1},C))return;F=a.createStyleLayer(d),this._validateLayer(F),F.setEventedParent(this,{layer:{id:A}}),this._serializedLayers[F.id]=F.serialize(),this._updateLayerCount(F,!0)}const U=m?this._order.indexOf(m):this._order.length;if(m&&U===-1)return void this.fire(new a.ErrorEvent(new Error(`Layer with id "${m}" does not exist on this map.`)));this._order.splice(U,0,A),this._layerOrderChanged=!0,this._layers[A]=F;const K=this._getLayerSourceCache(F);if(this._removedLayers[A]&&F.source&&K&&F.type!=="custom"){const ee=this._removedLayers[A];delete this._removedLayers[A],ee.type!==F.type?this._updatedSources[F.source]="clear":(this._updatedSources[F.source]="reload",K.pause())}this._updateLayer(F),F.onAdd&&F.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(d,m){if(this._checkLoaded(),this._changed=!0,!this._layers[d])return void this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be moved.`)));if(d===m)return;const C=this._order.indexOf(d);this._order.splice(C,1);const A=m?this._order.indexOf(m):this._order.length;m&&A===-1?this.fire(new a.ErrorEvent(new Error(`Layer with id "${m}" does not exist on this map.`))):(this._order.splice(A,0,d),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(d){this._checkLoaded();const m=this._layers[d];if(!m)return void this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be removed.`)));m.setEventedParent(null),this._updateLayerCount(m,!1);const C=this._order.indexOf(d);this._order.splice(C,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[d]=m,delete this._layers[d],delete this._serializedLayers[d],delete this._updatedLayers[d],delete this._updatedPaintProps[d],m.onRemove&&m.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(d){return this._layers[d]}hasLayer(d){return d in this._layers}hasLayerType(d){for(const m in this._layers)if(this._layers[m].type===d)return!0;return!1}setLayerZoomRange(d,m,C){this._checkLoaded();const A=this.getLayer(d);A?A.minzoom===m&&A.maxzoom===C||(m!=null&&(A.minzoom=m),C!=null&&(A.maxzoom=C),this._updateLayer(A)):this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(d,m,C={}){this._checkLoaded();const A=this.getLayer(d);if(A){if(!f(A.filter,m))return m==null?(A.filter=void 0,void this._updateLayer(A)):void(this._validate(a.validateFilter,`layers.${A.id}.filter`,m,{layerType:A.type},C)||(A.filter=a.clone$1(m),this._updateLayer(A)))}else this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be filtered.`)))}getFilter(d){const m=this.getLayer(d);return m&&a.clone$1(m.filter)}setLayoutProperty(d,m,C,A={}){this._checkLoaded();const F=this.getLayer(d);F?f(F.getLayoutProperty(m),C)||(F.setLayoutProperty(m,C,A),this._updateLayer(F)):this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(d,m){const C=this.getLayer(d);if(C)return C.getLayoutProperty(m);this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style.`)))}setPaintProperty(d,m,C,A={}){this._checkLoaded();const F=this.getLayer(d);F?f(F.getPaintProperty(m),C)||(F.setPaintProperty(m,C,A)&&this._updateLayer(F),this._changed=!0,this._updatedPaintProps[d]=!0):this.fire(new a.ErrorEvent(new Error(`The layer '${d}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(d,m){const C=this.getLayer(d);return C&&C.getPaintProperty(m)}setFeatureState(d,m){this._checkLoaded();const C=d.source,A=d.sourceLayer,F=this.getSource(C);if(!F)return void this.fire(new a.ErrorEvent(new Error(`The source '${C}' does not exist in the map's style.`)));const U=F.type;if(U==="geojson"&&A)return void this.fire(new a.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(U==="vector"&&!A)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));d.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided.")));const K=this._getSourceCaches(C);for(const ee of K)ee.setFeatureState(A,d.id,m)}removeFeatureState(d,m){this._checkLoaded();const C=d.source,A=this.getSource(C);if(!A)return void this.fire(new a.ErrorEvent(new Error(`The source '${C}' does not exist in the map's style.`)));const F=A.type,U=F==="vector"?d.sourceLayer:void 0;if(F==="vector"&&!U)return void this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(m&&typeof d.id!="string"&&typeof d.id!="number")return void this.fire(new a.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const K=this._getSourceCaches(C);for(const ee of K)ee.removeFeatureState(U,d.id,m)}getFeatureState(d){this._checkLoaded();const m=d.source,C=d.sourceLayer,A=this.getSource(m);if(A){if(A.type!=="vector"||C)return d.id===void 0&&this.fire(new a.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(m)[0].getFeatureState(C,d.id);this.fire(new a.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new a.ErrorEvent(new Error(`The source '${m}' does not exist in the map's style.`)))}getTransition(){return a.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const d={};for(const m in this._sourceCaches){const C=this._sourceCaches[m].getSource();d[C.id]||(d[C.id]=C.serialize())}return a.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.getTerrain()||void 0,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:d,layers:this._serializeLayers(this._order)},m=>m!==void 0)}_updateLayer(d){this._updatedLayers[d.id]=!0;const m=this._getLayerSourceCache(d);d.source&&!this._updatedSources[d.source]&&m&&m.getSource().type!=="raster"&&(this._updatedSources[d.source]="reload",m.pause()),this._changed=!0,d.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(d){const m=U=>this._layers[U].type==="fill-extrusion",C={},A=[];for(let U=this._order.length-1;U>=0;U--){const K=this._order[U];if(m(K)){C[K]=U;for(const ee of d){const ue=ee[K];if(ue)for(const se of ue)A.push(se)}}}A.sort((U,K)=>K.intersectionZ-U.intersectionZ);const F=[];for(let U=this._order.length-1;U>=0;U--){const K=this._order[U];if(m(K))for(let ee=A.length-1;ee>=0;ee--){const ue=A[ee].feature;if(C[ue.layer.id]<U)break;F.push(ue),A.pop()}else for(const ee of d){const ue=ee[K];if(ue)for(const se of ue)F.push(se.feature)}}return F}queryRenderedFeatures(d,m,C){m&&m.filter&&this._validate(a.validateFilter,"queryRenderedFeatures.filter",m.filter,null,m);const A={};if(m&&m.layers){if(!Array.isArray(m.layers))return this.fire(new a.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const ee of m.layers){const ue=this._layers[ee];if(!ue)return this.fire(new a.ErrorEvent(new Error(`The layer '${ee}' does not exist in the map's style and cannot be queried for features.`))),[];A[ue.source]=!0}}const F=[];m.availableImages=this._availableImages;const U=m&&m.layers?m.layers.some(ee=>{const ue=this.getLayer(ee);return ue&&ue.is3D()}):this.has3DLayers(),K=we.createFromScreenPoints(d,C);for(const ee in this._sourceCaches){const ue=this._sourceCaches[ee].getSource().id;m.layers&&!A[ue]||F.push(nr(this._sourceCaches[ee],this._layers,this._serializedLayers,K,m,C,U,!!this.map._showQueryGeometry))}return this.placement&&F.push(function(ee,ue,se,xe,Ae,Fe,ze){const Be={},je=Fe.queryRenderedSymbols(xe),Ce=[];for(const Le of Object.keys(je).map(Number))Ce.push(ze[Le]);Ce.sort(rr);for(const Le of Ce){const qe=Le.featureIndex.lookupSymbolFeatures(je[Le.bucketInstanceId],ue,Le.bucketIndex,Le.sourceLayerIndex,Ae.filter,Ae.layers,Ae.availableImages,ee);for(const Xe in qe){const ut=Be[Xe]=Be[Xe]||[],dt=qe[Xe];dt.sort((ct,wt)=>{const bt=Le.featureSortOrder;if(bt){const At=bt.indexOf(ct.featureIndex);return bt.indexOf(wt.featureIndex)-At}return wt.featureIndex-ct.featureIndex});for(const ct of dt)ut.push(ct)}}for(const Le in Be)Be[Le].forEach(qe=>{const Xe=qe.feature,ut=se(ee[Le]);if(!ut)return;const dt=ut.getFeatureState(Xe.layer["source-layer"],Xe.id);Xe.source=Xe.layer.source,Xe.layer["source-layer"]&&(Xe.sourceLayer=Xe.layer["source-layer"]),Xe.state=dt});return Be}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),K.screenGeometry,m,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(F)}querySourceFeatures(d,m){m&&m.filter&&this._validate(a.validateFilter,"querySourceFeatures.filter",m.filter,null,m);const C=this._getSourceCaches(d);let A=[];for(const F of C)A=A.concat(qn(F,m));return A}addSourceType(d,m,C){return No.getSourceType(d)?C(new Error(`A source type called "${d}" already exists.`)):(No.setSourceType(d,m),m.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:d,url:m.workerSourceURL},C):C(null,null))}getLight(){return this.light.getLight()}setLight(d,m={}){this._checkLoaded();const C=this.light.getLight();let A=!1;for(const U in d)if(!f(d[U],C[U])){A=!0;break}if(!A)return;const F=this._setTransitionParameters({duration:300,delay:0});this.light.setLight(d,m),this.light.updateTransitions(F)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(d,m=1){if(this._checkLoaded(),!d)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);let C=d;if(m===1){if(typeof C.source=="object"){const A="terrain-dem-src";this.addSource(A,C.source),C=a.clone$1(C),C=a.extend(C,{source:A})}if(this._validate(a.validateTerrain,"terrain",C))return}if(!this.terrain||this.terrain&&m!==this.terrain.drapeRenderMode){if(!C)return;this._createTerrain(C,m)}else{const A=this.terrain,F=A.get();for(const U of Object.keys(a.spec.terrain))!C.hasOwnProperty(U)&&a.spec.terrain[U].default&&(C[U]=a.spec.terrain[U].default);for(const U in C)if(!f(C[U],F[U])){A.set(C),this.stylesheet.terrain=C;const K=this._setTransitionParameters({duration:0});A.updateTransitions(K);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(d){const m=this.fog=new ie(d,this.map.transform);this.stylesheet.fog=d;const C=this._setTransitionParameters({duration:0});m.updateTransitions(C)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const d of this.map._markers)d._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(d){if(this._checkLoaded(),!d)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const m=this.fog,C=m.get();Object.keys(d).length===0&&m.set(d);for(const A in d)if(!f(d[A],C[A])){m.set(d),this.stylesheet.fog=d;const F=this._setTransitionParameters({duration:0});m.updateTransitions(F);break}}else this._createFog(d);this._markersNeedUpdate=!0}_setTransitionParameters(d){return{now:a.exported.now(),transition:a.extend(d,this.stylesheet.transition)}}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const d=this._order.filter(C=>this.isLayerDraped(this._layers[C])),m=this._order.filter(C=>!this.isLayerDraped(this._layers[C]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...d),this._drapedFirstOrder.push(...m)}_createTerrain(d,m){const C=this.terrain=new te(d,m);this.stylesheet.terrain=d,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const A=this._setTransitionParameters({duration:0});C.updateTransitions(A)}_force3DLayerUpdate(){for(const d in this._layers){const m=this._layers[d];m.type==="fill-extrusion"&&this._updateLayer(m)}}_forceSymbolLayerUpdate(){for(const d in this._layers){const m=this._layers[d];m.type==="symbol"&&this._updateLayer(m)}}_validate(d,m,C,A,F={}){return(!F||F.validate!==!1)&&Ts(this,d.call(a.validateStyle,a.extend({key:m,style:this.serialize(),value:C,styleSpec:a.spec},A)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),a.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const d in this._layers)this._layers[d].setEventedParent(null);for(const d in this._sourceCaches)this._sourceCaches[d].clearTiles(),this._sourceCaches[d].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(d){const m=this._getSourceCaches(d);for(const C of m)C.clearTiles()}_reloadSource(d){const m=this._getSourceCaches(d);for(const C of m)C.resume(),C.reload()}_reloadSources(){for(const d of this._getSources())d.reload&&d.reload()}_updateSources(d){for(const m in this._sourceCaches)this._sourceCaches[m].update(d)}_generateCollisionBoxes(){for(const d in this._sourceCaches){const m=this._sourceCaches[d];m.resume(),m.reload()}}_updatePlacement(d,m,C,A,F=!1){let U=!1,K=!1;const ee={};for(const ue of this._order){const se=this._layers[ue];if(se.type!=="symbol")continue;if(!ee[se.source]){const Ae=this._getLayerSourceCache(se);if(!Ae)continue;ee[se.source]=Ae.getRenderableIds(!0).map(Fe=>Ae.getTileByID(Fe)).sort((Fe,ze)=>ze.tileID.overscaledZ-Fe.tileID.overscaledZ||(Fe.tileID.isLessThan(ze.tileID)?-1:1))}const xe=this.crossTileSymbolIndex.addLayer(se,ee[se.source],d.center.lng,d.projection);U=U||xe}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),F=F||this._layerOrderChanged||C===0,this._layerOrderChanged&&this.fire(new a.Event("neworder")),(F||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(a.exported.now(),d.zoom))&&(this.pauseablePlacement=new bc(d,this._order,F,m,C,A,this.placement,this.fog&&d.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,ee),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(a.exported.now()),K=!0),U&&this.pauseablePlacement.placement.setStale()),K||U)for(const ue of this._order){const se=this._layers[ue];se.type==="symbol"&&this.placement.updateLayerOpacities(se,ee[se.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(a.exported.now())}_releaseSymbolFadeTiles(){for(const d in this._sourceCaches)this._sourceCaches[d].releaseSymbolFadeTiles()}getImages(d,m,C){this.imageManager.getImages(m.icons,C),this._updateTilesForChangedImages();const A=F=>{F&&F.setDependencies(m.tileID.key,m.type,m.icons)};A(this._otherSourceCaches[m.source]),A(this._symbolSourceCaches[m.source])}getGlyphs(d,m,C){this.glyphManager.getGlyphs(m.stacks,C)}getResource(d,m,C){return a.makeRequest(m,C)}_getSourceCache(d){return this._otherSourceCaches[d]}_getLayerSourceCache(d){return d.type==="symbol"?this._symbolSourceCaches[d.source]:this._otherSourceCaches[d.source]}_getSourceCaches(d){const m=[];return this._otherSourceCaches[d]&&m.push(this._otherSourceCaches[d]),this._symbolSourceCaches[d]&&m.push(this._symbolSourceCaches[d]),m}_isSourceCacheLoaded(d){const m=this._getSourceCaches(d);return m.length===0?(this.fire(new a.ErrorEvent(new Error(`There is no source with ID '${d}'`))),!1):m.every(C=>C.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}No.getSourceType=function(x){return En[x]},No.setSourceType=function(x,d){En[x]=d},No.registerForPluginStateChange=a.registerForPluginStateChange;var qd=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0`,Ps="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}",Bo=`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
const float skirtOffset=24575.0;vec3 decomposeToPosAndSkirt(vec2 posWithComposedSkirt)
{float skirt=float(posWithComposedSkirt.x >=skirtOffset);vec2 pos=posWithComposedSkirt-vec2(skirt*skirtOffset,0.0);return vec3(pos,skirt);}
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {
#ifdef ZERO_EXAGGERATION
return 0.0;
#endif
return currentElevation(apos);}
#endif
highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,Rl=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump mat4 u_fog_matrix;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,Co=`#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;uniform mediump float u_fog_temporal_offset;varying vec3 v_fog_pos;uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform highp vec2 u_viewport;uniform float u_globe_transition;uniform int u_is_globe;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}float globe_glow_progress() {highp vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);highp vec3 dir=normalize(ray_dir);highp vec3 closest_point=dot(u_globe_pos,dir)*dir;highp float sdf=length(closest_point-u_globe_pos)/u_globe_radius;return sdf+PI*0.5;}float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity;if (u_is_globe==1) {float glow_progress=globe_glow_progress();float t=mix(glow_progress,depth,u_globe_transition);opacity=fog_opacity(fog_range(t));} else {opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);}return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`;let Ll={},Fl={};const ao=[];Nl(qd,ao),Nl(Bo,ao),Nl(Rl,ao),Nl(Co,ao),Ll=kr("",Bo),Fl=kr(Co,Rl);const So=kr(`
#if __VERSION__ >=300
#define varying in
#define gl_FragColor glFragColor
#define texture2D texture
#define textureCube texture
out vec4 glFragColor;
#endif
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}highp float unpack_depth(highp vec4 rgba_depth)
{const highp vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}`,`
#if __VERSION__ >=300
#define attribute in
#define varying out
#define texture2D texture
#endif
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),Aa=qd,wc=`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`;var Yd={background:kr(`uniform vec4 u_color;uniform float u_opacity;
#ifdef LIGHTING_3D_MODE
varying vec4 v_color;
#endif
void main() {vec4 out_color;
#ifdef LIGHTING_3D_MODE
out_color=v_color;
#else
out_color=u_color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#ifdef LIGHTING_3D_MODE
uniform vec4 u_color;varying vec4 v_color;
#endif
void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(u_color);
#endif
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:kr(`uniform vec2 u_pattern_tl;uniform vec2 u_pattern_br;uniform vec2 u_texsize;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos;void main() {vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(u_pattern_tl/u_texsize,u_pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_pattern_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:kr(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);vec4 world_center;mat3 surface_vectors;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);world_center=vec4(pos,1);
#else 
surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();vec4 occlusion_world_center;vec4 occlusion_projected_center;
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);occlusion_world_center=vec4(circle_center,cantilevered_height,1);occlusion_projected_center=u_matrix*occlusion_world_center;
#else
occlusion_world_center=world_center;occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:kr("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:kr(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
if (u_is_globe==0) {gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);}
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);vec3 pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:kr(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:kr("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:kr("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:kr("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:kr(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:kr(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:kr(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);float dist=length(v_pos_world-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;varying vec2 v_pos_world;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);v_pos_world=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:kr(`uniform vec2 u_texsize;uniform sampler2D u_image;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:kr(`varying vec4 v_color;
#ifdef RENDER_SHADOWS
varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
void main() {
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
vec3 normal=v_normal;
#endif
float z;vec4 color;
#ifdef ZERO_ROOF_RADIUS
z=float(normal.z > 0.00001);color=mix(v_color,v_roof_color,z);
#else
color=v_color;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;
#ifdef ZERO_ROOF_RADIUS
concave*=(1.0-z);
#endif
float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);color.rgb=color.rgb*shade;
#endif
#ifdef RENDER_SHADOWS
#ifdef ZERO_ROOF_RADIUS
normal=mix(normal,vec3(0.0,0.0,1.0),z);
#endif
color.xyz=shadowed_color_normal(color.xyz,normalize(normal),v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform float u_edge_radius;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying highp vec4 v_pos_light_view_0;varying highp vec4 v_pos_light_view_1;varying float v_depth;
#endif
#ifdef ZERO_ROOF_RADIUS
varying vec4 v_roof_color;
#endif
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
varying highp vec3 v_normal;
#endif
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec4 pos_nx=floor(a_pos_normal_ed*0.5);vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));
#if defined(ZERO_ROOF_RADIUS) || defined(RENDER_SHADOWS)
v_normal=normal;
#endif
base=max(0.0,base);height=max(0.0,top_up_ny.y==0.0 && top_up_ny.x==1.0 ? height-u_edge_radius : height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=0.0;float c_ele;vec3 pos;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);pos=vec3(pos_nx.xy,h);
#else
h=t > 0.0 ? height : base;pos=vec3(pos_nx.xy,h);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*h);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);
#ifdef RENDER_SHADOWS
v_pos_light_view_0=u_light_matrix_0*vec4(pos,1);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1);v_depth=gl_Position.w;
#endif
float NdotL=0.0;float colorvalue=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}v_color=vec4(0.0,0.0,0.0,1.0);
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_color=apply_lighting(color,NdotL);
#else
v_color.rgb+=clamp(color.rgb*NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_color*=u_opacity;
#ifdef ZERO_ROOF_RADIUS
v_roof_color=vec4(0.0,0.0,0.0,1.0);
#ifdef LIGHTING_3D_MODE
v_roof_color=apply_lighting(color,calculate_NdotL(vec3(0.0,0.0,1.0)));
#else
float roofNdotL=clamp(u_lightpos.z,0.0,1.0);roofNdotL=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),roofNdotL);v_roof_color.rgb+=clamp(color.rgb*roofNdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));
#endif
v_roof_color*=u_opacity;
#endif
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:kr(`uniform vec2 u_texsize;uniform sampler2D u_image;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
varying vec2 v_pos;varying vec4 v_lighting;uniform lowp float u_opacity;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 imagecoord=mod(v_pos,1.0);vec2 pos=mix(pattern_tl/u_texsize,pattern_br/u_texsize,imagecoord);vec4 out_color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color,v_NdotL)*u_opacity;
#else
out_color=out_color*v_lighting;
#endif
#ifdef FAUX_AO
float intensity=u_ao[0];float h=max(0.0,v_ao.z);float h_floors=h/u_ao[1];float y_shade=1.0-0.9*intensity*min(v_ao.y,1.0);float shade=(1.0-0.08*intensity)*(y_shade+(1.0-y_shade)*(1.0-pow(1.0-min(h_floors/16.0,1.0),16.0)))+0.08*intensity*min(h_floors/160.0,1.0);float concave=v_ao.x*v_ao.x;float x_shade=mix(1.0,mix(0.6,0.75,min(h_floors/30.0,1.0)),intensity)+0.1*intensity*min(h,1.0);shade*=mix(1.0,x_shade*x_shade*x_shade,concave);out_color.rgb=out_color.rgb*shade;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform float u_tile_units_to_pixels;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos;varying vec4 v_lighting;
#ifdef FAUX_AO
uniform lowp vec2 u_ao;varying vec3 v_ao;
#endif
#ifdef LIGHTING_3D_MODE
varying float v_NdotL;
#endif
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec4 pos_nx=floor(a_pos_normal_ed*0.5);mediump vec4 top_up_ny_start=a_pos_normal_ed-2.0*pos_nx;mediump vec3 top_up_ny=top_up_ny_start.xyz;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
float ele=0.0;float h=z;vec3 p;float c_ele;
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;ele=elevation(pos_nx.xy);c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);p=vec3(pos_nx.xy,h);
#else
p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;h+=lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,display_size,u_tile_units_to_pixels,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float NdotL=0.0;
#ifdef LIGHTING_3D_MODE
NdotL=calculate_NdotL(normal);
#else
NdotL=clamp(dot(normal,u_lightpos),0.0,1.0);NdotL=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),NdotL);
#endif
if (normal.y !=0.0) {float r=0.84;
#ifndef LIGHTING_3D_MODE
r=mix(0.7,0.98,1.0-u_lightintensity);
#endif
NdotL*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),r,1.0)));}
#ifdef FAUX_AO
float concave=pos_nx.w-floor(pos_nx.w*0.5)*2.0;float start=top_up_ny_start.w;float y_ground=1.0-clamp(t+base,0.0,1.0);float top_height=height;
#ifdef TERRAIN
top_height=mix(max(c_ele+height,ele+base+2.0),ele+height,float(centroid_pos.x==0.0))-ele;y_ground+=y_ground*5.0/max(3.0,top_height);
#endif
v_ao=vec3(mix(concave,-concave,start),y_ground,h-ele);NdotL*=(1.0+0.05*(1.0-top_up_ny.y)*u_ao[0]);
#ifdef PROJECTION_GLOBE_VIEW
top_height+=u_height_lift;
#endif
gl_Position.z-=(0.0000006*(min(top_height,500.)+2.0*min(base,500.0)+60.0*concave+3.0*start))*gl_Position.w;
#endif
#ifdef LIGHTING_3D_MODE
v_NdotL=NdotL;
#else
v_lighting.rgb+=clamp(NdotL*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#endif 
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:kr(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos+vec2(epsilon.x,0));float f=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float g=getElevation(v_pos+vec2(0,epsilon.y));float h=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+e+e+h)-(a+d+d+f),(f+g+g+h)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:kr(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef LIGHTING_3D_MODE
gl_FragColor=apply_lighting(gl_FragColor);
#endif
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:kr(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;uniform highp vec2 u_trim_offset;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;
#endif
uniform float u_border_width;uniform vec4 u_border_color;float luminance(vec3 c) {return (c.r+c.r+c.b+c.g+c.g+c.g)*0.1667;}
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
float linearstep(float edge0,float edge1,float x) {return  clamp((x-edge0)/(edge1-edge0),0.0,1.0);}void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist=texture2D(u_dash_image,v_tex).a;float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/dash.z;alpha*=linearstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
highp vec4 out_color;
#ifdef RENDER_LINE_GRADIENT
out_color=texture2D(u_gradient_image,v_uv.xy);
#else
out_color=color;
#endif
float trimmed=1.0;
#ifdef RENDER_LINE_TRIM_OFFSET
highp float start=v_uv[2];highp float end=v_uv[3];highp float trim_start=u_trim_offset[0];highp float trim_end=u_trim_offset[1];highp float line_progress=(start+(v_uv.x)*(end-start));if (trim_end > trim_start) {if (line_progress <=trim_end && line_progress >=trim_start) {out_color=vec4(0,0,0,0);trimmed=0.0;}}
#endif
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
#ifdef RENDER_LINE_BORDER
float edgeBlur=(u_border_width+1.0/u_device_pixel_ratio);float alpha2=clamp(min(dist-(v_width2.t-edgeBlur),v_width2.s-dist)/edgeBlur,0.0,1.0);if (alpha2 < 1.) {float smoothAlpha=smoothstep(0.6,1.0,alpha2);
#ifdef RENDER_LINE_BORDER_AUTO
float Y=(out_color.a > 0.01) ? luminance(out_color.rgb/out_color.a) : 1.;float adjustment=(Y > 0.) ? 0.5/Y : 0.45;if (out_color.a > 0.25 && Y < 0.25) {vec3 borderColor=(Y > 0.) ? out_color.rgb : vec3(1,1,1)*out_color.a;out_color.rgb=out_color.rgb+borderColor*(adjustment*(1.0-smoothAlpha));} else {out_color.rgb*=(0.6 +0.4*smoothAlpha);}
#else
out_color.rgb=mix(u_border_color.rgb*u_border_color.a*trimmed,out_color.rgb,smoothAlpha);
#endif
}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
attribute highp vec4 a_packed;
#endif
#ifdef RENDER_LINE_DASH
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec4 v_uv;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;varying vec2 v_tex;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#if defined(RENDER_LINE_GRADIENT) || defined(RENDER_LINE_TRIM_OFFSET)
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];highp float a_clip_start=a_packed[2];highp float a_clip_end=a_packed[3];
#ifdef RENDER_LINE_GRADIENT
highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec4(a_uv_x,a_split_index*texel_height-half_texel_height,a_clip_start,a_clip_end);
#else
v_uv=vec4(a_uv_x,0.0,a_clip_start,a_clip_end);
#endif
#endif
#ifdef RENDER_LINE_DASH
float scale=dash.z==0.0 ? 0.0 : u_tile_units_to_pixels/dash.z;float height=dash.y;v_tex=vec2(a_linesofar*scale/floorwidth,(-normal.y*height+dash.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:kr(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_tile_units_to_pixels;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl=pattern.xy;vec2 pattern_br=pattern.zw;vec2 display_size=(pattern_br-pattern_tl)/pixel_ratio;vec2 pattern_size=vec2(display_size.x/u_tile_units_to_pixels,display_size.y);float aspect=display_size.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x=mod(v_linesofar/pattern_size.x*aspect,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos=mix(pattern_tl*texel_size-texel_size,pattern_br*texel_size+texel_size,vec2(x,y));vec4 color=texture2D(u_image,pos);
#ifdef LIGHTING_3D_MODE
color=apply_lighting(color);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern
#pragma mapbox: define lowp float pixel_ratio
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern
#pragma mapbox: initialize lowp float pixel_ratio
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:kr(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef LIGHTING_3D_MODE
out_color=apply_lighting(out_color);
#endif
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:kr(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetProjected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetProjected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:kr(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point;
#ifdef PROJECTION_GLOBE_VIEW
vec3 displacement=vec3(a_globe_normal.z,0,-a_globe_normal.x);offsetprojected_point=u_matrix*vec4(a_globe_anchor+displacement,1);
#else
offsetprojected_point=u_matrix*vec4(tile_anchor+vec2(1,0),0,1);
#endif
vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:kr(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_projected_pos;attribute float a_fade_opacity;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_globe_anchor;attribute vec3 a_globe_normal;
#endif
uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec3 u_up_vector;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[3];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 tile_anchor=a_pos;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);float globe_occlusion_fade;vec3 world_pos;vec3 mercator_pos;
#ifdef PROJECTION_GLOBE_VIEW
mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);world_pos=mix_globe_mercator(a_globe_anchor+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
world_pos=vec3(tile_anchor,0)+h;globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}vec4 projected_pos;
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(a_projected_pos.xyz+h,mercator_pos,u_zoom_transition);projected_pos=u_label_plane_matrix*vec4(proj_pos,1.0);
#else
projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,h.z,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef TERRAIN
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;
#ifdef PROJECTION_GLOBE_VIEW
vec3 xAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,u_up_vector)) : vec3(1,0,0);vec3 yAxis=u_pitch_with_map ? normalize(cross(a_globe_normal,xAxis)) : vec3(0,1,0);gl_Position=mix(u_coord_matrix*vec4(projected_pos.xyz/projected_pos.w+xAxis*offset.x+yAxis*offset.y,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#else
gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));
#endif
float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:kr(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef RENDER_SHADOWS
color.xyz=shadowed_color(color.xyz,v_pos_light_view_0,v_pos_light_view_1,v_depth);
#endif
#ifdef FOG
#ifdef ZERO_EXAGGERATION
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#else
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
#ifdef RENDER_SHADOWS
uniform mat4 u_light_matrix_0;uniform mat4 u_light_matrix_1;varying vec4 v_pos_light_view_0;varying vec4 v_pos_light_view_1;varying float v_depth;
#endif
const float wireframeOffset=0.00015;void main() {vec3 decomposedPosAndSkirt=decomposeToPosAndSkirt(a_pos);float skirt=decomposedPosAndSkirt.z;vec2 decodedPos=decomposedPosAndSkirt.xy;float elevation=elevation(decodedPos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=wireframeOffset;
#endif
v_pos0=decodedPos/8192.0;gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
#ifdef ZERO_EXAGGERATION
v_fog_pos=fog_position(decodedPos);
#else
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
#endif
#ifdef RENDER_SHADOWS
vec3 pos=vec3(decodedPos,elevation);v_pos_light_view_0=u_light_matrix_0*vec4(pos,1.);v_pos_light_view_1=u_light_matrix_1*vec4(pos,1.);v_depth=gl_Position.w;
#endif
}`),terrainDepth:kr(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;varying float v_depth;void main() {float elevation=elevation(a_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:kr(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ps),skyboxGradient:kr(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,Ps),skyboxCapture:kr(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:kr(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifndef FOG
uniform highp vec3 u_frustum_tl;uniform highp vec3 u_frustum_tr;uniform highp vec3 u_frustum_br;uniform highp vec3 u_frustum_bl;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;uniform vec2 u_viewport;
#endif
void main() {vec4 color;
#ifdef CUSTOM_ANTIALIASING
vec2 uv=gl_FragCoord.xy/u_viewport;highp vec3 ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,uv.x),mix(u_frustum_bl,u_frustum_br,uv.x),1.0-uv.y);vec3 dir=normalize(ray_dir);vec3 closest_point=dot(u_globe_pos,dir)*dir;float norm_dist_from_center=1.0-length(closest_point-u_globe_pos)/u_globe_radius;const float antialias_pixel=2.0;float antialias_factor=antialias_pixel*fwidth(norm_dist_from_center);float antialias=smoothstep(0.0,antialias_factor,norm_dist_from_center);vec4 raster=texture2D(u_image0,v_pos0);color=vec4(raster.rgb*antialias,raster.a*antialias);
#else
color=texture2D(u_image0,v_pos0);
#endif
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_normalize_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;uniform float u_skirt_height;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idx=u_grid_matrix[1][2];float idy=u_grid_matrix[2][2];vec3 decomposed_pos_and_skirt=decomposeToPosAndSkirt(a_pos);vec3 latLng=u_grid_matrix*vec3(decomposed_pos_and_skirt.xy,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=mercatorX*tiles-idx;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;vec2 tile_pos=uv*EXTENT;vec3 globe_derived_up_vector=normalize(globe_pos)*u_tile_up_scale;
#ifdef GLOBE_POLES
vec3 up_vector=globe_derived_up_vector;
#else
vec3 up_vector=elevationVector(tile_pos);
#endif
float height=elevation(tile_pos);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
globe_pos+=up_vector*height;
#ifndef GLOBE_POLES
globe_pos-=globe_derived_up_vector*u_skirt_height*decomposed_pos_and_skirt.z;
#endif
#ifdef GLOBE_POLES
vec4 interpolated_pos=u_globe_matrix*vec4(globe_pos,1.0);
#else
vec4 globe_world_pos=u_globe_matrix*vec4(globe_pos,1.0);vec4 merc_world_pos=vec4(0.0);if (u_zoom_transition > 0.0) {merc_world_pos=vec4(merc_pos,height-u_skirt_height*decomposed_pos_and_skirt.z,1.0);merc_world_pos.xy-=u_merc_center;merc_world_pos.x=wrap(merc_world_pos.x,-0.5,0.5);merc_world_pos=u_merc_matrix*merc_world_pos;}vec4 interpolated_pos=vec4(mix(globe_world_pos.xyz,merc_world_pos.xyz,u_zoom_transition),1.0);
#endif
gl_Position=u_proj_matrix*interpolated_pos;
#ifdef FOG
v_fog_pos=fog_position((u_normalize_matrix*vec4(globe_pos,1.0)).xyz);
#endif
}`),globeAtmosphere:kr(`uniform float u_transition;uniform highp float u_fadeout_range;uniform highp float u_temporal_offset;uniform vec3 u_start_color;uniform vec4 u_color;uniform vec4 u_space_color;uniform vec4 u_high_color;uniform float u_star_intensity;uniform float u_star_size;uniform float u_star_density;uniform float u_horizon_angle;uniform mat4 u_rotation_matrix;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;highp float random(highp vec3 p) {p=fract(p*vec3(23.2342,97.1231,91.2342));p+=dot(p.zxy,p.yxz+123.1234);return fract(p.x*p.y);}float stars(vec3 p,float scale,vec2 offset) {vec2 uv_scale=(u_viewport/u_star_size)*scale;vec3 position=vec3(p.xy*uv_scale+offset*u_viewport,p.z);vec3 q=fract(position)-0.5;vec3 id=floor(position);float random_visibility=step(random(id),u_star_density);float circle=smoothstep(0.5+u_star_intensity,0.5,length(q));return circle*random_visibility;}void main() {highp vec3 dir=normalize(v_ray_dir);float globe_pos_dot_dir;
#ifdef PROJECTION_GLOBE_VIEW
globe_pos_dot_dir=dot(u_globe_pos,dir);highp vec3 closest_point_forward=abs(globe_pos_dot_dir)*dir;float norm_dist_from_center=length(closest_point_forward-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 0.98) {discard;return;}
#endif
highp vec3 horizon_dir=normalize(v_horizon_dir);float horizon_angle_mercator=dir.y < horizon_dir.y ?
0.0 : max(acos(dot(dir,horizon_dir)),0.0);float horizon_angle;
#ifdef PROJECTION_GLOBE_VIEW
highp vec3 closest_point=globe_pos_dot_dir*dir;float closest_point_to_center=length(closest_point-u_globe_pos);float theta=asin(clamp(closest_point_to_center/length(u_globe_pos),-1.0,1.0));horizon_angle=globe_pos_dot_dir < 0.0 ?
PI-theta-u_horizon_angle : theta-u_horizon_angle;float angle_t=pow(u_transition,10.0);horizon_angle=mix(horizon_angle,horizon_angle_mercator,angle_t);
#else
horizon_angle=horizon_angle_mercator;
#endif
horizon_angle/=PI;float t=exp(-horizon_angle/u_fadeout_range);float alpha_0=u_color.a;float alpha_1=u_high_color.a;float alpha_2=u_space_color.a;vec3 color_stop_0=u_color.rgb;vec3 color_stop_1=u_high_color.rgb;vec3 color_stop_2=u_space_color.rgb;vec3 c0=mix(color_stop_2,color_stop_1,alpha_1);vec3 c1=mix(c0,color_stop_0,alpha_0);vec3 c2=mix(c0,c1,t);vec3 c =mix(color_stop_2,c2,t);float a0=mix(alpha_2,1.0,alpha_1);float a1=mix(a0,1.0,alpha_0);float a2=mix(a0,a1,t);float a =mix(alpha_2,a2,t);vec2 uv=gl_FragCoord.xy/u_viewport-0.5;float aspect_ratio=u_viewport.x/u_viewport.y;vec4 uv_dir=vec4(normalize(vec3(uv.x*aspect_ratio,uv.y,1.0)),1.0);uv_dir=u_rotation_matrix*uv_dir;vec3 n=abs(uv_dir.xyz);vec2 uv_remap=(n.x > n.y && n.x > n.z) ? uv_dir.yz/uv_dir.x:
(n.y > n.x && n.y > n.z) ? uv_dir.zx/uv_dir.y:
uv_dir.xy/uv_dir.z;uv_remap.x/=aspect_ratio;vec3 D=vec3(uv_remap,1.0);highp float star_field=0.0;if (u_star_intensity > 0.0) {star_field+=stars(D,1.2,vec2(0.0,0.0));star_field+=stars(D,1.0,vec2(1.0,0.0));star_field+=stars(D,0.8,vec2(0.0,1.0));star_field+=stars(D,0.6,vec2(1.0,1.0));star_field*=(1.0-pow(t,0.25+(1.0-u_high_color.a)*0.75));c+=star_field*alpha_2;}c=dither(c,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=vec4(c,a);}`,`attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;uniform float u_horizon;varying highp vec3 v_ray_dir;varying highp vec3 v_horizon_dir;void main() {v_ray_dir=mix(
mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);v_horizon_dir=mix(
mix(u_frustum_tl,u_frustum_bl,u_horizon),mix(u_frustum_tr,u_frustum_br,u_horizon),a_uv.x);gl_Position=vec4(a_pos,1.0);}`)};function Nl(x,d){const m=x.replace(/\s*\/\/[^\n]*\n/g,`
`).split(`
`);for(let C of m)if(C=C.trim(),C[0]==="#"&&C.includes("if")&&!C.includes("endif")){C=C.replace("#","").replace(/ifdef|ifndef|elif|if/g,"").replace(/!|defined|\(|\)|\|\||&&/g,"").replace(/\s+/g," ").trim();const A=C.split(" ");for(const F of A)d.includes(F)||d.push(F)}}function kr(x,d){const m=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,C=d.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),A={},F=[...ao];return Nl(x,F),Nl(d,F),{fragmentSource:x=x.replace(m,(U,K,ee,ue,se)=>(A[se]=!0,K==="define"?`
#ifndef HAS_UNIFORM_u_${se}
varying ${ee} ${ue} ${se};
#else
uniform ${ee} ${ue} u_${se};
#endif
`:`
#ifdef HAS_UNIFORM_u_${se}
    ${ee} ${ue} ${se} = u_${se};
#endif
`)),vertexSource:d=d.replace(m,(U,K,ee,ue,se)=>{const xe=ue==="float"?"vec2":"vec4",Ae=se.match(/color/)?"color":xe;return A[se]?K==="define"?`
#ifndef HAS_UNIFORM_u_${se}
uniform lowp float u_${se}_t;
attribute ${ee} ${xe} a_${se};
varying ${ee} ${ue} ${se};
#else
uniform ${ee} ${ue} u_${se};
#endif
`:Ae==="vec4"?`
#ifndef HAS_UNIFORM_u_${se}
    ${se} = a_${se};
#else
    ${ee} ${ue} ${se} = u_${se};
#endif
`:`
#ifndef HAS_UNIFORM_u_${se}
    ${se} = unpack_mix_${Ae}(a_${se}, u_${se}_t);
#else
    ${ee} ${ue} ${se} = u_${se};
#endif
`:K==="define"?`
#ifndef HAS_UNIFORM_u_${se}
uniform lowp float u_${se}_t;
attribute ${ee} ${xe} a_${se};
#else
uniform ${ee} ${ue} u_${se};
#endif
`:Ae==="vec4"?`
#ifndef HAS_UNIFORM_u_${se}
    ${ee} ${ue} ${se} = a_${se};
#else
    ${ee} ${ue} ${se} = u_${se};
#endif
`:`
#ifndef HAS_UNIFORM_u_${se}
    ${ee} ${ue} ${se} = unpack_mix_${Ae}(a_${se}, u_${se}_t);
#else
    ${ee} ${ue} ${se} = u_${se};
#endif
`}),staticAttributes:C,usedDefines:F}}class Lh{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffers=[],this.vao=null}bind(d,m,C,A,F,U,K){this.context=d;let ee=this.boundPaintVertexBuffers.length!==A.length;for(let se=0;!ee&&se<A.length;se++)this.boundPaintVertexBuffers[se]!==A[se]&&(ee=!0);let ue=this.boundDynamicVertexBuffers.length!==K.length;for(let se=0;!ue&&se<K.length;se++)this.boundDynamicVertexBuffers[se]!==K[se]&&(ue=!0);if(!d.extVertexArrayObject||!this.vao||this.boundProgram!==m||this.boundLayoutVertexBuffer!==C||ee||ue||this.boundIndexBuffer!==F||this.boundVertexOffset!==U)this.freshBind(m,C,A,F,U,K);else{d.bindVertexArrayOES.set(this.vao);for(const se of K)se&&se.bind();F&&F.dynamicDraw&&F.bind()}}freshBind(d,m,C,A,F,U){let K;const ee=d.numAttributes,ue=this.context,se=ue.gl;if(ue.extVertexArrayObject)this.vao&&this.destroy(),this.vao=ue.extVertexArrayObject.createVertexArrayOES(),ue.bindVertexArrayOES.set(this.vao),K=0,this.boundProgram=d,this.boundLayoutVertexBuffer=m,this.boundPaintVertexBuffers=C,this.boundIndexBuffer=A,this.boundVertexOffset=F,this.boundDynamicVertexBuffers=U;else{K=ue.currentNumAttributes||0;for(let xe=ee;xe<K;xe++)se.disableVertexAttribArray(xe)}m.enableAttributes(se,d),m.bind(),m.setVertexAttribPointers(se,d,F);for(const xe of C)xe.enableAttributes(se,d),xe.bind(),xe.setVertexAttribPointers(se,d,F);for(const xe of U)xe&&(xe.enableAttributes(se,d),xe.bind(),xe.setVertexAttribPointers(se,d,F));A&&A.bind(),ue.currentNumAttributes=ee}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function Cc(x,d){const m=Math.pow(2,d.canonical.z),C=d.canonical.y;return[new a.MercatorCoordinate(0,C/m).toLngLat().lat,new a.MercatorCoordinate(0,(C+1)/m).toLngLat().lat]}function Sc(x,d,m,C,A,F,U){const K=x.context,ee=K.gl,ue=m.fbo;if(!ue)return;x.prepareDrawTile();const se=x.useProgram("hillshade");K.activeTexture.set(ee.TEXTURE0),ee.bindTexture(ee.TEXTURE_2D,ue.colorAttachment.get());const xe=((Be,je,Ce,Le)=>{const qe=Ce.paint.get("hillshade-shadow-color"),Xe=Ce.paint.get("hillshade-highlight-color"),ut=Ce.paint.get("hillshade-accent-color");let dt=Ce.paint.get("hillshade-illumination-direction")*(Math.PI/180);Ce.paint.get("hillshade-illumination-anchor")==="viewport"&&(dt-=Be.transform.angle);const ct=!Be.options.moving;return{u_matrix:Le||Be.transform.calculateProjMatrix(je.tileID.toUnwrapped(),ct),u_image:0,u_latrange:Cc(0,je.tileID),u_light:[Ce.paint.get("hillshade-exaggeration"),dt],u_shadow:qe,u_highlight:Xe,u_accent:ut}})(x,m,C,x.terrain?d.projMatrix:null);x.prepareDrawProgram(K,se,d.toUnwrapped());const{tileBoundsBuffer:Ae,tileBoundsIndexBuffer:Fe,tileBoundsSegments:ze}=x.getTileBoundsBuffers(m);se.draw(K,ee.TRIANGLES,A,F,U,a.CullFaceMode.disabled,xe,C.id,Ae,Fe,ze)}function wu(x,d,m){if(!d.needsDEMTextureUpload)return;const C=x.context,A=C.gl;C.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||x.getTileTexture(m.stride);const F=m.getPixels();d.demTexture?d.demTexture.update(F,{premultiply:!1}):d.demTexture=new a.Texture(C,F,A.RGBA,{premultiply:!1}),d.needsDEMTextureUpload=!1}function Bl(x,d,m,C,A,F){const U=x.context,K=U.gl;if(!d.dem)return;const ee=d.dem;if(U.activeTexture.set(K.TEXTURE1),wu(x,d,ee),!d.demTexture)return;d.demTexture.bind(K.NEAREST,K.CLAMP_TO_EDGE);const ue=ee.dim;U.activeTexture.set(K.TEXTURE0);let se=d.fbo;if(!se){const ze=new a.Texture(U,{width:ue,height:ue,data:null},K.RGBA);ze.bind(K.LINEAR,K.CLAMP_TO_EDGE),se=d.fbo=U.createFramebuffer(ue,ue,!0),se.colorAttachment.set(ze.texture)}U.bindFramebuffer.set(se.framebuffer),U.viewport.set([0,0,ue,ue]);const{tileBoundsBuffer:xe,tileBoundsIndexBuffer:Ae,tileBoundsSegments:Fe}=x.getMercatorTileBoundsBuffers();x.useProgram("hillshadePrepare").draw(U,K.TRIANGLES,C,A,F,a.CullFaceMode.disabled,((ze,Be)=>{const je=Be.stride,Ce=a.create();return a.ortho(Ce,0,a.EXTENT,-a.EXTENT,0,0,1),a.translate(Ce,Ce,[0,-a.EXTENT,0]),{u_matrix:Ce,u_image:1,u_dimension:[je,je],u_zoom:ze.overscaledZ,u_unpack:Be.unpackVector}})(d.tileID,ee),m.id,xe,Ae,Fe),d.needsHillshadePrepare=!1}const Zv=x=>({u_matrix:new a.UniformMatrix4f(x),u_image0:new a.Uniform1i(x),u_skirt_height:new a.Uniform1f(x)}),Tc=(x,d)=>({u_matrix:x,u_image0:0,u_skirt_height:d}),Fh=(x,d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze)=>({u_proj_matrix:Float32Array.from(x),u_globe_matrix:d,u_normalize_matrix:Float32Array.from(C),u_merc_matrix:m,u_zoom_transition:A,u_merc_center:F,u_image0:0,u_frustum_tl:U,u_frustum_tr:K,u_frustum_br:ee,u_frustum_bl:ue,u_globe_pos:se,u_globe_radius:xe,u_viewport:Ae,u_grid_matrix:ze?Float32Array.from(ze):new Float32Array(9),u_skirt_height:Fe});function Ec(x,d){return x!=null&&d!=null&&!(!x.hasData()||!d.hasData())&&x.demTexture!=null&&d.demTexture!=null&&x.tileID.key!==d.tileID.key}const Qs=new class{constructor(){this.operations={}}newMorphing(x,d,m,C,A){if(x in this.operations){const F=this.operations[x];F.to.tileID.key!==m.tileID.key&&(F.queued=m)}else this.operations[x]={startTime:C,phase:0,duration:A,from:d,to:m,queued:null}}getMorphValuesForProxy(x){if(!(x in this.operations))return null;const d=this.operations[x];return{from:d.from,to:d.to,phase:d.phase}}update(x){for(const d in this.operations){const m=this.operations[d];for(m.phase=(x-m.startTime)/m.duration;m.phase>=1||!this._validOp(m);)if(!this._nextOp(m,x)){delete this.operations[d];break}}}_nextOp(x,d){return!!x.queued&&(x.from=x.to,x.to=x.queued,x.queued=null,x.phase=0,x.startTime=d,!0)}_validOp(x){return x.from.hasData()&&x.to.hasData()}},Cu={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Nh(x){return 6*Math.pow(1.5,22-x)}function P0(x,d){const m=1<<x.z;return!d&&(x.x===0||x.x===m-1)||x.y===0||x.y===m-1}const Xd=x=>({u_matrix:x});function Qv(x,d,m,C,A){if(A>0){const F=a.exported.now(),U=(F-x.timeAdded)/A,K=d?(F-d.timeAdded)/A:-1,ee=m.getSource(),ue=C.coveringZoomLevel({tileSize:ee.tileSize,roundZoom:ee.roundZoom}),se=!d||Math.abs(d.tileID.overscaledZ-ue)>Math.abs(x.tileID.overscaledZ-ue),xe=se&&x.refreshedUponExpiration?1:a.clamp(se?U:1-K,0,1);return x.refreshedUponExpiration&&U>=1&&(x.refreshedUponExpiration=!1),d?{opacity:1,mix:1-xe}:{opacity:xe,mix:0}}return{opacity:1,mix:0}}class Jv extends a.SourceCache{constructor(d){const m={type:"raster-dem",maxzoom:d.transform.maxZoom},C=new he(da(),null),A=Cn("mock-dem",m,C,d.style);super("mock-dem",A,!1),A.setEventedParent(this),this._sourceLoaded=!0}_loadTile(d,m){d.state="loaded",m(null)}}class Bh extends a.SourceCache{constructor(d){const m=Cn("proxy",{type:"geojson",maxzoom:d.transform.maxZoom},new he(da(),null),d.style);super("proxy",m,!1),m.setEventedParent(this),this.map=this.getSource().map=d,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(d,m,C){if(d.freezeTileCoverage)return;this.transform=d;const A=d.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((F,U)=>{if(F[U.key]="",!this._tiles[U.key]){const K=new a.Tile(U,this._source.tileSize*U.overscaleFactor(),d.tileZoom);K.state="loaded",this._tiles[U.key]=K}return F},{});for(const F in this._tiles)F in A||(this.freeFBO(F),this._tiles[F].unloadVectorData(),delete this._tiles[F])}freeFBO(d){const m=this.proxyCachedFBO[d];if(m!==void 0){const C=Object.values(m);this.renderCachePool.push(...C),delete this.proxyCachedFBO[d]}}deallocRenderCache(){this.renderCache.forEach(d=>d.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class zh extends a.OverscaledTileID{constructor(d,m,C){super(d.overscaledZ,d.wrap,d.canonical.z,d.canonical.x,d.canonical.y),this.proxyTileKey=m,this.projMatrix=C}}class em extends a.Elevation{constructor(d,m){super(),this.painter=d,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[C,A,F]=function(ee){const ue=new a.StructArrayLayout2i4,se=new a.StructArrayLayout3ui6,xe=131;ue.reserve(17161),se.reserve(33800);const Ae=a.EXTENT/128,Fe=a.EXTENT+Ae/2,ze=Fe+Ae;for(let je=-Ae;je<ze;je+=Ae)for(let Ce=-Ae;Ce<ze;Ce+=Ae){const Le=Ce<0||Ce>Fe||je<0||je>Fe?24575:0,qe=a.clamp(Math.round(Ce),0,a.EXTENT),Xe=a.clamp(Math.round(je),0,a.EXTENT);ue.emplaceBack(qe+Le,Xe)}const Be=(je,Ce)=>{const Le=Ce*xe+je;se.emplaceBack(Le+1,Le,Le+xe),se.emplaceBack(Le+xe,Le+xe+1,Le+1)};for(let je=1;je<129;je++)for(let Ce=1;Ce<129;Ce++)Be(Ce,je);return[0,129].forEach(je=>{for(let Ce=0;Ce<130;Ce++)Be(Ce,je),Be(je,Ce)}),[ue,se,32768]}(),U=d.context;this.gridBuffer=U.createVertexBuffer(C,a.posAttributes.members),this.gridIndexBuffer=U.createIndexBuffer(A),this.gridSegments=a.SegmentVector.simpleSegment(0,0,C.length,A.length),this.gridNoSkirtSegments=a.SegmentVector.simpleSegment(0,0,C.length,F),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new Bh(m.map),this.orthoMatrix=a.create(),a.ortho(this.orthoMatrix,this.painter.transform.projection.name==="globe"?.015:0,a.EXTENT,0,a.EXTENT,0,1);const K=U.gl;this._overlapStencilMode=new a.StencilMode({func:K.GEQUAL,mask:255},0,255,K.KEEP,K.KEEP,K.REPLACE),this._previousZoom=d.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=m,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new Jv(m.map)}set style(d){d.on("data",this._onStyleDataEvent.bind(this)),d.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=d,this._checkRenderCacheEfficiency(),this._style.map.on("moveend",()=>{this._clearLineLayersFromRenderCache()})}update(d,m,C){if(d&&d.terrain){this._style!==d&&(this.style=d),this.enabled=!0;const A=d.terrain.properties;this.sourceCache=d.terrain.drapeRenderMode===0?this._mockSourceCache:d._getSourceCache(A.get("source")),this._exaggeration=A.get("exaggeration");const F=()=>{this.sourceCache.used&&a.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const U=this.getScaledDemTileSize();this.sourceCache.update(m,U,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,F(),this._initializing=!0),F(),m.updateElevation(!0,C),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(m),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(d){this._findCoveringTileCache[d]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const d=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||d.efficiency!==100&&a.warnOnce(`Terrain render cache efficiency is not optimal (${d.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${d.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(d){d.coord&&d.dataType==="source"?this._clearRenderCacheForTile(d.sourceCacheId,d.coord):d.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const d in this._style._sourceCaches)this._style._sourceCaches[d].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(d=>d.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}isUsingMockSource(){return this.sourceCache===this._mockSourceCache}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const d=2*this.proxySourceCache.getSource().tileSize;return[d,d]}set useVertexMorphing(d){this._useVertexMorphing=d}updateTileBinding(d){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const m=this.proxySourceCache,C=this.painter.transform;this._initializing&&(this._initializing=C._centerAltitude===0&&this.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(C.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const A=this.proxyCoords=m.getIds().map(ee=>{const ue=m.getTileByID(ee).tileID;return ue.projMatrix=C.calculateProjMatrix(ue.toUnwrapped()),ue});(function(ee,ue){const se=ue.transform.pointCoordinate(ue.transform.getCameraPoint()),xe=new a.Point(se.x,se.y);ee.sort((Ae,Fe)=>{if(Fe.overscaledZ-Ae.overscaledZ)return Fe.overscaledZ-Ae.overscaledZ;const ze=new a.Point(Ae.canonical.x+(1<<Ae.canonical.z)*Ae.wrap,Ae.canonical.y),Be=new a.Point(Fe.canonical.x+(1<<Fe.canonical.z)*Fe.wrap,Fe.canonical.y),je=xe.mult(1<<Ae.canonical.z);return je.x-=.5,je.y-=.5,je.distSqr(ze)-je.distSqr(Be)})})(A,this.painter),this._previousZoom=C.zoom;const F=this.proxyToSource||{};this.proxyToSource={},A.forEach(ee=>{this.proxyToSource[ee.key]={}}),this.terrainTileForTile={};const U=this._style._sourceCaches;for(const ee in U){const ue=U[ee];if(!ue.used||(ue!==this.sourceCache&&this.resetTileLookupCache(ue.id),this._setupProxiedCoordsForOrtho(ue,d[ee],F),ue.usedForTerrain))continue;const se=d[ee];ue.getSource().reparseOverscaled&&this._assignTerrainTiles(se)}this.proxiedCoords[m.id]=A.map(ee=>new zh(ee,ee.key,this.orthoMatrix)),this._assignTerrainTiles(A),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(F),this.renderingToTexture=!1,this._updateTimestamp=a.exported.now();const K={};this._visibleDemTiles=[];for(const ee of this.proxyCoords){const ue=this.terrainTileForTile[ee.key];if(!ue)continue;const se=ue.tileID.key;se in K||(this._visibleDemTiles.push(ue),K[se]=se)}}_assignTerrainTiles(d){this._initializing||d.forEach(m=>{if(this.terrainTileForTile[m.key])return;const C=this._findTileCoveringTileID(m,this.sourceCache);C&&(this.terrainTileForTile[m.key]=C)})}_prepareDEMTextures(){const d=this.painter.context,m=d.gl;for(const C in this.terrainTileForTile){const A=this.terrainTileForTile[C],F=A.dem;!F||A.demTexture&&!A.needsDEMTextureUpload||(d.activeTexture.set(m.TEXTURE1),wu(this.painter,A,F))}}_prepareDemTileUniforms(d,m,C,A){if(!m||m.demTexture==null)return!1;const F=d.tileID.canonical,U=Math.pow(2,m.tileID.canonical.z-F.z),K=A||"";return C[`u_dem_tl${K}`]=[F.x*U%1,F.y*U%1],C[`u_dem_scale${K}`]=U,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const d=this.painter.context,m=d.gl;if(!this._emptyDepthBufferTexture){const C=new a.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new a.Texture(d,C,m.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let d=0;const m=this._visibleDemTiles.reduce((C,A)=>{if(!A.dem)return C;const F=A.dem.tree.minimums[0];return F>0&&d++,C+F},0);return d?m/d:0}_updateEmptyDEMTexture(){const d=this.painter.context,m=d.gl;d.activeTexture.set(m.TEXTURE2);const C=this._getLoadedAreaMinimum(),A=new a.RGBAImage({width:1,height:1},new Uint8Array(a.DEMData.pack(C,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let F=this._emptyDEMTexture;return F?F.update(A,{premultiply:!1}):F=this._emptyDEMTexture=new a.Texture(d,A,m.RGBA,{premultiply:!1}),F}setupElevationDraw(d,m,C){const A=this.painter.context,F=A.gl,U=(K=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:a.DEMData.getUnpackVector(K),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0});var K;U.u_dem_size=this.sourceCache.getSource().tileSize,U.u_exaggeration=this.exaggeration();let ee=null,ue=null,se=1;if(C&&C.morphing&&this._useVertexMorphing){const xe=C.morphing.srcDemTile,Ae=C.morphing.dstDemTile;se=C.morphing.phase,xe&&Ae&&(this._prepareDemTileUniforms(d,xe,U,"_prev")&&(ue=xe),this._prepareDemTileUniforms(d,Ae,U)&&(ee=Ae))}if(ue&&ee?(A.activeTexture.set(F.TEXTURE2),ee.demTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE,F.NEAREST),A.activeTexture.set(F.TEXTURE4),ue.demTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE,F.NEAREST),U.u_dem_lerp=se):(ee=this.terrainTileForTile[d.tileID.key],A.activeTexture.set(F.TEXTURE2),(this._prepareDemTileUniforms(d,ee,U)?ee.demTexture:this.emptyDEMTexture).bind(F.NEAREST,F.CLAMP_TO_EDGE)),A.activeTexture.set(F.TEXTURE3),C&&C.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE),this._depthFBO&&(U.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(F.NEAREST,F.CLAMP_TO_EDGE),U.u_depth_size_inv=[1,1]),C&&C.useMeterToDem&&ee){const xe=(1<<ee.tileID.canonical.z)*a.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;U.u_meter_to_dem=xe}if(C&&C.labelPlaneMatrixInv&&(U.u_label_plane_matrix_inv=C.labelPlaneMatrixInv),m.setTerrainUniformValues(A,U),this.painter.transform.projection.name==="globe"){const xe=this.globeUniformValues(this.painter.transform,d.tileID.canonical,C&&C.useDenormalizedUpVectorScale);m.setGlobeUniformValues(A,xe)}}globeUniformValues(d,m,C){const A=d.projection;return{u_tile_tl_up:A.upVector(m,0,0),u_tile_tr_up:A.upVector(m,a.EXTENT,0),u_tile_br_up:A.upVector(m,a.EXTENT,a.EXTENT),u_tile_bl_up:A.upVector(m,0,a.EXTENT),u_tile_up_scale:C?a.globeMetersToEcef(1):A.upVectorScale(m,d.center.lat,d.worldSize).metersToTile}}renderToBackBuffer(d){const m=this.painter,C=this.painter.context;d.length!==0&&(C.bindFramebuffer.set(null),C.viewport.set([0,0,m.width,m.height]),m.gpuTimingDeferredRenderStart(),this.renderingToTexture=!1,function(A,F,U,K,ee){if(A.transform.projection.name==="globe")(function(ue,se,xe,Ae,Fe){const ze=ue.context,Be=ze.gl;let je,Ce;const Le=ue.options.showTerrainWireframe?2:0,qe=ue.transform,Xe=a.globeUseCustomAntiAliasing(ue,ze,qe),ut=(nn,Mt)=>{if(Ce===nn)return;const Vt=[Cu[nn],"PROJECTION_GLOBE_VIEW"];Xe&&Vt.push("CUSTOM_ANTIALIASING"),Mt&&Vt.push(Cu[Le]),je=ue.useProgram("globeRaster",null,Vt),Ce=nn},dt=ue.colorModeForRenderPass(),ct=new a.DepthMode(Be.LEQUAL,a.DepthMode.ReadWrite,ue.depthRangeFor3D);Qs.update(Fe);const wt=a.calculateGlobeMercatorMatrix(qe),bt=[a.mercatorXfromLng(qe.center.lng),a.mercatorYfromLat(qe.center.lat)],At=Le?[!1,!0]:[!1],an=ue.globeSharedBuffers,Tt=[qe.width*a.exported.devicePixelRatio,qe.height*a.exported.devicePixelRatio],Kt=Float32Array.from(qe.globeMatrix),Dt={useDenormalizedUpVectorScale:!0};if(At.forEach(nn=>{const Mt=ue.transform,Vt=Nh(Mt.zoom)*se.exaggeration();Ce=-1;const sn=nn?Be.LINES:Be.TRIANGLES;for(const Qt of Ae){const ln=xe.getTile(Qt),Rn=a.StencilMode.disabled,Zn=se.prevTerrainTileForTile[Qt.key],Sn=se.terrainTileForTile[Qt.key];Ec(Zn,Sn)&&Qs.newMorphing(Qt.key,Zn,Sn,Fe,250),ze.activeTexture.set(Be.TEXTURE0),ln.texture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE);const jn=Qs.getMorphValuesForProxy(Qt.key),xr=jn?1:0;jn&&a.extend$1(Dt,{morphing:{srcDemTile:jn.from,dstDemTile:jn.to,phase:a.easeCubicInOut(jn.phase)}});const _r=a.tileCornersToBounds(Qt.canonical),On=a.getLatitudinalLod(_r.getCenter().lat),Vr=a.getGridMatrix(Qt.canonical,_r,On,Mt.worldSize/Mt._pixelsPerMercatorPixel),Xr=a.globeNormalizeECEF(a.globeTileBounds(Qt.canonical)),Zr=Fh(Mt.projMatrix,Kt,wt,Xr,a.globeToMercatorTransition(Mt.zoom),bt,Mt.frustumCorners.TL,Mt.frustumCorners.TR,Mt.frustumCorners.BR,Mt.frustumCorners.BL,Mt.globeCenterInViewSpace,Mt.globeRadius,Tt,Vt,Vr);if(ut(xr,nn),se.setupElevationDraw(ln,je,Dt),ue.prepareDrawProgram(ze,je,Qt.toUnwrapped()),an){const[Qr,ja,Sa]=nn?an.getWirefameBuffers(ue.context,On):an.getGridBuffers(On,Vt!==0);je.draw(ze,sn,ct,Rn,dt,a.CullFaceMode.backCCW,Zr,"globe_raster",Qr,ja,Sa)}}}),an){const nn=["GLOBE_POLES","PROJECTION_GLOBE_VIEW"];Xe&&nn.push("CUSTOM_ANTIALIASING"),je=ue.useProgram("globeRaster",null,nn);for(const Mt of Ae){const{x:Vt,y:sn,z:Qt}=Mt.canonical,ln=sn===0,Rn=sn===(1<<Qt)-1,[Zn,Sn,jn,xr]=an.getPoleBuffers(Qt);if(xr&&(ln||Rn)){const _r=xe.getTile(Mt);ze.activeTexture.set(Be.TEXTURE0),_r.texture.bind(Be.LINEAR,Be.CLAMP_TO_EDGE);let On=a.globePoleMatrixForTile(Qt,Vt,qe);const Vr=a.globeNormalizeECEF(a.globeTileBounds(Mt.canonical)),Xr=(Zr,Qr)=>Zr.draw(ze,Be.TRIANGLES,ct,a.StencilMode.disabled,dt,a.CullFaceMode.disabled,Fh(qe.projMatrix,On,On,Vr,0,bt,qe.frustumCorners.TL,qe.frustumCorners.TR,qe.frustumCorners.BR,qe.frustumCorners.BL,qe.globeCenterInViewSpace,qe.globeRadius,Tt,0),"globe_pole_raster",Qr,jn,xr);se.setupElevationDraw(_r,je,Dt),ue.prepareDrawProgram(ze,je,Mt.toUnwrapped()),ln&&Xr(je,Zn),Rn&&(On=a.scale(a.create(),On,[1,-1,1]),Xr(je,Sn))}}}})(A,F,U,K,ee);else{const ue=A.context,se=ue.gl;let xe,Ae;const Fe=A.options.showTerrainWireframe?2:0,ze=(qe,Xe)=>{if(Ae===qe)return;const ut=[Cu[qe]];Xe&&ut.push(Cu[Fe]),xe=A.useProgram("terrainRaster",null,ut),Ae=qe},Be=A.colorModeForRenderPass(),je=new a.DepthMode(se.LEQUAL,a.DepthMode.ReadWrite,A.depthRangeFor3D);Qs.update(ee);const Ce=A.transform,Le=Nh(Ce.zoom)*F.exaggeration();(Fe?[!1,!0]:[!1]).forEach(qe=>{Ae=-1;const Xe=qe?se.LINES:se.TRIANGLES,[ut,dt]=qe?F.getWirefameBuffer():[F.gridIndexBuffer,F.gridSegments];for(const ct of K){const wt=U.getTile(ct),bt=a.StencilMode.disabled,At=F.prevTerrainTileForTile[ct.key],an=F.terrainTileForTile[ct.key];Ec(At,an)&&Qs.newMorphing(ct.key,At,an,ee,250),ue.activeTexture.set(se.TEXTURE0),wt.texture.bind(se.LINEAR,se.CLAMP_TO_EDGE,se.LINEAR_MIPMAP_NEAREST);const Tt=Qs.getMorphValuesForProxy(ct.key),Kt=Tt?1:0;let Dt;Tt&&(Dt={morphing:{srcDemTile:Tt.from,dstDemTile:Tt.to,phase:a.easeCubicInOut(Tt.phase)}});const nn=Tc(ct.projMatrix,P0(ct.canonical,Ce.renderWorldCopies)?Le/10:Le);ze(Kt,qe),F.setupElevationDraw(wt,xe,Dt),A.prepareDrawProgram(ue,xe,ct.toUnwrapped()),xe.draw(ue,Xe,je,bt,Be,a.CullFaceMode.backCCW,nn,"terrain_raster",F.gridBuffer,ut,dt)}})}}(m,this,this.proxySourceCache,d,this._updateTimestamp),this.renderingToTexture=!0,m.gpuTimingDeferredRenderEnd(),d.splice(0,d.length))}renderBatch(d){if(this._drapedRenderBatches.length===0)return d+1;this.renderingToTexture=!0;const m=this.painter,C=this.painter.context,A=this.proxySourceCache,F=this.proxiedCoords[A.id],U=this._drapedRenderBatches.shift(),K=[],ee=m.style.order;let ue=0;for(const se of F){const xe=A.getTileByID(se.proxyTileKey),Ae=A.proxyCachedFBO[se.key]?A.proxyCachedFBO[se.key][d]:void 0,Fe=Ae!==void 0?A.renderCache[Ae]:this.pool[ue++],ze=Ae!==void 0;if(xe.texture=Fe.tex,ze&&!Fe.dirty){K.push(xe.tileID);continue}let Be;C.bindFramebuffer.set(Fe.fb.framebuffer),this.renderedToTile=!1,Fe.dirty&&(C.clear({color:a.Color.transparent,stencil:0}),Fe.dirty=!1);for(let je=U.start;je<=U.end;++je){const Ce=m.style._layers[ee[je]];if(Ce.isHidden(m.transform.zoom))continue;const Le=m.style._getLayerSourceCache(Ce),qe=Le?this.proxyToSource[se.key][Le.id]:[se];if(!qe)continue;const Xe=qe;C.viewport.set([0,0,Fe.fb.width,Fe.fb.height]),Be!==(Le?Le.id:null)&&(this._setupStencil(Fe,qe,Ce,Le),Be=Le?Le.id:null),m.renderLayer(m,Le,Ce,Xe)}this.renderedToTile?(Fe.dirty=!0,K.push(xe.tileID)):ze||--ue,ue===5&&(ue=0,this.renderToBackBuffer(K))}return this.renderToBackBuffer(K),this.renderingToTexture=!1,C.bindFramebuffer.set(null),C.viewport.set([0,0,m.width,m.height]),U.end+1}postRender(){}renderCacheEfficiency(d){const m=d.order.length;if(m===0)return{efficiency:100};let C,A=0,F=0,U=!1;for(let K=0;K<m;++K){const ee=d._layers[d.order[K]];this._style.isLayerDraped(ee)?(U&&++A,++F):U||(U=!0,C=ee.id)}return F===0?{efficiency:100}:{efficiency:100*(1-A/F),firstUndrapedLayer:C}}getMinElevationBelowMSL(){let d=0;return this._visibleDemTiles.filter(m=>m.dem).forEach(m=>{d=Math.min(d,m.dem.tree.minimums[0])}),d===0?d:(d-30)*this._exaggeration}raycast(d,m,C){if(!this._visibleDemTiles)return null;const A=this._visibleDemTiles.filter(F=>F.dem).map(F=>{const U=F.tileID,K=1<<U.overscaledZ,{x:ee,y:ue}=U.canonical,se=ee/K,xe=(ee+1)/K,Ae=ue/K,Fe=(ue+1)/K;return{minx:se,miny:Ae,maxx:xe,maxy:Fe,t:F.dem.tree.raycastRoot(se,Ae,xe,Fe,d,m,C),tile:F}});A.sort((F,U)=>(F.t!==null?F.t:Number.MAX_VALUE)-(U.t!==null?U.t:Number.MAX_VALUE));for(const F of A){if(F.t==null)return null;const U=F.tile.dem.tree.raycast(F.minx,F.miny,F.maxx,F.maxy,d,m,C);if(U!=null)return U}return null}_createFBO(){const d=this.painter.context,m=d.gl,C=this.drapeBufferSize;d.activeTexture.set(m.TEXTURE0);const A=new a.Texture(d,{width:C[0],height:C[1],data:null},m.RGBA);A.bind(m.LINEAR,m.CLAMP_TO_EDGE);const F=d.createFramebuffer(C[0],C[1],!1);return F.colorAttachment.set(A.texture),F.depthAttachment=new Ye(d,F.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=d.createRenderbuffer(d.gl.DEPTH_STENCIL,C[0],C[1]),this._stencilRef=0,F.depthAttachment.set(this._sharedDepthStencil),d.clear({stencil:0})):F.depthAttachment.set(this._sharedDepthStencil),d.extTextureFilterAnisotropic&&!d.extTextureFilterAnisotropicForceOff&&m.texParameterf(m.TEXTURE_2D,d.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,d.extTextureFilterAnisotropicMax),{fb:F,tex:A,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const d in this._style._sourceCaches)if(this._style._sourceCaches[d].hasTransition())return!0;return this._style.order.some(d=>{const m=this._style._layers[d],C=m.isHidden(this.painter.transform.zoom);return m.type==="custom"?!C&&m.shouldRedrape():!C&&m.hasTransition()})}_clearLineLayersFromRenderCache(){let d=!1;for(const C of this._style._getSources())if(C instanceof Ht){d=!0;break}if(!d)return;const m={};for(let C=0;C<this._style.order.length;++C){const A=this._style._layers[this._style.order[C]],F=this._style._getLayerSourceCache(A);if(F&&!m[F.id]&&!A.isHidden(this.painter.transform.zoom)&&A.type==="line"&&A.widthExpression()instanceof a.ZoomDependentExpression){m[F.id]=!0;for(const U of this.proxyCoords){const K=this.proxyToSource[U.key][F.id];if(K)for(const ee of K)this._clearRenderCacheForTile(F.id,ee)}}}}_clearRasterLayersFromRenderCache(){let d=!1;for(const C in this._style._sourceCaches)if(this._style._sourceCaches[C]._source instanceof Ot){d=!0;break}if(!d)return;const m={};for(let C=0;C<this._style.order.length;++C){const A=this._style._layers[this._style.order[C]],F=this._style._getLayerSourceCache(A);if(!F||m[F.id]||A.isHidden(this.painter.transform.zoom)||A.type!=="raster")continue;const U=A.paint.get("raster-fade-duration");for(const K of this.proxyCoords){const ee=this.proxyToSource[K.key][F.id];if(ee)for(const ue of ee){const se=Qv(F.getTile(ue),F.findLoadedParent(ue,0),F,this.painter.transform,U);(se.opacity!==1||se.mix!==0)&&this._clearRenderCacheForTile(F.id,ue)}}}}_setupDrapedRenderBatches(){const d=this._style.order,m=d.length;if(m===0)return;const C=[];let A,F=0,U=this._style._layers[d[F]];for(;!this._style.isLayerDraped(U)&&U.isHidden(this.painter.transform.zoom)&&++F<m;)U=this._style._layers[d[F]];for(;F<m;++F){const K=this._style._layers[d[F]];K.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(K)?A===void 0&&(A=F):A!==void 0&&(C.push({start:A,end:F-1}),A=void 0))}A!==void 0&&C.push({start:A,end:F-1}),this._drapedRenderBatches=C}_setupRenderCache(d){const m=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,m.renderCache.length>m.renderCachePool.length){const U=Object.values(m.proxyCachedFBO);m.proxyCachedFBO={};for(let K=0;K<U.length;++K){const ee=Object.values(U[K]);m.renderCachePool.push(...ee)}}return}this._clearRasterLayersFromRenderCache();const C=this.proxyCoords,A=this._tilesDirty;for(let U=C.length-1;U>=0;U--){const K=C[U];if(m.getTileByID(K.key),m.proxyCachedFBO[K.key]!==void 0){const ee=d[K.key],ue=this.proxyToSource[K.key];let se=0;for(const xe in ue){const Ae=ue[xe],Fe=ee[xe];if(!Fe||Fe.length!==Ae.length||Ae.some((ze,Be)=>ze!==Fe[Be]||A[xe]&&A[xe].hasOwnProperty(ze.key))){se=-1;break}++se}for(const xe in m.proxyCachedFBO[K.key])m.renderCache[m.proxyCachedFBO[K.key][xe]].dirty=se<0||se!==Object.values(ee).length}}const F=[...this._drapedRenderBatches];F.sort((U,K)=>K.end-K.start-(U.end-U.start));for(const U of F)for(const K of C){if(m.proxyCachedFBO[K.key])continue;let ee=m.renderCachePool.pop();ee===void 0&&m.renderCache.length<50&&(ee=m.renderCache.length,m.renderCache.push(this._createFBO())),ee!==void 0&&(m.proxyCachedFBO[K.key]={},m.proxyCachedFBO[K.key][U.start]=ee,m.renderCache[ee].dirty=!0)}this._tilesDirty={}}_setupStencil(d,m,C,A){if(!A||!this._sourceTilesOverlap[A.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const F=this.painter.context,U=F.gl;if(m.length<=1)return void(this._overlapStencilType=!1);let K;if(C.isTileClipped())K=m.length,this._overlapStencilMode.test={func:U.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(m[0].overscaledZ>m[m.length-1].overscaledZ))return void(this._overlapStencilType=!1);K=1,this._overlapStencilMode.test={func:U.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+K>255&&(F.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=K,this._overlapStencilMode.ref=this._stencilRef,C.isTileClipped()&&this._renderTileClippingMasks(m,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(d){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs[d.key]),this._overlapStencilMode):a.StencilMode.disabled}_renderTileClippingMasks(d,m){const C=this.painter,A=this.painter.context,F=A.gl;C._tileClippingMaskIDs={},A.setColorMode(a.ColorMode.disabled),A.setDepthMode(a.DepthMode.disabled);const U=C.useProgram("clippingMask");for(const K of d){const ee=C._tileClippingMaskIDs[K.key]=--m;U.draw(A,F.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:F.ALWAYS,mask:0},ee,255,F.KEEP,F.KEEP,F.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,Xd(K.projMatrix),"$clipping",C.tileExtentBuffer,C.quadTriangleIndexBuffer,C.tileExtentSegments)}}pointCoordinate(d){const m=this.painter.transform;if(d.x<0||d.x>m.width||d.y<0||d.y>m.height)return null;const C=[d.x,d.y,1,1];a.transformMat4$1(C,C,m.pixelMatrixInverse),a.scale$1(C,C,1/C[3]),C[0]/=m.worldSize,C[1]/=m.worldSize;const A=m._camera.position,F=a.mercatorZfromAltitude(1,m.center.lat),U=[A[0],A[1],A[2]/F,0],K=a.subtract([],C.slice(0,3),U);a.normalize(K,K);const ee=this.raycast(U,K,this._exaggeration);return ee!==null&&ee?(a.scaleAndAdd(U,U,K,ee),U[3]=U[2],U[2]*=F,U):null}drawDepth(){const d=this.painter,m=d.context,C=this.proxySourceCache,A=Math.ceil(d.width),F=Math.ceil(d.height);if(!this._depthFBO||this._depthFBO.width===A&&this._depthFBO.height===F||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const U=m.gl,K=m.createFramebuffer(A,F,!0);m.activeTexture.set(U.TEXTURE0);const ee=new a.Texture(m,{width:A,height:F,data:null},U.RGBA);ee.bind(U.NEAREST,U.CLAMP_TO_EDGE),K.colorAttachment.set(ee.texture);const ue=m.createRenderbuffer(m.gl.DEPTH_COMPONENT16,A,F);K.depthAttachment.set(ue),this._depthFBO=K,this._depthTexture=ee}m.bindFramebuffer.set(this._depthFBO.framebuffer),m.viewport.set([0,0,A,F]),function(U,K,ee,ue){if(U.transform.projection.name==="globe")return;const se=U.context,xe=se.gl;se.clear({depth:1});const Ae=U.useProgram("terrainDepth"),Fe=new a.DepthMode(xe.LESS,a.DepthMode.ReadWrite,U.depthRangeFor3D);for(const ze of ue){const Be=ee.getTile(ze),je=Tc(ze.projMatrix,0);K.setupElevationDraw(Be,Ae),Ae.draw(se,xe.TRIANGLES,Fe,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.backCCW,je,"terrain_depth",K.gridBuffer,K.gridIndexBuffer,K.gridNoSkirtSegments)}}(d,this,C,this.proxyCoords)}_setupProxiedCoordsForOrtho(d,m,C){if(d.getSource()instanceof pn)return this._setupProxiedCoordsForImageSource(d,m,C);this._findCoveringTileCache[d.id]=this._findCoveringTileCache[d.id]||{};const A=this.proxiedCoords[d.id]=[],F=this.proxyCoords;for(let K=0;K<F.length;K++){const ee=F[K],ue=this._findTileCoveringTileID(ee,d);if(ue){const se=this._createProxiedId(ee,ue,C[ee.key]&&C[ee.key][d.id]);A.push(se),this.proxyToSource[ee.key][d.id]=[se]}}let U=!1;for(let K=0;K<m.length;K++){const ee=d.getTile(m[K]);if(!ee||!ee.hasData())continue;const ue=this._findTileCoveringTileID(ee.tileID,this.proxySourceCache);if(ue&&ue.tileID.canonical.z!==ee.tileID.canonical.z){const se=this.proxyToSource[ue.tileID.key][d.id],xe=this._createProxiedId(ue.tileID,ee,C[ue.tileID.key]&&C[ue.tileID.key][d.id]);se?se.splice(se.length-1,0,xe):this.proxyToSource[ue.tileID.key][d.id]=[xe],A.push(xe),U=!0}}this._sourceTilesOverlap[d.id]=U}_setupProxiedCoordsForImageSource(d,m,C){if(!d.getSource().loaded())return;const A=this.proxiedCoords[d.id]=[],F=this.proxyCoords,U=d.getSource(),K=new a.Point(U.tileID.x,U.tileID.y)._div(1<<U.tileID.z),ee=U.coordinates.map(a.MercatorCoordinate.fromLngLat).reduce((se,xe)=>(se.min.x=Math.min(se.min.x,xe.x-K.x),se.min.y=Math.min(se.min.y,xe.y-K.y),se.max.x=Math.max(se.max.x,xe.x-K.x),se.max.y=Math.max(se.max.y,xe.y-K.y),se),{min:new a.Point(Number.MAX_VALUE,Number.MAX_VALUE),max:new a.Point(-Number.MAX_VALUE,-Number.MAX_VALUE)}),ue=(se,xe)=>{const Ae=se.wrap+se.canonical.x/(1<<se.canonical.z),Fe=se.canonical.y/(1<<se.canonical.z),ze=a.EXTENT/(1<<se.canonical.z),Be=xe.wrap+xe.canonical.x/(1<<xe.canonical.z),je=xe.canonical.y/(1<<xe.canonical.z);return Ae+ze<Be+ee.min.x||Ae>Be+ee.max.x||Fe+ze<je+ee.min.y||Fe>je+ee.max.y};for(let se=0;se<F.length;se++){const xe=F[se];for(let Ae=0;Ae<m.length;Ae++){const Fe=d.getTile(m[Ae]);if(!Fe||!Fe.hasData()||ue(xe,Fe.tileID))continue;const ze=this._createProxiedId(xe,Fe,C[xe.key]&&C[xe.key][d.id]),Be=this.proxyToSource[xe.key][d.id];Be?Be.push(ze):this.proxyToSource[xe.key][d.id]=[ze],A.push(ze)}}}_createProxiedId(d,m,C){let A=this.orthoMatrix;if(C){const F=C.find(U=>U.key===m.tileID.key);if(F)return F}if(m.tileID.key!==d.key){const F=d.canonical.z-m.tileID.canonical.z;let U,K,ee;A=a.create();const ue=m.tileID.wrap-d.wrap<<d.overscaledZ;F>0?(U=a.EXTENT>>F,K=U*((m.tileID.canonical.x<<F)-d.canonical.x+ue),ee=U*((m.tileID.canonical.y<<F)-d.canonical.y)):(U=a.EXTENT<<-F,K=a.EXTENT*(m.tileID.canonical.x-(d.canonical.x+ue<<-F)),ee=a.EXTENT*(m.tileID.canonical.y-(d.canonical.y<<-F))),a.ortho(A,0,U,0,U,0,1),a.translate(A,A,[K,ee,0])}return new zh(m.tileID,d.key,A)}_findTileCoveringTileID(d,m){let C=m.getTile(d);if(C&&C.hasData())return C;const A=this._findCoveringTileCache[m.id],F=A[d.key];if(C=F?m.getTileByID(F):null,C&&C.hasData()||F===null)return C;let U=C?C.tileID:d,K=U.overscaledZ;const ee=m.getSource().minzoom,ue=[];if(!F){const xe=m.getSource().maxzoom;if(d.canonical.z>=xe){const Ae=d.canonical.z-xe;m.getSource().reparseOverscaled?(K=Math.max(d.canonical.z+2,m.transform.tileZoom),U=new a.OverscaledTileID(K,d.wrap,xe,d.canonical.x>>Ae,d.canonical.y>>Ae)):Ae!==0&&(K=xe,U=new a.OverscaledTileID(K,d.wrap,xe,d.canonical.x>>Ae,d.canonical.y>>Ae))}U.key!==d.key&&(ue.push(U.key),C=m.getTile(U))}const se=xe=>{ue.forEach(Ae=>{A[Ae]=xe}),ue.length=0};for(K-=1;K>=ee&&(!C||!C.hasData());K--){C&&se(C.tileID.key);const xe=U.calculateScaledKey(K);if(C=m.getTileByID(xe),C&&C.hasData())break;const Ae=A[xe];if(Ae===null)break;Ae===void 0?ue.push(xe):C=m.getTileByID(Ae)}return se(C?C.tileID.key:null),C&&C.hasData()?C:null}findDEMTileFor(d){return this.enabled?this._findTileCoveringTileID(d,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(d,m){let C=this._tilesDirty[d];C||(C=this._tilesDirty[d]={}),C[m.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const d=function(m){let C=0;const A=new a.StructArrayLayout2ui4,F=131;for(let U=1;U<129;U++){for(let K=1;K<129;K++)C=U*F+K,A.emplaceBack(C,C+1),A.emplaceBack(C,C+F),A.emplaceBack(C+1,C+F),U===128&&A.emplaceBack(C+F,C+F+1);A.emplaceBack(C+1,C+1+F)}return A}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(d),this.wireframeSegments=a.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,d.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}class Ar{static cacheKey(d,m,C,A){let F=`${m}${A?A.cacheKey:""}`;for(const U of C)d.usedDefines.includes(U)&&(F+=`/${U}`);return F}constructor(d,m,C,A,F,U){const K=d.gl;this.program=K.createProgram();const ee=function(Ce){const Le=[];for(let qe=0;qe<Ce.length;qe++){if(Ce[qe]===null)continue;const Xe=Ce[qe].split(" ");Le.push(Xe.pop())}return Le}(C.staticAttributes),ue=A?A.getBinderAttributes():[],se=ee.concat(ue);let xe=A?A.defines():[];xe=xe.concat(U.map(Ce=>`#define ${Ce}`));const Ae=d.isWebGL2?`#version 300 es
`:"",Fe=Ae+xe.concat(d.extStandardDerivatives&&Ae.length===0?`#extension GL_OES_standard_derivatives : enable
`.concat(wc):wc,wc,Aa,So.fragmentSource,Fl.fragmentSource,C.fragmentSource).join(`
`),ze=Ae+xe.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,Aa,So.vertexSource,Fl.vertexSource,Ll.vertexSource,C.vertexSource).join(`
`),Be=K.createShader(K.FRAGMENT_SHADER);if(K.isContextLost())return void(this.failedToCreate=!0);K.shaderSource(Be,Fe),K.compileShader(Be),K.attachShader(this.program,Be);const je=K.createShader(K.VERTEX_SHADER);if(K.isContextLost())this.failedToCreate=!0;else{K.shaderSource(je,ze),K.compileShader(je),K.attachShader(this.program,je),this.attributes={},this.numAttributes=se.length;for(let Ce=0;Ce<this.numAttributes;Ce++)se[Ce]&&(K.bindAttribLocation(this.program,Ce,se[Ce]),this.attributes[se[Ce]]=Ce);K.linkProgram(this.program),K.deleteShader(je),K.deleteShader(Be),this.fixedUniforms=F(d),this.binderUniforms=A?A.getUniforms(d):[],U.includes("TERRAIN")&&(this.terrainUniforms=(Ce=>({u_dem:new a.Uniform1i(Ce),u_dem_prev:new a.Uniform1i(Ce),u_dem_unpack:new a.Uniform4f(Ce),u_dem_tl:new a.Uniform2f(Ce),u_dem_scale:new a.Uniform1f(Ce),u_dem_tl_prev:new a.Uniform2f(Ce),u_dem_scale_prev:new a.Uniform1f(Ce),u_dem_size:new a.Uniform1f(Ce),u_dem_lerp:new a.Uniform1f(Ce),u_exaggeration:new a.Uniform1f(Ce),u_depth:new a.Uniform1i(Ce),u_depth_size_inv:new a.Uniform2f(Ce),u_meter_to_dem:new a.Uniform1f(Ce),u_label_plane_matrix_inv:new a.UniformMatrix4f(Ce)}))(d)),U.includes("GLOBE")&&(this.globeUniforms=(Ce=>({u_tile_tl_up:new a.Uniform3f(Ce),u_tile_tr_up:new a.Uniform3f(Ce),u_tile_br_up:new a.Uniform3f(Ce),u_tile_bl_up:new a.Uniform3f(Ce),u_tile_up_scale:new a.Uniform1f(Ce)}))(d)),U.includes("FOG")&&(this.fogUniforms=(Ce=>({u_fog_matrix:new a.UniformMatrix4f(Ce),u_fog_range:new a.Uniform2f(Ce),u_fog_color:new a.Uniform4f(Ce),u_fog_horizon_blend:new a.Uniform1f(Ce),u_fog_temporal_offset:new a.Uniform1f(Ce),u_frustum_tl:new a.Uniform3f(Ce),u_frustum_tr:new a.Uniform3f(Ce),u_frustum_br:new a.Uniform3f(Ce),u_frustum_bl:new a.Uniform3f(Ce),u_globe_pos:new a.Uniform3f(Ce),u_globe_radius:new a.Uniform1f(Ce),u_globe_transition:new a.Uniform1f(Ce),u_is_globe:new a.Uniform1i(Ce),u_viewport:new a.Uniform2f(Ce)}))(d))}}setTerrainUniformValues(d,m){if(!this.terrainUniforms)return;const C=this.terrainUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const A in m)C[A]&&C[A].set(this.program,A,m[A])}}setGlobeUniformValues(d,m){if(!this.globeUniforms)return;const C=this.globeUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const A in m)C[A]&&C[A].set(this.program,A,m[A])}}setFogUniformValues(d,m){if(!this.fogUniforms)return;const C=this.fogUniforms;if(!this.failedToCreate){d.program.set(this.program);for(const A in m)C[A].set(this.program,A,m[A])}}draw(d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be){const je=d.gl;if(this.failedToCreate)return;d.program.set(this.program),d.setDepthMode(C),d.setStencilMode(A),d.setColorMode(F),d.setCullFace(U);for(const Le of Object.keys(this.fixedUniforms))this.fixedUniforms[Le].set(this.program,Le,K[Le]);ze&&ze.setUniforms(this.program,d,this.binderUniforms,Ae,{zoom:Fe});const Ce={[je.LINES]:2,[je.TRIANGLES]:3,[je.LINE_STRIP]:1}[m];for(const Le of xe.get()){const qe=Le.vaos||(Le.vaos={});(qe[ee]||(qe[ee]=new Lh)).bind(d,this,ue,ze?ze.getPaintVertexBuffers():[],se,Le.vertexOffset,Be||[]),je.drawElements(m,Le.primitiveLength*Ce,je.UNSIGNED_SHORT,Le.primitiveOffset*Ce*2)}}}function Zd(x,d){const m=Math.pow(2,d.tileID.overscaledZ),C=d.tileSize*Math.pow(2,x.transform.tileZoom)/m,A=C*(d.tileID.canonical.x+d.tileID.wrap*m),F=C*d.tileID.canonical.y;return{u_image:0,u_texsize:d.imageAtlasTexture.size,u_tile_units_to_pixels:1/ce(d,1,x.transform.tileZoom),u_pixel_coord_upper:[A>>16,F>>16],u_pixel_coord_lower:[65535&A,65535&F]}}const M0=a.create(),tm=(x,d,m,C,A,F,U,K,ee,ue,se)=>{const xe=d.style.light,Ae=xe.properties.get("position"),Fe=[Ae.x,Ae.y,Ae.z],ze=a.create$1();xe.properties.get("anchor")==="viewport"&&(a.fromRotation(ze,-d.transform.angle),a.transformMat3(Fe,Fe,ze));const Be=xe.properties.get("color"),je=d.transform,Ce={u_matrix:x,u_lightpos:Fe,u_lightintensity:xe.properties.get("intensity"),u_lightcolor:[Be.r,Be.g,Be.b],u_vertical_gradient:+m,u_opacity:C,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:M0,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0,u_ao:A,u_edge_radius:F};return je.projection.name==="globe"&&(Ce.u_tile_id=[U.canonical.x,U.canonical.y,1<<U.canonical.z],Ce.u_zoom_transition=ee,Ce.u_inv_rot_matrix=se,Ce.u_merc_center=ue,Ce.u_up_dir=je.projection.upVector(new a.CanonicalTileID(0,0,0),ue[0]*a.EXTENT,ue[1]*a.EXTENT),Ce.u_height_lift=K),Ce},k0=(x,d,m,C,A,F,U,K,ee,ue,se,xe)=>{const Ae=tm(x,d,m,C,A,F,U,ee,ue,se,xe),Fe={u_height_factor:-Math.pow(2,U.overscaledZ)/K.tileSize/8};return a.extend(Ae,Zd(d,K),Fe)},Su=x=>({u_matrix:x}),nm=(x,d,m)=>a.extend(Su(x),Zd(d,m)),bw=(x,d)=>({u_matrix:x,u_world:d}),xw=(x,d,m,C)=>a.extend(nm(x,d,m),{u_world:C}),ww=a.create(),rm=(x,d,m,C,A,F)=>{const U=x.transform,K=U.projection.name==="globe";let ee;if(F.paint.get("circle-pitch-alignment")==="map")if(K){const se=a.globePixelsToTileUnits(U.zoom,d.canonical)*U._pixelsPerMercatorPixel;ee=Float32Array.from([se,0,0,se])}else ee=U.calculatePixelsToTileUnitsMatrix(m);else ee=new Float32Array([U.pixelsToGLUnits[0],0,0,U.pixelsToGLUnits[1]]);const ue={u_camera_to_center_distance:U.cameraToCenterDistance,u_matrix:x.translatePosMatrix(d.projMatrix,m,F.paint.get("circle-translate"),F.paint.get("circle-translate-anchor")),u_device_pixel_ratio:a.exported.devicePixelRatio,u_extrude_scale:ee,u_inv_rot_matrix:ww,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(K){ue.u_inv_rot_matrix=C,ue.u_merc_center=A,ue.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],ue.u_zoom_transition=a.globeToMercatorTransition(U.zoom);const se=A[0]*a.EXTENT,xe=A[1]*a.EXTENT;ue.u_up_dir=U.projection.upVector(new a.CanonicalTileID(0,0,0),se,xe)}return ue},im=x=>{const d=[];return x.paint.get("circle-pitch-alignment")==="map"&&d.push("PITCH_WITH_MAP"),x.paint.get("circle-pitch-scale")==="map"&&d.push("SCALE_WITH_MAP"),d},am=(x,d,m,C)=>{const A=a.EXTENT/m.tileSize;return{u_matrix:x,u_camera_to_center_distance:d.getCameraToCenterDistance(C),u_extrude_scale:[d.pixelsToGLUnits[0]/A,d.pixelsToGLUnits[1]/A]}},$h=(x,d,m=1)=>({u_matrix:x,u_color:d,u_overlay:0,u_overlay_scale:m}),A0=a.create(),I0=(x,d,m,C,A,F,U)=>{const K=x.transform,ee=K.projection.name==="globe",ue=ee?a.globePixelsToTileUnits(K.zoom,d.canonical)*K._pixelsPerMercatorPixel:ce(m,1,F),se={u_matrix:d.projMatrix,u_extrude_scale:ue,u_intensity:U,u_inv_rot_matrix:A0,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};if(ee){se.u_inv_rot_matrix=C,se.u_merc_center=A,se.u_tile_id=[d.canonical.x,d.canonical.y,1<<d.canonical.z],se.u_zoom_transition=a.globeToMercatorTransition(K.zoom);const xe=A[0]*a.EXTENT,Ae=A[1]*a.EXTENT;se.u_up_dir=K.projection.upVector(new a.CanonicalTileID(0,0,0),xe,Ae)}return se},Cw=(x,d,m,C,A,F,U)=>{const K=x.transform,ee=K.calculatePixelsToTileUnitsMatrix(d);return{u_matrix:om(x,d,m,C),u_pixels_to_tile_units:ee,u_device_pixel_ratio:F,u_units_to_pixels:[1/K.pixelsToGLUnits[0],1/K.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:A,u_texsize:Jd(m)?d.lineAtlasTexture.size:[0,0],u_tile_units_to_pixels:Pc(d,x.transform),u_alpha_discard_threshold:0,u_trim_offset:U}},Qd=(x,d,m,C,A)=>{const F=x.transform;return{u_matrix:om(x,d,m,C),u_texsize:d.imageAtlasTexture.size,u_pixels_to_tile_units:F.calculatePixelsToTileUnitsMatrix(d),u_device_pixel_ratio:A,u_image:0,u_tile_units_to_pixels:Pc(d,F),u_units_to_pixels:[1/F.pixelsToGLUnits[0],1/F.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Pc(x,d){return 1/ce(x,1,d.tileZoom)}function om(x,d,m,C){return x.translatePosMatrix(C||d.tileID.projMatrix,d,m.paint.get("line-translate"),m.paint.get("line-translate-anchor"))}function Jd(x){const d=x.paint.get("line-dasharray").value;return d.value||d.kind!=="constant"}const sm=(x,d,m,C,A,F)=>{return{u_matrix:x,u_tl_parent:d,u_scale_parent:m,u_fade_t:C.mix,u_opacity:C.opacity*A.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:A.paint.get("raster-brightness-min"),u_brightness_high:A.paint.get("raster-brightness-max"),u_saturation_factor:(K=A.paint.get("raster-saturation"),K>0?1-1/(1.001-K):-K),u_contrast_factor:(U=A.paint.get("raster-contrast"),U>0?1/(1-U):1+U),u_spin_weights:Ms(A.paint.get("raster-hue-rotate")),u_perspective_transform:F};var U,K};function Ms(x){x*=Math.PI/180;const d=Math.sin(x),m=Math.cos(x);return[(2*m+1)/3,(-Math.sqrt(3)*d-m+1)/3,(Math.sqrt(3)*d-m+1)/3]}const jh=a.create(),lm=(x,d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be)=>{const je=A.transform,Ce={u_is_size_zoom_constant:+(x==="constant"||x==="source"),u_is_size_feature_constant:+(x==="constant"||x==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:je.cameraToCenterDistance,u_rotate_symbol:+m,u_aspect_ratio:je.width/je.height,u_fade_change:A.options.fadeDuration?A.symbolFadeChange:1,u_matrix:F,u_label_plane_matrix:U,u_coord_matrix:K,u_is_text:+ee,u_pitch_with_map:+C,u_texsize:ue,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:jh,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:jh,u_up_vector:[0,-1,0]};return Be.name==="globe"&&(Ce.u_tile_id=[se.canonical.x,se.canonical.y,1<<se.canonical.z],Ce.u_zoom_transition=xe,Ce.u_inv_rot_matrix=Fe,Ce.u_merc_center=Ae,Ce.u_camera_forward=je._camera.forward(),Ce.u_ecef_origin=a.globeECEFOrigin(je.globeMatrix,se.toUnwrapped()),Ce.u_tile_matrix=Float32Array.from(je.globeMatrix),Ce.u_up_vector=ze),Ce},Vh=(x,d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be,je)=>a.extend(lm(x,d,m,C,A,F,U,K,ee,ue,xe,Ae,Fe,ze,Be,je),{u_gamma_scale:C?A.transform.cameraToCenterDistance*Math.cos(A.terrain?0:A.transform._pitch):1,u_device_pixel_ratio:a.exported.devicePixelRatio,u_is_halo:+se}),O0=(x,d,m,C,A,F,U,K,ee,ue,se,xe,Ae,Fe,ze,Be)=>a.extend(Vh(x,d,m,C,A,F,U,K,!0,ee,!0,se,xe,Ae,Fe,ze,Be),{u_texsize_icon:ue,u_texture_icon:1}),um=(x,d,m)=>({u_matrix:x,u_opacity:d,u_color:m}),Sw=(x,d,m,C,A)=>a.extend(function(F,U,K){const ee=U.imageManager.getPattern(F.toString()),{width:ue,height:se}=U.imageManager.getPixelSize(),xe=Math.pow(2,K.tileID.overscaledZ),Ae=K.tileSize*Math.pow(2,U.transform.tileZoom)/xe,Fe=Ae*(K.tileID.canonical.x+K.tileID.wrap*xe),ze=Ae*K.tileID.canonical.y;return{u_image:0,u_pattern_tl:ee.tl,u_pattern_br:ee.br,u_texsize:[ue,se],u_pattern_size:ee.displaySize,u_tile_units_to_pixels:1/ce(K,1,U.transform.tileZoom),u_pixel_coord_upper:[Fe>>16,ze>>16],u_pixel_coord_lower:[65535&Fe,65535&ze]}}(C,m,A),{u_matrix:x,u_opacity:d}),cm={fillExtrusion:x=>({u_matrix:new a.UniformMatrix4f(x),u_lightpos:new a.Uniform3f(x),u_lightintensity:new a.Uniform1f(x),u_lightcolor:new a.Uniform3f(x),u_vertical_gradient:new a.Uniform1f(x),u_opacity:new a.Uniform1f(x),u_edge_radius:new a.Uniform1f(x),u_ao:new a.Uniform2f(x),u_tile_id:new a.Uniform3f(x),u_zoom_transition:new a.Uniform1f(x),u_inv_rot_matrix:new a.UniformMatrix4f(x),u_merc_center:new a.Uniform2f(x),u_up_dir:new a.Uniform3f(x),u_height_lift:new a.Uniform1f(x)}),fillExtrusionPattern:x=>({u_matrix:new a.UniformMatrix4f(x),u_lightpos:new a.Uniform3f(x),u_lightintensity:new a.Uniform1f(x),u_lightcolor:new a.Uniform3f(x),u_vertical_gradient:new a.Uniform1f(x),u_height_factor:new a.Uniform1f(x),u_edge_radius:new a.Uniform1f(x),u_ao:new a.Uniform2f(x),u_tile_id:new a.Uniform3f(x),u_zoom_transition:new a.Uniform1f(x),u_inv_rot_matrix:new a.UniformMatrix4f(x),u_merc_center:new a.Uniform2f(x),u_up_dir:new a.Uniform3f(x),u_height_lift:new a.Uniform1f(x),u_image:new a.Uniform1i(x),u_texsize:new a.Uniform2f(x),u_pixel_coord_upper:new a.Uniform2f(x),u_pixel_coord_lower:new a.Uniform2f(x),u_tile_units_to_pixels:new a.Uniform1f(x),u_opacity:new a.Uniform1f(x)}),fill:x=>({u_matrix:new a.UniformMatrix4f(x)}),fillPattern:x=>({u_matrix:new a.UniformMatrix4f(x),u_image:new a.Uniform1i(x),u_texsize:new a.Uniform2f(x),u_pixel_coord_upper:new a.Uniform2f(x),u_pixel_coord_lower:new a.Uniform2f(x),u_tile_units_to_pixels:new a.Uniform1f(x)}),fillOutline:x=>({u_matrix:new a.UniformMatrix4f(x),u_world:new a.Uniform2f(x)}),fillOutlinePattern:x=>({u_matrix:new a.UniformMatrix4f(x),u_world:new a.Uniform2f(x),u_image:new a.Uniform1i(x),u_texsize:new a.Uniform2f(x),u_pixel_coord_upper:new a.Uniform2f(x),u_pixel_coord_lower:new a.Uniform2f(x),u_tile_units_to_pixels:new a.Uniform1f(x)}),circle:x=>({u_camera_to_center_distance:new a.Uniform1f(x),u_extrude_scale:new a.UniformMatrix2f(x),u_device_pixel_ratio:new a.Uniform1f(x),u_matrix:new a.UniformMatrix4f(x),u_inv_rot_matrix:new a.UniformMatrix4f(x),u_merc_center:new a.Uniform2f(x),u_tile_id:new a.Uniform3f(x),u_zoom_transition:new a.Uniform1f(x),u_up_dir:new a.Uniform3f(x)}),collisionBox:x=>({u_matrix:new a.UniformMatrix4f(x),u_camera_to_center_distance:new a.Uniform1f(x),u_extrude_scale:new a.Uniform2f(x)}),collisionCircle:x=>({u_matrix:new a.UniformMatrix4f(x),u_inv_matrix:new a.UniformMatrix4f(x),u_camera_to_center_distance:new a.Uniform1f(x),u_viewport_size:new a.Uniform2f(x)}),debug:x=>({u_color:new a.UniformColor(x),u_matrix:new a.UniformMatrix4f(x),u_overlay:new a.Uniform1i(x),u_overlay_scale:new a.Uniform1f(x)}),clippingMask:x=>({u_matrix:new a.UniformMatrix4f(x)}),heatmap:x=>({u_extrude_scale:new a.Uniform1f(x),u_intensity:new a.Uniform1f(x),u_matrix:new a.UniformMatrix4f(x),u_inv_rot_matrix:new a.UniformMatrix4f(x),u_merc_center:new a.Uniform2f(x),u_tile_id:new a.Uniform3f(x),u_zoom_transition:new a.Uniform1f(x),u_up_dir:new a.Uniform3f(x)}),heatmapTexture:x=>({u_image:new a.Uniform1i(x),u_color_ramp:new a.Uniform1i(x),u_opacity:new a.Uniform1f(x)}),hillshade:x=>({u_matrix:new a.UniformMatrix4f(x),u_image:new a.Uniform1i(x),u_latrange:new a.Uniform2f(x),u_light:new a.Uniform2f(x),u_shadow:new a.UniformColor(x),u_highlight:new a.UniformColor(x),u_accent:new a.UniformColor(x)}),hillshadePrepare:x=>({u_matrix:new a.UniformMatrix4f(x),u_image:new a.Uniform1i(x),u_dimension:new a.Uniform2f(x),u_zoom:new a.Uniform1f(x),u_unpack:new a.Uniform4f(x)}),line:x=>({u_matrix:new a.UniformMatrix4f(x),u_pixels_to_tile_units:new a.UniformMatrix2f(x),u_device_pixel_ratio:new a.Uniform1f(x),u_units_to_pixels:new a.Uniform2f(x),u_dash_image:new a.Uniform1i(x),u_gradient_image:new a.Uniform1i(x),u_image_height:new a.Uniform1f(x),u_texsize:new a.Uniform2f(x),u_tile_units_to_pixels:new a.Uniform1f(x),u_alpha_discard_threshold:new a.Uniform1f(x),u_trim_offset:new a.Uniform2f(x)}),linePattern:x=>({u_matrix:new a.UniformMatrix4f(x),u_texsize:new a.Uniform2f(x),u_pixels_to_tile_units:new a.UniformMatrix2f(x),u_device_pixel_ratio:new a.Uniform1f(x),u_image:new a.Uniform1i(x),u_units_to_pixels:new a.Uniform2f(x),u_tile_units_to_pixels:new a.Uniform1f(x),u_alpha_discard_threshold:new a.Uniform1f(x)}),raster:x=>({u_matrix:new a.UniformMatrix4f(x),u_tl_parent:new a.Uniform2f(x),u_scale_parent:new a.Uniform1f(x),u_fade_t:new a.Uniform1f(x),u_opacity:new a.Uniform1f(x),u_image0:new a.Uniform1i(x),u_image1:new a.Uniform1i(x),u_brightness_low:new a.Uniform1f(x),u_brightness_high:new a.Uniform1f(x),u_saturation_factor:new a.Uniform1f(x),u_contrast_factor:new a.Uniform1f(x),u_spin_weights:new a.Uniform3f(x),u_perspective_transform:new a.Uniform2f(x)}),symbolIcon:x=>({u_is_size_zoom_constant:new a.Uniform1i(x),u_is_size_feature_constant:new a.Uniform1i(x),u_size_t:new a.Uniform1f(x),u_size:new a.Uniform1f(x),u_camera_to_center_distance:new a.Uniform1f(x),u_rotate_symbol:new a.Uniform1i(x),u_aspect_ratio:new a.Uniform1f(x),u_fade_change:new a.Uniform1f(x),u_matrix:new a.UniformMatrix4f(x),u_label_plane_matrix:new a.UniformMatrix4f(x),u_coord_matrix:new a.UniformMatrix4f(x),u_is_text:new a.Uniform1i(x),u_pitch_with_map:new a.Uniform1i(x),u_texsize:new a.Uniform2f(x),u_tile_id:new a.Uniform3f(x),u_zoom_transition:new a.Uniform1f(x),u_inv_rot_matrix:new a.UniformMatrix4f(x),u_merc_center:new a.Uniform2f(x),u_camera_forward:new a.Uniform3f(x),u_tile_matrix:new a.UniformMatrix4f(x),u_up_vector:new a.Uniform3f(x),u_ecef_origin:new a.Uniform3f(x),u_texture:new a.Uniform1i(x)}),symbolSDF:x=>({u_is_size_zoom_constant:new a.Uniform1i(x),u_is_size_feature_constant:new a.Uniform1i(x),u_size_t:new a.Uniform1f(x),u_size:new a.Uniform1f(x),u_camera_to_center_distance:new a.Uniform1f(x),u_rotate_symbol:new a.Uniform1i(x),u_aspect_ratio:new a.Uniform1f(x),u_fade_change:new a.Uniform1f(x),u_matrix:new a.UniformMatrix4f(x),u_label_plane_matrix:new a.UniformMatrix4f(x),u_coord_matrix:new a.UniformMatrix4f(x),u_is_text:new a.Uniform1i(x),u_pitch_with_map:new a.Uniform1i(x),u_texsize:new a.Uniform2f(x),u_texture:new a.Uniform1i(x),u_gamma_scale:new a.Uniform1f(x),u_device_pixel_ratio:new a.Uniform1f(x),u_tile_id:new a.Uniform3f(x),u_zoom_transition:new a.Uniform1f(x),u_inv_rot_matrix:new a.UniformMatrix4f(x),u_merc_center:new a.Uniform2f(x),u_camera_forward:new a.Uniform3f(x),u_tile_matrix:new a.UniformMatrix4f(x),u_up_vector:new a.Uniform3f(x),u_ecef_origin:new a.Uniform3f(x),u_is_halo:new a.Uniform1i(x)}),symbolTextAndIcon:x=>({u_is_size_zoom_constant:new a.Uniform1i(x),u_is_size_feature_constant:new a.Uniform1i(x),u_size_t:new a.Uniform1f(x),u_size:new a.Uniform1f(x),u_camera_to_center_distance:new a.Uniform1f(x),u_rotate_symbol:new a.Uniform1i(x),u_aspect_ratio:new a.Uniform1f(x),u_fade_change:new a.Uniform1f(x),u_matrix:new a.UniformMatrix4f(x),u_label_plane_matrix:new a.UniformMatrix4f(x),u_coord_matrix:new a.UniformMatrix4f(x),u_is_text:new a.Uniform1i(x),u_pitch_with_map:new a.Uniform1i(x),u_texsize:new a.Uniform2f(x),u_texsize_icon:new a.Uniform2f(x),u_texture:new a.Uniform1i(x),u_texture_icon:new a.Uniform1i(x),u_gamma_scale:new a.Uniform1f(x),u_device_pixel_ratio:new a.Uniform1f(x),u_is_halo:new a.Uniform1i(x)}),background:x=>({u_matrix:new a.UniformMatrix4f(x),u_opacity:new a.Uniform1f(x),u_color:new a.UniformColor(x)}),backgroundPattern:x=>({u_matrix:new a.UniformMatrix4f(x),u_opacity:new a.Uniform1f(x),u_image:new a.Uniform1i(x),u_pattern_tl:new a.Uniform2f(x),u_pattern_br:new a.Uniform2f(x),u_texsize:new a.Uniform2f(x),u_pattern_size:new a.Uniform2f(x),u_pixel_coord_upper:new a.Uniform2f(x),u_pixel_coord_lower:new a.Uniform2f(x),u_tile_units_to_pixels:new a.Uniform1f(x)}),terrainRaster:Zv,terrainDepth:Zv,skybox:x=>({u_matrix:new a.UniformMatrix4f(x),u_sun_direction:new a.Uniform3f(x),u_cubemap:new a.Uniform1i(x),u_opacity:new a.Uniform1f(x),u_temporal_offset:new a.Uniform1f(x)}),skyboxGradient:x=>({u_matrix:new a.UniformMatrix4f(x),u_color_ramp:new a.Uniform1i(x),u_center_direction:new a.Uniform3f(x),u_radius:new a.Uniform1f(x),u_opacity:new a.Uniform1f(x),u_temporal_offset:new a.Uniform1f(x)}),skyboxCapture:x=>({u_matrix_3f:new a.UniformMatrix3f(x),u_sun_direction:new a.Uniform3f(x),u_sun_intensity:new a.Uniform1f(x),u_color_tint_r:new a.Uniform4f(x),u_color_tint_m:new a.Uniform4f(x),u_luminance:new a.Uniform1f(x)}),globeRaster:x=>({u_proj_matrix:new a.UniformMatrix4f(x),u_globe_matrix:new a.UniformMatrix4f(x),u_normalize_matrix:new a.UniformMatrix4f(x),u_merc_matrix:new a.UniformMatrix4f(x),u_zoom_transition:new a.Uniform1f(x),u_merc_center:new a.Uniform2f(x),u_image0:new a.Uniform1i(x),u_grid_matrix:new a.UniformMatrix3f(x),u_skirt_height:new a.Uniform1f(x),u_frustum_tl:new a.Uniform3f(x),u_frustum_tr:new a.Uniform3f(x),u_frustum_br:new a.Uniform3f(x),u_frustum_bl:new a.Uniform3f(x),u_globe_pos:new a.Uniform3f(x),u_globe_radius:new a.Uniform1f(x),u_viewport:new a.Uniform2f(x)}),globeAtmosphere:x=>({u_frustum_tl:new a.Uniform3f(x),u_frustum_tr:new a.Uniform3f(x),u_frustum_br:new a.Uniform3f(x),u_frustum_bl:new a.Uniform3f(x),u_horizon:new a.Uniform1f(x),u_transition:new a.Uniform1f(x),u_fadeout_range:new a.Uniform1f(x),u_color:new a.Uniform4f(x),u_high_color:new a.Uniform4f(x),u_space_color:new a.Uniform4f(x),u_star_intensity:new a.Uniform1f(x),u_star_density:new a.Uniform1f(x),u_star_size:new a.Uniform1f(x),u_temporal_offset:new a.Uniform1f(x),u_horizon_angle:new a.Uniform1f(x),u_rotation_matrix:new a.UniformMatrix4f(x)})};let Uh;function ef(x,d,m,C,A,F,U){const K=x.context,ee=K.gl,ue=x.transform,se=x.useProgram("collisionBox"),xe=[];let Ae=0,Fe=0;for(let Xe=0;Xe<C.length;Xe++){const ut=C[Xe],dt=d.getTile(ut),ct=dt.getBucket(m);if(!ct)continue;const wt=In(ut,ct,ue);let bt=wt;A[0]===0&&A[1]===0||(bt=x.translatePosMatrix(wt,dt,A,F));const At=U?ct.textCollisionBox:ct.iconCollisionBox,an=ct.collisionCircleArray;if(an.length>0){const Tt=a.create(),Kt=bt;a.mul(Tt,ct.placementInvProjMatrix,ue.glCoordMatrix),a.mul(Tt,Tt,ct.placementViewportMatrix),xe.push({circleArray:an,circleOffset:Fe,transform:Kt,invTransform:Tt,projection:ct.getProjection()}),Ae+=an.length/4,Fe=Ae}At&&(x.terrain&&x.terrain.setupElevationDraw(dt,se),se.draw(K,ee.LINES,a.DepthMode.disabled,a.StencilMode.disabled,x.colorModeForRenderPass(),a.CullFaceMode.disabled,am(bt,ue,dt,ct.getProjection()),m.id,At.layoutVertexBuffer,At.indexBuffer,At.segments,null,ue.zoom,null,[At.collisionVertexBuffer,At.collisionVertexBufferExt]))}if(!U||!xe.length)return;const ze=x.useProgram("collisionCircle"),Be=new a.StructArrayLayout2f1f2i16;Be.resize(4*Ae),Be._trim();let je=0;for(const Xe of xe)for(let ut=0;ut<Xe.circleArray.length/4;ut++){const dt=4*ut,ct=Xe.circleArray[dt+0],wt=Xe.circleArray[dt+1],bt=Xe.circleArray[dt+2],At=Xe.circleArray[dt+3];Be.emplace(je++,ct,wt,bt,At,0),Be.emplace(je++,ct,wt,bt,At,1),Be.emplace(je++,ct,wt,bt,At,2),Be.emplace(je++,ct,wt,bt,At,3)}(!Uh||Uh.length<2*Ae)&&(Uh=function(Xe){const ut=2*Xe,dt=new a.StructArrayLayout3ui6;dt.resize(ut),dt._trim();for(let ct=0;ct<ut;ct++){const wt=6*ct;dt.uint16[wt+0]=4*ct+0,dt.uint16[wt+1]=4*ct+1,dt.uint16[wt+2]=4*ct+2,dt.uint16[wt+3]=4*ct+2,dt.uint16[wt+4]=4*ct+3,dt.uint16[wt+5]=4*ct+0}return dt}(Ae));const Ce=K.createIndexBuffer(Uh,!0),Le=K.createVertexBuffer(Be,a.collisionCircleLayout.members,!0);for(const Xe of xe){const ut={u_matrix:Xe.transform,u_inv_matrix:Xe.invTransform,u_camera_to_center_distance:(qe=ue).getCameraToCenterDistance(Xe.projection),u_viewport_size:[qe.width,qe.height]};ze.draw(K,ee.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,x.colorModeForRenderPass(),a.CullFaceMode.disabled,ut,m.id,Le,Ce,a.SegmentVector.simpleSegment(0,2*Xe.circleOffset,Xe.circleArray.length,Xe.circleArray.length/2),null,ue.zoom)}var qe;Le.destroy(),Ce.destroy()}const D0=a.create();function dm({width:x,height:d,anchor:m,textOffset:C,textScale:A},F){const{horizontalAlign:U,verticalAlign:K}=a.getAnchorAlignment(m),ee=-(U-.5)*x,ue=-(K-.5)*d,se=a.evaluateVariableOffset(m,C);return new a.Point((ee/A+se[0])*F,(ue/A+se[1])*F)}function Tw(x,d,m,C,A,F,U,K,ee,ue,se){const xe=x.text.placedSymbolArray,Ae=x.text.dynamicLayoutVertexArray,Fe=x.icon.dynamicLayoutVertexArray,ze={},Be=x.getProjection(),je=Pn(K,Be,F),Ce=F.elevation,Le=Be.upVectorScale(K.canonical,F.center.lat,F.worldSize).metersToTile;Ae.clear();for(let qe=0;qe<xe.length;qe++){const Xe=xe.get(qe),{tileAnchorX:ut,tileAnchorY:dt,numGlyphs:ct}=Xe,wt=Xe.hidden||!Xe.crossTileID||x.allowVerticalPlacement&&!Xe.placedOrientation?null:C[Xe.crossTileID];if(wt){let bt=0,At=0,an=0;if(Ce){const ln=Ce?Ce.getAtTileOffset(K,ut,dt):0,[Rn,Zn,Sn]=Be.upVector(K.canonical,ut,dt);bt=ln*Rn*Le,At=ln*Zn*Le,an=ln*Sn*Le}let[Tt,Kt,Dt,nn]=na(Xe.projectedAnchorX+bt,Xe.projectedAnchorY+At,Xe.projectedAnchorZ+an,m?je:U);const Mt=Hd(F.getCameraToCenterDistance(Be),nn);let Vt=A.evaluateSizeForFeature(x.textSizeData,ue,Xe)*Mt/a.ONE_EM;m&&(Vt*=x.tilePixelRatio/ee);const sn=dm(wt,Vt);m?({x:Tt,y:Kt,z:Dt}=Be.projectTilePoint(ut+sn.x,dt+sn.y,K.canonical),[Tt,Kt,Dt]=na(Tt+bt,Kt+At,Dt+an,U)):(d&&sn._rotate(-F.angle),Tt+=sn.x,Kt+=sn.y,Dt=0);const Qt=x.allowVerticalPlacement&&Xe.placedOrientation===a.WritingMode.vertical?Math.PI/2:0;for(let ln=0;ln<ct;ln++)a.addDynamicAttributes(Ae,Tt,Kt,Dt,Qt);se&&Xe.associatedIconIndex>=0&&(ze[Xe.associatedIconIndex]={x:Tt,y:Kt,z:Dt,angle:Qt})}else Xa(ct,Ae)}if(se){Fe.clear();const qe=x.icon.placedSymbolArray;for(let Xe=0;Xe<qe.length;Xe++){const ut=qe.get(Xe),{numGlyphs:dt}=ut,ct=ze[Xe];if(ut.hidden||!ct)Xa(dt,Fe);else{const{x:wt,y:bt,z:At,angle:an}=ct;for(let Tt=0;Tt<dt;Tt++)a.addDynamicAttributes(Fe,wt,bt,At,an)}}x.icon.dynamicLayoutVertexBuffer.updateData(Fe)}x.text.dynamicLayoutVertexBuffer.updateData(Ae)}function fm(x,d,m){return m.iconsInText&&d?"symbolTextAndIcon":x?"symbolSDF":"symbolIcon"}function R0(x,d,m,C,A,F,U,K,ee,ue,se,xe){const Ae=x.context,Fe=Ae.gl,ze=x.transform,Be=K==="map",je=ee==="map",Ce=Be&&m.layout.get("symbol-placement")!=="point",Le=Be&&!je&&!Ce,qe=m.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Xe=!1;const ut=x.depthModeForSublayer(0,a.DepthMode.ReadOnly),dt=[a.mercatorXfromLng(ze.center.lng),a.mercatorYfromLat(ze.center.lat)],ct=m.layout.get("text-variable-anchor"),wt=ze.projection.name==="globe",bt=[],At=[0,-1,0];let an=At;!wt&&!ze.mercatorFromTransition||Be||(an=function(Tt){const Kt=Tt._camera.getWorldToCamera(Tt.worldSize,1),Dt=a.multiply([],Kt,Tt.globeMatrix);a.invert(Dt,Dt);const nn=[0,0,0],Mt=[0,1,0,0];return a.transformMat4$1(Mt,Mt,Dt),nn[0]=Mt[0],nn[1]=Mt[1],nn[2]=Mt[2],a.normalize(nn,nn),nn}(ze));for(const Tt of C){const Kt=d.getTile(Tt),Dt=Kt.getBucket(m);if(!Dt||Dt.projection.name==="mercator"&&wt)continue;const nn=A?Dt.text:Dt.icon;if(!nn||Dt.fullyClipped||!nn.segments.get().length)continue;const Mt=nn.programConfigurations.get(m.id),Vt=A||Dt.sdfIcons,sn=A?Dt.textSizeData:Dt.iconSizeData,Qt=je||ze.pitch!==0,ln=a.evaluateSizeForZoom(sn,ze.zoom);let Rn,Zn,Sn,jn,xr=[0,0],_r=null;if(A)Zn=Kt.glyphAtlasTexture,Sn=Fe.LINEAR,Rn=Kt.glyphAtlasTexture.size,Dt.iconsInText&&(xr=Kt.imageAtlasTexture.size,_r=Kt.imageAtlasTexture,jn=Qt||x.options.rotating||x.options.zooming||sn.kind==="composite"||sn.kind==="camera"?Fe.LINEAR:Fe.NEAREST);else{const tl=m.layout.get("icon-size").constantOr(0)!==1||Dt.iconsNeedLinear;Zn=Kt.imageAtlasTexture,Sn=Vt||x.options.rotating||x.options.zooming||tl||Qt?Fe.LINEAR:Fe.NEAREST,Rn=Kt.imageAtlasTexture.size}const On=Dt.projection.name==="globe",Vr=On?an:At,Xr=On?a.globeToMercatorTransition(ze.zoom):0,Zr=Pn(Tt,Dt.getProjection(),ze),Qr=ze.calculatePixelsToTileUnitsMatrix(Kt),ja=zt(Zr,Kt.tileID.canonical,je,Be,ze,Dt.getProjection(),Qr),Sa=x.terrain&&je&&Ce?a.invert(a.create(),ja):D0,jo=Ti(Zr,Kt.tileID.canonical,je,Be,ze,Dt.getProjection(),Qr),As=ct&&Dt.hasTextData(),gi=m.layout.get("icon-text-fit")!=="none"&&As&&Dt.hasIconData();if(Ce){const tl=ze.elevation,$l=tl?tl.getAtTileOffsetFunc(Tt,ze.center.lat,ze.worldSize,Dt.getProjection()):null,ku=rs(Zr,Kt.tileID.canonical,je,Be,ze,Dt.getProjection(),Qr);_c(Dt,Zr,x,A,ku,jo,je,ue,$l,Tt)}const Jr=Ce||A&&ct||gi,Fr=x.translatePosMatrix(Zr,Kt,F,U),Wi=Jr?D0:ja,eo=x.translatePosMatrix(jo,Kt,F,U,!0),di=Dt.getProjection().createInversionMatrix(ze,Tt.canonical),oo=[];x.terrainRenderModeElevated()&&je&&oo.push("PITCH_WITH_MAP_TERRAIN"),On&&oo.push("PROJECTION_GLOBE_VIEW"),Jr&&oo.push("PROJECTED_POS_ON_VIEWPORT");const ap=Vt&&m.paint.get(A?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Mu;Mu=Vt?Dt.iconsInText?O0(sn.kind,ln,Le,je,x,Fr,Wi,eo,Rn,xr,Tt,Xr,dt,di,Vr,Dt.getProjection()):Vh(sn.kind,ln,Le,je,x,Fr,Wi,eo,A,Rn,!0,Tt,Xr,dt,di,Vr,Dt.getProjection()):lm(sn.kind,ln,Le,je,x,Fr,Wi,eo,A,Rn,Tt,Xr,dt,di,Vr,Dt.getProjection());const ff={program:x.useProgram(fm(Vt,A,Dt),Mt,oo),buffers:nn,uniformValues:Mu,atlasTexture:Zn,atlasTextureIcon:_r,atlasInterpolation:Sn,atlasInterpolationIcon:jn,isSDF:Vt,hasHalo:ap,tile:Kt,labelPlaneMatrixInv:Sa};if(qe&&Dt.canOverlap){Xe=!0;const tl=nn.segments.get();for(const $l of tl)bt.push({segments:new a.SegmentVector([$l]),sortKey:$l.sortKey,state:ff})}else bt.push({segments:nn.segments,sortKey:0,state:ff})}Xe&&bt.sort((Tt,Kt)=>Tt.sortKey-Kt.sortKey);for(const Tt of bt){const Kt=Tt.state;if(x.terrain&&x.terrain.setupElevationDraw(Kt.tile,Kt.program,{useDepthForOcclusion:!wt,labelPlaneMatrixInv:Kt.labelPlaneMatrixInv}),Ae.activeTexture.set(Fe.TEXTURE0),Kt.atlasTexture.bind(Kt.atlasInterpolation,Fe.CLAMP_TO_EDGE),Kt.atlasTextureIcon&&(Ae.activeTexture.set(Fe.TEXTURE1),Kt.atlasTextureIcon&&Kt.atlasTextureIcon.bind(Kt.atlasInterpolationIcon,Fe.CLAMP_TO_EDGE)),Kt.isSDF){const Dt=Kt.uniformValues;Kt.hasHalo&&(Dt.u_is_halo=1,tf(Kt.buffers,Tt.segments,m,x,Kt.program,ut,se,xe,Dt)),Dt.u_is_halo=0}tf(Kt.buffers,Tt.segments,m,x,Kt.program,ut,se,xe,Kt.uniformValues)}}function tf(x,d,m,C,A,F,U,K,ee){const ue=C.context,se=[x.dynamicLayoutVertexBuffer,x.opacityVertexBuffer,x.globeExtVertexBuffer];A.draw(ue,ue.gl.TRIANGLES,F,U,K,a.CullFaceMode.disabled,ee,m.id,x.layoutVertexBuffer,x.indexBuffer,d,m.paint,C.transform.zoom,x.programConfigurations.get(m.id),se)}function L0(x,d,m,C,A,F,U){const K=x.context.gl,ee=m.paint.get("fill-pattern"),ue=ee&&ee.constantOr(1);let se,xe,Ae,Fe,ze;U?(xe=ue&&!m.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",se=K.LINES):(xe=ue?"fillPattern":"fill",se=K.TRIANGLES);for(const Be of C){const je=d.getTile(Be);if(ue&&!je.patternsLoaded())continue;const Ce=je.getBucket(m);if(!Ce)continue;x.prepareDrawTile();const Le=Ce.programConfigurations.get(m.id),qe=x.useProgram(xe,Le);ue&&(x.context.activeTexture.set(K.TEXTURE0),je.imageAtlasTexture.bind(K.LINEAR,K.CLAMP_TO_EDGE),Le.updatePaintBuffers());const Xe=ee.constantOr(null);if(Xe&&je.imageAtlas){const dt=je.imageAtlas.patternPositions[Xe.toString()];dt&&Le.setConstantPatternPositions(dt)}const ut=x.translatePosMatrix(Be.projMatrix,je,m.paint.get("fill-translate"),m.paint.get("fill-translate-anchor"));if(U){Fe=Ce.indexBuffer2,ze=Ce.segments2;const dt=x.terrain&&x.terrain.renderingToTexture?x.terrain.drapeBufferSize:[K.drawingBufferWidth,K.drawingBufferHeight];Ae=xe==="fillOutlinePattern"&&ue?xw(ut,x,je,dt):bw(ut,dt)}else Fe=Ce.indexBuffer,ze=Ce.segments,Ae=ue?nm(ut,x,je):Su(ut);x.prepareDrawProgram(x.context,qe,Be.toUnwrapped()),qe.draw(x.context,se,A,x.stencilModeForClipping(Be),F,a.CullFaceMode.disabled,Ae,m.id,Ce.layoutVertexBuffer,Fe,ze,m.paint,x.transform.zoom,Le)}}function Hh(x,d,m,C,A,F,U){const K=x.context,ee=K.gl,ue=x.transform,se=m.paint.get("fill-extrusion-pattern"),xe=se.constantOr(1),Ae=m.paint.get("fill-extrusion-opacity"),Fe=[m.paint.get("fill-extrusion-ambient-occlusion-intensity"),m.paint.get("fill-extrusion-ambient-occlusion-radius")],ze=m.layout.get("fill-extrusion-edge-radius"),Be=ze>0&&!m.paint.get("fill-extrusion-rounded-roof"),je=Be?0:ze,Ce=ue.projection.name==="globe"?a.fillExtrusionHeightLift():0,Le=ue.projection.name==="globe",qe=Le?a.globeToMercatorTransition(ue.zoom):0,Xe=[a.mercatorXfromLng(ue.center.lng),a.mercatorYfromLat(ue.center.lat)],ut=[];Le&&ut.push("PROJECTION_GLOBE_VIEW"),Fe[0]>0&&ut.push("FAUX_AO"),Be&&ut.push("ZERO_ROOF_RADIUS");for(const dt of C){const ct=d.getTile(dt),wt=ct.getBucket(m);if(!wt||wt.projection.name!==ue.projection.name)continue;const bt=wt.programConfigurations.get(m.id),At=x.useProgram(xe?"fillExtrusionPattern":"fillExtrusion",bt,ut);if(x.terrain){const Vt=x.terrain;if(x.style.terrainSetForDrapingOnly())Vt.setupElevationDraw(ct,At,{useMeterToDem:!0});else{if(!wt.enableTerrain)continue;if(Vt.setupElevationDraw(ct,At,{useMeterToDem:!0}),F0(K,d,dt,wt,m,Vt),!wt.centroidVertexBuffer){const sn=At.attributes.a_centroid_pos;sn!==void 0&&ee.vertexAttrib2f(sn,0,0)}}}xe&&(x.context.activeTexture.set(ee.TEXTURE0),ct.imageAtlasTexture.bind(ee.LINEAR,ee.CLAMP_TO_EDGE),bt.updatePaintBuffers());const an=se.constantOr(null);if(an&&ct.imageAtlas){const Vt=ct.imageAtlas.patternPositions[an.toString()];Vt&&bt.setConstantPatternPositions(Vt)}const Tt=x.translatePosMatrix(dt.projMatrix,ct,m.paint.get("fill-extrusion-translate"),m.paint.get("fill-extrusion-translate-anchor")),Kt=ue.projection.createInversionMatrix(ue,dt.canonical),Dt=m.paint.get("fill-extrusion-vertical-gradient"),nn=xe?k0(Tt,x,Dt,Ae,Fe,je,dt,ct,Ce,qe,Xe,Kt):tm(Tt,x,Dt,Ae,Fe,je,dt,Ce,qe,Xe,Kt);x.prepareDrawProgram(K,At,dt.toUnwrapped());const Mt=[];x.terrain&&Mt.push(wt.centroidVertexBuffer),Le&&Mt.push(wt.layoutVertexExtBuffer),At.draw(K,K.gl.TRIANGLES,A,F,U,a.CullFaceMode.backCCW,nn,m.id,wt.layoutVertexBuffer,wt.indexBuffer,wt.segments,m.paint,x.transform.zoom,bt,Mt)}}function F0(x,d,m,C,A,F){const U=[Ce=>{let Le=Ce.canonical.x-1,qe=Ce.wrap;return Le<0&&(Le=(1<<Ce.canonical.z)-1,qe--),new a.OverscaledTileID(Ce.overscaledZ,qe,Ce.canonical.z,Le,Ce.canonical.y)},Ce=>{let Le=Ce.canonical.x+1,qe=Ce.wrap;return Le===1<<Ce.canonical.z&&(Le=0,qe++),new a.OverscaledTileID(Ce.overscaledZ,qe,Ce.canonical.z,Le,Ce.canonical.y)},Ce=>new a.OverscaledTileID(Ce.overscaledZ,Ce.wrap,Ce.canonical.z,Ce.canonical.x,(Ce.canonical.y===0?1<<Ce.canonical.z:Ce.canonical.y)-1),Ce=>new a.OverscaledTileID(Ce.overscaledZ,Ce.wrap,Ce.canonical.z,Ce.canonical.x,Ce.canonical.y===(1<<Ce.canonical.z)-1?0:Ce.canonical.y+1)],K=Ce=>{const Le=d.getSource().minzoom,qe=ut=>{const dt=d.getTileByID(ut);if(dt&&dt.hasData())return dt.getBucket(A)},Xe=[0,-1,1];for(const ut of Xe){if(Ce.overscaledZ+ut<Le)continue;const dt=qe(Ce.calculateScaledKey(Ce.overscaledZ+ut));if(dt)return dt}},ee=[0,0,0],ue=(Ce,Le)=>(ee[0]=Math.min(Ce.min.y,Le.min.y),ee[1]=Math.max(Ce.max.y,Le.max.y),ee[2]=a.EXTENT-Le.min.x>Ce.max.x?Le.min.x-a.EXTENT:Ce.max.x,ee),se=(Ce,Le)=>(ee[0]=Math.min(Ce.min.x,Le.min.x),ee[1]=Math.max(Ce.max.x,Le.max.x),ee[2]=a.EXTENT-Le.min.y>Ce.max.y?Le.min.y-a.EXTENT:Ce.max.y,ee),xe=[(Ce,Le)=>ue(Ce,Le),(Ce,Le)=>ue(Le,Ce),(Ce,Le)=>se(Ce,Le),(Ce,Le)=>se(Le,Ce)],Ae=new a.Point(0,0);let Fe,ze,Be;const je=(Ce,Le,qe,Xe,ut)=>{const dt=[[Xe?qe:Ce,Xe?Ce:qe,0],[Xe?qe:Le,Xe?Le:qe,0]],ct=ut<0?a.EXTENT+ut:ut,wt=[Xe?ct:(Ce+Le)/2,Xe?(Ce+Le)/2:ct,0];return qe===0&&ut<0||qe!==0&&ut>0?F.getForTilePoints(Be,[wt],!0,ze):dt.push(wt),F.getForTilePoints(m,dt,!0,Fe),Math.max(dt[0][2],dt[1][2],wt[2])/F.exaggeration()};for(let Ce=0;Ce<4;Ce++){const Le=(Ce<2?1:5)-Ce,qe=C.borders[Ce];if(qe.length===0)continue;const Xe=Be=U[Ce](m),ut=K(Xe);if(!(ut&&ut instanceof a.FillExtrusionBucket&&ut.enableTerrain)||C.borderDoneWithNeighborZ[Ce]===ut.canonical.z&&ut.borderDoneWithNeighborZ[Le]===C.canonical.z||(ze=F.findDEMTileFor(Xe),!ze||!ze.dem))continue;if(!Fe){const bt=F.findDEMTileFor(m);if(!bt||!bt.dem)return;Fe=bt}const dt=ut.borders[Le];let ct=0;const wt=ut.borderDoneWithNeighborZ[Le]!==C.canonical.z;if(C.canonical.z===ut.canonical.z){for(let bt=0;bt<qe.length;bt++){const At=C.featuresOnBorder[qe[bt]],an=At.borders[Ce];let Tt;for(;ct<dt.length&&(Tt=ut.featuresOnBorder[dt[ct]],!(Tt.borders[Le][1]>an[0]+3));)wt&&ut.encodeCentroid(void 0,Tt,!1),ct++;if(Tt&&ct<dt.length){const Kt=ct;let Dt=0;for(;!(Tt.borders[Le][0]>an[1]-3)&&(Dt++,++ct!==dt.length);)Tt=ut.featuresOnBorder[dt[ct]];if(Tt=ut.featuresOnBorder[dt[Kt]],At.intersectsCount()>1||Tt.intersectsCount()>1||Dt!==1){Dt!==1&&(ct=Kt),C.encodeCentroid(void 0,At,!1),wt&&ut.encodeCentroid(void 0,Tt,!1);continue}const nn=xe[Ce](At,Tt),Mt=Ce%2?a.EXTENT-1:0;Ae.x=je(nn[0],Math.min(a.EXTENT-1,nn[1]),Mt,Ce<2,nn[2]),Ae.y=0,C.encodeCentroid(Ae,At,!1),wt&&ut.encodeCentroid(Ae,Tt,!1)}else C.encodeCentroid(void 0,At,!1)}C.borderDoneWithNeighborZ[Ce]=ut.canonical.z,C.needsCentroidUpdate=!0,wt&&(ut.borderDoneWithNeighborZ[Le]=C.canonical.z,ut.needsCentroidUpdate=!0)}else{for(const bt of qe)C.encodeCentroid(void 0,C.featuresOnBorder[bt],!1);if(wt){for(const bt of dt)ut.encodeCentroid(void 0,ut.featuresOnBorder[bt],!1);ut.borderDoneWithNeighborZ[Le]=C.canonical.z,ut.needsCentroidUpdate=!0}C.borderDoneWithNeighborZ[Ce]=ut.canonical.z,C.needsCentroidUpdate=!0}}(C.needsCentroidUpdate||!C.centroidVertexBuffer&&C.centroidVertexArray.length!==0)&&C.uploadCentroid(x)}const Mc=new a.Color(1,0,0,1),Ew=new a.Color(0,1,0,1),Pw=new a.Color(0,0,1,1),Mw=new a.Color(1,0,1,1),kw=new a.Color(0,1,1,1);function Aw(x,d,m){const C=x.context,A=x.transform,F=C.gl,U=A.projection.name==="globe",K=U?["PROJECTION_GLOBE_VIEW"]:null;let ee=m.projMatrix;if(U&&a.globeToMercatorTransition(A.zoom)>0){const At=a.transitionTileAABBinECEF(m.canonical,A),an=a.globeDenormalizeECEF(At);ee=a.multiply(new Float32Array(16),A.globeMatrix,an),a.multiply(ee,A.projMatrix,ee)}const ue=x.useProgram("debug",null,K),se=d.getTileByID(m.key);x.terrain&&x.terrain.setupElevationDraw(se,ue);const xe=a.DepthMode.disabled,Ae=a.StencilMode.disabled,Fe=x.colorModeForRenderPass(),ze="$debug";C.activeTexture.set(F.TEXTURE0),x.emptyTexture.bind(F.LINEAR,F.CLAMP_TO_EDGE),U?se._makeGlobeTileDebugBuffers(x.context,A):se._makeDebugTileBoundsBuffers(x.context,A.projection);const Be=se._tileDebugBuffer||x.debugBuffer,je=se._tileDebugIndexBuffer||x.debugIndexBuffer,Ce=se._tileDebugSegments||x.debugSegments;ue.draw(C,F.LINE_STRIP,xe,Ae,Fe,a.CullFaceMode.disabled,$h(ee,a.Color.red),ze,Be,je,Ce,null,null,null,[se._globeTileDebugBorderBuffer]);const Le=se.latestRawTileData,qe=Math.floor((Le&&Le.byteLength||0)/1024),Xe=d.getTile(m).tileSize,ut=512/Math.min(Xe,512)*(m.overscaledZ/A.zoom)*.5;let dt=m.canonical.toString();m.overscaledZ!==m.canonical.z&&(dt+=` => ${m.overscaledZ}`),dt+=` ${qe}kb`,function(At,an){At.initDebugOverlayCanvas();const Tt=At.debugOverlayCanvas,Kt=At.context.gl,Dt=At.debugOverlayCanvas.getContext("2d");Dt.clearRect(0,0,Tt.width,Tt.height),Dt.shadowColor="white",Dt.shadowBlur=2,Dt.lineWidth=1.5,Dt.strokeStyle="white",Dt.textBaseline="top",Dt.font="bold 36px Open Sans, sans-serif",Dt.fillText(an,5,5),Dt.strokeText(an,5,5),At.debugOverlayTexture.update(Tt),At.debugOverlayTexture.bind(Kt.LINEAR,Kt.CLAMP_TO_EDGE)}(x,dt);const ct=se._tileDebugTextBuffer||x.debugBuffer,wt=se._tileDebugTextIndexBuffer||x.quadTriangleIndexBuffer,bt=se._tileDebugTextSegments||x.debugSegments;ue.draw(C,F.TRIANGLES,xe,Ae,a.ColorMode.alphaBlended,a.CullFaceMode.disabled,$h(ee,a.Color.transparent,ut),ze,ct,wt,bt,null,null,null,[se._globeTileDebugTextBuffer])}function N0(x,d,m,C){kc(x,0,d+m/2,x.transform.width,m,C)}function Kh(x,d,m,C){kc(x,d-m/2,0,m,x.transform.height,C)}function kc(x,d,m,C,A,F){const U=x.context,K=U.gl;K.enable(K.SCISSOR_TEST),K.scissor(d*a.exported.devicePixelRatio,m*a.exported.devicePixelRatio,C*a.exported.devicePixelRatio,A*a.exported.devicePixelRatio),U.clear({color:F}),K.disable(K.SCISSOR_TEST)}const B0=a.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:z0}=B0;function Js(x,d,m,C){x.emplaceBack(d,m,C)}class Wh{constructor(d){this.vertexArray=new a.StructArrayLayout3f12,this.indices=new a.StructArrayLayout3ui6,Js(this.vertexArray,-1,-1,1),Js(this.vertexArray,1,-1,1),Js(this.vertexArray,-1,1,1),Js(this.vertexArray,1,1,1),Js(this.vertexArray,-1,-1,-1),Js(this.vertexArray,1,-1,-1),Js(this.vertexArray,-1,1,-1),Js(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=d.createVertexBuffer(this.vertexArray,z0),this.indexBuffer=d.createIndexBuffer(this.indices),this.segment=a.SegmentVector.simpleSegment(0,0,36,12)}}function zo(x,d,m,C,A,F){const U=x.gl,K=d.paint.get("sky-atmosphere-color"),ee=d.paint.get("sky-atmosphere-halo-color"),ue=d.paint.get("sky-atmosphere-sun-intensity"),se=((xe,Ae,Fe,ze,Be)=>({u_matrix_3f:xe,u_sun_direction:Ae,u_sun_intensity:Fe,u_color_tint_r:[ze.r,ze.g,ze.b,ze.a],u_color_tint_m:[Be.r,Be.g,Be.b,Be.a],u_luminance:5e-5}))(a.fromMat4(a.create$1(),C),A,ue,K,ee);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+F,d.skyboxTexture,0),m.draw(x,U.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,a.ColorMode.unblended,a.CullFaceMode.frontCW,se,"skyboxCapture",d.skyboxGeometry.vertexBuffer,d.skyboxGeometry.indexBuffer,d.skyboxGeometry.segment)}const nf=a.createLayout([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]);class $0{constructor(d){const m=new a.StructArrayLayout5f20;m.emplaceBack(-1,1,1,0,0),m.emplaceBack(1,1,1,1,0),m.emplaceBack(1,-1,1,1,1),m.emplaceBack(-1,-1,1,0,1);const C=new a.StructArrayLayout3ui6;C.emplaceBack(0,1,2),C.emplaceBack(2,3,0),this.vertexBuffer=d.createVertexBuffer(m,nf.members),this.indexBuffer=d.createIndexBuffer(C),this.segments=a.SegmentVector.simpleSegment(0,0,4,2)}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy()}}const Tu={symbol:function(x,d,m,C,A){if(x.renderPass!=="translucent")return;const F=a.StencilMode.disabled,U=x.colorModeForRenderPass();m.layout.get("text-variable-anchor")&&function(K,ee,ue,se,xe,Ae,Fe){const ze=ee.transform,Be=xe==="map",je=Ae==="map";for(const Ce of K){const Le=se.getTile(Ce),qe=Le.getBucket(ue);if(!qe||!qe.text||!qe.text.segments.get().length)continue;const Xe=a.evaluateSizeForZoom(qe.textSizeData,ze.zoom),ut=Pn(Ce,qe.getProjection(),ze),dt=ze.calculatePixelsToTileUnitsMatrix(Le),ct=zt(ut,Le.tileID.canonical,je,Be,ze,qe.getProjection(),dt),wt=ue.layout.get("icon-text-fit")!=="none"&&qe.hasIconData();if(Xe){const bt=Math.pow(2,ze.zoom-Le.tileID.overscaledZ);Tw(qe,Be,je,Fe,a.symbolSize,ze,ct,Ce,bt,Xe,wt)}}}(C,x,m,d,m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),A),m.paint.get("icon-opacity").constantOr(1)!==0&&R0(x,d,m,C,!1,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),m.layout.get("icon-rotation-alignment"),m.layout.get("icon-pitch-alignment"),m.layout.get("icon-keep-upright"),F,U),m.paint.get("text-opacity").constantOr(1)!==0&&R0(x,d,m,C,!0,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),m.layout.get("text-rotation-alignment"),m.layout.get("text-pitch-alignment"),m.layout.get("text-keep-upright"),F,U),d.map.showCollisionBoxes&&(ef(x,d,m,C,m.paint.get("text-translate"),m.paint.get("text-translate-anchor"),!0),ef(x,d,m,C,m.paint.get("icon-translate"),m.paint.get("icon-translate-anchor"),!1))},circle:function(x,d,m,C){if(x.renderPass!=="translucent")return;const A=m.paint.get("circle-opacity"),F=m.paint.get("circle-stroke-width"),U=m.paint.get("circle-stroke-opacity"),K=m.layout.get("circle-sort-key").constantOr(1)!==void 0;if(A.constantOr(1)===0&&(F.constantOr(1)===0||U.constantOr(1)===0))return;const ee=x.context,ue=ee.gl,se=x.transform,xe=x.depthModeForSublayer(0,a.DepthMode.ReadOnly),Ae=a.StencilMode.disabled,Fe=x.colorModeForRenderPass(),ze=se.projection.name==="globe",Be=[a.mercatorXfromLng(se.center.lng),a.mercatorYfromLat(se.center.lat)],je=[];for(let Le=0;Le<C.length;Le++){const qe=C[Le],Xe=d.getTile(qe),ut=Xe.getBucket(m);if(!ut||ut.projection.name!==se.projection.name)continue;const dt=ut.programConfigurations.get(m.id),ct=im(m);ze&&ct.push("PROJECTION_GLOBE_VIEW");const wt=x.useProgram("circle",dt,ct),bt=ut.layoutVertexBuffer,At=ut.globeExtVertexBuffer,an=ut.indexBuffer,Tt=se.projection.createInversionMatrix(se,qe.canonical),Kt={programConfiguration:dt,program:wt,layoutVertexBuffer:bt,globeExtVertexBuffer:At,indexBuffer:an,uniformValues:rm(x,qe,Xe,Tt,Be,m),tile:Xe};if(K){const Dt=ut.segments.get();for(const nn of Dt)je.push({segments:new a.SegmentVector([nn]),sortKey:nn.sortKey,state:Kt})}else je.push({segments:ut.segments,sortKey:0,state:Kt})}K&&je.sort((Le,qe)=>Le.sortKey-qe.sortKey);const Ce={useDepthForOcclusion:!ze};for(const Le of je){const{programConfiguration:qe,program:Xe,layoutVertexBuffer:ut,globeExtVertexBuffer:dt,indexBuffer:ct,uniformValues:wt,tile:bt}=Le.state,At=Le.segments;x.terrain&&x.terrain.setupElevationDraw(bt,Xe,Ce),x.prepareDrawProgram(ee,Xe,bt.tileID.toUnwrapped()),Xe.draw(ee,ue.TRIANGLES,xe,Ae,Fe,a.CullFaceMode.disabled,wt,m.id,ut,ct,At,m.paint,se.zoom,qe,[dt])}},heatmap:function(x,d,m,C){if(m.paint.get("heatmap-opacity")!==0)if(x.renderPass==="offscreen"){const A=x.context,F=A.gl,U=a.StencilMode.disabled,K=new a.ColorMode([F.ONE,F.ONE],a.Color.transparent,[!0,!0,!0,!0]);(function(Fe,ze,Be,je){const Ce=Fe.gl,Le=ze.width*je,qe=ze.height*je;Fe.activeTexture.set(Ce.TEXTURE1),Fe.viewport.set([0,0,Le,qe]);let Xe=Be.heatmapFbo;if(!Xe||Xe&&(Xe.width!==Le||Xe.height!==qe)){Xe&&Xe.destroy();const ut=Ce.createTexture();Ce.bindTexture(Ce.TEXTURE_2D,ut),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_S,Ce.CLAMP_TO_EDGE),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_WRAP_T,Ce.CLAMP_TO_EDGE),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MIN_FILTER,Ce.LINEAR),Ce.texParameteri(Ce.TEXTURE_2D,Ce.TEXTURE_MAG_FILTER,Ce.LINEAR),Xe=Be.heatmapFbo=Fe.createFramebuffer(Le,qe,!1),function(dt,ct,wt,bt,At,an){const Tt=dt.gl;Tt.texImage2D(Tt.TEXTURE_2D,0,dt.isWebGL2&&dt.extRenderToTextureHalfFloat?Tt.RGBA16F:Tt.RGBA,At,an,0,Tt.RGBA,dt.extRenderToTextureHalfFloat?dt.isWebGL2?Tt.HALF_FLOAT:dt.extTextureHalfFloat.HALF_FLOAT_OES:Tt.UNSIGNED_BYTE,null),bt.colorAttachment.set(wt)}(Fe,0,ut,Xe,Le,qe)}else Ce.bindTexture(Ce.TEXTURE_2D,Xe.colorAttachment.get()),Fe.bindFramebuffer.set(Xe.framebuffer)})(A,x,m,x.transform.projection.name==="globe"?.5:.25),A.clear({color:a.Color.transparent});const ee=x.transform,ue=ee.projection.name==="globe",se=ue?["PROJECTION_GLOBE_VIEW"]:null,xe=ue?a.CullFaceMode.frontCCW:a.CullFaceMode.disabled,Ae=[a.mercatorXfromLng(ee.center.lng),a.mercatorYfromLat(ee.center.lat)];for(let Fe=0;Fe<C.length;Fe++){const ze=C[Fe];if(d.hasRenderableParent(ze))continue;const Be=d.getTile(ze),je=Be.getBucket(m);if(!je||je.projection.name!==ee.projection.name)continue;const Ce=je.programConfigurations.get(m.id),Le=x.useProgram("heatmap",Ce,se),{zoom:qe}=x.transform;x.terrain&&x.terrain.setupElevationDraw(Be,Le),x.prepareDrawProgram(A,Le,ze.toUnwrapped());const Xe=ee.projection.createInversionMatrix(ee,ze.canonical);Le.draw(A,F.TRIANGLES,a.DepthMode.disabled,U,K,xe,I0(x,ze,Be,Xe,Ae,qe,m.paint.get("heatmap-intensity")),m.id,je.layoutVertexBuffer,je.indexBuffer,je.segments,m.paint,x.transform.zoom,Ce,ue?[je.globeExtVertexBuffer]:null)}A.viewport.set([0,0,x.width,x.height])}else x.renderPass==="translucent"&&(x.context.setColorMode(x.colorModeForRenderPass()),function(A,F){const U=A.context,K=U.gl,ee=F.heatmapFbo;if(!ee)return;U.activeTexture.set(K.TEXTURE0),K.bindTexture(K.TEXTURE_2D,ee.colorAttachment.get()),U.activeTexture.set(K.TEXTURE1);let ue=F.colorRampTexture;ue||(ue=F.colorRampTexture=new a.Texture(U,F.colorRamp,K.RGBA)),ue.bind(K.LINEAR,K.CLAMP_TO_EDGE),A.useProgram("heatmapTexture").draw(U,K.TRIANGLES,a.DepthMode.disabled,a.StencilMode.disabled,A.colorModeForRenderPass(),a.CullFaceMode.disabled,((se,xe,Ae,Fe)=>({u_image:0,u_color_ramp:1,u_opacity:xe.paint.get("heatmap-opacity")}))(0,F),F.id,A.viewportBuffer,A.quadTriangleIndexBuffer,A.viewportSegments,F.paint,A.transform.zoom)}(x,m))},line:function(x,d,m,C){if(x.renderPass!=="translucent")return;const A=m.paint.get("line-opacity"),F=m.paint.get("line-width");if(A.constantOr(1)===0||F.constantOr(1)===0)return;const U=x.depthModeForSublayer(0,a.DepthMode.ReadOnly),K=x.colorModeForRenderPass(),ee=x.terrain&&x.terrain.renderingToTexture?1:a.exported.devicePixelRatio,ue=m.paint.get("line-dasharray"),se=ue.constantOr(1),xe=m.layout.get("line-cap"),Ae=m.paint.get("line-pattern"),Fe=Ae.constantOr(1),ze=m.paint.get("line-gradient"),Be=Fe?"linePattern":"line",je=x.context,Ce=je.gl,Le=(Xe=>{const ut=[];Jd(Xe)&&ut.push("RENDER_LINE_DASH"),Xe.paint.get("line-gradient")&&ut.push("RENDER_LINE_GRADIENT");const dt=Xe.paint.get("line-trim-offset");dt[0]===0&&dt[1]===0||ut.push("RENDER_LINE_TRIM_OFFSET");const ct=Xe.paint.get("line-pattern").constantOr(1),wt=Xe.paint.get("line-opacity").constantOr(1)!==1;return!ct&&wt&&ut.push("RENDER_LINE_ALPHA_DISCARD"),ut})(m);let qe=Le.includes("RENDER_LINE_ALPHA_DISCARD");x.terrain&&x.terrain.clipOrMaskOverlapStencilType()&&(qe=!1);for(const Xe of C){const ut=d.getTile(Xe);if(Fe&&!ut.patternsLoaded())continue;const dt=ut.getBucket(m);if(!dt)continue;x.prepareDrawTile();const ct=dt.programConfigurations.get(m.id),wt=x.useProgram(Be,ct,Le),bt=Ae.constantOr(null);if(bt&&ut.imageAtlas){const Vt=ut.imageAtlas.patternPositions[bt.toString()];Vt&&ct.setConstantPatternPositions(Vt)}const At=ue.constantOr(null),an=xe.constantOr(null);if(!Fe&&At&&an&&ut.lineAtlas){const Vt=ut.lineAtlas.getDash(At,an);Vt&&ct.setConstantPatternPositions(Vt)}let[Tt,Kt]=m.paint.get("line-trim-offset");(an==="round"||an==="square")&&Tt!==Kt&&(Tt===0&&(Tt-=1),Kt===1&&(Kt+=1));const Dt=x.terrain?Xe.projMatrix:null,nn=Fe?Qd(x,ut,m,Dt,ee):Cw(x,ut,m,Dt,dt.lineClipsArray.length,ee,[Tt,Kt]);if(ze){const Vt=dt.gradients[m.id];let sn=Vt.texture;if(m.gradientVersion!==Vt.version){let Qt=256;if(m.stepInterpolant){const ln=d.getSource().maxzoom,Rn=Xe.canonical.z===ln?Math.ceil(1<<x.transform.maxZoom-Xe.canonical.z):1;Qt=a.clamp(a.nextPowerOfTwo(dt.maxLineLength/a.EXTENT*1024*Rn),256,je.maxTextureSize)}Vt.gradient=a.renderColorRamp({expression:m.gradientExpression(),evaluationKey:"lineProgress",resolution:Qt,image:Vt.gradient||void 0,clips:dt.lineClipsArray}),Vt.texture?Vt.texture.update(Vt.gradient):Vt.texture=new a.Texture(je,Vt.gradient,Ce.RGBA),Vt.version=m.gradientVersion,sn=Vt.texture}je.activeTexture.set(Ce.TEXTURE1),sn.bind(m.stepInterpolant?Ce.NEAREST:Ce.LINEAR,Ce.CLAMP_TO_EDGE)}se&&(je.activeTexture.set(Ce.TEXTURE0),ut.lineAtlasTexture.bind(Ce.LINEAR,Ce.REPEAT),ct.updatePaintBuffers()),Fe&&(je.activeTexture.set(Ce.TEXTURE0),ut.imageAtlasTexture.bind(Ce.LINEAR,Ce.CLAMP_TO_EDGE),ct.updatePaintBuffers()),x.prepareDrawProgram(je,wt,Xe.toUnwrapped());const Mt=Vt=>{wt.draw(je,Ce.TRIANGLES,U,Vt,K,a.CullFaceMode.disabled,nn,m.id,dt.layoutVertexBuffer,dt.indexBuffer,dt.segments,m.paint,x.transform.zoom,ct,[dt.layoutVertexBuffer2])};if(qe){const Vt=x.stencilModeForClipping(Xe).ref;Vt===0&&x.terrain&&je.clear({stencil:0});const sn={func:Ce.EQUAL,mask:255};nn.u_alpha_discard_threshold=.8,Mt(new a.StencilMode(sn,Vt,255,Ce.KEEP,Ce.KEEP,Ce.INVERT)),nn.u_alpha_discard_threshold=0,Mt(new a.StencilMode(sn,Vt,255,Ce.KEEP,Ce.KEEP,Ce.KEEP))}else Mt(x.stencilModeForClipping(Xe))}qe&&(x.resetStencilClippingMasks(),x.terrain&&je.clear({stencil:0}))},fill:function(x,d,m,C){const A=m.paint.get("fill-color"),F=m.paint.get("fill-opacity");if(F.constantOr(1)===0)return;const U=x.colorModeForRenderPass(),K=m.paint.get("fill-pattern"),ee=x.opaquePassEnabledForLayer()&&!K.constantOr(1)&&A.constantOr(a.Color.transparent).a===1&&F.constantOr(0)===1?"opaque":"translucent";if(x.renderPass===ee){const ue=x.depthModeForSublayer(1,x.renderPass==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly);L0(x,d,m,C,ue,U,!1)}if(x.renderPass==="translucent"&&m.paint.get("fill-antialias")){const ue=x.depthModeForSublayer(m.getPaintProperty("fill-outline-color")?2:0,a.DepthMode.ReadOnly);L0(x,d,m,C,ue,U,!0)}},"fill-extrusion":function(x,d,m,C){const A=m.paint.get("fill-extrusion-opacity");if(A!==0&&x.renderPass==="translucent"){const F=new a.DepthMode(x.context.gl.LEQUAL,a.DepthMode.ReadWrite,x.depthRangeFor3D);if(A!==1||m.paint.get("fill-extrusion-pattern").constantOr(1))Hh(x,d,m,C,F,a.StencilMode.disabled,a.ColorMode.disabled),Hh(x,d,m,C,F,x.stencilModeFor3D(),x.colorModeForRenderPass()),x.resetStencilClippingMasks();else{const U=x.colorModeForRenderPass();Hh(x,d,m,C,F,a.StencilMode.disabled,U)}}},hillshade:function(x,d,m,C){if(x.renderPass!=="offscreen"&&x.renderPass!=="translucent")return;const A=x.context,F=x.depthModeForSublayer(0,a.DepthMode.ReadOnly),U=x.colorModeForRenderPass(),K=x.terrain&&x.terrain.renderingToTexture,[ee,ue]=x.renderPass!=="translucent"||K?[{},C]:x.stencilConfigForOverlap(C);for(const se of ue){const xe=d.getTile(se);if(xe.needsHillshadePrepare&&x.renderPass==="offscreen")Bl(x,xe,m,F,a.StencilMode.disabled,U);else if(x.renderPass==="translucent"){const Ae=K&&x.terrain?x.terrain.stencilModeForRTTOverlap(se):ee[se.overscaledZ];Sc(x,se,xe,m,F,Ae,U)}}A.viewport.set([0,0,x.width,x.height]),x.resetStencilClippingMasks()},raster:function(x,d,m,C,A,F){if(x.renderPass!=="translucent"||m.paint.get("raster-opacity")===0||!C.length)return;const U=x.context,K=U.gl,ee=d.getSource(),ue=x.useProgram("raster"),se=x.colorModeForRenderPass(),xe=x.terrain&&x.terrain.renderingToTexture,[Ae,Fe]=ee instanceof pn||xe?[{},C]:x.stencilConfigForOverlap(C),ze=Fe[Fe.length-1].overscaledZ,Be=!x.options.moving;for(const je of Fe){const Ce=xe?a.DepthMode.disabled:x.depthModeForSublayer(je.overscaledZ-ze,m.paint.get("raster-opacity")===1?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly,K.LESS),Le=je.toUnwrapped(),qe=d.getTile(je);if(xe&&(!qe||!qe.hasData()))continue;const Xe=xe?je.projMatrix:x.transform.calculateProjMatrix(Le,Be),ut=x.terrain&&xe?x.terrain.stencilModeForRTTOverlap(je):Ae[je.overscaledZ],dt=F?0:m.paint.get("raster-fade-duration");qe.registerFadeDuration(dt);const ct=d.findLoadedParent(je,0),wt=Qv(qe,ct,d,x.transform,dt);let bt,At;x.terrain&&x.terrain.prepareDrawTile();const an=m.paint.get("raster-resampling")==="nearest"?K.NEAREST:K.LINEAR;U.activeTexture.set(K.TEXTURE0),qe.texture.bind(an,K.CLAMP_TO_EDGE),U.activeTexture.set(K.TEXTURE1),ct?(ct.texture.bind(an,K.CLAMP_TO_EDGE),bt=Math.pow(2,ct.tileID.overscaledZ-qe.tileID.overscaledZ),At=[qe.tileID.canonical.x*bt%1,qe.tileID.canonical.y*bt%1]):qe.texture.bind(an,K.CLAMP_TO_EDGE),qe.texture.useMipmap&&U.extTextureFilterAnisotropic&&x.transform.pitch>20&&K.texParameterf(K.TEXTURE_2D,U.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,U.extTextureFilterAnisotropicMax);const Tt=sm(Xe,At||[0,0],bt||1,wt,m,ee instanceof pn?ee.perspectiveTransform:[0,0]);if(x.prepareDrawProgram(U,ue,Le),ee instanceof pn)ee.boundsBuffer&&ee.boundsSegments&&ue.draw(U,K.TRIANGLES,Ce,a.StencilMode.disabled,se,a.CullFaceMode.disabled,Tt,m.id,ee.boundsBuffer,x.quadTriangleIndexBuffer,ee.boundsSegments);else{const{tileBoundsBuffer:Kt,tileBoundsIndexBuffer:Dt,tileBoundsSegments:nn}=x.getTileBoundsBuffers(qe);ue.draw(U,K.TRIANGLES,Ce,ut,se,a.CullFaceMode.disabled,Tt,m.id,Kt,Dt,nn)}}x.resetStencilClippingMasks()},background:function(x,d,m,C){const A=m.paint.get("background-color"),F=m.paint.get("background-opacity");if(F===0)return;const U=x.context,K=U.gl,ee=x.transform,ue=ee.tileSize,se=m.paint.get("background-pattern");if(x.isPatternMissing(se))return;const xe=!se&&A.a===1&&F===1&&x.opaquePassEnabledForLayer()?"opaque":"translucent";if(x.renderPass!==xe)return;const Ae=a.StencilMode.disabled,Fe=x.depthModeForSublayer(0,xe==="opaque"?a.DepthMode.ReadWrite:a.DepthMode.ReadOnly),ze=x.colorModeForRenderPass(),Be=x.useProgram(se?"backgroundPattern":"background");let je,Ce=C;Ce||(je=x.getBackgroundTiles(),Ce=Object.values(je).map(Le=>Le.tileID)),se&&(U.activeTexture.set(K.TEXTURE0),x.imageManager.bind(x.context));for(const Le of Ce){const qe=Le.toUnwrapped(),Xe=C?Le.projMatrix:x.transform.calculateProjMatrix(qe);x.prepareDrawTile();const ut=d?d.getTile(Le):je?je[Le.key]:new a.Tile(Le,ue,ee.zoom,x),dt=se?Sw(Xe,F,x,se,{tileID:Le,tileSize:ue}):um(Xe,F,A);x.prepareDrawProgram(U,Be,qe);const{tileBoundsBuffer:ct,tileBoundsIndexBuffer:wt,tileBoundsSegments:bt}=x.getTileBoundsBuffers(ut);Be.draw(U,K.TRIANGLES,Fe,Ae,ze,a.CullFaceMode.disabled,dt,m.id,ct,wt,bt)}},sky:function(x,d,m){const C=x.transform,A=C.projection.name==="mercator"||C.projection.name==="globe"?1:a.smoothstep(7,8,C.zoom),F=m.paint.get("sky-opacity")*A;if(F===0)return;const U=x.context,K=m.paint.get("sky-type"),ee=new a.DepthMode(U.gl.LEQUAL,a.DepthMode.ReadOnly,[0,1]),ue=x.frameCounter/1e3%1;K==="atmosphere"?x.renderPass==="offscreen"?m.needsSkyboxCapture(x)&&(function(se,xe,Ae,Fe){const ze=se.context,Be=ze.gl;let je=xe.skyboxFbo;if(!je){je=xe.skyboxFbo=ze.createFramebuffer(32,32,!1),xe.skyboxGeometry=new Wh(ze),xe.skyboxTexture=ze.gl.createTexture(),Be.bindTexture(Be.TEXTURE_CUBE_MAP,xe.skyboxTexture),Be.texParameteri(Be.TEXTURE_CUBE_MAP,Be.TEXTURE_WRAP_S,Be.CLAMP_TO_EDGE),Be.texParameteri(Be.TEXTURE_CUBE_MAP,Be.TEXTURE_WRAP_T,Be.CLAMP_TO_EDGE),Be.texParameteri(Be.TEXTURE_CUBE_MAP,Be.TEXTURE_MIN_FILTER,Be.LINEAR),Be.texParameteri(Be.TEXTURE_CUBE_MAP,Be.TEXTURE_MAG_FILTER,Be.LINEAR);for(let Xe=0;Xe<6;++Xe)Be.texImage2D(Be.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0,Be.RGBA,32,32,0,Be.RGBA,Be.UNSIGNED_BYTE,null)}ze.bindFramebuffer.set(je.framebuffer),ze.viewport.set([0,0,32,32]);const Ce=xe.getCenter(se,!0),Le=se.useProgram("skyboxCapture"),qe=new Float64Array(16);a.identity(qe),a.rotateY(qe,qe,.5*-Math.PI),zo(ze,xe,Le,qe,Ce,0),a.identity(qe),a.rotateY(qe,qe,.5*Math.PI),zo(ze,xe,Le,qe,Ce,1),a.identity(qe),a.rotateX(qe,qe,.5*-Math.PI),zo(ze,xe,Le,qe,Ce,2),a.identity(qe),a.rotateX(qe,qe,.5*Math.PI),zo(ze,xe,Le,qe,Ce,3),a.identity(qe),zo(ze,xe,Le,qe,Ce,4),a.identity(qe),a.rotateY(qe,qe,Math.PI),zo(ze,xe,Le,qe,Ce,5),ze.viewport.set([0,0,se.width,se.height])}(x,m),m.markSkyboxValid(x)):x.renderPass==="sky"&&function(se,xe,Ae,Fe,ze){const Be=se.context,je=Be.gl,Ce=se.transform,Le=se.useProgram("skybox");Be.activeTexture.set(je.TEXTURE0),je.bindTexture(je.TEXTURE_CUBE_MAP,xe.skyboxTexture);const qe=((Xe,ut,dt,ct,wt)=>({u_matrix:Xe,u_sun_direction:ut,u_cubemap:0,u_opacity:ct,u_temporal_offset:wt}))(Ce.skyboxMatrix,xe.getCenter(se,!1),0,Fe,ze);se.prepareDrawProgram(Be,Le),Le.draw(Be,je.TRIANGLES,Ae,a.StencilMode.disabled,se.colorModeForRenderPass(),a.CullFaceMode.backCW,qe,"skybox",xe.skyboxGeometry.vertexBuffer,xe.skyboxGeometry.indexBuffer,xe.skyboxGeometry.segment)}(x,m,ee,F,ue):K==="gradient"&&x.renderPass==="sky"&&function(se,xe,Ae,Fe,ze){const Be=se.context,je=Be.gl,Ce=se.transform,Le=se.useProgram("skyboxGradient");xe.skyboxGeometry||(xe.skyboxGeometry=new Wh(Be)),Be.activeTexture.set(je.TEXTURE0);let qe=xe.colorRampTexture;qe||(qe=xe.colorRampTexture=new a.Texture(Be,xe.colorRamp,je.RGBA)),qe.bind(je.LINEAR,je.CLAMP_TO_EDGE);const Xe=((ut,dt,ct,wt,bt)=>({u_matrix:ut,u_color_ramp:0,u_center_direction:dt,u_radius:a.degToRad(ct),u_opacity:wt,u_temporal_offset:bt}))(Ce.skyboxMatrix,xe.getCenter(se,!1),xe.paint.get("sky-gradient-radius"),Fe,ze);se.prepareDrawProgram(Be,Le),Le.draw(Be,je.TRIANGLES,Ae,a.StencilMode.disabled,se.colorModeForRenderPass(),a.CullFaceMode.backCW,Xe,"skyboxGradient",xe.skyboxGeometry.vertexBuffer,xe.skyboxGeometry.indexBuffer,xe.skyboxGeometry.segment)}(x,m,ee,F,ue)},debug:function(x,d,m){for(let C=0;C<m.length;C++)Aw(x,d,m[C])},custom:function(x,d,m,C){const A=x.context,F=m.implementation;if(!x.transform.projection.unsupportedLayers||!x.transform.projection.unsupportedLayers.includes("custom")||x.terrain&&(x.terrain.renderingToTexture||x.renderPass==="offscreen")&&m.isLayerDraped()){if(x.renderPass==="offscreen"){const U=F.prerender;if(U){if(x.setCustomLayerDefaults(),A.setColorMode(x.colorModeForRenderPass()),x.transform.projection.name==="globe"){const K=x.transform.pointMerc;U.call(F,A.gl,x.transform.customLayerMatrix(),x.transform.getProjection(),x.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(x.transform.zoom),[K.x,K.y],x.transform.pixelsPerMeterRatio)}else U.call(F,A.gl,x.transform.customLayerMatrix());A.setDirty(),x.setBaseState()}}else if(x.renderPass==="translucent"){if(x.terrain&&x.terrain.renderingToTexture){const K=F.renderToTile;if(K){const ee=C[0].canonical,ue=new a.MercatorCoordinate(ee.x+C[0].wrap*(1<<ee.z),ee.y,ee.z);A.setDepthMode(a.DepthMode.disabled),A.setStencilMode(a.StencilMode.disabled),A.setColorMode(x.colorModeForRenderPass()),x.setCustomLayerDefaults(),K.call(F,A.gl,ue),A.setDirty(),x.setBaseState()}return}x.setCustomLayerDefaults(),A.setColorMode(x.colorModeForRenderPass()),A.setStencilMode(a.StencilMode.disabled);const U=F.renderingMode==="3d"?new a.DepthMode(x.context.gl.LEQUAL,a.DepthMode.ReadWrite,x.depthRangeFor3D):x.depthModeForSublayer(0,a.DepthMode.ReadOnly);if(A.setDepthMode(U),x.transform.projection.name==="globe"){const K=x.transform.pointMerc;F.render(A.gl,x.transform.customLayerMatrix(),x.transform.getProjection(),x.transform.globeToMercatorMatrix(),a.globeToMercatorTransition(x.transform.zoom),[K.x,K.y],x.transform.pixelsPerMeterRatio)}else F.render(A.gl,x.transform.customLayerMatrix());A.setDirty(),x.setBaseState(),A.bindFramebuffer.set(null)}}else a.warnOnce("Custom layers are not yet supported with this projection. Use mercator or globe to enable usage of custom layers.")}};class Ac{constructor(d,m,C=!1){this.context=new kt(d,C),this.transform=m,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=a.SourceCache.maxUnderzooming+a.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.deferredRenderGpuTimeQueries=[],this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={}}updateTerrain(d,m){const C=!!d&&!!d.terrain&&this.transform.projection.supportsTerrain;if(!(C||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new em(this,d));const A=this._terrain;this.transform.elevation=C?A:null,A.update(d,this.transform,m)}_updateFog(d){const m=d.fog;if(!m||this.transform.projection.name==="globe"||m.getOpacity(this.transform.pitch)<1||m.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[C,A]=m.getFovAdjustedRange(this.transform._fov);if(C>A)return void(this.transform.fogCullDistSq=null);const F=C+.78*(A-C);this.transform.fogCullDistSq=F*F}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(d,m){if(this.width=d*a.exported.devicePixelRatio,this.height=m*a.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const C of this.style.order)this.style._layers[C].resize()}setup(){const d=this.context,m=new a.StructArrayLayout2i4;m.emplaceBack(0,0),m.emplaceBack(a.EXTENT,0),m.emplaceBack(0,a.EXTENT),m.emplaceBack(a.EXTENT,a.EXTENT),this.tileExtentBuffer=d.createVertexBuffer(m,a.posAttributes.members),this.tileExtentSegments=a.SegmentVector.simpleSegment(0,0,4,2);const C=new a.StructArrayLayout2i4;C.emplaceBack(0,0),C.emplaceBack(a.EXTENT,0),C.emplaceBack(0,a.EXTENT),C.emplaceBack(a.EXTENT,a.EXTENT),this.debugBuffer=d.createVertexBuffer(C,a.posAttributes.members),this.debugSegments=a.SegmentVector.simpleSegment(0,0,4,5);const A=new a.StructArrayLayout2i4;A.emplaceBack(-1,-1),A.emplaceBack(1,-1),A.emplaceBack(-1,1),A.emplaceBack(1,1),this.viewportBuffer=d.createVertexBuffer(A,a.posAttributes.members),this.viewportSegments=a.SegmentVector.simpleSegment(0,0,4,2);const F=new a.StructArrayLayout4i8;F.emplaceBack(0,0,0,0),F.emplaceBack(a.EXTENT,0,a.EXTENT,0),F.emplaceBack(0,a.EXTENT,0,a.EXTENT),F.emplaceBack(a.EXTENT,a.EXTENT,a.EXTENT,a.EXTENT),this.mercatorBoundsBuffer=d.createVertexBuffer(F,a.boundsAttributes.members),this.mercatorBoundsSegments=a.SegmentVector.simpleSegment(0,0,4,2);const U=new a.StructArrayLayout3ui6;U.emplaceBack(0,1,2),U.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=d.createIndexBuffer(U);const K=new a.StructArrayLayout1ui2;for(const ue of[0,1,3,2,0])K.emplaceBack(ue);this.debugIndexBuffer=d.createIndexBuffer(K),this.emptyTexture=new a.Texture(d,new a.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),d.gl.RGBA),this.identityMat=a.create();const ee=this.context.gl;this.stencilClearMode=new a.StencilMode({func:ee.ALWAYS,mask:0},0,255,ee.ZERO,ee.ZERO,ee.ZERO),this.loadTimeStamps.push(a.window.performance.now()),this.atmosphereBuffer=new $0(this.context)}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(d){return d._makeTileBoundsBuffers(this.context,this.transform.projection),d._tileBoundsBuffer?{tileBoundsBuffer:d._tileBoundsBuffer,tileBoundsIndexBuffer:d._tileBoundsIndexBuffer,tileBoundsSegments:d._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const d=this.context,m=d.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs={},this.useProgram("clippingMask").draw(d,m.TRIANGLES,a.DepthMode.disabled,this.stencilClearMode,a.ColorMode.disabled,a.CullFaceMode.disabled,Xd(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs={})}_renderTileClippingMasks(d,m,C){if(!m||this.currentStencilSource===m.id||!d.isTileClipped()||!C||C.length===0)return;if(this._tileClippingMaskIDs&&!this.terrain){let K=!1;for(const ee of C)if(this._tileClippingMaskIDs[ee.key]===void 0){K=!0;break}if(!K)return}this.currentStencilSource=m.id;const A=this.context,F=A.gl;this.nextStencilID+C.length>256&&this.clearStencil(),A.setColorMode(a.ColorMode.disabled),A.setDepthMode(a.DepthMode.disabled);const U=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(const K of C){const ee=m.getTile(K),ue=this._tileClippingMaskIDs[K.key]=this.nextStencilID++,{tileBoundsBuffer:se,tileBoundsIndexBuffer:xe,tileBoundsSegments:Ae}=this.getTileBoundsBuffers(ee);U.draw(A,F.TRIANGLES,a.DepthMode.disabled,new a.StencilMode({func:F.ALWAYS,mask:0},ue,255,F.KEEP,F.KEEP,F.REPLACE),a.ColorMode.disabled,a.CullFaceMode.disabled,Xd(K.projMatrix),"$clipping",se,xe,Ae)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const d=this.nextStencilID++,m=this.context.gl;return new a.StencilMode({func:m.NOTEQUAL,mask:255},d,255,m.KEEP,m.KEEP,m.REPLACE)}stencilModeForClipping(d){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(d);const m=this.context.gl;return new a.StencilMode({func:m.EQUAL,mask:255},this._tileClippingMaskIDs[d.key],0,m.KEEP,m.KEEP,m.REPLACE)}stencilConfigForOverlap(d){const m=this.context.gl,C=d.sort((U,K)=>K.overscaledZ-U.overscaledZ),A=C[C.length-1].overscaledZ,F=C[0].overscaledZ-A+1;if(F>1){this.currentStencilSource=void 0,this.nextStencilID+F>256&&this.clearStencil();const U={};for(let K=0;K<F;K++)U[K+A]=new a.StencilMode({func:m.GEQUAL,mask:255},K+this.nextStencilID,255,m.KEEP,m.KEEP,m.REPLACE);return this.nextStencilID+=F,[U,C]}return[{[A]:a.StencilMode.disabled},C]}colorModeForRenderPass(){const d=this.context.gl;return this._showOverdrawInspector?new a.ColorMode([d.CONSTANT_COLOR,d.ONE],new a.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?a.ColorMode.unblended:a.ColorMode.alphaBlended}depthModeForSublayer(d,m,C){if(!this.opaquePassEnabledForLayer())return a.DepthMode.disabled;const A=1-((1+this.currentLayer)*this.numSublayers+d)*this.depthEpsilon;return new a.DepthMode(C||this.context.gl.LEQUAL,m,[A,A])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(d,m){this.style=d,this.options=m,this.imageManager=d.imageManager,this.glyphManager=d.glyphManager,this.symbolFadeChange=d.placement.symbolFadeChange(a.exported.now()),this.imageManager.beginFrame();const C=this.style.order,A=this.style._sourceCaches;for(const ue in A){const se=A[ue];se.used&&se.prepare(this.context)}const F={},U={},K={};for(const ue in A){const se=A[ue];F[ue]=se.getVisibleCoordinates(),U[ue]=F[ue].slice().reverse(),K[ue]=se.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let ue=0;ue<C.length;ue++)if(this.style._layers[C[ue]].is3D()){this.opaquePassCutoff=ue;break}if(this.terrain&&(this.terrain.updateTileBinding(K),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new a.GlobeSharedBuffers(this.context)),!a.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const ue of C){const se=this.style._layers[ue],xe=d._getLayerSourceCache(se);if(!se.hasOffscreenPass()||se.isHidden(this.transform.zoom))continue;const Ae=xe?U[xe.id]:void 0;(se.type==="custom"||se.isSky()||Ae&&Ae.length)&&this.renderLayer(this,xe,se,Ae)}this.depthRangeFor3D=[0,1-(d.order.length+2)*this.numSublayers*this.depthEpsilon];const ee=this.terrain;if(ee&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&ee.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]),this.context.clear({color:m.showOverdrawInspector?a.Color.black:a.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=m.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=C.length-1;this.currentLayer>=0;this.currentLayer--){const ue=this.style._layers[C[this.currentLayer]],se=d._getLayerSourceCache(ue);if(ue.isSky())continue;const xe=se?U[se.id]:void 0;this._renderTileClippingMasks(ue,se,xe),this.renderLayer(this,se,ue,xe)}if(this.style.fog&&this.transform.projection.supportsFog&&function(ue,se){const xe=ue.context,Ae=xe.gl,Fe=ue.transform,ze=new a.DepthMode(Ae.LEQUAL,a.DepthMode.ReadOnly,[0,1]),Be=ue.useProgram("globeAtmosphere",null,Fe.projection.name==="globe"?["PROJECTION_GLOBE_VIEW","FOG"]:["FOG"]),je=a.globeToMercatorTransition(Fe.zoom),Ce=se.properties.get("color").toArray01(),Le=se.properties.get("high-color").toArray01(),qe=se.properties.get("space-color").toArray01PremultipliedAlpha(),Xe=a.identity$1([]);a.rotateY$1(Xe,Xe,-a.degToRad(Fe._center.lng)),a.rotateX$1(Xe,Xe,a.degToRad(Fe._center.lat)),a.rotateZ$1(Xe,Xe,Fe.angle),a.rotateX$1(Xe,Xe,-Fe._pitch);const ut=a.fromQuat(new Float32Array(16),Xe),dt=a.mapValue(se.properties.get("star-intensity"),0,1,0,.25),ct=5e-4,wt=a.mapValue(se.properties.get("horizon-blend"),0,1,ct,.25),bt=a.globeUseCustomAntiAliasing(ue,xe,Fe)&&wt===ct?Fe.worldSize/(2*Math.PI*1.025)-1:Fe.globeRadius,At=ue.frameCounter/1e3%1,an=a.length(Fe.globeCenterInViewSpace),Tt=Math.sqrt(Math.pow(an,2)-Math.pow(bt,2)),Kt=Math.acos(Tt/an),Dt=((Mt,Vt,sn,Qt,ln,Rn,Zn,Sn,jn,xr,_r,On,Vr,Xr)=>({u_frustum_tl:Mt,u_frustum_tr:Vt,u_frustum_br:sn,u_frustum_bl:Qt,u_horizon:ln,u_transition:Rn,u_fadeout_range:Zn,u_color:Sn,u_high_color:jn,u_space_color:xr,u_star_intensity:_r,u_star_size:5*a.exported.devicePixelRatio,u_star_density:0,u_temporal_offset:On,u_horizon_angle:Vr,u_rotation_matrix:Xr}))(Fe.frustumCorners.TL,Fe.frustumCorners.TR,Fe.frustumCorners.BR,Fe.frustumCorners.BL,Fe.frustumCorners.horizon,je,wt,Ce,Le,qe,dt,At,Kt,ut);ue.prepareDrawProgram(xe,Be);const nn=ue.atmosphereBuffer;nn&&Be.draw(xe,Ae.TRIANGLES,ze,a.StencilMode.disabled,a.ColorMode.alphaBlended,a.CullFaceMode.backCW,Dt,"skybox",nn.vertexBuffer,nn.indexBuffer,nn.segments)}(this,this.style.fog),this.renderPass="sky",(a.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<C.length;this.currentLayer++){const ue=this.style._layers[C[this.currentLayer]],se=d._getLayerSourceCache(ue);ue.isSky()&&this.renderLayer(this,se,ue,se?U[se.id]:void 0)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<C.length;){const ue=this.style._layers[C[this.currentLayer]],se=d._getLayerSourceCache(ue);if(ue.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(ue)){if(ue.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const xe=se?(ue.type==="symbol"?K:U)[se.id]:void 0;this._renderTileClippingMasks(ue,se,se?F[se.id]:void 0),this.renderLayer(this,se,ue,xe),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry||this.options.showTileAABBs){let ue=null;a.values(this.style._layers).forEach(se=>{const xe=d._getLayerSourceCache(se);xe&&!se.isHidden(this.transform.zoom)&&(!ue||ue.getSource().maxzoom<xe.getSource().maxzoom)&&(ue=xe)}),ue&&this.options.showTileBoundaries&&Tu.debug(this,ue,ue.getVisibleCoordinates())}this.options.showPadding&&function(ue){const se=ue.transform.padding;N0(ue,ue.transform.height-(se.top||0),3,Mc),N0(ue,se.bottom||0,3,Ew),Kh(ue,se.left||0,3,Pw),Kh(ue,ue.transform.width-(se.right||0),3,Mw);const xe=ue.transform.centerPoint;(function(Ae,Fe,ze,Be){kc(Ae,Fe-1,ze-10,2,20,Be),kc(Ae,Fe-10,ze-1,20,2,Be)})(ue,xe.x,ue.transform.height-xe.y,kw)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(a.window.performance.now()),this.saveCanvasCopy())}renderLayer(d,m,C,A){C.isHidden(this.transform.zoom)||(C.type==="background"||C.type==="sky"||C.type==="custom"||A&&A.length)&&(this.id=C.id,this.gpuTimingStart(C),(!d.transform.projection.unsupportedLayers||!d.transform.projection.unsupportedLayers.includes(C.type)||d.terrain&&C.type==="custom")&&Tu[C.type](d,m,C,A,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(d){if(!this.options.gpuTiming)return;const m=this.context.extTimerQuery;let C=this.gpuTimers[d.id];C||(C=this.gpuTimers[d.id]={calls:0,cpuTime:0,query:m.createQueryEXT()}),C.calls++,m.beginQueryEXT(m.TIME_ELAPSED_EXT,C.query)}gpuTimingDeferredRenderStart(){if(this.options.gpuTimingDeferredRender){const d=this.context.extTimerQuery,m=d.createQueryEXT();this.deferredRenderGpuTimeQueries.push(m),d.beginQueryEXT(d.TIME_ELAPSED_EXT,m)}}gpuTimingDeferredRenderEnd(){if(!this.options.gpuTimingDeferredRender)return;const d=this.context.extTimerQuery;d.endQueryEXT(d.TIME_ELAPSED_EXT)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const d=this.context.extTimerQuery;d.endQueryEXT(d.TIME_ELAPSED_EXT)}collectGpuTimers(){const d=this.gpuTimers;return this.gpuTimers={},d}collectDeferredRenderGpuQueries(){const d=this.deferredRenderGpuTimeQueries;return this.deferredRenderGpuTimeQueries=[],d}queryGpuTimers(d){const m={};for(const C in d){const A=d[C],F=this.context.extTimerQuery,U=F.getQueryObjectEXT(A.query,F.QUERY_RESULT_EXT)/1e6;F.deleteQueryEXT(A.query),m[C]=U}return m}queryGpuTimeDeferredRender(d){if(!this.options.gpuTimingDeferredRender)return 0;const m=this.context.extTimerQuery;let C=0;for(const A of d)C+=m.getQueryObjectEXT(A,m.QUERY_RESULT_EXT)/1e6,m.deleteQueryEXT(A);return C}translatePosMatrix(d,m,C,A,F){if(!C[0]&&!C[1])return d;const U=F?A==="map"?this.transform.angle:0:A==="viewport"?-this.transform.angle:0;if(U){const ue=Math.sin(U),se=Math.cos(U);C=[C[0]*se-C[1]*ue,C[0]*ue+C[1]*se]}const K=[F?C[0]:ce(m,C[0],this.transform.zoom),F?C[1]:ce(m,C[1],this.transform.zoom),0],ee=new Float32Array(16);return a.translate(ee,d,K),ee}saveTileTexture(d){const m=this._tileTextures[d.size[0]];m?m.push(d):this._tileTextures[d.size[0]]=[d]}getTileTexture(d){const m=this._tileTextures[d];return m&&m.length>0?m.pop():null}isPatternMissing(d){return d===null||d!==void 0&&!this.imageManager.getPattern(d.toString())}terrainRenderModeElevated(){return this.style&&!!this.style.getTerrain()&&!!this.terrain&&!this.terrain.renderingToTexture}currentGlobalDefines(){const d=this.terrain&&this.terrain.renderingToTexture,m=this.terrain&&this.terrain.exaggeration()===0,C=this.style&&this.style.fog,A=[];return this.terrainRenderModeElevated()&&A.push("TERRAIN"),this.transform.projection.name==="globe"&&A.push("GLOBE"),m&&A.push("ZERO_EXAGGERATION"),C&&!d&&C.getOpacity(this.transform.pitch)!==0&&A.push("FOG"),d&&A.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&A.push("OVERDRAW_INSPECTOR"),A}useProgram(d,m,C){this.cache=this.cache||{};const A=C||[],F=this.currentGlobalDefines().concat(A),U=Ar.cacheKey(Yd[d],d,F,m);return this.cache[U]||(this.cache[U]=new Ar(this.context,d,Yd[d],m,cm[d],F)),this.cache[U]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const d=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(d.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=a.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new a.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.atmosphereBuffer&&this.atmosphereBuffer.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(d,m,C){if(this.terrain&&this.terrain.renderingToTexture)return;const A=this.style.fog;if(A){const F=A.getOpacity(this.transform.pitch),U=((K,ee,ue,se,xe,Ae,Fe,ze,Be,je,Ce)=>{const Le=K.transform,qe=ee.properties.get("color").toArray01();qe[3]=se;const Xe=K.frameCounter/1e3%1;return{u_fog_matrix:ue?Le.calculateFogTileMatrix(ue):K.identityMat,u_fog_range:ee.getFovAdjustedRange(Le._fov),u_fog_color:qe,u_fog_horizon_blend:ee.properties.get("horizon-blend"),u_fog_temporal_offset:Xe,u_frustum_tl:xe,u_frustum_tr:Ae,u_frustum_br:Fe,u_frustum_bl:ze,u_globe_pos:Be,u_globe_radius:je,u_viewport:Ce,u_globe_transition:a.globeToMercatorTransition(Le.zoom),u_is_globe:+(Le.projection.name==="globe")}})(this,A,C,F,this.transform.frustumCorners.TL,this.transform.frustumCorners.TR,this.transform.frustumCorners.BR,this.transform.frustumCorners.BL,this.transform.globeCenterInViewSpace,this.transform.globeRadius,[this.transform.width*a.exported.devicePixelRatio,this.transform.height*a.exported.devicePixelRatio]);m.setFogUniformValues(d,U)}}setTileLoadedFlag(d){this.tileLoaded=d}saveCanvasCopy(){const d=this.canvasCopy();d&&(this.frameCopies.push(d),this.tileLoaded=!1)}canvasCopy(){const d=this.context.gl,m=d.createTexture();return d.bindTexture(d.TEXTURE_2D,m),d.copyTexImage2D(d.TEXTURE_2D,0,d.RGBA,0,0,d.drawingBufferWidth,d.drawingBufferHeight,0),m}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const d=this.style&&this.style.fog;return!!d&&d.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const d=this._backgroundTiles,m=this._backgroundTiles={},C=this.transform.coveringTiles({tileSize:512});for(const A of C)m[A.key]=d[A.key]||new a.Tile(A,512,this.transform.tileZoom,this);return m}clearBackgroundTiles(){this._backgroundTiles={}}}class Gh{constructor(d=0,m=0,C=0,A=0){if(isNaN(d)||d<0||isNaN(m)||m<0||isNaN(C)||C<0||isNaN(A)||A<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=d,this.bottom=m,this.left=C,this.right=A}interpolate(d,m,C){return m.top!=null&&d.top!=null&&(this.top=a.number(d.top,m.top,C)),m.bottom!=null&&d.bottom!=null&&(this.bottom=a.number(d.bottom,m.bottom,C)),m.left!=null&&d.left!=null&&(this.left=a.number(d.left,m.left,C)),m.right!=null&&d.right!=null&&(this.right=a.number(d.right,m.right,C)),this}getCenter(d,m){const C=a.clamp((this.left+d-this.right)/2,0,d),A=a.clamp((this.top+m-this.bottom)/2,0,m);return new a.Point(C,A)}equals(d){return this.top===d.top&&this.bottom===d.bottom&&this.left===d.left&&this.right===d.right}clone(){return new Gh(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function qh(x,d){const m=a.getColumn(x,3);a.fromQuat(x,d),a.setColumn(x,3,m)}function Dr(x,d){const m=a.identity$1([]);return a.rotateZ$1(m,m,-d),a.rotateX$1(m,m,-x),m}function rf(x,d){const m=[x[0],x[1],0],C=[d[0],d[1],0];if(a.length(m)>=1e-15){const U=a.normalize([],m);a.scale$2(C,U,a.dot(C,U)),d[0]=C[0],d[1]=C[1]}const A=a.cross([],d,x);if(a.len(A)<1e-15)return null;const F=Math.atan2(-A[1],A[0]);return Dr(Math.atan2(Math.sqrt(x[0]*x[0]+x[1]*x[1]),-x[2]),F)}class j0{constructor(d,m){this.position=d,this.orientation=m}get position(){return this._position}set position(d){if(d){const m=d instanceof a.MercatorCoordinate?d:new a.MercatorCoordinate(d[0],d[1],d[2]);this._renderWorldCopies&&(m.x=a.wrap(m.x,0,1)),this._position=m}else this._position=null}lookAtPoint(d,m){if(this.orientation=null,!this.position)return;const C=this.position,A=this._elevation?this._elevation.getAtPointOrZero(a.MercatorCoordinate.fromLngLat(d)):0,F=a.MercatorCoordinate.fromLngLat(d,A),U=[F.x-C.x,F.y-C.y,F.z-C.z];m||(m=[0,0,1]),m[2]=Math.abs(m[2]),this.orientation=rf(U,m)}setPitchBearing(d,m){this.orientation=Dr(a.degToRad(d),a.degToRad(-m))}}class Yh{constructor(d,m){this._transform=a.identity([]),this.orientation=m,this.position=d}get mercatorPosition(){const d=this.position;return new a.MercatorCoordinate(d[0],d[1],d[2])}get position(){const d=a.getColumn(this._transform,3);return[d[0],d[1],d[2]]}set position(d){var m;d&&a.setColumn(this._transform,3,[(m=d)[0],m[1],m[2],1])}get orientation(){return this._orientation}set orientation(d){this._orientation=d||a.identity$1([]),d&&qh(this._transform,this._orientation)}getPitchBearing(){const d=this.forward(),m=this.right();return{bearing:Math.atan2(-m[1],m[0]),pitch:Math.atan2(Math.sqrt(d[0]*d[0]+d[1]*d[1]),-d[2])}}setPitchBearing(d,m){this._orientation=Dr(d,m),qh(this._transform,this._orientation)}forward(){const d=a.getColumn(this._transform,2);return[-d[0],-d[1],-d[2]]}up(){const d=a.getColumn(this._transform,1);return[-d[0],-d[1],-d[2]]}right(){const d=a.getColumn(this._transform,0);return[d[0],d[1],d[2]]}getCameraToWorld(d,m){const C=new Float64Array(16);return a.invert(C,this.getWorldToCamera(d,m)),C}getWorldToCameraPosition(d,m,C){const A=this.position;a.scale$2(A,A,-d);const F=new Float64Array(16);return a.fromScaling(F,[C,C,C]),a.translate(F,F,A),F[10]*=m,F}getWorldToCamera(d,m){const C=new Float64Array(16),A=new Float64Array(4),F=this.position;return a.conjugate(A,this._orientation),a.scale$2(F,F,-d),a.fromQuat(C,A),a.translate(C,C,F),C[1]*=-1,C[5]*=-1,C[9]*=-1,C[13]*=-1,C[8]*=m,C[9]*=m,C[10]*=m,C[11]*=m,C}getCameraToClipPerspective(d,m,C,A){const F=new Float64Array(16);return a.perspective(F,d,m,C,A),F}getDistanceToElevation(d,m=!1){const C=d===0?0:a.mercatorZfromAltitude(d,m?a.latFromMercatorY(this.position[1]):this.position[1]),A=this.forward();return(C-this.position[2])/A[2]}clone(){return new Yh([...this.position],[...this.orientation])}}function Ic(x,d){const m=Xh(x.projection,x.zoom,x.width,x.height),C=function(F,U,K,ee,ue){const se=new a.LngLat(K.lng-180*el,K.lat),xe=new a.LngLat(K.lng+180*el,K.lat),Ae=F.project(se.lng,se.lat),Fe=F.project(xe.lng,xe.lat),ze=-Math.atan2(Fe.y-Ae.y,Fe.x-Ae.x),Be=a.MercatorCoordinate.fromLngLat(K);Be.y=a.clamp(Be.y,-1+el,1-el);const je=Be.toLngLat(),Ce=F.project(je.lng,je.lat),Le=a.MercatorCoordinate.fromLngLat(je);Le.x+=el;const qe=Le.toLngLat(),Xe=F.project(qe.lng,qe.lat),ut=Zh(Xe.x-Ce.x,Xe.y-Ce.y,ze),dt=a.MercatorCoordinate.fromLngLat(je);dt.y+=el;const ct=dt.toLngLat(),wt=F.project(ct.lng,ct.lat),bt=Zh(wt.x-Ce.x,wt.y-Ce.y,ze),At=Math.abs(ut.x)/Math.abs(bt.y),an=a.identity([]);a.rotateZ(an,an,-ze*(1-(ue?0:ee)));const Tt=a.identity([]);return a.scale(Tt,Tt,[1,1-(1-At)*ee,1]),Tt[4]=-bt.x/bt.y*ee,a.rotateZ(Tt,Tt,ze),a.multiply(Tt,an,Tt),Tt}(x.projection,0,x.center,m,d),A=V0(x);return a.scale(C,C,[A,A,1]),C}function V0(x){const d=x.projection,m=Xh(x.projection,x.zoom,x.width,x.height),C=U0(d,x.center),A=U0(d,a.LngLat.convert(d.center));return Math.pow(2,C*m+(1-m)*A)}function Xh(x,d,m,C,A=1/0){const F=x.range;if(!F)return 0;const U=Math.min(A,Math.max(m,C)),K=Math.log(U/1024)/Math.LN2;return a.smoothstep(F[0]+K,F[1]+K,d)}const el=1/4e4;function U0(x,d){const m=a.clamp(d.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),C=new a.LngLat(d.lng-180*el,m),A=new a.LngLat(d.lng+180*el,m),F=x.project(C.lng,m),U=x.project(A.lng,m),K=a.MercatorCoordinate.fromLngLat(C),ee=a.MercatorCoordinate.fromLngLat(A),ue=U.x-F.x,se=U.y-F.y,xe=ee.x-K.x,Ae=ee.y-K.y,Fe=Math.sqrt((xe*xe+Ae*Ae)/(ue*ue+se*se));return Math.log(Fe)/Math.LN2}function Zh(x,d,m){const C=Math.cos(m),A=Math.sin(m);return{x:x*C-d*A,y:x*A+d*C}}class Oc{constructor(d,m,C,A,F,U,K){this.tileSize=512,this._renderWorldCopies=F===void 0||F,this._minZoom=d||0,this._maxZoom=m||22,this._minPitch=C??0,this._maxPitch=A??60,this.setProjection(U),this.setMaxBounds(K),this.width=0,this.height=0,this._center=new a.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new Gh,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new Yh,this._centerAltitude=0,this._averageElevation=0,this.cameraElevationReference="ground",this._pixelsPerMercatorPixel=1,this.globeRadius=0,this.globeCenterInViewSpace=[0,0,0],this._horizonShift=.1}clone(){const d=new Oc(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return d._elevation=this._elevation,d._centerAltitude=this._centerAltitude,d._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,d.tileSize=this.tileSize,d.mercatorFromTransition=this.mercatorFromTransition,d.width=this.width,d.height=this.height,d.cameraElevationReference=this.cameraElevationReference,d._center=this._center,d._setZoom(this.zoom),d._seaLevelZoom=this._seaLevelZoom,d.angle=this.angle,d._fov=this._fov,d._pitch=this._pitch,d._nearZ=this._nearZ,d._farZ=this._farZ,d._averageElevation=this._averageElevation,d._unmodified=this._unmodified,d._edgeInsets=this._edgeInsets.clone(),d._camera=this._camera.clone(),d._calcMatrices(),d.freezeTileCoverage=this.freezeTileCoverage,d.frustumCorners=this.frustumCorners,d}get elevation(){return this._elevation}set elevation(d){this._elevation!==d&&(this._elevation=d,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(d,m=!1){const C=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||C)&&this._updateCameraOnTerrain(),(d||C)&&this._constrainCamera(m),this._calcMatrices()}getProjection(){return a.pick(this.projection,["name","center","parallels"])}setProjection(d){this.projectionOptions=d||{name:"mercator"};const m=this.projection?this.getProjection():void 0;this.projection=a.getProjection(this.projectionOptions);const C=!f(m,this.getProjection());return C&&this._calcMatrices(),this.mercatorFromTransition=!1,C}setMercatorFromTransition(){const d=this.projection.name;this.mercatorFromTransition=!0,this.projectionOptions={name:"mercator"},this.projection=a.getProjection({name:"mercator"});const m=d!==this.projection.name;return m&&this._calcMatrices(),m}get minZoom(){return this._minZoom}set minZoom(d){this._minZoom!==d&&(this._minZoom=d,this.zoom=Math.max(this.zoom,d))}get maxZoom(){return this._maxZoom}set maxZoom(d){this._maxZoom!==d&&(this._maxZoom=d,this.zoom=Math.min(this.zoom,d))}get minPitch(){return this._minPitch}set minPitch(d){this._minPitch!==d&&(this._minPitch=d,this.pitch=Math.max(this.pitch,d))}get maxPitch(){return this._maxPitch}set maxPitch(d){this._maxPitch!==d&&(this._maxPitch=d,this.pitch=Math.min(this.pitch,d))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(d){d===void 0?d=!0:d===null&&(d=!1),this._renderWorldCopies=d}get worldSize(){return this.tileSize*this.scale}get cameraWorldSizeForFog(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get cameraWorldSize(){const d=Math.max(this._camera.getDistanceToElevation(this._averageElevation,!0),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(d))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return a.mercatorZfromAltitude(this.center.lat,this.cameraWorldSizeForFog)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new a.Point(this.width,this.height)}get bearing(){return a.wrap(this.rotation,-180,180)}set bearing(d){this.rotation=d}get rotation(){return-this.angle/Math.PI*180}set rotation(d){const m=-d*Math.PI/180;var C;this.angle!==m&&(this._unmodified=!1,this.angle=m,this._calcMatrices(),this.rotationMatrix=(C=new a.ARRAY_TYPE(4),a.ARRAY_TYPE!=Float32Array&&(C[1]=0,C[2]=0),C[0]=1,C[3]=1,C),function(A,F,U){var K=F[0],ee=F[1],ue=F[2],se=F[3],xe=Math.sin(U),Ae=Math.cos(U);A[0]=K*Ae+ue*xe,A[1]=ee*Ae+se*xe,A[2]=K*-xe+ue*Ae,A[3]=ee*-xe+se*Ae}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(d){const m=a.clamp(d,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==m&&(this._unmodified=!1,this._pitch=m,this._calcMatrices())}get aspect(){return this.width/this.height}get fov(){return this._fov/Math.PI*180}get fovX(){return this._fov}get fovY(){const d=1/Math.tan(.5*this.fovX);return 2*Math.atan(1/this.aspect/d)}set fov(d){d=Math.max(.01,Math.min(60,d)),this._fov!==d&&(this._unmodified=!1,this._fov=a.degToRad(d),this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(d){this._averageElevation=d,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(d){const m=Math.min(Math.max(d,this.minZoom),this.maxZoom);this._zoom!==m&&(this._unmodified=!1,this._setZoom(m),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(d){this._zoom=d,this.scale=this.zoomScale(d),this.tileZoom=Math.floor(d),this.zoomFraction=d-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=void 0);const d=this._elevation;this._centerAltitude=d.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=d.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==void 0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const d=this._elevation,m=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],C=this.horizonLineFromTop();let A=0,F=0;for(let U=0;U<m.length;U++){const K=new a.Point(m[U][0]*this.width,C+m[U][1]*(this.height-C)),ee=d.pointCoordinate(K);if(!ee)continue;const ue=1/Math.hypot(ee[0]-this._camera.position[0],ee[1]-this._camera.position[1]);A+=ee[3]*ue,F+=ue}return F===0?NaN:A/F}get center(){return this._center}set center(d){d.lat===this._center.lat&&d.lng===this._center.lng||(this._unmodified=!1,this._center=d,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const d=this._seaLevelZoom,m=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),C=this.pixelsPerMeter/this.worldSize*m,A=this._mercatorZfromZoom(d),F=this._mercatorZfromZoom(this._maxZoom),U=Math.max(A-C,F);this._setZoom(this._zoomFromMercatorZ(U))}get padding(){return this._edgeInsets.toJSON()}set padding(d){this._edgeInsets.equals(d)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,d,1),this._calcMatrices())}computeZoomRelativeTo(d){const m=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,d.toAltitude()));let C;C=d.z<this._camera.position[2]?[m.x,m.y,m.z]:[d.x,d.y,d.z];const A=a.length(a.sub([],this._camera.position,C));return a.clamp(this._zoomFromMercatorZ(A),this._minZoom,this._maxZoom)}setFreeCameraOptions(d){if(!this.height||!d.position&&!d.orientation)return;this._updateCameraState();let m=!1;if(d.orientation&&!a.exactEquals(d.orientation,this._camera.orientation)&&(m=this._setCameraOrientation(d.orientation)),d.position){const C=[d.position.x,d.position.y,d.position.z];a.exactEquals$1(C,this._camera.position)||(this._setCameraPosition(C),m=!0)}m&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const d=this._camera.position,m=new j0;return m.position=new a.MercatorCoordinate(d[0],d[1],d[2]),m.orientation=this._camera.orientation,m._elevation=this.elevation,m._renderWorldCopies=this.renderWorldCopies,m}_setCameraOrientation(d){if(!a.length$1(d))return!1;a.normalize$1(d,d);const m=a.transformQuat([],[0,0,-1],d),C=a.transformQuat([],[0,-1,0],d);if(C[2]<0)return!1;const A=rf(m,C);return!!A&&(this._camera.orientation=A,!0)}_setCameraPosition(d){const m=this.zoomScale(this.minZoom)*this.tileSize,C=this.zoomScale(this.maxZoom)*this.tileSize,A=this.cameraToCenterDistance;d[2]=a.clamp(d[2],A/C,A/m),this._camera.position=d}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(d){return this._edgeInsets.equals(d)}interpolatePadding(d,m,C){this._unmodified=!1,this._edgeInsets.interpolate(d,m,C),this._constrain(),this._calcMatrices()}coveringZoomLevel(d){const m=(d.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/d.tileSize));return Math.max(0,m)}getVisibleUnwrappedCoordinates(d){const m=[new a.UnwrappedTileID(0,d)];if(this.renderWorldCopies){const C=this.pointCoordinate(new a.Point(0,0)),A=this.pointCoordinate(new a.Point(this.width,0)),F=this.pointCoordinate(new a.Point(this.width,this.height)),U=this.pointCoordinate(new a.Point(0,this.height)),K=Math.floor(Math.min(C.x,A.x,F.x,U.x)),ee=Math.floor(Math.max(C.x,A.x,F.x,U.x)),ue=1;for(let se=K-ue;se<=ee+ue;se++)se!==0&&m.push(new a.UnwrappedTileID(se,d))}return m}coveringTiles(d){let m=this.coveringZoomLevel(d);const C=m,A=this.elevation&&!d.isTerrainDEM,F=this.projection.name==="mercator";if(d.minzoom!==void 0&&m<d.minzoom)return[];d.maxzoom!==void 0&&m>d.maxzoom&&(m=d.maxzoom);const U=this.locationCoordinate(this.center),K=this.center.lat,ee=1<<m,ue=[ee*U.x,ee*U.y,0],se=this.projection.name==="globe",xe=!se,Ae=a.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,m,xe),Fe=se?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),ze=ee*a.mercatorZfromAltitude(1,this.center.lat),Be=this._camera.position[2]/a.mercatorZfromAltitude(1,this.center.lat),je=[ee*Fe.x,ee*Fe.y,Be*(xe?1:ze)],Ce=this.cameraToCenterDistance/d.tileSize*(d.roundZoom?1:.502),Le=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?m:0,qe=d.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Xe=d.isTerrainDEM?-qe:this._elevation?this._elevation.getMinElevationBelowMSL():0,ut=this.projection.isReprojectedInTileSpace?V0(this):1,dt=Mt=>{const sn=new a.MercatorCoordinate(Mt.x+25e-6,Mt.y,Mt.z),Qt=new a.MercatorCoordinate(Mt.x,Mt.y+25e-6,Mt.z),ln=Mt.toLngLat(),Rn=sn.toLngLat(),Zn=Qt.toLngLat(),Sn=this.locationCoordinate(ln),jn=this.locationCoordinate(Rn),xr=this.locationCoordinate(Zn),_r=Math.hypot(jn.x-Sn.x,jn.y-Sn.y),On=Math.hypot(xr.x-Sn.x,xr.y-Sn.y);return Math.sqrt(_r*On)*ut/25e-6},ct=Mt=>{const Vt=qe,sn=Xe;return{aabb:a.tileAABB(this,ee,0,0,0,Mt,sn,Vt,this.projection),zoom:0,x:0,y:0,minZ:sn,maxZ:Vt,wrap:Mt,fullyVisible:!1}},wt=[];let bt=[];const At=m,an=d.reparseOverscaled?C:m,Tt=Mt=>Mt*Mt,Kt=Tt((Be-this._centerAltitude)*ze),Dt=Mt=>{if(!this._elevation||!Mt.tileID||!F)return;const Vt=this._elevation.getMinMaxForTile(Mt.tileID),sn=Mt.aabb;Vt?(sn.min[2]=Vt.min,sn.max[2]=Vt.max,sn.center[2]=(sn.min[2]+sn.max[2])/2):(Mt.shouldSplit=nn(Mt),Mt.shouldSplit||(sn.min[2]=sn.max[2]=sn.center[2]=this._centerAltitude))},nn=Mt=>{if(Mt.zoom<Le)return!0;if(Mt.zoom===At)return!1;if(Mt.shouldSplit!=null)return Mt.shouldSplit;const Vt=Mt.aabb.distanceX(je),sn=Mt.aabb.distanceY(je);let Qt=Kt,ln=1;if(se){Qt=Tt(Mt.aabb.distanceZ(je));const Sn=Math.pow(2,Mt.zoom),jn=a.latFromMercatorY((Mt.y+1)/Sn),xr=a.latFromMercatorY(Mt.y/Sn),_r=Math.min(Math.max(K,jn),xr),On=a.circumferenceAtLatitude(_r)/a.circumferenceAtLatitude(K);if(ln=_r===K?1/Math.max(1,this._mercatorScaleRatio-.3):Math.min(1,On/this._mercatorScaleRatio),this.zoom<=a.GLOBE_ZOOM_THRESHOLD_MIN&&Mt.zoom===At-1&&On>=.9)return!0}else if(A&&(Qt=Tt(Mt.aabb.distanceZ(je)*ze)),this.projection.isReprojectedInTileSpace&&C<=5){const Sn=Math.pow(2,Mt.zoom),jn=dt(new a.MercatorCoordinate((Mt.x+.5)/Sn,(Mt.y+.5)/Sn));ln=jn>.85?1:jn}const Rn=Vt*Vt+sn*sn+Qt,Zn=Tt((1<<At-Mt.zoom)*Ce*ln*((Sn,jn)=>{if(jn*Tt(.707)<Sn)return 1;const xr=Math.sqrt(jn/Sn);return xr/(1.4144271570014144+(Math.pow(1.1,xr-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max(Qt,Kt),Rn));return Rn<Zn};if(this.renderWorldCopies)for(let Mt=1;Mt<=3;Mt++)wt.push(ct(-Mt)),wt.push(ct(Mt));for(wt.push(ct(0));wt.length>0;){const Mt=wt.pop(),Vt=Mt.x,sn=Mt.y;let Qt=Mt.fullyVisible;if(!Qt){const ln=Mt.aabb.intersects(Ae);if(ln===0)continue;Qt=ln===2}if(Mt.zoom!==At&&nn(Mt))for(let ln=0;ln<4;ln++){const Rn=(Vt<<1)+ln%2,Zn=(sn<<1)+(ln>>1),Sn={aabb:F?Mt.aabb.quadrant(ln):a.tileAABB(this,ee,Mt.zoom+1,Rn,Zn,Mt.wrap,Mt.minZ,Mt.maxZ,this.projection),zoom:Mt.zoom+1,x:Rn,y:Zn,wrap:Mt.wrap,fullyVisible:Qt,tileID:void 0,shouldSplit:void 0,minZ:Mt.minZ,maxZ:Mt.maxZ};A&&!se&&(Sn.tileID=new a.OverscaledTileID(Mt.zoom+1===At?an:Mt.zoom+1,Mt.wrap,Mt.zoom+1,Rn,Zn),Dt(Sn)),wt.push(Sn)}else{const ln=Mt.zoom===At?an:Mt.zoom;if(d.minzoom&&d.minzoom>ln)continue;const Rn=ue[0]-(.5+Vt+(Mt.wrap<<Mt.zoom))*(1<<m-Mt.zoom),Zn=ue[1]-.5-sn,Sn=Mt.tileID?Mt.tileID:new a.OverscaledTileID(ln,Mt.wrap,Mt.zoom,Vt,sn);bt.push({tileID:Sn,distanceSq:Rn*Rn+Zn*Zn})}}if(this.fogCullDistSq){const Mt=this.fogCullDistSq,Vt=this.horizonLineFromTop();bt=bt.filter(sn=>{const Qt=[0,0,0,1],ln=[a.EXTENT,a.EXTENT,0,1],Rn=this.calculateFogTileMatrix(sn.tileID.toUnwrapped());a.transformMat4$1(Qt,Qt,Rn),a.transformMat4$1(ln,ln,Rn);const Zn=a.getAABBPointSquareDist(Qt,ln);if(Zn===0)return!0;let Sn=!1;const jn=this._elevation;if(jn&&Zn>Mt&&Vt!==0){const xr=this.calculateProjMatrix(sn.tileID.toUnwrapped());let _r;d.isTerrainDEM||(_r=jn.getMinMaxForTile(sn.tileID)),_r||(_r={min:Xe,max:qe});const On=a.furthestTileCorner(this.rotation),Vr=[On[0]*a.EXTENT,On[1]*a.EXTENT,_r.max];a.transformMat4(Vr,Vr,xr),Sn=(1-Vr[1])*this.height*.5<Vt}return Zn<Mt||Sn})}return bt.sort((Mt,Vt)=>Mt.distanceSq-Vt.distanceSq).map(Mt=>Mt.tileID)}resize(d,m){this.width=d,this.height=m,this.pixelsToGLUnits=[2/d,-2/m],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(d){return Math.pow(2,d)}scaleZoom(d){return Math.log(d)/Math.LN2}project(d){const m=a.clamp(d.lat,-a.MAX_MERCATOR_LATITUDE,a.MAX_MERCATOR_LATITUDE),C=this.projection.project(d.lng,m);return new a.Point(C.x*this.worldSize,C.y*this.worldSize)}unproject(d){return this.projection.unproject(d.x/this.worldSize,d.y/this.worldSize)}get point(){return this.project(this.center)}get pointMerc(){return this.point._div(this.worldSize)}get pixelsPerMeterRatio(){return this.pixelsPerMeter/a.mercatorZfromAltitude(1,this.center.lat)/this.worldSize}setLocationAtPoint(d,m){let C,A;const F=this.centerPoint;if(this.projection.name==="globe"){const K=this.worldSize;C=(m.x-F.x)/K,A=(m.y-F.y)/K}else{const K=this.pointCoordinate(m),ee=this.pointCoordinate(F);C=K.x-ee.x,A=K.y-ee.y}const U=this.locationCoordinate(d);this.setLocation(new a.MercatorCoordinate(U.x-C,U.y-A))}setLocation(d){this.center=this.coordinateLocation(d),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(d){return this.projection.locationPoint(this,d)}locationPoint3D(d){return this.projection.locationPoint(this,d,!0)}pointLocation(d){return this.coordinateLocation(this.pointCoordinate(d))}pointLocation3D(d){return this.coordinateLocation(this.pointCoordinate3D(d))}locationCoordinate(d,m){const C=m?a.mercatorZfromAltitude(m,d.lat):void 0,A=this.projection.project(d.lng,d.lat);return new a.MercatorCoordinate(A.x,A.y,C)}coordinateLocation(d){return this.projection.unproject(d.x,d.y)}pointRayIntersection(d,m){const C=m??this._centerAltitude,A=[d.x,d.y,0,1],F=[d.x,d.y,1,1];a.transformMat4$1(A,A,this.pixelMatrixInverse),a.transformMat4$1(F,F,this.pixelMatrixInverse);const U=F[3];a.scale$1(A,A,1/A[3]),a.scale$1(F,F,1/U);const K=A[2],ee=F[2];return{p0:A,p1:F,t:K===ee?0:(C-K)/(ee-K)}}screenPointToMercatorRay(d){const m=[d.x,d.y,0,1],C=[d.x,d.y,1,1];return a.transformMat4$1(m,m,this.pixelMatrixInverse),a.transformMat4$1(C,C,this.pixelMatrixInverse),a.scale$1(m,m,1/m[3]),a.scale$1(C,C,1/C[3]),m[2]=a.mercatorZfromAltitude(m[2],this._center.lat)*this.worldSize,C[2]=a.mercatorZfromAltitude(C[2],this._center.lat)*this.worldSize,a.scale$1(m,m,1/this.worldSize),a.scale$1(C,C,1/this.worldSize),new a.Ray([m[0],m[1],m[2]],a.normalize([],a.sub([],C,m)))}rayIntersectionCoordinate(d){const{p0:m,p1:C,t:A}=d,F=a.mercatorZfromAltitude(m[2],this._center.lat),U=a.mercatorZfromAltitude(C[2],this._center.lat);return new a.MercatorCoordinate(a.number(m[0],C[0],A)/this.worldSize,a.number(m[1],C[1],A)/this.worldSize,a.number(F,U,A))}pointCoordinate(d,m=this._centerAltitude){return this.projection.pointCoordinate(this,d.x,d.y,m)}pointCoordinate3D(d){if(!this.elevation)return this.pointCoordinate(d);let m=this.projection.pointCoordinate3D(this,d.x,d.y);if(m)return new a.MercatorCoordinate(m[0],m[1],m[2]);let C=0,A=this.horizonLineFromTop();if(d.y>A)return this.pointCoordinate(d);const F=.02*A,U=d.clone();for(let K=0;K<10&&A-C>F;K++){U.y=a.number(C,A,.66);const ee=this.projection.pointCoordinate3D(this,U.x,U.y);ee?(A=U.y,m=ee):C=U.y}return m?new a.MercatorCoordinate(m[0],m[1],m[2]):this.pointCoordinate(d)}isPointAboveHorizon(d){return this.projection.isPointAboveHorizon(this,d)}isPointOnSurface(d){if(d.y<0||d.y>this.height||d.x<0||d.x>this.width)return!1;if(this.elevation||this.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX)return!this.isPointAboveHorizon(d);const m=this.pointCoordinate(d);return m.y>=0&&m.y<=1}_coordinatePoint(d,m){const C=m&&this.elevation?this.elevation.getAtPointOrZero(d,this._centerAltitude):this._centerAltitude,A=[d.x*this.worldSize,d.y*this.worldSize,C+d.toAltitude(),1];return a.transformMat4$1(A,A,this.pixelMatrix),A[3]>0?new a.Point(A[0]/A[3],A[1]/A[3]):new a.Point(Number.MAX_VALUE,Number.MAX_VALUE)}_getBoundsNonRectangular(){const{top:d,left:m}=this._edgeInsets,C=this.height-this._edgeInsets.bottom,A=this.width-this._edgeInsets.right,F=this.pointLocation3D(new a.Point(m,d)),U=this.pointLocation3D(new a.Point(A,d)),K=this.pointLocation3D(new a.Point(A,C)),ee=this.pointLocation3D(new a.Point(m,C));let ue=Math.min(F.lng,U.lng,K.lng,ee.lng),se=Math.max(F.lng,U.lng,K.lng,ee.lng),xe=Math.min(F.lat,U.lat,K.lat,ee.lat),Ae=Math.max(F.lat,U.lat,K.lat,ee.lat);const Fe=Math.pow(2,-this.zoom)/16*270,ze=this.projection.name==="globe"?1:4,Be=(je,Ce,Le,qe,Xe)=>{const ut=(je+Le)/2,dt=(Ce+qe)/2,ct=new a.Point(ut,dt),{lng:wt,lat:bt}=this.pointLocation3D(ct),At=Math.max(0,ue-wt,xe-bt,wt-se,bt-Ae);ue=Math.min(ue,wt),se=Math.max(se,wt),xe=Math.min(xe,bt),Ae=Math.max(Ae,bt),(Xe<ze||At>Fe)&&(Be(je,Ce,ut,dt,Xe+1),Be(ut,dt,Le,qe,Xe+1))};if(Be(m,d,A,d,1),Be(A,d,A,C,1),Be(A,C,m,C,1),Be(m,C,m,d,1),this.projection.name==="globe"){const[je,Ce]=a.polesInViewport(this);je?(Ae=90,se=180,ue=-180):Ce&&(xe=-90,se=180,ue=-180)}return new a.LngLatBounds(new a.LngLat(ue,xe),new a.LngLat(se,Ae))}_getBoundsRectangular(d,m){const{top:C,left:A}=this._edgeInsets,F=this.height-this._edgeInsets.bottom,U=this.width-this._edgeInsets.right,K=new a.Point(A,C),ee=new a.Point(U,C),ue=new a.Point(U,F),se=new a.Point(A,F);let xe=this.pointCoordinate(K,d),Ae=this.pointCoordinate(ee,d);const Fe=this.pointCoordinate(ue,m),ze=this.pointCoordinate(se,m),Be=(je,Ce)=>(Ce.y-je.y)/(Ce.x-je.x);return xe.y>1&&Ae.y>=0?xe=new a.MercatorCoordinate((1-ze.y)/Be(ze,xe)+ze.x,1):xe.y<0&&Ae.y<=1&&(xe=new a.MercatorCoordinate(-ze.y/Be(ze,xe)+ze.x,0)),Ae.y>1&&xe.y>=0?Ae=new a.MercatorCoordinate((1-Fe.y)/Be(Fe,Ae)+Fe.x,1):Ae.y<0&&xe.y<=1&&(Ae=new a.MercatorCoordinate(-Fe.y/Be(Fe,Ae)+Fe.x,0)),new a.LngLatBounds().extend(this.coordinateLocation(xe)).extend(this.coordinateLocation(Ae)).extend(this.coordinateLocation(ze)).extend(this.coordinateLocation(Fe))}_getBoundsRectangularTerrain(){const d=this.elevation;if(!d.visibleDemTiles.length||d.isUsingMockSource())return this._getBoundsRectangular(0,0);const m=d.visibleDemTiles.reduce((C,A)=>{if(A.dem){const F=A.dem.tree;C.min=Math.min(C.min,F.minimums[0]),C.max=Math.max(C.max,F.maximums[0])}return C},{min:Number.MAX_VALUE,max:0});return this._getBoundsRectangular(m.min*d.exaggeration(),m.max*d.exaggeration())}getBounds(){return this.projection.name==="mercator"||this.projection.name==="equirectangular"?this._terrainEnabled()?this._getBoundsRectangularTerrain():this._getBoundsRectangular(0,0):this._getBoundsNonRectangular()}horizonLineFromTop(d=!0){const m=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,C=this.height/2-m*(1-this._horizonShift);return d?Math.max(0,C):C}getMaxBounds(){return this.maxBounds}setMaxBounds(d){this.maxBounds=d,this.minLat=-a.MAX_MERCATOR_LATITUDE,this.maxLat=a.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,d&&(this.minLat=d.getSouth(),this.maxLat=d.getNorth(),this.minLng=d.getWest(),this.maxLng=d.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=a.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=a.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=a.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=a.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(d,m){return this.projection.createTileMatrix(this,m,d)}calculateDistanceTileData(d){const m=d.key,C=this._distanceTileDataCache;if(C[m])return C[m];const A=d.canonical,F=1/this.height,U=this.cameraWorldSize,K=U/this.zoomScale(A.z),ee=(A.x+Math.pow(2,A.z)*d.wrap)*K,ue=A.y*K,se=this.point;se.x*=U/this.worldSize,se.y*=U/this.worldSize;const xe=this.angle,Ae=Math.sin(-xe),Fe=-Math.cos(-xe);return C[m]={bearing:[Ae,Fe],center:[(se.x-ee)*F,(se.y-ue)*F],scale:K/a.EXTENT*F},C[m]}calculateFogTileMatrix(d){const m=d.key,C=this._fogTileMatrixCache;if(C[m])return C[m];const A=this.projection.createTileMatrix(this,this.cameraWorldSizeForFog,d);return a.multiply(A,this.worldToFogMatrix,A),C[m]=new Float32Array(A),C[m]}calculateProjMatrix(d,m=!1){const C=d.key,A=m?this._alignedProjMatrixCache:this._projMatrixCache;if(A[C])return A[C];const F=this.calculatePosMatrix(d,this.worldSize);return a.multiply(F,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:m?this.alignedProjMatrix:this.projMatrix,F),A[C]=new Float32Array(F),A[C]}calculatePixelsToTileUnitsMatrix(d){const m=d.tileID.key,C=this._pixelsToTileUnitsCache;if(C[m])return C[m];const A=function(F,U){const{scale:K}=F.tileTransform,ee=K*a.EXTENT/(F.tileSize*Math.pow(2,U.zoom-F.tileID.overscaledZ+F.tileID.canonical.z));return ue=new Float32Array(4),Ae=(se=U.inverseAdjustmentMatrix)[1],Fe=se[2],ze=se[3],je=(xe=[ee,ee])[1],ue[0]=se[0]*(Be=xe[0]),ue[1]=Ae*Be,ue[2]=Fe*je,ue[3]=ze*je,ue;var ue,se,xe,Ae,Fe,ze,Be,je}(d,this);return C[m]=A,C[m]}customLayerMatrix(){return this.mercatorMatrix.slice()}globeToMercatorMatrix(){if(this.projection.name==="globe"){const d=1/this.worldSize,m=a.fromScaling([],[d,d,d]);return a.multiply(m,m,this.globeMatrix),m}}recenterOnTerrain(){if(!this._elevation||this.projection.name==="globe")return;const d=this._elevation;this._updateCameraState();const m=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,C=this._computeCameraPosition(m),A=this._camera.forward(),F=a.mercatorZfromAltitude(1,this._center.lat);C[2]/=F,A[2]/=F,a.normalize(A,A);const U=d.raycast(C,A,d.exaggeration());if(U){const K=a.scaleAndAdd([],C,A,U),ee=new a.MercatorCoordinate(K[0],K[1],a.mercatorZfromAltitude(K[2],a.latFromMercatorY(K[1]))),ue=(ee.z+a.length([ee.x-C[0],ee.y-C[1],ee.z-C[2]*F]))*this._pixelsPerMercatorPixel;this._seaLevelZoom=this._zoomFromMercatorZ(ue),this._centerAltitude=ee.toAltitude(),this._center=this.coordinateLocation(ee),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCamera(d=!1){if(!this._elevation)return;const m=this._elevation,C=a.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,A=this._computeCameraPosition(C),F=m.getAtPointOrZero(new a.MercatorCoordinate(...A)),U=this.pixelsPerMeter/this.worldSize*F,K=this._minimumHeightOverTerrain(),ee=A[2]-U;if(ee<=K)if(ee<0||d){const ue=this.locationCoordinate(this._center,this._centerAltitude),se=[A[0],A[1],ue.z-A[2]],xe=a.length(se);se[2]-=(K-ee)/this._pixelsPerMercatorPixel;const Ae=a.length(se);if(Ae===0)return;a.scale$2(se,se,xe/Ae*this._pixelsPerMercatorPixel),this._camera.position=[A[0],A[1],ue.z*this._pixelsPerMercatorPixel-se[2]],this._updateStateFromCamera()}else this._isCameraConstrained=!0}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;this._constraining=!0;const d=this.projection.name==="globe"||this.mercatorFromTransition;if(this.projection.isReprojectedInTileSpace||d){const Ae=this.center;return Ae.lat=a.clamp(Ae.lat,this.minLat,this.maxLat),(this.maxBounds||!this.renderWorldCopies&&!d)&&(Ae.lng=a.clamp(Ae.lng,this.minLng,this.maxLng)),this.center=Ae,void(this._constraining=!1)}const m=this._unmodified,{x:C,y:A}=this.point;let F=0,U=C,K=A;const ee=this.width/2,ue=this.height/2,se=this.worldMinY*this.scale,xe=this.worldMaxY*this.scale;if(A-ue<se&&(K=se+ue),A+ue>xe&&(K=xe-ue),xe-se<this.height&&(F=Math.max(F,this.height/(xe-se)),K=(xe+se)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const Ae=this.worldMinX*this.scale,Fe=this.worldMaxX*this.scale,ze=this.worldSize/2-(Ae+Fe)/2;U=(C+ze+this.worldSize)%this.worldSize-ze,U-ee<Ae&&(U=Ae+ee),U+ee>Fe&&(U=Fe-ee),Fe-Ae<this.width&&(F=Math.max(F,this.width/(Fe-Ae)),U=(Fe+Ae)/2)}U===C&&K===A||(this.center=this.unproject(new a.Point(U,K))),F&&(this.zoom+=this.scaleZoom(F)),this._constrainCamera(),this._unmodified=m,this._constraining=!1}_minZoomForBounds(){let d=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(d=Math.max(d,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),d}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const d=this.centerOffset,m=this.pixelsPerMeter;this.projection.name==="globe"&&(this._mercatorScaleRatio=a.mercatorZfromAltitude(1,this.center.lat)/a.mercatorZfromAltitude(1,a.GLOBE_SCALE_MATCH_LATITUDE));const C=Xh(this.projection,this.zoom,this.width,this.height,1024);this._pixelsPerMercatorPixel=this.projection.pixelSpaceConversion(this.center.lat,this.worldSize,C),this.cameraToCenterDistance=.5/Math.tan(.5*this._fov)*this.height*this._pixelsPerMercatorPixel,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const A=this.projection.zAxisUnit==="meters"?m:1,F=this._camera.getWorldToCamera(this.worldSize,A),U=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);U[8]=2*-d.x/this.width,U[9]=2*d.y/this.height;let K=a.mul([],U,F);if(this.projection.isReprojectedInTileSpace){const dt=this.locationCoordinate(this.center),ct=a.identity([]);a.translate(ct,ct,[dt.x*this.worldSize,dt.y*this.worldSize,0]),a.multiply(ct,ct,Ic(this)),a.translate(ct,ct,[-dt.x*this.worldSize,-dt.y*this.worldSize,0]),a.multiply(K,K,ct),this.inverseAdjustmentMatrix=function(wt){const bt=Ic(wt,!0);return V([],[bt[0],bt[1],bt[4],bt[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=a.scale([],K,[this.worldSize,this.worldSize,this.worldSize/A,1]),this.projMatrix=K,this.invProjMatrix=a.invert(new Float64Array(16),this.projMatrix);const ee=a.invert([],U);this.frustumCorners=a.FrustumCorners.fromInvProjectionMatrix(ee,this.horizonLineFromTop(),this.height);const ue=new Float32Array(16);a.identity(ue),a.scale(ue,ue,[1,-1,1]),a.rotateX(ue,ue,this._pitch),a.rotateZ(ue,ue,this.angle);const se=a.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),xe=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;se[8]=2*-d.x/this.width,se[9]=2*(d.y+xe)/this.height,this.skyboxMatrix=a.multiply(ue,se,ue);const Ae=this.point,Fe=Ae.x,ze=Ae.y,Be=this.width%2/2,je=this.height%2/2,Ce=Math.cos(this.angle),Le=Math.sin(this.angle),qe=Fe-Math.round(Fe)+Ce*Be+Le*je,Xe=ze-Math.round(ze)+Ce*je+Le*Be,ut=new Float64Array(K);if(a.translate(ut,ut,[qe>.5?qe-1:qe,Xe>.5?Xe-1:Xe,0]),this.alignedProjMatrix=ut,K=a.create(),a.scale(K,K,[this.width/2,-this.height/2,1]),a.translate(K,K,[1,-1,0]),this.labelPlaneMatrix=K,K=a.create(),a.scale(K,K,[1,-1,1]),a.translate(K,K,[-1,-1,0]),a.scale(K,K,[2/this.width,2/this.height,1]),this.glCoordMatrix=K,this.pixelMatrix=a.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},K=a.invert(new Float64Array(16),this.pixelMatrix),!K)throw new Error("failed to invert matrix");if(this.pixelMatrixInverse=K,this.projection.name==="globe"||this.mercatorFromTransition){this.globeMatrix=a.calculateGlobeMatrix(this);const dt=[this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]];this.globeCenterInViewSpace=a.transformMat4(dt,dt,F),this.globeRadius=this.worldSize/2/Math.PI-1}else this.globeMatrix=K;this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const d=this.cameraWorldSizeForFog,m=this.cameraPixelsPerMeter,C=this._camera.position,A=1/this.height/this._pixelsPerMercatorPixel,F=[d,d,m];a.scale$2(F,F,A),a.scale$2(C,C,-1),a.multiply$2(C,C,F);const U=a.create();a.translate(U,U,C),a.scale(U,U,F),this.mercatorFogMatrix=U,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(d,m,A)}_computeCameraPosition(d){const m=(d=d||this.pixelsPerMeter)/this.pixelsPerMeter,C=this._camera.forward(),A=this.point,F=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*m-d/this.worldSize*this._centerAltitude;return[A.x/this.worldSize-C[0]*F,A.y/this.worldSize-C[1]*F,d/this.worldSize*this._centerAltitude-C[2]*F]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(d){const m=this._maxCameraBoundsDistance()*Math.cos(this._pitch),C=this._camera.position[2],A=d[2];let F=1;this.projection.wrap&&(this.center=this.center.wrap()),A>0&&(F=Math.min((m-C)/A,1)),this._camera.position=a.scaleAndAdd([],this._camera.position,d,F),this._updateStateFromCamera()}_updateStateFromCamera(){const d=this._camera.position,m=this._camera.forward(),{pitch:C,bearing:A}=this._camera.getPitchBearing(),F=a.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._pixelsPerMercatorPixel,U=this._mercatorZfromZoom(this._maxZoom)*Math.cos(a.degToRad(this._maxPitch)),K=Math.max((d[2]-F)/Math.cos(C),U),ee=this._zoomFromMercatorZ(K);a.scaleAndAdd(d,d,m,K),this._pitch=a.clamp(C,a.degToRad(this.minPitch),a.degToRad(this.maxPitch)),this.angle=a.wrap(A,-Math.PI,Math.PI),this._setZoom(a.clamp(ee,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new a.MercatorCoordinate(d[0],d[1],d[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(d){return Math.pow(2,d)*this.tileSize}_mercatorZfromZoom(d){return this.cameraToCenterDistance/this._worldSizeFromZoom(d)}_minimumHeightOverTerrain(){const d=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+4,this._maxZoom);return this._mercatorZfromZoom(d)}_zoomFromMercatorZ(d){return this.scaleZoom(this.cameraToCenterDistance/(d*this.tileSize))}zoomFromMercatorZAdjusted(d){let m=0,C=a.GLOBE_ZOOM_THRESHOLD_MAX,A=0,F=1/0;for(;C-m>1e-6&&C>m;){const U=m+.5*(C-m),K=this.tileSize*Math.pow(2,U),ee=this.getCameraToCenterDistance(this.projection,U,K),ue=this.scaleZoom(ee/(d*this.tileSize)),se=Math.abs(U-ue);se<F&&(F=se,A=U),U<ue?m=U:C=U}return A}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(a.warnOnce("Terrain is not yet supported with alternate projections. Use mercator or globe to enable terrain."),1))}anyCornerOffEdge(d,m){const C=Math.min(d.x,m.x),A=Math.max(d.x,m.x),F=Math.min(d.y,m.y),U=Math.max(d.y,m.y);if(F<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const K=[new a.Point(C,F),new a.Point(A,U),new a.Point(C,U),new a.Point(A,F)],ee=this.renderWorldCopies?-3:0,ue=this.renderWorldCopies?4:1;for(const se of K){const xe=this.pointRayIntersection(se);if(xe.t<0)return!0;const Ae=this.rayIntersectionCoordinate(xe);if(Ae.x<ee||Ae.y<0||Ae.x>ue||Ae.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+a.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new a.Point(0,0),new a.Point(this.width,this.height))}zoomDeltaToMovement(d,m){const C=a.length(a.sub([],this._camera.position,d)),A=this._zoomFromMercatorZ(C)+m;return C-this._mercatorZfromZoom(A)}getCameraPoint(){if(this.projection.name==="globe"){const d=function([m,C,A],F){const U=[m,C,A,1];a.transformMat4$1(U,U,F);const K=U[3]=Math.max(U[3],1e-6);return U[0]/=K,U[1]/=K,U[2]/=K,U}([this.globeMatrix[12],this.globeMatrix[13],this.globeMatrix[14]],this.pixelMatrix);return new a.Point(d[0],d[1])}{const d=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new a.Point(0,d))}}getCameraToCenterDistance(d,m=this.zoom,C=this.worldSize){const A=Xh(d,m,this.width,this.height,1024),F=d.pixelSpaceConversion(this.center.lat,C,A);return .5/Math.tan(.5*this._fov)*this.height*F}getWorldToCameraMatrix(){const d=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?this.pixelsPerMeter:1);return this.projection.name==="globe"&&a.multiply(d,d,this.globeMatrix),d}}function Dc(x,d){let m=!1,C=null;const A=()=>{C=null,m&&(x(),C=setTimeout(A,d),m=!1)};return()=>(m=!0,C||A(),C)}class hm{constructor(d){this._hashName=d&&encodeURIComponent(d),a.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Dc(this._updateHashUnthrottled.bind(this),300)}addTo(d){return this._map=d,a.window.addEventListener("hashchange",this._onHashChange,!1),d.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),a.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(){const d=this._map;if(!d)return"";const m=af(d);if(this._hashName){const C=this._hashName;let A=!1;const F=a.window.location.hash.slice(1).split("&").map(U=>{const K=U.split("=")[0];return K===C?(A=!0,`${K}=${m}`):U}).filter(U=>U);return A||F.push(`${C}=${m}`),`#${F.join("&")}`}return`#${m}`}_getCurrentHash(){const d=a.window.location.hash.replace("#","");if(this._hashName){let m;return d.split("&").map(C=>C.split("=")).forEach(C=>{C[0]===this._hashName&&(m=C)}),(m&&m[1]||"").split("/")}return d.split("/")}_onHashChange(){const d=this._map;if(!d)return!1;const m=this._getCurrentHash();if(m.length>=3&&!m.some(C=>isNaN(C))){const C=d.dragRotate.isEnabled()&&d.touchZoomRotate.isEnabled()?+(m[3]||0):d.getBearing();return d.jumpTo({center:[+m[2],+m[1]],zoom:+m[0],bearing:C,pitch:+(m[4]||0)}),!0}return!1}_updateHashUnthrottled(){const d=a.window.location.href.replace(/(#.+)?$/,this.getHashString());a.window.history.replaceState(a.window.history.state,null,d)}}function af(x,d){const m=x.getCenter(),C=Math.round(100*x.getZoom())/100,A=Math.ceil((C*Math.LN2+Math.log(512/360/.5))/Math.LN10),F=Math.pow(10,A),U=Math.round(m.lng*F)/F,K=Math.round(m.lat*F)/F,ee=x.getBearing(),ue=x.getPitch();let se=d?`/${U}/${K}/${C}`:`${C}/${K}/${U}`;return(ee||ue)&&(se+="/"+Math.round(10*ee)/10),ue&&(se+=`/${Math.round(ue)}`),se}const of={linearity:.3,easing:a.bezier(0,0,.3,1)},Qh=a.extend({deceleration:2500,maxSpeed:1400},of),Jh=a.extend({deceleration:20,maxSpeed:1400},of),_n=a.extend({deceleration:1e3,maxSpeed:360},of),ss=a.extend({deceleration:1e3,maxSpeed:90},of);class H0{constructor(d){this._map=d,this.clear()}clear(){this._inertiaBuffer=[]}record(d){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:a.exported.now(),settings:d})}_drainInertiaBuffer(){const d=this._inertiaBuffer,m=a.exported.now();for(;d.length>0&&m-d[0].time>160;)d.shift()}_onMoveEnd(d){if(this._map._prefersReducedMotion()||(this._drainInertiaBuffer(),this._inertiaBuffer.length<2))return;const m={zoom:0,bearing:0,pitch:0,pan:new a.Point(0,0),pinchAround:void 0,around:void 0};for(const{settings:F}of this._inertiaBuffer)m.zoom+=F.zoomDelta||0,m.bearing+=F.bearingDelta||0,m.pitch+=F.pitchDelta||0,F.panDelta&&m.pan._add(F.panDelta),F.around&&(m.around=F.around),F.pinchAround&&(m.pinchAround=F.pinchAround);const C=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,A={};if(m.pan.mag()){const F=lf(m.pan.mag(),C,a.extend({},Qh,d||{}));A.offset=m.pan.mult(F.amount/m.pan.mag()),A.center=this._map.transform.center,sf(A,F)}if(m.zoom){const F=lf(m.zoom,C,Jh);A.zoom=this._map.transform.zoom+F.amount,sf(A,F)}if(m.bearing){const F=lf(m.bearing,C,_n);A.bearing=this._map.transform.bearing+a.clamp(F.amount,-179,179),sf(A,F)}if(m.pitch){const F=lf(m.pitch,C,ss);A.pitch=this._map.transform.pitch+F.amount,sf(A,F)}if(A.zoom||A.bearing){const F=m.pinchAround===void 0?m.around:m.pinchAround;A.around=F?this._map.unproject(F):this._map.getCenter()}return this.clear(),A.noMoveStart=!0,A}}function sf(x,d){(!x.duration||x.duration<d.duration)&&(x.duration=d.duration,x.easing=d.easing)}function lf(x,d,m){const{maxSpeed:C,linearity:A,deceleration:F}=m,U=a.clamp(x*A/(d/1e3),-C,C),K=Math.abs(U)/(F*A);return{easing:m.easing,duration:1e3*K,amount:U*(K/2)}}class Ca extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m,C,A={}){const F=B(m.getCanvasContainer(),C),U=m.unproject(F);super(d,a.extend({point:F,lngLat:U,originalEvent:C},A)),this._defaultPrevented=!1,this.target=m}}class uf extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m,C){const A=d==="touchend"?C.changedTouches:C.touches,F=N(m.getCanvasContainer(),A),U=F.map(ee=>m.unproject(ee)),K=F.reduce((ee,ue,se,xe)=>ee.add(ue.div(xe.length)),new a.Point(0,0));super(d,{points:F,point:K,lngLats:U,lngLat:m.unproject(K),originalEvent:C}),this._defaultPrevented=!1}}class ep extends a.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(d,m,C){super(d,{originalEvent:C}),this._defaultPrevented=!1}}class pm{constructor(d,m){this._map=d,this._clickTolerance=m.clickTolerance}reset(){this._mousedownPos=void 0}wheel(d){return this._firePreventable(new ep(d.type,this._map,d))}mousedown(d,m){return this._mousedownPos=m,this._firePreventable(new Ca(d.type,this._map,d))}mouseup(d){this._map.fire(new Ca(d.type,this._map,d))}preclick(d){const m=a.extend({},d);m.type="preclick",this._map.fire(new Ca(m.type,this._map,m))}click(d,m){this._mousedownPos&&this._mousedownPos.dist(m)>=this._clickTolerance||(this.preclick(d),this._map.fire(new Ca(d.type,this._map,d)))}dblclick(d){return this._firePreventable(new Ca(d.type,this._map,d))}mouseover(d){this._map.fire(new Ca(d.type,this._map,d))}mouseout(d){this._map.fire(new Ca(d.type,this._map,d))}touchstart(d){return this._firePreventable(new uf(d.type,this._map,d))}touchmove(d){this._map.fire(new uf(d.type,this._map,d))}touchend(d){this._map.fire(new uf(d.type,this._map,d))}touchcancel(d){this._map.fire(new uf(d.type,this._map,d))}_firePreventable(d){if(this._map.fire(d),d.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class tp{constructor(d){this._map=d}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(d){this._map.fire(new Ca(d.type,this._map,d))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ca("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(d){this._delayContextMenu?this._contextMenuEvent=d:this._map.fire(new Ca(d.type,this._map,d)),this._map.listens("contextmenu")&&d.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class K0{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._container=d.getContainer(),this._clickTolerance=m.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(d,m){this.isEnabled()&&d.shiftKey&&d.button===0&&(k(),this._startPos=this._lastPos=m,this._active=!0)}mousemoveWindow(d,m){if(!this._active)return;const C=m,A=this._startPos,F=this._lastPos;if(!A||!F||F.equals(C)||!this._box&&C.dist(A)<this._clickTolerance)return;this._lastPos=C,this._box||(this._box=_("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",d));const U=Math.min(A.x,C.x),K=Math.max(A.x,C.x),ee=Math.min(A.y,C.y),ue=Math.max(A.y,C.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${U}px,${ee}px)`,this._box.style.width=K-U+"px",this._box.style.height=ue-ee+"px")})}mouseupWindow(d,m){if(!this._active)return;const C=this._startPos,A=m;if(C&&d.button===0){if(this.reset(),L(),C.x!==A.x||C.y!==A.y)return this._map.fire(new a.Event("boxzoomend",{originalEvent:d})),{cameraAnimation:F=>F.fitScreenCoordinates(C,A,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",d)}}keydown(d){this._active&&d.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",d))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),I(),delete this._startPos,delete this._lastPos}_fireEvent(d,m){return this._map.fire(new a.Event(d,{originalEvent:m}))}}function np(x,d){const m={};for(let C=0;C<x.length;C++)m[x[C].identifier]=d[C];return m}class Rc{constructor(d){this.reset(),this.numTouches=d.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(d,m,C){(this.centroid||C.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=d.timeStamp),C.length===this.numTouches&&(this.centroid=function(A){const F=new a.Point(0,0);for(const U of A)F._add(U);return F.div(A.length)}(m),this.touches=np(C,m)))}touchmove(d,m,C){if(this.aborted||!this.centroid)return;const A=np(C,m);for(const F in this.touches){const U=A[F];(!U||U.dist(this.touches[F])>30)&&(this.aborted=!0)}}touchend(d,m,C){if((!this.centroid||d.timeStamp-this.startTime>500)&&(this.aborted=!0),C.length===0){const A=!this.aborted&&this.centroid;if(this.reset(),A)return A}}}class vm{constructor(d){this.singleTap=new Rc(d),this.numTaps=d.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(d,m,C){this.singleTap.touchstart(d,m,C)}touchmove(d,m,C){this.singleTap.touchmove(d,m,C)}touchend(d,m,C){const A=this.singleTap.touchend(d,m,C);if(A){const F=d.timeStamp-this.lastTime<500,U=!this.lastTap||this.lastTap.dist(A)<30;if(F&&U||this.reset(),this.count++,this.lastTime=d.timeStamp,this.lastTap=A,this.count===this.numTaps)return this.reset(),A}}}class Iw{constructor(){this._zoomIn=new vm({numTouches:1,numTaps:2}),this._zoomOut=new vm({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(d,m,C){this._zoomIn.touchstart(d,m,C),this._zoomOut.touchstart(d,m,C)}touchmove(d,m,C){this._zoomIn.touchmove(d,m,C),this._zoomOut.touchmove(d,m,C)}touchend(d,m,C){const A=this._zoomIn.touchend(d,m,C),F=this._zoomOut.touchend(d,m,C);return A?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:U.getZoom()+1,around:U.unproject(A)},{originalEvent:d})}):F?(this._active=!0,d.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:U=>U.easeTo({duration:300,zoom:U.getZoom()-1,around:U.unproject(F)},{originalEvent:d})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const W0={0:1,2:2};class Lc{constructor(d){this.reset(),this._clickTolerance=d.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(d,m){return!1}_move(d,m){return{}}mousedown(d,m){if(this._lastPoint)return;const C=j(d);this._correctButton(d,C)&&(this._lastPoint=m,this._eventButton=C)}mousemoveWindow(d,m){const C=this._lastPoint;if(C){if(d.preventDefault(),this._eventButton!=null&&function(A,F){const U=W0[F];return A.buttons===void 0||(A.buttons&U)!==U}(d,this._eventButton))this.reset();else if(this._moved||!(m.dist(C)<this._clickTolerance))return this._moved=!0,this._lastPoint=m,this._move(C,m)}}mouseupWindow(d){this._lastPoint&&j(d)===this._eventButton&&(this._moved&&L(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class mm extends Lc{mousedown(d,m){super.mousedown(d,m),this._lastPoint&&(this._active=!0)}_correctButton(d,m){return m===0&&!d.ctrlKey}_move(d,m){return{around:m,panDelta:m.sub(d)}}}class gm extends Lc{_correctButton(d,m){return m===0&&d.ctrlKey||m===2}_move(d,m){const C=.8*(m.x-d.x);if(C)return this._active=!0,{bearingDelta:C}}contextmenu(d){d.preventDefault()}}class ym extends Lc{_correctButton(d,m){return m===0&&d.ctrlKey||m===2}_move(d,m){const C=-.5*(m.y-d.y);if(C)return this._active=!0,{pitchDelta:C}}contextmenu(d){d.preventDefault()}}class rp{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._minTouches=1,this._clickTolerance=m.clickTolerance||1,this.reset(),a.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new a.Point(0,0)}touchstart(d,m,C){return this._calculateTransform(d,m,C)}touchmove(d,m,C){if(this._active&&!(C.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(C.length===1&&!a.isFullscreen())return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return d.cancelable&&d.preventDefault(),this._calculateTransform(d,m,C)}}touchend(d,m,C){this._calculateTransform(d,m,C),this._active&&C.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(d,m,C){C.length>0&&(this._active=!0);const A=np(C,m),F=new a.Point(0,0),U=new a.Point(0,0);let K=0;for(const ue in A){const se=A[ue],xe=this._touches[ue];xe&&(F._add(se),U._add(se.sub(xe)),K++,A[ue]=se)}if(this._touches=A,K<this._minTouches||!U.mag())return;const ee=U.div(K);return this._sum._add(ee),this._sum.mag()<this._clickTolerance?void 0:{around:F.div(K),panDelta:ee}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=_("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show"),this._alertContainer.setAttribute("role","null")},500)}}class cf{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(d){}_move(d,m,C){return{}}touchstart(d,m,C){this._firstTwoTouches||C.length<2||(this._firstTwoTouches=[C[0].identifier,C[1].identifier],this._start([m[0],m[1]]))}touchmove(d,m,C){const A=this._firstTwoTouches;if(!A)return;d.preventDefault();const[F,U]=A,K=df(C,m,F),ee=df(C,m,U);if(!K||!ee)return;const ue=this._aroundCenter?null:K.add(ee).div(2);return this._move([K,ee],ue,d)}touchend(d,m,C){if(!this._firstTwoTouches)return;const[A,F]=this._firstTwoTouches,U=df(C,m,A),K=df(C,m,F);U&&K||(this._active&&L(),this.reset())}touchcancel(){this.reset()}enable(d){this._enabled=!0,this._aroundCenter=!!d&&d.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function df(x,d,m){for(let C=0;C<x.length;C++)if(x[C].identifier===m)return d[C]}function _m(x,d){return Math.log(x/d)/Math.LN2}class G0 extends cf{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(d){this._startDistance=this._distance=d[0].dist(d[1])}_move(d,m){const C=this._distance;if(this._distance=d[0].dist(d[1]),this._active||!(Math.abs(_m(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:_m(this._distance,C),pinchAround:m}}}function bm(x,d){return 180*x.angleWith(d)/Math.PI}class q0 extends cf{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(d){this._startVector=this._vector=d[0].sub(d[1]),this._minDiameter=d[0].dist(d[1])}_move(d,m){const C=this._vector;if(this._vector=d[0].sub(d[1]),C&&(this._active||!this._isBelowThreshold(this._vector)))return this._active=!0,{bearingDelta:bm(this._vector,C),pinchAround:m}}_isBelowThreshold(d){this._minDiameter=Math.min(this._minDiameter,d.mag());const m=25/(Math.PI*this._minDiameter)*360,C=this._startVector;if(!C)return!1;const A=bm(d,C);return Math.abs(A)<m}}function zl(x){return Math.abs(x.y)>Math.abs(x.x)}class Y0 extends cf{constructor(d){super(),this._map=d}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(d){this._lastPoints=d,zl(d[0].sub(d[1]))&&(this._valid=!1)}_move(d,m,C){const A=this._lastPoints;if(!A)return;const F=d[0].sub(A[0]),U=d[1].sub(A[1]);return this._map._cooperativeGestures&&!a.isFullscreen()&&C.touches.length<3||(this._valid=this.gestureBeginsVertically(F,U,C.timeStamp),!this._valid)?void 0:(this._lastPoints=d,this._active=!0,{pitchDelta:(F.y+U.y)/2*-.5})}gestureBeginsVertically(d,m,C){if(this._valid!==void 0)return this._valid;const A=d.mag()>=2,F=m.mag()>=2;if(!A&&!F)return;if(!A||!F)return this._firstMove==null&&(this._firstMove=C),C-this._firstMove<100&&void 0;const U=d.y>0==m.y>0;return zl(d)&&zl(m)&&U}}const X0={panStep:100,bearingStep:15,pitchStep:10};class Ow{constructor(){const d=X0;this._panStep=d.panStep,this._bearingStep=d.bearingStep,this._pitchStep=d.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(d){if(d.altKey||d.ctrlKey||d.metaKey)return;let m=0,C=0,A=0,F=0,U=0;switch(d.keyCode){case 61:case 107:case 171:case 187:m=1;break;case 189:case 109:case 173:m=-1;break;case 37:d.shiftKey?C=-1:(d.preventDefault(),F=-1);break;case 39:d.shiftKey?C=1:(d.preventDefault(),F=1);break;case 38:d.shiftKey?A=1:(d.preventDefault(),U=-1);break;case 40:d.shiftKey?A=-1:(d.preventDefault(),U=1);break;default:return}return this._rotationDisabled&&(C=0,A=0),{cameraAnimation:K=>{const ee=K.getZoom();K.easeTo({duration:300,easeId:"keyboardHandler",easing:Z0,zoom:m?Math.round(ee)+m*(d.shiftKey?2:1):ee,bearing:K.getBearing()+C*this._bearingStep,pitch:K.getPitch()+A*this._pitchStep,offset:[-F*this._panStep,-U*this._panStep],center:K.getCenter()},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Z0(x){return x*(2-x)}const xm=4.000244140625;class Q0{constructor(d,m){this._map=d,this._el=d.getCanvasContainer(),this._handler=m,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,a.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert"],this)}setZoomRate(d){this._defaultZoomRate=d}setWheelZoomRate(d){this._wheelZoomRate=d}isEnabled(){return!!this._enabled}isActive(){return this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(d){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!d&&d.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(d){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(d.ctrlKey||d.metaKey||this.isZooming()||a.isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let m=d.deltaMode===a.window.WheelEvent.DOM_DELTA_LINE?40*d.deltaY:d.deltaY;const C=a.exported.now(),A=C-(this._lastWheelEventTime||0);this._lastWheelEventTime=C,m!==0&&m%xm==0?this._type="wheel":m!==0&&Math.abs(m)<4?this._type="trackpad":A>400?(this._type=null,this._lastValue=m,this._timeout=setTimeout(this._onTimeout,40,d)):this._type||(this._type=Math.abs(A*m)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,m+=this._lastValue)),d.shiftKey&&m&&(m/=4),this._type&&(this._lastWheelEvent=d,this._delta-=m,this._active||this._start(d)),d.preventDefault()}_onTimeout(d){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(d)}_start(d){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const m=B(this._el,d);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:m,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const d=this._map.transform;this._type==="wheel"&&d.projection.wrap&&(d._center.lng>=180||d._center.lng<=-180)&&(this._prevEase=null,this._easing=null,this._lastWheelEvent=null,this._lastWheelEventTime=0);const m=()=>d._terrainEnabled()&&this._aroundCoord?d.computeZoomRelativeTo(this._aroundCoord):d.zoom;if(this._delta!==0){const ee=this._type==="wheel"&&Math.abs(this._delta)>xm?this._wheelZoomRate:this._defaultZoomRate;let ue=2/(1+Math.exp(-Math.abs(this._delta*ee)));this._delta<0&&ue!==0&&(ue=1/ue);const se=m(),xe=Math.pow(2,se),Ae=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):xe;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(Ae*ue))),this._type==="wheel"&&(this._startZoom=se,this._easing=this._smoothOutEasing(200)),this._delta=0}const C=typeof this._targetZoom=="number"?this._targetZoom:m(),A=this._startZoom,F=this._easing;let U,K=!1;if(this._type==="wheel"&&A&&F){const ee=Math.min((a.exported.now()-this._lastWheelEventTime)/200,1),ue=F(ee);U=a.number(A,C,ue),ee<1?this._frameId||(this._frameId=!0):K=!0}else U=C,K=!0;return this._active=!0,K&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!K,zoomDelta:U-m(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(d){let m=a.ease;if(this._prevEase){const C=this._prevEase,A=(a.exported.now()-C.start)/C.duration,F=C.easing(A+.01)-C.easing(A),U=.27/Math.sqrt(F*F+1e-4)*.01,K=Math.sqrt(.0729-U*U);m=a.bezier(U,K,.25,1)}return this._prevEase={start:a.exported.now(),duration:d,easing:m},m}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=_("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(a.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showBlockerAlert(){this._alertContainer.style.visibility="visible",this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","alert"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show"),this._alertContainer.setAttribute("role","null")},200)}}class J0{constructor(d,m){this._clickZoom=d,this._tapZoom=m}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class $a{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(d,m){return d.preventDefault(),{cameraAnimation:C=>{C.easeTo({duration:300,zoom:C.getZoom()+(d.shiftKey?-1:1),around:C.unproject(m)},{originalEvent:d})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Dw{constructor(){this._tap=new vm({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(d,m,C){this._swipePoint||(this._tapTime&&d.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?C.length>0&&(this._swipePoint=m[0],this._swipeTouch=C[0].identifier):this._tap.touchstart(d,m,C))}touchmove(d,m,C){if(this._tapTime){if(this._swipePoint){if(C[0].identifier!==this._swipeTouch)return;const A=m[0],F=A.y-this._swipePoint.y;return this._swipePoint=A,d.preventDefault(),this._active=!0,{zoomDelta:F/128}}}else this._tap.touchmove(d,m,C)}touchend(d,m,C){this._tapTime?this._swipePoint&&C.length===0&&this.reset():this._tap.touchend(d,m,C)&&(this._tapTime=d.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class ey{constructor(d,m,C){this._el=d,this._mousePan=m,this._touchPan=C}enable(d){this._inertiaOptions=d||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Rw{constructor(d,m,C){this._pitchWithRotate=d.pitchWithRotate,this._mouseRotate=m,this._mousePitch=C}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class Lw{constructor(d,m,C,A){this._el=d,this._touchZoom=m,this._touchRotate=C,this._tapDragZoom=A,this._rotationDisabled=!1,this._enabled=!0}enable(d){this._touchZoom.enable(d),this._rotationDisabled||this._touchRotate.enable(d),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const $o=x=>x.zoom||x.drag||x.pitch||x.rotate;class ty extends a.Event{}class Fw{constructor(){this.constants=[1,1,.01],this.radius=0}setup(d,m){const C=a.sub([],m,d);this.radius=a.length(C[2]<0?a.div([],C,this.constants):[C[0],C[1],0])}projectRay(d){a.div(d,d,this.constants),a.normalize(d,d),a.mul$1(d,d,this.constants);const m=a.scale$2([],d,this.radius);if(m[2]>0){const C=a.scale$2([],[0,0,1],a.dot(m,[0,0,1])),A=a.scale$2([],a.normalize([],[m[0],m[1],0]),this.radius),F=a.add([],m,a.scale$2([],a.sub([],a.add([],A,C),m),2));m[0]=F[0],m[1]=F[1]}return m}}function ls(x){return x.panDelta&&x.panDelta.mag()||x.zoomDelta||x.bearingDelta||x.pitchDelta}class ks{constructor(d,m){this._map=d,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new H0(d),this._bearingSnap=m.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new Fw,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(m),a.bindAll(["handleEvent","handleWindowEvent"],this);const C=this._el;this._listeners=[[C,"touchstart",{passive:!0}],[C,"touchmove",{passive:!1}],[C,"touchend",void 0],[C,"touchcancel",void 0],[C,"mousedown",void 0],[C,"mousemove",void 0],[C,"mouseup",void 0],[a.window.document,"mousemove",{capture:!0}],[a.window.document,"mouseup",void 0],[C,"mouseover",void 0],[C,"mouseout",void 0],[C,"dblclick",void 0],[C,"click",void 0],[C,"keydown",{capture:!1}],[C,"keyup",void 0],[C,"wheel",{passive:!1}],[C,"contextmenu",void 0],[a.window,"blur",void 0]];for(const[A,F,U]of this._listeners)A.addEventListener(F,A===a.window.document?this.handleWindowEvent:this.handleEvent,U)}destroy(){for(const[d,m,C]of this._listeners)d.removeEventListener(m,d===a.window.document?this.handleWindowEvent:this.handleEvent,C)}_addDefaultHandlers(d){const m=this._map,C=m.getCanvasContainer();this._add("mapEvent",new pm(m,d));const A=m.boxZoom=new K0(m,d);this._add("boxZoom",A);const F=new Iw,U=new $a;m.doubleClickZoom=new J0(U,F),this._add("tapZoom",F),this._add("clickZoom",U);const K=new Dw;this._add("tapDragZoom",K);const ee=m.touchPitch=new Y0(m);this._add("touchPitch",ee);const ue=new gm(d),se=new ym(d);m.dragRotate=new Rw(d,ue,se),this._add("mouseRotate",ue,["mousePitch"]),this._add("mousePitch",se,["mouseRotate"]);const xe=new mm(d),Ae=new rp(m,d);m.dragPan=new ey(C,xe,Ae),this._add("mousePan",xe),this._add("touchPan",Ae,["touchZoom","touchRotate"]);const Fe=new q0,ze=new G0;m.touchZoomRotate=new Lw(C,ze,Fe,K),this._add("touchRotate",Fe,["touchPan","touchZoom"]),this._add("touchZoom",ze,["touchPan","touchRotate"]),this._add("blockableMapEvent",new tp(m));const Be=m.scrollZoom=new Q0(m,this);this._add("scrollZoom",Be,["mousePan"]);const je=m.keyboard=new Ow;this._add("keyboard",je);for(const Ce of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])d.interactive&&d[Ce]&&m[Ce].enable(d[Ce])}_add(d,m,C){this._handlers.push({handlerName:d,handler:m,allowed:C}),this._handlersById[d]=m}stop(d){if(!this._updatingCamera){for(const{handler:m}of this._handlers)m.reset();this._inertia.clear(),this._fireEvents({},{},d),this._changes=[]}}isActive(){for(const{handler:d}of this._handlers)if(d.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!$o(this._eventsInProgress)||this.isZooming()}_isDragging(){return!!this._eventsInProgress.drag}_blockedByActive(d,m,C){for(const A in d)if(A!==C&&(!m||m.indexOf(A)<0))return!0;return!1}handleWindowEvent(d){this.handleEvent(d,`${d.type}Window`)}_getMapTouches(d){const m=[];for(const C of d)this._el.contains(C.target)&&m.push(C);return m}handleEvent(d,m){this._updatingCamera=!0;const C=d.type==="renderFrame",A=C?void 0:d,F={needsRenderFrame:!1},U={},K={},ee=d.touches?this._getMapTouches(d.touches):void 0,ue=ee?N(this._el,ee):C?void 0:B(this._el,d);for(const{handlerName:Ae,handler:Fe,allowed:ze}of this._handlers){if(!Fe.isEnabled())continue;let Be;this._blockedByActive(K,ze,Ae)?Fe.reset():Fe[m||d.type]&&(Be=Fe[m||d.type](d,ue,ee),this.mergeHandlerResult(F,U,Be,Ae,A),Be&&Be.needsRenderFrame&&this._triggerRenderFrame()),(Be||Fe.isActive())&&(K[Ae]=Fe)}const se={};for(const Ae in this._previousActiveHandlers)K[Ae]||(se[Ae]=A);this._previousActiveHandlers=K,(Object.keys(se).length||ls(F))&&(this._changes.push([F,U,se]),this._triggerRenderFrame()),(Object.keys(K).length||ls(F))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:xe}=F;xe&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],xe(this._map))}mergeHandlerResult(d,m,C,A,F){if(!C)return;a.extend(d,C);const U={handlerName:A,originalEvent:C.originalEvent||F};C.zoomDelta!==void 0&&(m.zoom=U),C.panDelta!==void 0&&(m.drag=U),C.pitchDelta!==void 0&&(m.pitch=U),C.bearingDelta!==void 0&&(m.rotate=U)}_applyChanges(){const d={},m={},C={};for(const[A,F,U]of this._changes)A.panDelta&&(d.panDelta=(d.panDelta||new a.Point(0,0))._add(A.panDelta)),A.zoomDelta&&(d.zoomDelta=(d.zoomDelta||0)+A.zoomDelta),A.bearingDelta&&(d.bearingDelta=(d.bearingDelta||0)+A.bearingDelta),A.pitchDelta&&(d.pitchDelta=(d.pitchDelta||0)+A.pitchDelta),A.around!==void 0&&(d.around=A.around),A.aroundCoord!==void 0&&(d.aroundCoord=A.aroundCoord),A.pinchAround!==void 0&&(d.pinchAround=A.pinchAround),A.noInertia&&(d.noInertia=A.noInertia),a.extend(m,F),a.extend(C,U);this._updateMapTransform(d,m,C),this._changes=[]}_updateMapTransform(d,m,C){const A=this._map,F=A.transform,U=Le=>[Le.x,Le.y,Le.z];if((Le=>{const qe=this._eventsInProgress.drag;return qe&&!this._handlersById[qe.handlerName].isActive()})()&&!ls(d)){const Le=F.zoom;F.cameraElevationReference="sea",F.recenterOnTerrain(),F.cameraElevationReference="ground",Le!==F.zoom&&this._map._update(!0)}if(F._isCameraConstrained&&A._stop(!0),!ls(d))return void this._fireEvents(m,C,!0);let{panDelta:K,zoomDelta:ee,bearingDelta:ue,pitchDelta:se,around:xe,aroundCoord:Ae,pinchAround:Fe}=d;F._isCameraConstrained&&(ee>0&&(ee=0),F._isCameraConstrained=!1),Fe!==void 0&&(xe=Fe),(ee||(Le=>m[Le]&&!this._eventsInProgress[Le])("drag"))&&xe&&(this._dragOrigin=U(F.pointCoordinate3D(xe)),this._trackingEllipsoid.setup(F._camera.position,this._dragOrigin)),F.cameraElevationReference="sea",A._stop(!0),xe=xe||A.transform.centerPoint,ue&&(F.bearing+=ue),se&&(F.pitch+=se),F._updateCameraState();const ze=[0,0,0];if(K)if(F.projection.name==="mercator"){const Le=this._trackingEllipsoid.projectRay(F.screenPointToMercatorRay(xe).dir),qe=this._trackingEllipsoid.projectRay(F.screenPointToMercatorRay(xe.sub(K)).dir);ze[0]=qe[0]-Le[0],ze[1]=qe[1]-Le[1]}else{const Le=F.pointCoordinate(xe);if(F.projection.name==="globe"){K=K.rotate(-F.angle);const qe=F._pixelsPerMercatorPixel/F.worldSize;ze[0]=-K.x*a.mercatorScale(a.latFromMercatorY(Le.y))*qe,ze[1]=-K.y*a.mercatorScale(F.center.lat)*qe}else{const qe=F.pointCoordinate(xe.sub(K));Le&&qe&&(ze[0]=qe.x-Le.x,ze[1]=qe.y-Le.y)}}const Be=F.zoom,je=[0,0,0];if(ee){const Le=U(Ae||F.pointCoordinate3D(xe)),qe={dir:a.normalize([],a.sub([],Le,F._camera.position))};if(qe.dir[2]<0){const Xe=F.zoomDeltaToMovement(Le,ee);a.scale$2(je,qe.dir,Xe)}}const Ce=a.add(ze,ze,je);F._translateCameraConstrained(Ce),ee&&Math.abs(F.zoom-Be)>1e-4&&F.recenterOnTerrain(),F.cameraElevationReference="ground",this._map._update(),d.noInertia||this._inertia.record(d),this._fireEvents(m,C,!0)}_fireEvents(d,m,C){const A=$o(this._eventsInProgress),F=$o(d),U={};for(const se in d){const{originalEvent:xe}=d[se];this._eventsInProgress[se]||(U[`${se}start`]=xe),this._eventsInProgress[se]=d[se]}!A&&F&&this._fireEvent("movestart",F.originalEvent);for(const se in U)this._fireEvent(se,U[se]);F&&this._fireEvent("move",F.originalEvent);for(const se in d){const{originalEvent:xe}=d[se];this._fireEvent(se,xe)}const K={};let ee;for(const se in this._eventsInProgress){const{handlerName:xe,originalEvent:Ae}=this._eventsInProgress[se];this._handlersById[xe].isActive()||(delete this._eventsInProgress[se],ee=m[xe]||Ae,K[`${se}end`]=ee)}for(const se in K)this._fireEvent(se,K[se]);const ue=$o(this._eventsInProgress);if(C&&(A||F)&&!ue){this._updatingCamera=!0;const se=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),xe=Ae=>Ae!==0&&-this._bearingSnap<Ae&&Ae<this._bearingSnap;se?(xe(se.bearing||this._map.getBearing())&&(se.bearing=0),this._map.easeTo(se,{originalEvent:ee})):(this._map.fire(new a.Event("moveend",{originalEvent:ee})),xe(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(d,m){this._map.fire(new a.Event(d,m?{originalEvent:m}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(d=>{this._frameId=void 0,this.handleEvent(new ty("renderFrame",{timeStamp:d})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const Eu="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class ip extends a.Evented{constructor(d,m){super(),this._moving=!1,this._zooming=!1,this.transform=d,this._bearingSnap=m.bearingSnap,this._respectPrefersReducedMotion=m.respectPrefersReducedMotion!==!1,a.bindAll(["_renderFrameCallback"],this)}getCenter(){return new a.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(d,m){return this.jumpTo({center:d},m)}panBy(d,m,C){return d=a.Point.convert(d).mult(-1),this.panTo(this.transform.center,a.extend({offset:d},m),C)}panTo(d,m,C){return this.easeTo(a.extend({center:d},m),C)}getZoom(){return this.transform.zoom}setZoom(d,m){return this.jumpTo({zoom:d},m),this}zoomTo(d,m,C){return this.easeTo(a.extend({zoom:d},m),C)}zoomIn(d,m){return this.zoomTo(this.getZoom()+1,d,m),this}zoomOut(d,m){return this.zoomTo(this.getZoom()-1,d,m),this}getBearing(){return this.transform.bearing}setBearing(d,m){return this.jumpTo({bearing:d},m),this}getPadding(){return this.transform.padding}setPadding(d,m){return this.jumpTo({padding:d},m),this}rotateTo(d,m,C){return this.easeTo(a.extend({bearing:d},m),C)}resetNorth(d,m){return this.rotateTo(0,a.extend({duration:1e3},d),m),this}resetNorthPitch(d,m){return this.easeTo(a.extend({bearing:0,pitch:0,duration:1e3},d),m),this}snapToNorth(d,m){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(d,m):this}getPitch(){return this.transform.pitch}setPitch(d,m){return this.jumpTo({pitch:d},m),this}cameraForBounds(d,m){d=a.LngLatBounds.convert(d);const C=m&&m.bearing||0,A=m&&m.pitch||0,F=d.getNorthWest(),U=d.getSouthEast();return this._cameraForBounds(this.transform,F,U,C,A,m)}_extendCameraOptions(d){const m={top:0,bottom:0,right:0,left:0};if(typeof(d=a.extend({padding:m,offset:[0,0],maxZoom:this.transform.maxZoom},d)).padding=="number"){const C=d.padding;d.padding={top:C,bottom:C,right:C,left:C}}return d.padding=a.extend(m,d.padding),d}_minimumAABBFrustumDistance(d,m){const C=m.max[0]-m.min[0],A=m.max[1]-m.min[1];return C/A>d.aspect?C/(2*Math.tan(.5*d.fovX)*d.aspect):A/(2*Math.tan(.5*d.fovY)*d.aspect)}_cameraForBoundsOnGlobe(d,m,C,A,F,U){const K=d.clone(),ee=this._extendCameraOptions(U);K.bearing=A,K.pitch=F;const ue=a.LngLat.convert(m),se=a.LngLat.convert(C),xe=.5*(ue.lat+se.lat),Ae=.5*(ue.lng+se.lng),Fe=a.latLngToECEF(xe,Ae),ze=a.normalize([],Fe),Be=a.normalize([],a.cross([],ze,[0,1,0])),je=a.cross([],Be,ze),Ce=[Be[0],Be[1],Be[2],0,je[0],je[1],je[2],0,ze[0],ze[1],ze[2],0,0,0,0,1],Le=[Fe,a.latLngToECEF(ue.lat,ue.lng),a.latLngToECEF(se.lat,ue.lng),a.latLngToECEF(se.lat,se.lng),a.latLngToECEF(ue.lat,se.lng),a.latLngToECEF(xe,ue.lng),a.latLngToECEF(xe,se.lng),a.latLngToECEF(ue.lat,Ae),a.latLngToECEF(se.lat,Ae)];let qe=a.Aabb.fromPoints(Le.map(Qt=>[a.dot(Be,Qt),a.dot(je,Qt),a.dot(ze,Qt)]));const Xe=a.transformMat4([],qe.center,Ce);a.squaredLength(Xe)===0&&a.set(Xe,0,0,1),a.normalize(Xe,Xe),a.scale$2(Xe,Xe,a.GLOBE_RADIUS),K.center=a.ecefToLatLng(Xe);const ut=K.getWorldToCameraMatrix(),dt=a.invert(new Float64Array(16),ut);qe=a.Aabb.applyTransform(qe,a.multiply([],ut,Ce)),a.transformMat4(Xe,Xe,ut);const ct=.5*(qe.max[2]-qe.min[2]),wt=this._minimumAABBFrustumDistance(K,qe),bt=a.scale$2([],[0,0,1],ct),At=a.add(bt,Xe,bt),an=wt+(K.pitch===0?0:a.distance(Xe,At)),Tt=K.globeCenterInViewSpace,Kt=a.sub([],Xe,[Tt[0],Tt[1],Tt[2]]);a.normalize(Kt,Kt),a.scale$2(Kt,Kt,an);const Dt=a.add([],Xe,Kt);a.transformMat4(Dt,Dt,dt);const nn=a.earthRadius/a.GLOBE_RADIUS,Mt=a.length(Dt),Vt=a.mercatorZfromAltitude(Math.max(Mt*nn-a.earthRadius,Number.EPSILON),0),sn=Math.min(K.zoomFromMercatorZAdjusted(Vt),ee.maxZoom);return sn>.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(K.setProjection({name:"mercator"}),K.zoom=sn,this._cameraForBounds(K,m,C,A,F,U)):{center:K.center,zoom:sn,bearing:A,pitch:F}}queryTerrainElevation(d,m){const C=this.transform.elevation;return C?(m=a.extend({},{exaggerated:!0},m),C.getAtPoint(a.MercatorCoordinate.fromLngLat(d),null,m.exaggerated)):null}_cameraForBounds(d,m,C,A,F,U){if(d.projection.name==="globe")return this._cameraForBoundsOnGlobe(d,m,C,A,F,U);const K=d.clone(),ee=this._extendCameraOptions(U),ue=K.padding;K.bearing=A,K.pitch=F;const se=a.LngLat.convert(m),xe=a.LngLat.convert(C),Ae=new a.LngLat(se.lng,xe.lat),Fe=new a.LngLat(xe.lng,se.lat),ze=K.project(se),Be=K.project(xe),je=this.queryTerrainElevation(se),Ce=this.queryTerrainElevation(xe),Le=this.queryTerrainElevation(Ae),qe=this.queryTerrainElevation(Fe),Xe=[[ze.x,ze.y,Math.min(je||0,Ce||0,Le||0,qe||0)],[Be.x,Be.y,Math.max(je||0,Ce||0,Le||0,qe||0)]];let ut=a.Aabb.fromPoints(Xe);const dt=K.getWorldToCameraMatrix(),ct=a.invert(new Float64Array(16),dt);ut=a.Aabb.applyTransform(ut,dt);const wt=a.sub([],ut.max,ut.min),bt=ue.left||0,At=ue.right||0,an=ue.bottom||0,Tt=ue.top||0,{left:Kt,right:Dt,top:nn,bottom:Mt}=ee.padding,Vt=.5*(bt+At),sn=.5*(Tt+an),Qt=Math.min(K.scaleZoom(K.scale*Math.min((K.width-(bt+At+Kt+Dt))/wt[0],(K.height-(an+Tt+Mt+nn))/wt[1])),ee.maxZoom),ln=K.scale/K.zoomScale(Qt);ut=new a.Aabb([ut.min[0]-(Kt+Vt)*ln,ut.min[1]-(Mt+sn)*ln,ut.min[2]],[ut.max[0]+(Dt+Vt)*ln,ut.max[1]+(nn+sn)*ln,ut.max[2]]);const Rn=.5*wt[2],Zn=this._minimumAABBFrustumDistance(K,ut),Sn=[0,0,1,0];a.transformMat4$1(Sn,Sn,dt),a.normalize$2(Sn,Sn);const jn=a.scale$2([],Sn,Zn+Rn),xr=a.add([],ut.center,jn),_r=(typeof ee.offset.x=="number"&&typeof ee.offset.y=="number"?new a.Point(ee.offset.x,ee.offset.y):a.Point.convert(ee.offset)).rotate(-a.degToRad(A));ut.center[0]-=_r.x*ln,ut.center[1]+=_r.y*ln,a.transformMat4(ut.center,ut.center,ct),a.transformMat4(xr,xr,ct);const On=[ut.center[0],ut.center[1],xr[2]*K.pixelsPerMeter];a.scale$2(On,On,1/K.worldSize);const Vr=a.lngFromMercatorX(On[0]),Xr=a.latFromMercatorY(On[1]),Zr=Math.min(K._zoomFromMercatorZ(On[2]),ee.maxZoom),Qr=new a.LngLat(Vr,Xr);return K.mercatorFromTransition&&Zr<.5*(a.GLOBE_ZOOM_THRESHOLD_MIN+a.GLOBE_ZOOM_THRESHOLD_MAX)?(K.setProjection({name:"globe"}),K.zoom=Zr,this._cameraForBounds(K,m,C,A,F,U)):{center:Qr,zoom:Zr,bearing:A,pitch:F}}fitBounds(d,m,C){const A=this.cameraForBounds(d,m);return this._fitInternal(A,m,C)}fitScreenCoordinates(d,m,C,A,F){const U=a.Point.convert(d),K=a.Point.convert(m),ee=new a.Point(Math.min(U.x,K.x),Math.min(U.y,K.y)),ue=new a.Point(Math.max(U.x,K.x),Math.max(U.y,K.y));if(this.transform.projection.name==="mercator"&&this.transform.anyCornerOffEdge(U,K))return this;const se=this.transform.pointLocation3D(ee),xe=this.transform.pointLocation3D(ue),Ae=this.transform.pointLocation3D(new a.Point(ee.x,ue.y)),Fe=this.transform.pointLocation3D(new a.Point(ue.x,ee.y)),ze=[Math.min(se.lng,xe.lng,Ae.lng,Fe.lng),Math.min(se.lat,xe.lat,Ae.lat,Fe.lat)],Be=[Math.max(se.lng,xe.lng,Ae.lng,Fe.lng),Math.max(se.lat,xe.lat,Ae.lat,Fe.lat)],je=A&&A.pitch?A.pitch:this.getPitch(),Ce=this._cameraForBounds(this.transform,ze,Be,C,je,A);return this._fitInternal(Ce,A,F)}_fitInternal(d,m,C){return d?(delete(m=a.extend(d,m)).padding,m.linear?this.easeTo(m,C):this.flyTo(m,C)):this}jumpTo(d,m){this.stop();const C=d.preloadOnly?this.transform.clone():this.transform;let A=!1,F=!1,U=!1;return"zoom"in d&&C.zoom!==+d.zoom&&(A=!0,C.zoom=+d.zoom),d.center!==void 0&&(C.center=a.LngLat.convert(d.center)),"bearing"in d&&C.bearing!==+d.bearing&&(F=!0,C.bearing=+d.bearing),"pitch"in d&&C.pitch!==+d.pitch&&(U=!0,C.pitch=+d.pitch),d.padding==null||C.isPaddingEqual(d.padding)||(C.padding=d.padding),d.preloadOnly?(this._preloadTiles(C),this):(this.fire(new a.Event("movestart",m)).fire(new a.Event("move",m)),A&&this.fire(new a.Event("zoomstart",m)).fire(new a.Event("zoom",m)).fire(new a.Event("zoomend",m)),F&&this.fire(new a.Event("rotatestart",m)).fire(new a.Event("rotate",m)).fire(new a.Event("rotateend",m)),U&&this.fire(new a.Event("pitchstart",m)).fire(new a.Event("pitch",m)).fire(new a.Event("pitchend",m)),this.fire(new a.Event("moveend",m)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||a.warnOnce(Eu),this.transform.getFreeCameraOptions()}setFreeCameraOptions(d,m){const C=this.transform;if(!C.projection.supportsFreeCamera)return a.warnOnce(Eu),this;this.stop();const A=C.zoom,F=C.pitch,U=C.bearing;C.setFreeCameraOptions(d);const K=A!==C.zoom,ee=F!==C.pitch,ue=U!==C.bearing;return this.fire(new a.Event("movestart",m)).fire(new a.Event("move",m)),K&&this.fire(new a.Event("zoomstart",m)).fire(new a.Event("zoom",m)).fire(new a.Event("zoomend",m)),ue&&this.fire(new a.Event("rotatestart",m)).fire(new a.Event("rotate",m)).fire(new a.Event("rotateend",m)),ee&&this.fire(new a.Event("pitchstart",m)).fire(new a.Event("pitch",m)).fire(new a.Event("pitchend",m)),this.fire(new a.Event("moveend",m)),this}easeTo(d,m){this._stop(!1,d.easeId),((d=a.extend({offset:[0,0],duration:500,easing:a.ease},d)).animate===!1||this._prefersReducedMotion(d))&&(d.duration=0);const C=this.transform,A=this.getZoom(),F=this.getBearing(),U=this.getPitch(),K=this.getPadding(),ee="zoom"in d?+d.zoom:A,ue="bearing"in d?this._normalizeBearing(d.bearing,F):F,se="pitch"in d?+d.pitch:U,xe="padding"in d?d.padding:C.padding,Ae=a.Point.convert(d.offset);let Fe,ze,Be;if(C.projection.name==="globe"){const bt=a.MercatorCoordinate.fromLngLat(C.center),At=Ae.rotate(-C.angle);bt.x+=At.x/C.worldSize,bt.y+=At.y/C.worldSize;const an=bt.toLngLat(),Tt=a.LngLat.convert(d.center||an);this._normalizeCenter(Tt),Fe=C.centerPoint.add(At),ze=new a.Point(bt.x,bt.y).mult(C.worldSize),Be=new a.Point(a.mercatorXfromLng(Tt.lng),a.mercatorYfromLat(Tt.lat)).mult(C.worldSize).sub(ze)}else{Fe=C.centerPoint.add(Ae);const bt=C.pointLocation(Fe),At=a.LngLat.convert(d.center||bt);this._normalizeCenter(At),ze=C.project(bt),Be=C.project(At).sub(ze)}const je=C.zoomScale(ee-A);let Ce,Le;d.around&&(Ce=a.LngLat.convert(d.around),Le=C.locationPoint(Ce));const qe=this._zooming||ee!==A,Xe=this._rotating||F!==ue,ut=this._pitching||se!==U,dt=!C.isPaddingEqual(xe),ct=bt=>At=>{if(qe&&(bt.zoom=a.number(A,ee,At)),Xe&&(bt.bearing=a.number(F,ue,At)),ut&&(bt.pitch=a.number(U,se,At)),dt&&(bt.interpolatePadding(K,xe,At),Fe=bt.centerPoint.add(Ae)),Ce)bt.setLocationAtPoint(Ce,Le);else{const an=bt.zoomScale(bt.zoom-A),Tt=ee>A?Math.min(2,je):Math.max(.5,je),Kt=Math.pow(Tt,1-At),Dt=bt.unproject(ze.add(Be.mult(At*Kt)).mult(an));bt.setLocationAtPoint(bt.renderWorldCopies?Dt.wrap():Dt,Fe)}return d.preloadOnly||this._fireMoveEvents(m),bt};if(d.preloadOnly){const bt=this._emulate(ct,d.duration,C);return this._preloadTiles(bt),this}const wt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=qe,this._rotating=Xe,this._pitching=ut,this._padding=dt,this._easeId=d.easeId,this._prepareEase(m,d.noMoveStart,wt),this._ease(ct(C),bt=>{C.recenterOnTerrain(),this._afterEase(m,bt)},d),this}_prepareEase(d,m,C={}){this._moving=!0,this.transform.cameraElevationReference="sea",m||C.moving||this.fire(new a.Event("movestart",d)),this._zooming&&!C.zooming&&this.fire(new a.Event("zoomstart",d)),this._rotating&&!C.rotating&&this.fire(new a.Event("rotatestart",d)),this._pitching&&!C.pitching&&this.fire(new a.Event("pitchstart",d))}_fireMoveEvents(d){this.fire(new a.Event("move",d)),this._zooming&&this.fire(new a.Event("zoom",d)),this._rotating&&this.fire(new a.Event("rotate",d)),this._pitching&&this.fire(new a.Event("pitch",d))}_afterEase(d,m){if(this._easeId&&m&&this._easeId===m)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const C=this._zooming,A=this._rotating,F=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,C&&this.fire(new a.Event("zoomend",d)),A&&this.fire(new a.Event("rotateend",d)),F&&this.fire(new a.Event("pitchend",d)),this.fire(new a.Event("moveend",d))}flyTo(d,m){if(this._prefersReducedMotion(d)){const Qt=a.pick(d,["center","zoom","bearing","pitch","around"]);return this.jumpTo(Qt,m)}this.stop(),d=a.extend({offset:[0,0],speed:1.2,curve:1.42,easing:a.ease},d);const C=this.transform,A=this.getZoom(),F=this.getBearing(),U=this.getPitch(),K=this.getPadding(),ee="zoom"in d?a.clamp(+d.zoom,C.minZoom,C.maxZoom):A,ue="bearing"in d?this._normalizeBearing(d.bearing,F):F,se="pitch"in d?+d.pitch:U,xe="padding"in d?d.padding:C.padding,Ae=C.zoomScale(ee-A),Fe=a.Point.convert(d.offset);let ze=C.centerPoint.add(Fe);const Be=C.pointLocation(ze),je=a.LngLat.convert(d.center||Be);this._normalizeCenter(je);const Ce=C.project(Be),Le=C.project(je).sub(Ce);let qe=d.curve;const Xe=Math.max(C.width,C.height),ut=Xe/Ae,dt=Le.mag();if("minZoom"in d){const Qt=a.clamp(Math.min(d.minZoom,A,ee),C.minZoom,C.maxZoom),ln=Xe/C.zoomScale(Qt-A);qe=Math.sqrt(ln/dt*2)}const ct=qe*qe;function wt(Qt){const ln=(ut*ut-Xe*Xe+(Qt?-1:1)*ct*ct*dt*dt)/(2*(Qt?ut:Xe)*ct*dt);return Math.log(Math.sqrt(ln*ln+1)-ln)}function bt(Qt){return(Math.exp(Qt)-Math.exp(-Qt))/2}function At(Qt){return(Math.exp(Qt)+Math.exp(-Qt))/2}const an=wt(0);let Tt=function(Qt){return At(an)/At(an+qe*Qt)},Kt=function(Qt){return Xe*((At(an)*(bt(ln=an+qe*Qt)/At(ln))-bt(an))/ct)/dt;var ln},Dt=(wt(1)-an)/qe;if(Math.abs(dt)<1e-6||!isFinite(Dt)){if(Math.abs(Xe-ut)<1e-6)return this.easeTo(d,m);const Qt=ut<Xe?-1:1;Dt=Math.abs(Math.log(ut/Xe))/qe,Kt=function(){return 0},Tt=function(ln){return Math.exp(Qt*qe*ln)}}d.duration="duration"in d?+d.duration:1e3*Dt/("screenSpeed"in d?+d.screenSpeed/qe:+d.speed),d.maxDuration&&d.duration>d.maxDuration&&(d.duration=0);const nn=F!==ue,Mt=se!==U,Vt=!C.isPaddingEqual(xe),sn=Qt=>ln=>{const Rn=ln*Dt,Zn=1/Tt(Rn);Qt.zoom=ln===1?ee:A+Qt.scaleZoom(Zn),nn&&(Qt.bearing=a.number(F,ue,ln)),Mt&&(Qt.pitch=a.number(U,se,ln)),Vt&&(Qt.interpolatePadding(K,xe,ln),ze=Qt.centerPoint.add(Fe));const Sn=ln===1?je:Qt.unproject(Ce.add(Le.mult(Kt(Rn))).mult(Zn));return Qt.setLocationAtPoint(Qt.renderWorldCopies?Sn.wrap():Sn,ze),Qt._updateCameraOnTerrain(),d.preloadOnly||this._fireMoveEvents(m),Qt};if(d.preloadOnly){const Qt=this._emulate(sn,d.duration,C);return this._preloadTiles(Qt),this}return this._zooming=!0,this._rotating=nn,this._pitching=Mt,this._padding=Vt,this._prepareEase(m,!1),this._ease(sn(C),()=>this._afterEase(m),d),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(d,m){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const C=this._onEaseEnd;this._onEaseEnd=void 0,C.call(this,m)}if(!d){const C=this.handlers;C&&C.stop(!1)}return this}_ease(d,m,C){C.animate===!1||C.duration===0?(d(1),m()):(this._easeStart=a.exported.now(),this._easeOptions=C,this._onEaseFrame=d,this._onEaseEnd=m,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const d=Math.min((a.exported.now()-this._easeStart)/this._easeOptions.duration,1),m=this._onEaseFrame;m&&m(this._easeOptions.easing(d)),d<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(d,m){d=a.wrap(d,-180,180);const C=Math.abs(d-m);return Math.abs(d-360-m)<C&&(d-=360),Math.abs(d+360-m)<C&&(d+=360),d}_normalizeCenter(d){const m=this.transform;if(!m.renderWorldCopies||m.maxBounds)return;const C=d.lng-m.center.lng;d.lng+=C>180?-360:C<-180?360:0}_prefersReducedMotion(d){return this._respectPrefersReducedMotion&&a.exported.prefersReducedMotion&&!(d&&d.essential)}_emulate(d,m,C){const A=Math.ceil(15*m/1e3),F=[],U=d(C.clone());for(let K=0;K<=A;K++){const ee=U(K/A);F.push(ee.clone())}return F}}class bn{constructor(d={}){this.options=d,a.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(d){const m=this.options&&this.options.compact;return this._map=d,this._container=_("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=_("button","mapboxgl-ctrl-attrib-button",this._container),_("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=_("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),m&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),m===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(d,m){const C=this._map._getUIString(`AttributionControl.${m}`);d.setAttribute("aria-label",C),d.removeAttribute("title"),d.firstElementChild&&d.firstElementChild.setAttribute("title",C)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let d=this._editLink;d||(d=this._editLink=this._container.querySelector(".mapbox-improve-map"));const m=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||a.config.ACCESS_TOKEN}];if(d){const C=m.reduce((A,F,U)=>(F.value&&(A+=`${F.key}=${F.value}${U<m.length-1?"&":""}`),A),"?");d.href=`${a.config.FEEDBACK_URL}/${C}#${af(this._map,!0)}`,d.rel="noopener nofollow",this._setElementTitle(d,"MapFeedback")}}_updateData(d){!d||d.sourceDataType!=="metadata"&&d.sourceDataType!=="visibility"&&d.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let d=[];if(this._map.style.stylesheet){const A=this._map.style.stylesheet;this.styleOwner=A.owner,this.styleId=A.id}const m=this._map.style._sourceCaches;for(const A in m){const F=m[A];if(F.used){const U=F.getSource();U.attribution&&d.indexOf(U.attribution)<0&&d.push(U.attribution)}}d.sort((A,F)=>A.length-F.length),d=d.filter((A,F)=>{for(let U=F+1;U<d.length;U++)if(d[U].indexOf(A)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?d=[...this.options.customAttribution,...d]:d.unshift(this.options.customAttribution));const C=d.join(" | ");C!==this._attribHTML&&(this._attribHTML=C,d.length?(this._innerContainer.innerHTML=C,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class wm{constructor(){a.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(d){this._map=d,this._container=_("div","mapboxgl-ctrl");const m=_("a","mapboxgl-ctrl-logo");return m.target="_blank",m.rel="noopener nofollow",m.href="https://www.mapbox.com/",m.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),m.setAttribute("rel","noopener nofollow"),this._container.appendChild(m),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(d){d&&d.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const d=this._map.style._sourceCaches;if(Object.entries(d).length===0)return!0;for(const m in d){const C=d[m].getSource();if(C.hasOwnProperty("mapbox_logo")&&!C.mapbox_logo)return!1}return!0}_updateCompact(){const d=this._container.children;if(d.length){const m=d[0];this._map.getCanvasContainer().offsetWidth<250?m.classList.add("mapboxgl-compact"):m.classList.remove("mapboxgl-compact")}}}class Cm{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(d){const m=++this._id;return this._queue.push({callback:d,id:m,cancelled:!1}),m}remove(d){const m=this._currentlyRunning,C=m?this._queue.concat(m):this._queue;for(const A of C)if(A.id===d)return void(A.cancelled=!0)}run(d=0){const m=this._currentlyRunning=this._queue;this._queue=[];for(const C of m)if(!C.cancelled&&(C.callback(d),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function Fc(x,d,m){if(x=new a.LngLat(x.lng,x.lat),d){const C=new a.LngLat(x.lng-360,x.lat),A=new a.LngLat(x.lng+360,x.lat),F=360*Math.ceil(Math.abs(x.lng-m.center.lng)/360),U=m.locationPoint(x).distSqr(d),K=d.x<0||d.y<0||d.x>m.width||d.y>m.height;m.locationPoint(C).distSqr(d)<U&&(K||Math.abs(C.lng-m.center.lng)<F)?x=C:m.locationPoint(A).distSqr(d)<U&&(K||Math.abs(A.lng-m.center.lng)<F)&&(x=A)}for(;Math.abs(x.lng-m.center.lng)>180;){const C=m.locationPoint(x);if(C.x>=0&&C.y>=0&&C.x<=m.width&&C.y<=m.height)break;x.lng>m.center.lng?x.lng-=360:x.lng+=360}return x}const Pu={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class yn extends a.Evented{constructor(d,m){if(super(),(d instanceof a.window.HTMLElement||m)&&(d=a.extend({element:d},m)),a.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=d&&d.anchor||"center",this._color=d&&d.color||"#3FB1CE",this._scale=d&&d.scale||1,this._draggable=d&&d.draggable||!1,this._clickTolerance=d&&d.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=d&&d.rotation||0,this._rotationAlignment=d&&d.rotationAlignment||"auto",this._pitchAlignment=d&&d.pitchAlignment&&d.pitchAlignment||"auto",this._updateMoving=()=>this._update(!0),this._occludedOpacity=d&&d.occludedOpacity||.2,d&&d.element)this._element=d.element,this._offset=a.Point.convert(d&&d.offset||[0,0]);else{this._defaultMarker=!0,this._element=_("div");const A=41,F=27,U=b("svg",{display:"block",height:A*this._scale+"px",width:F*this._scale+"px",viewBox:`0 0 ${F} ${A}`},this._element),K=b("radialGradient",{id:"shadowGradient"},b("defs",{},U));b("stop",{offset:"10%","stop-opacity":.4},K),b("stop",{offset:"100%","stop-opacity":.05},K),b("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},U),b("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},U),b("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},U),b("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},U),this._offset=a.Point.convert(d&&d.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",A=>{A.preventDefault()}),this._element.addEventListener("mousedown",A=>{A.preventDefault()});const C=this._element.classList;for(const A in Pu)C.remove(`mapboxgl-marker-anchor-${A}`);C.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(d){return d===this._map||(this.remove(),this._map=d,d.getCanvasContainer().appendChild(this._element),d.on("move",this._updateMoving),d.on("moveend",this._update),d.on("remove",this._clearFadeTimer),d._addMarker(this),this.setDraggable(this._draggable),this._update(),d.on("click",this._onMapClick)),this}remove(){const d=this._map;return d&&(d.off("click",this._onMapClick),d.off("move",this._updateMoving),d.off("moveend",this._update),d.off("mousedown",this._addDragHandler),d.off("touchstart",this._addDragHandler),d.off("mouseup",this._onUp),d.off("touchend",this._onUp),d.off("mousemove",this._onMove),d.off("touchmove",this._onMove),d.off("remove",this._clearFadeTimer),d._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(d){return this._lngLat=a.LngLat.convert(d),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(d){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),d){if(!("offset"in d.options)){const A=Math.sqrt(Math.pow(13.5,2)/2);d.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[A,-1*(38.1-13.5+A)],"bottom-right":[-A,-1*(38.1-13.5+A)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=d,d._marker=this,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(d){const m=d.code,C=d.charCode||d.keyCode;m!=="Space"&&m!=="Enter"&&C!==32&&C!==13||this.togglePopup()}_onMapClick(d){const m=d.originalEvent.target,C=this._element;this._popup&&(m===C||C.contains(m))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const d=this._popup;return d?(d.isOpen()?(d.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(d.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_behindTerrain(){const d=this._map,m=this._pos;if(!d||!m)return!1;const C=d.unproject(m),A=d.getFreeCameraOptions();if(!A.position)return!1;const F=A.position.toLngLat();return F.distanceTo(C)<.9*F.distanceTo(this._lngLat)}_evaluateOpacity(){const d=this._map;if(!d)return;const m=this._pos;if(!m||m.x<0||m.x>d.transform.width||m.y<0||m.y>d.transform.height)return void this._clearFadeTimer();const C=d.unproject(m);let A;d._showingGlobe()&&a.isLngLatBehindGlobe(d.transform,this._lngLat)?A=0:(A=1-d._queryFogOpacity(C),d.transform._terrainEnabled()&&d.getTerrain()&&this._behindTerrain()&&(A*=this._occludedOpacity)),this._element.style.opacity=`${A}`,this._element.style.pointerEvents=A>0?"auto":"none",this._popup&&this._popup._setOpacity(A),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const d=this._pos;if(!d||!this._map)return;const m=this._offset.mult(this._scale);this._element.style.transform=`
            translate(${d.x}px,${d.y}px)
            ${Pu[this._anchor]}
            ${this._calculateXYTransform()} ${this._calculateZTransform()}
            translate(${m.x}px,${m.y}px)
        `}_calculateXYTransform(){const d=this._pos,m=this._map,C=this.getPitchAlignment();if(!m||!d||C!=="map")return"";if(!m._showingGlobe()){const ee=m.getPitch();return ee?`rotateX(${ee}deg)`:""}const A=a.radToDeg(a.globeTiltAtLngLat(m.transform,this._lngLat)),F=d.sub(a.globeCenterToScreenPoint(m.transform)),U=Math.abs(F.x)+Math.abs(F.y);if(U===0)return"";const K=A/U;return`rotateX(${-F.y*K}deg) rotateY(${F.x*K}deg)`}_calculateZTransform(){const d=this._pos,m=this._map;if(!m||!d)return"";let C=0;const A=this.getRotationAlignment();if(A==="map")if(m._showingGlobe()){const F=m.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat+.001)),U=m.project(new a.LngLat(this._lngLat.lng,this._lngLat.lat-.001)).sub(F);C=a.radToDeg(Math.atan2(U.y,U.x))-90}else C=-m.getBearing();else if(A==="horizon"){const F=a.smoothstep(4,6,m.getZoom()),U=a.globeCenterToScreenPoint(m.transform);U.y+=F*m.transform.height;const K=d.sub(U),ee=a.radToDeg(Math.atan2(K.y,K.x));C=(ee>90?ee-270:ee+90)*(1-F)}return C+=this._rotation,C?`rotateZ(${C}deg)`:""}_update(d){a.window.cancelAnimationFrame(this._updateFrameId);const m=this._map;m&&(m.transform.renderWorldCopies&&(this._lngLat=Fc(this._lngLat,this._pos,m.transform)),this._pos=m.project(this._lngLat),d===!0?this._updateFrameId=a.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),m._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),(m._showingGlobe()||m.getTerrain()||m.getFog())&&!this._fadeTimer&&(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(d){return this._offset=a.Point.convert(d),this._update(),this}_onMove(d){const m=this._map;if(!m)return;const C=this._pointerdownPos,A=this._positionDelta;if(C&&A){if(!this._isDragging){const F=this._clickTolerance||m._clickTolerance;if(d.point.dist(C)<F)return;this._isDragging=!0}this._pos=d.point.sub(A),this._lngLat=m.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new a.Event("dragstart"))),this.fire(new a.Event("drag"))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const d=this._map;d&&(d.off("mousemove",this._onMove),d.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new a.Event("dragend")),this._state="inactive"}_addDragHandler(d){const m=this._map,C=this._pos;m&&C&&this._element.contains(d.originalEvent.target)&&(d.preventDefault(),this._positionDelta=d.point.sub(C),this._pointerdownPos=d.point,this._state="pending",m.on("mousemove",this._onMove),m.on("touchmove",this._onMove),m.once("mouseup",this._onUp),m.once("touchend",this._onUp))}setDraggable(d){this._draggable=!!d;const m=this._map;return m&&(d?(m.on("mousedown",this._addDragHandler),m.on("touchstart",this._addDragHandler)):(m.off("mousedown",this._addDragHandler),m.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(d){return this._rotation=d||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(d){return this._rotationAlignment=d||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment==="auto"||this._rotationAlignment==="horizon"&&this._map&&!this._map._showingGlobe()?"viewport":this._rotationAlignment}setPitchAlignment(d){return this._pitchAlignment=d||"auto",this._update(),this}getPitchAlignment(){return this._pitchAlignment==="auto"?this.getRotationAlignment():this._pitchAlignment}setOccludedOpacity(d){return this._occludedOpacity=d||.2,this._update(),this}getOccludedOpacity(){return this._occludedOpacity}}const Sm={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Nw=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function ny(x=new a.Point(0,0),d="bottom"){if(typeof x=="number"){const m=Math.round(Math.sqrt(.5*Math.pow(x,2)));switch(d){case"top":return new a.Point(0,x);case"top-left":return new a.Point(m,m);case"top-right":return new a.Point(-m,m);case"bottom":return new a.Point(0,-x);case"bottom-left":return new a.Point(m,-m);case"bottom-right":return new a.Point(-m,-m);case"left":return new a.Point(x,0);case"right":return new a.Point(-x,0)}return new a.Point(0,0)}return x instanceof a.Point||Array.isArray(x)?a.Point.convert(x):a.Point.convert(x[d]||[0,0])}class Tm{constructor(d){this.jumpTo(d)}getValue(d){if(d<=this._startTime)return this._start;if(d>=this._endTime)return this._end;const m=a.easeCubicInOut((d-this._startTime)/(this._endTime-this._startTime));return this._start*(1-m)+this._end*m}isEasing(d){return d>=this._startTime&&d<=this._endTime}jumpTo(d){this._startTime=-1/0,this._endTime=-1/0,this._start=d,this._end=d}easeTo(d,m,C){this._start=this.getValue(m),this._end=d,this._startTime=m,this._endTime=m+C}}const ry={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","Map.Title":"Map","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use  + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},iy={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,performanceMetricsCollection:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,respectPrefersReducedMotion:!0,crossSourceCollisions:!0},Bw={showCompass:!0,showZoom:!0,visualizePitch:!1};class zw{constructor(d,m,C=!1){this._clickTolerance=10,this.element=m,this.mouseRotate=new gm({clickTolerance:d.dragRotate._mouseRotate._clickTolerance}),this.map=d,C&&(this.mousePitch=new ym({clickTolerance:d.dragRotate._mousePitch._clickTolerance})),a.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),m.addEventListener("mousedown",this.mousedown),m.addEventListener("touchstart",this.touchstart,{passive:!1}),m.addEventListener("touchmove",this.touchmove),m.addEventListener("touchend",this.touchend),m.addEventListener("touchcancel",this.reset)}down(d,m){this.mouseRotate.mousedown(d,m),this.mousePitch&&this.mousePitch.mousedown(d,m),k()}move(d,m){const C=this.map,A=this.mouseRotate.mousemoveWindow(d,m),F=A&&A.bearingDelta;if(F&&C.setBearing(C.getBearing()+F),this.mousePitch){const U=this.mousePitch.mousemoveWindow(d,m),K=U&&U.pitchDelta;K&&C.setPitch(C.getPitch()+K)}}off(){const d=this.element;d.removeEventListener("mousedown",this.mousedown),d.removeEventListener("touchstart",this.touchstart,{passive:!1}),d.removeEventListener("touchmove",this.touchmove),d.removeEventListener("touchend",this.touchend),d.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){I(),a.window.removeEventListener("mousemove",this.mousemove),a.window.removeEventListener("mouseup",this.mouseup)}mousedown(d){this.down(a.extend({},d,{ctrlKey:!0,preventDefault:()=>d.preventDefault()}),B(this.element,d)),a.window.addEventListener("mousemove",this.mousemove),a.window.addEventListener("mouseup",this.mouseup)}mousemove(d){this.move(d,B(this.element,d))}mouseup(d){this.mouseRotate.mouseupWindow(d),this.mousePitch&&this.mousePitch.mouseupWindow(d),this.offTemp()}touchstart(d){d.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=N(this.element,d.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>d.preventDefault()},this._startPos))}touchmove(d){d.targetTouches.length!==1?this.reset():(this._lastPos=N(this.element,d.targetTouches)[0],this.move({preventDefault:()=>d.preventDefault()},this._lastPos))}touchend(d){d.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Em={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1},Pm={maxWidth:100,unit:"metric"},Mm={kilometer:"km",meter:"m",mile:"mi",foot:"ft","nautical-mile":"nm"},Nc={version:a.version,supported:p,setRTLTextPlugin:a.setRTLTextPlugin,getRTLTextPluginStatus:a.getRTLTextPluginStatus,Map:class extends ip{constructor(x){if(a.LivePerformanceUtils.mark(a.PerformanceMarkers.create),(x=a.extend({},iy,x)).minZoom!=null&&x.maxZoom!=null&&x.minZoom>x.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(x.minPitch!=null&&x.maxPitch!=null&&x.minPitch>x.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(x.minPitch!=null&&x.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(x.maxPitch!=null&&x.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(x.antialias&&a.isSafariWithAntialiasingBug(a.window)&&(x.antialias=!1,a.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Oc(x.minZoom,x.maxZoom,x.minPitch,x.maxPitch,x.renderWorldCopies),x),this._interactive=x.interactive,this._minTileCacheSize=x.minTileCacheSize,this._maxTileCacheSize=x.maxTileCacheSize,this._failIfMajorPerformanceCaveat=x.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=x.preserveDrawingBuffer,this._antialias=x.antialias,this._useWebGL2=x.useWebGL2,this._trackResize=x.trackResize,this._bearingSnap=x.bearingSnap,this._refreshExpiredTiles=x.refreshExpiredTiles,this._fadeDuration=x.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=x.crossSourceCollisions,this._collectResourceTiming=x.collectResourceTiming,this._optimizeForTerrain=x.optimizeForTerrain,this._language=this._parseLanguage(x.language),this._worldview=x.worldview,this._renderTaskQueue=new Cm,this._domRenderTaskQueue=new Cm,this._controls=[],this._markers=[],this._popups=[],this._mapId=a.uniqueId(),this._locale=a.extend({},ry,x.locale),this._clickTolerance=x.clickTolerance,this._cooperativeGestures=x.cooperativeGestures,this._performanceMetricsCollection=x.performanceMetricsCollection,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new Tm(0),this._interactionRange=[1/0,-1/0],this._visibilityHidden=0,this._useExplicitProjection=!1,this._requestManager=new a.RequestManager(x.transformRequest,x.accessToken,x.testMode),this._silenceAuthErrors=!!x.testMode,typeof x.container=="string"){if(this._container=a.window.document.getElementById(x.container),!this._container)throw new Error(`Container '${x.container}' not found.`)}else{if(!(x.container instanceof a.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=x.container}if(this._container.childNodes.length>0&&a.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),x.maxBounds&&this.setMaxBounds(x.maxBounds),a.bindAll(["_onWindowOnline","_onWindowResize","_onVisibilityChange","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),a.window!==void 0&&(a.window.addEventListener("online",this._onWindowOnline,!1),a.window.addEventListener("resize",this._onWindowResize,!1),a.window.addEventListener("orientationchange",this._onWindowResize,!1),a.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.addEventListener("visibilitychange",this._onVisibilityChange,!1)),this.handlers=new ks(this,x),this._localFontFamily=x.localFontFamily,this._localIdeographFontFamily=x.localIdeographFontFamily,x.style&&this.setStyle(x.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),x.projection&&this.setProjection(x.projection),this._hash=x.hash&&new hm(typeof x.hash=="string"&&x.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:x.center,zoom:x.zoom,bearing:x.bearing,pitch:x.pitch}),x.bounds&&(this.resize(),this.fitBounds(x.bounds,a.extend({},x.fitBoundsOptions,{duration:0})))),this.resize(),x.attributionControl&&this.addControl(new bn({customAttribution:x.customAttribution})),this._logoControl=new wm,this.addControl(this._logoControl,x.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",d=>{this._update(d.dataType==="style"),this.fire(new a.Event(`${d.dataType}data`,d))}),this.on("dataloading",d=>{this.fire(new a.Event(`${d.dataType}dataloading`,d))})}_getMapId(){return this._mapId}addControl(x,d){if(d===void 0&&(d=x.getDefaultPosition?x.getDefaultPosition():"top-right"),!x||!x.onAdd)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const m=x.onAdd(this);this._controls.push(x);const C=this._controlPositions[d];return d.indexOf("bottom")!==-1?C.insertBefore(m,C.firstChild):C.appendChild(m),this}removeControl(x){if(!x||!x.onRemove)return this.fire(new a.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const d=this._controls.indexOf(x);return d>-1&&this._controls.splice(d,1),x.onRemove(this),this}hasControl(x){return this._controls.indexOf(x)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(x){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const d=!this._moving;return d&&this.fire(new a.Event("movestart",x)).fire(new a.Event("move",x)),this.fire(new a.Event("resize",x)),d&&this.fire(new a.Event("moveend",x)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(x){return this.transform.setMaxBounds(a.LngLatBounds.convert(x)),this._update()}setMinZoom(x){if((x=x??-2)>=-2&&x<=this.transform.maxZoom)return this.transform.minZoom=x,this._update(),this.getZoom()<x?this.setZoom(x):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(x){if((x=x??22)>=this.transform.minZoom)return this.transform.maxZoom=x,this._update(),this.getZoom()>x?this.setZoom(x):this.fire(new a.Event("zoomstart")).fire(new a.Event("zoom")).fire(new a.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(x){if((x=x??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(x>=0&&x<=this.transform.maxPitch)return this.transform.minPitch=x,this._update(),this.getPitch()<x?this.setPitch(x):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(x){if((x=x??85)>85)throw new Error("maxPitch must be less than or equal to 85");if(x>=this.transform.minPitch)return this.transform.maxPitch=x,this._update(),this.getPitch()>x?this.setPitch(x):this.fire(new a.Event("pitchstart")).fire(new a.Event("pitch")).fire(new a.Event("pitchend")),this;throw new Error("maxPitch must be greater than or equal to minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(x){return this.transform.renderWorldCopies=x,this.transform.renderWorldCopies||this._forceMarkerAndPopupUpdate(!0),this._update()}getLanguage(){return this._language}_parseLanguage(x){return x==="auto"?a.window.navigator.language:Array.isArray(x)?x.length===0?void 0:x.map(d=>d==="auto"?a.window.navigator.language:d):x}setLanguage(x){const d=this._parseLanguage(x);if(!this.style||d===this._language)return this;this._language=d,this.style._reloadSources();for(const m of this._controls)m._setLanguage&&m._setLanguage(this._language);return this}getWorldview(){return this._worldview}setWorldview(x){return this.style&&x!==this._worldview?(this._worldview=x,this.style._reloadSources(),this):this}getProjection(){return this.transform.mercatorFromTransition?{name:"globe",center:[0,0]}:this.transform.getProjection()}_showingGlobe(){return this.transform.projection.name==="globe"}setProjection(x){return this._lazyInitEmptyStyle(),x?typeof x=="string"&&(x={name:x}):x=null,this._useExplicitProjection=!!x,this._prioritizeAndUpdateProjection(x,this.style.stylesheet?this.style.stylesheet.projection:null)}_updateProjectionTransition(){if(this.getProjection().name!=="globe")return;const x=this.transform,d=x.projection.name;let m;d==="globe"&&x.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?(x.setMercatorFromTransition(),m=!0):d==="mercator"&&x.zoom<a.GLOBE_ZOOM_THRESHOLD_MAX&&(x.setProjection({name:"globe"}),m=!0),m&&(this.style.applyProjectionUpdate(),this.style._forceSymbolLayerUpdate())}_prioritizeAndUpdateProjection(x,d){return this._updateProjection(x||d||{name:"mercator"})}_updateProjection(x){let d;if(d=x.name==="globe"&&this.transform.zoom>=a.GLOBE_ZOOM_THRESHOLD_MAX?this.transform.setMercatorFromTransition():this.transform.setProjection(x),this.style.applyProjectionUpdate(),d){this.painter.clearBackgroundTiles();for(const m in this.style._sourceCaches)this.style._sourceCaches[m].clearTiles();this._update(!0),this._forceMarkerAndPopupUpdate(!0)}return this}project(x){return this.transform.locationPoint3D(a.LngLat.convert(x))}unproject(x){return this.transform.pointLocation3D(a.Point.convert(x))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_isDragging(){return this.handlers&&this.handlers._isDragging()||!1}_createDelegatedListener(x,d,m){if(x==="mouseenter"||x==="mouseover"){let C=!1;const A=U=>{const K=d.filter(ue=>this.getLayer(ue)),ee=K.length?this.queryRenderedFeatures(U.point,{layers:K}):[];ee.length?C||(C=!0,m.call(this,new Ca(x,this,U.originalEvent,{features:ee}))):C=!1},F=()=>{C=!1};return{layers:new Set(d),listener:m,delegates:{mousemove:A,mouseout:F}}}if(x==="mouseleave"||x==="mouseout"){let C=!1;const A=U=>{const K=d.filter(ee=>this.getLayer(ee));(K.length?this.queryRenderedFeatures(U.point,{layers:K}):[]).length?C=!0:C&&(C=!1,m.call(this,new Ca(x,this,U.originalEvent)))},F=U=>{C&&(C=!1,m.call(this,new Ca(x,this,U.originalEvent)))};return{layers:new Set(d),listener:m,delegates:{mousemove:A,mouseout:F}}}{const C=A=>{const F=d.filter(K=>this.getLayer(K)),U=F.length?this.queryRenderedFeatures(A.point,{layers:F}):[];U.length&&(A.features=U,m.call(this,A),delete A.features)};return{layers:new Set(d),listener:m,delegates:{[x]:C}}}}on(x,d,m){if(m===void 0)return super.on(x,d);Array.isArray(d)||(d=[d]);const C=this._createDelegatedListener(x,d,m);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[x]=this._delegatedListeners[x]||[],this._delegatedListeners[x].push(C);for(const A in C.delegates)this.on(A,C.delegates[A]);return this}once(x,d,m){if(m===void 0)return super.once(x,d);Array.isArray(d)||(d=[d]);const C=this._createDelegatedListener(x,d,m);for(const A in C.delegates)this.once(A,C.delegates[A]);return this}off(x,d,m){if(m===void 0)return super.off(x,d);d=new Set(Array.isArray(d)?d:[d]);const C=(F,U)=>{if(F.size!==U.size)return!1;for(const K of F)if(!U.has(K))return!1;return!0},A=this._delegatedListeners?this._delegatedListeners[x]:void 0;return A&&(F=>{for(let U=0;U<F.length;U++){const K=F[U];if(K.listener===m&&C(K.layers,d)){for(const ee in K.delegates)this.off(ee,K.delegates[ee]);return F.splice(U,1),this}}})(A),this}queryRenderedFeatures(x,d){return this.style?(d!==void 0||x===void 0||x instanceof a.Point||Array.isArray(x)||(d=x,x=void 0),this.style.queryRenderedFeatures(x=x||[[0,0],[this.transform.width,this.transform.height]],d=d||{},this.transform)):[]}querySourceFeatures(x,d){return this.style.querySourceFeatures(x,d)}isPointOnSurface(x){const{name:d}=this.transform.projection;return d!=="globe"&&d!=="mercator"&&a.warnOnce(`${d} projection does not support isPointOnSurface, this API may behave unexpectedly.`),this.transform.isPointOnSurface(a.Point.convert(x))}setStyle(x,d){return(d=a.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},d)).diff!==!1&&d.localIdeographFontFamily===this._localIdeographFontFamily&&d.localFontFamily===this._localFontFamily&&this.style&&x?(this._diffStyle(x,d),this):(this._localIdeographFontFamily=d.localIdeographFontFamily,this._localFontFamily=d.localFontFamily,this._updateStyle(x,d))}_getUIString(x){const d=this._locale[x];if(d==null)throw new Error(`Missing UI string '${x}'`);return d}_updateStyle(x,d){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),x&&(this.style=new No(this,d||{}),this.style.setEventedParent(this,{style:this.style}),typeof x=="string"?this.style.loadURL(x):this.style.loadJSON(x)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new No(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(x,d){if(typeof x=="string"){const m=this._requestManager.normalizeStyleURL(x),C=this._requestManager.transformRequest(m,a.ResourceType.Style);a.getJSON(C,(A,F)=>{A?this.fire(new a.ErrorEvent(A)):F&&this._updateDiff(F,d)})}else typeof x=="object"&&this._updateDiff(x,d)}_updateDiff(x,d){try{this.style.setState(x)&&this._update(!0)}catch(m){a.warnOnce(`Unable to perform style diff: ${m.message||m.error||m}.  Rebuilding the style from scratch.`),this._updateStyle(x,d)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(a.warnOnce("There is no style added to the map."),!1)}addSource(x,d){return this._lazyInitEmptyStyle(),this.style.addSource(x,d),this._update(!0)}isSourceLoaded(x){return!!this.style&&this.style._isSourceCacheLoaded(x)}areTilesLoaded(){const x=this.style&&this.style._sourceCaches;for(const d in x){const m=x[d]._tiles;for(const C in m){const A=m[C];if(A.state!=="loaded"&&A.state!=="errored")return!1}}return!0}addSourceType(x,d,m){this._lazyInitEmptyStyle(),this.style.addSourceType(x,d,m)}removeSource(x){return this.style.removeSource(x),this._updateTerrain(),this._update(!0)}getSource(x){return this.style.getSource(x)}addImage(x,d,{pixelRatio:m=1,sdf:C=!1,stretchX:A,stretchY:F,content:U}={}){if(this._lazyInitEmptyStyle(),d instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&d instanceof a.window.ImageBitmap){const{width:K,height:ee,data:ue}=a.exported.getImageData(d);this.style.addImage(x,{data:new a.RGBAImage({width:K,height:ee},ue),pixelRatio:m,stretchX:A,stretchY:F,content:U,sdf:C,version:0})}else if(d.width===void 0||d.height===void 0)this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:K,height:ee}=d,ue=d;this.style.addImage(x,{data:new a.RGBAImage({width:K,height:ee},new Uint8Array(ue.data)),pixelRatio:m,stretchX:A,stretchY:F,content:U,sdf:C,version:0,userImage:ue}),ue.onAdd&&ue.onAdd(this,x)}}updateImage(x,d){const m=this.style.getImage(x);if(!m)return void this.fire(new a.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const C=d instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&d instanceof a.window.ImageBitmap?a.exported.getImageData(d):d,{width:A,height:F}=C;A!==void 0&&F!==void 0?A===m.data.width&&F===m.data.height?(m.data.replace(C.data,!(d instanceof a.window.HTMLImageElement||a.window.ImageBitmap&&d instanceof a.window.ImageBitmap)),this.style.updateImage(x,m)):this.fire(new a.ErrorEvent(new Error(`The width and height of the updated image (${A}, ${F})
                must be that same as the previous version of the image
                (${m.data.width}, ${m.data.height})`))):this.fire(new a.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(x){return x?!!this.style.getImage(x):(this.fire(new a.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(x){this.style.removeImage(x)}loadImage(x,d){a.getImage(this._requestManager.transformRequest(x,a.ResourceType.Image),(m,C)=>{d(m,C instanceof a.window.HTMLImageElement?a.exported.getImageData(C):C)})}listImages(){return this.style.listImages()}addLayer(x,d){return this._lazyInitEmptyStyle(),this.style.addLayer(x,d),this._update(!0)}moveLayer(x,d){return this.style.moveLayer(x,d),this._update(!0)}removeLayer(x){return this.style.removeLayer(x),this._update(!0)}getLayer(x){return this.style.getLayer(x)}setLayerZoomRange(x,d,m){return this.style.setLayerZoomRange(x,d,m),this._update(!0)}setFilter(x,d,m={}){return this.style.setFilter(x,d,m),this._update(!0)}getFilter(x){return this.style.getFilter(x)}setPaintProperty(x,d,m,C={}){return this.style.setPaintProperty(x,d,m,C),this._update(!0)}getPaintProperty(x,d){return this.style.getPaintProperty(x,d)}setLayoutProperty(x,d,m,C={}){return this.style.setLayoutProperty(x,d,m,C),this._update(!0)}getLayoutProperty(x,d){return this.style.getLayoutProperty(x,d)}setLight(x,d={}){return this._lazyInitEmptyStyle(),this.style.setLight(x,d),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(x){return this._lazyInitEmptyStyle(),!x&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(x),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(x){return this._lazyInitEmptyStyle(),this.style.setFog(x),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(x){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(a.LngLat.convert(x),this.transform):0}setFeatureState(x,d){return this.style.setFeatureState(x,d),this._update()}removeFeatureState(x,d){return this.style.removeFeatureState(x,d),this._update()}getFeatureState(x){return this.style.getFeatureState(x)}_updateContainerDimensions(){if(!this._container)return;const x=this._container.getBoundingClientRect().width||400,d=this._container.getBoundingClientRect().height||300;let m,C,A,F=this._container;for(;F&&(!C||!A);){const U=a.window.getComputedStyle(F).transform;U&&U!=="none"&&(m=U.match(/matrix.*\((.+)\)/)[1].split(", "),m[0]&&m[0]!=="0"&&m[0]!=="1"&&(C=m[0]),m[3]&&m[3]!=="0"&&m[3]!=="1"&&(A=m[3])),F=F.parentElement}this._containerWidth=C?Math.abs(x/C):x,this._containerHeight=A?Math.abs(d/A):d}_detectMissingCSS(){a.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&a.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const x=this._container;x.classList.add("mapboxgl-map"),(this._missingCSSCanary=_("div","mapboxgl-canary",x)).style.visibility="hidden",this._detectMissingCSS();const d=this._canvasContainer=_("div","mapboxgl-canvas-container",x);this._interactive&&d.classList.add("mapboxgl-interactive"),this._canvas=_("canvas","mapboxgl-canvas",d),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const m=this._controlContainer=_("div","mapboxgl-control-container",x),C=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(A=>{C[A]=_("div",`mapboxgl-ctrl-${A}`,m)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(x,d){const m=a.exported.devicePixelRatio||1;this._canvas.width=m*Math.ceil(x),this._canvas.height=m*Math.ceil(d),this._canvas.style.width=`${x}px`,this._canvas.style.height=`${d}px`}_addMarker(x){this._markers.push(x)}_removeMarker(x){const d=this._markers.indexOf(x);d!==-1&&this._markers.splice(d,1)}_addPopup(x){this._popups.push(x)}_removePopup(x){const d=this._popups.indexOf(x);d!==-1&&this._popups.splice(d,1)}_setupPainter(){const x=a.extend({},p.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),d=this._useWebGL2&&this._canvas.getContext("webgl2",x),m=d||this._canvas.getContext("webgl",x)||this._canvas.getContext("experimental-webgl",x);m?(this._useWebGL2&&!d&&a.warnOnce("Failed to create WebGL 2 context. Using WebGL 1."),a.storeAuthState(m,!0),this.painter=new Ac(m,this.transform,!!d),this.on("data",C=>{C.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),a.exported$1.testSupport(m)):this.fire(new a.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(x){x.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new a.Event("webglcontextlost",{originalEvent:x}))}_contextRestored(x){this._setupPainter(),this.resize(),this._update(),this.fire(new a.Event("webglcontextrestored",{originalEvent:x}))}_onMapScroll(x){if(x.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(x){return this.style?(this._styleDirty=this._styleDirty||x,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(x){return this._update(),this._renderTaskQueue.add(x)}_cancelRenderFrame(x){this._renderTaskQueue.remove(x)}_requestDomTask(x){!this.loaded()||this.loaded()&&!this.isMoving()?x():this._domRenderTaskQueue.add(x)}_render(x){let d;const m=this.painter.context.extTimerQuery,C=a.exported.now();if(this.listens("gpu-timing-frame")&&(d=m.createQueryEXT(),m.beginQueryEXT(m.TIME_ELAPSED_EXT,d)),this.painter.context.setDirty(),this.painter.setBaseState(),(this.isMoving()||this.isRotating()||this.isZooming())&&(this._interactionRange[0]=Math.min(this._interactionRange[0],a.window.performance.now()),this._interactionRange[1]=Math.max(this._interactionRange[1],a.window.performance.now())),this._renderTaskQueue.run(x),this._domRenderTaskQueue.run(x),this._removed)return;this._updateProjectionTransition();const A=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const K=this.transform.zoom,ee=this.transform.pitch,ue=a.exported.now(),se=new a.EvaluationParameters(K,{now:ue,fadeDuration:A,pitch:ee,transition:this.style.getTransition()});this.style.update(se)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let F=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),F=this._updateAverageElevation(C),this.style._updateSources(this.transform),this._forceMarkerAndPopupUpdate()):F=this._updateAverageElevation(C),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,A,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,showTileAABBs:this.showTileAABBs,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:A,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),gpuTimingDeferredRender:!!this.listens("gpu-timing-deferred-render"),speedIndexTiming:this.speedIndexTiming}),this.fire(new a.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new a.Event("load"))),this.style&&this.style.hasTransitions()&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),d){const K=a.exported.now()-C;m.endQueryEXT(m.TIME_ELAPSED_EXT,d),setTimeout(()=>{const ee=m.getQueryObjectEXT(d,m.QUERY_RESULT_EXT)/1e6;m.deleteQueryEXT(d),this.fire(new a.Event("gpu-timing-frame",{cpuTime:K,gpuTime:ee})),a.window.performance.mark("frame-gpu",{startTime:C,detail:{gpuTime:ee}})},50)}if(this.listens("gpu-timing-layer")){const K=this.painter.collectGpuTimers();setTimeout(()=>{const ee=this.painter.queryGpuTimers(K);this.fire(new a.Event("gpu-timing-layer",{layerTimes:ee}))},50)}if(this.listens("gpu-timing-deferred-render")){const K=this.painter.collectDeferredRenderGpuQueries();setTimeout(()=>{const ee=this.painter.queryGpuTimeDeferredRender(K);this.fire(new a.Event("gpu-timing-deferred-render",{gpuTime:ee}))},50)}const U=this._sourcesDirty||this._styleDirty||this._placementDirty||F;if(U||this._repaint)this.triggerRepaint();else{const K=!this.isMoving()&&this.loaded();if(K&&(F=this._updateAverageElevation(C,!0)),F)this.triggerRepaint();else if(this._triggerFrame(!1),K&&(this.fire(new a.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const ee=this._calculateSpeedIndex();this.fire(new a.Event("speedindexcompleted",{speedIndex:ee})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||U||(this._fullyLoaded=!0,a.LivePerformanceUtils.mark(a.PerformanceMarkers.fullLoad),this._performanceMetricsCollection&&a.postPerformanceEvent(this._requestManager._customAccessToken,{width:this.painter.width,height:this.painter.height,interactionRange:this._interactionRange,visibilityHidden:this._visibilityHidden,terrainEnabled:!!this.painter.style.getTerrain(),fogEnabled:!!this.painter.style.getFog(),projection:this.getProjection().name,zoom:this.transform.zoom,renderer:this.painter.context.renderer,vendor:this.painter.context.vendor}),this._authenticate())}_forceMarkerAndPopupUpdate(x){for(const d of this._markers)x&&!this.getRenderWorldCopies()&&(d._lngLat=d._lngLat.wrap()),d._update();for(const d of this._popups)!x||this.getRenderWorldCopies()||d._trackPointer||(d._lngLat=d._lngLat.wrap()),d._update()}_updateAverageElevation(x,d=!1){const m=C=>(this.transform.averageElevation=C,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&m(0);if((d||x-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(x)){const C=this.transform.averageElevation;let A=this.transform.sampleAverageElevation(),F=!1;this.transform.elevation&&(F=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(A)?A=0:this._averageElevationLastSampledAt=x;const U=Math.abs(C-A);if(U>1){if(this._isInitialLoad||F)return this._averageElevation.jumpTo(A),m(A);this._averageElevation.easeTo(A,x,300)}else if(U>1e-4)return this._averageElevation.jumpTo(A),m(A)}return!!this._averageElevation.isEasing(x)&&m(this._averageElevation.getValue(x))}_authenticate(){a.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,x=>{if(x&&(x.message===a.AUTH_ERR_MSG||x.status===401)){const d=this.painter.context.gl;a.storeAuthState(d,!1),this._logoControl instanceof wm&&this._logoControl._updateLogo(),d&&d.clear(d.DEPTH_BUFFER_BIT|d.COLOR_BUFFER_BIT|d.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new a.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),a.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){const x=this._isDragging();this.painter.updateTerrain(this.style,x)}_calculateSpeedIndex(){const x=this.painter.canvasCopy(),d=this.painter.getCanvasCopiesAndTimestamps();d.timeStamps.push(performance.now());const m=this.painter.context.gl,C=m.createFramebuffer();function A(F){m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,F,0);const U=new Uint8Array(m.drawingBufferWidth*m.drawingBufferHeight*4);return m.readPixels(0,0,m.drawingBufferWidth,m.drawingBufferHeight,m.RGBA,m.UNSIGNED_BYTE,U),U}return m.bindFramebuffer(m.FRAMEBUFFER,C),this._canvasPixelComparison(A(x),d.canvasCopies.map(A),d.timeStamps)}_canvasPixelComparison(x,d,m){let C=m[1]-m[0];const A=x.length/4;for(let F=0;F<d.length;F++){const U=d[F];let K=0;for(let ee=0;ee<U.length;ee+=4)U[ee]===x[ee]&&U[ee+1]===x[ee+1]&&U[ee+2]===x[ee+2]&&U[ee+3]===x[ee+3]&&(K+=1);C+=(m[F+2]-m[F+1])*(1-K/A)}return C}remove(){this._hash&&this._hash.remove();for(const d of this._controls)d.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),a.window!==void 0&&(a.window.removeEventListener("resize",this._onWindowResize,!1),a.window.removeEventListener("orientationchange",this._onWindowResize,!1),a.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),a.window.removeEventListener("online",this._onWindowOnline,!1),a.window.removeEventListener("visibilitychange",this._onVisibilityChange,!1));const x=this.painter.context.gl.getExtension("WEBGL_lose_context");x&&x.loseContext(),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvasContainer.remove(),this._controlContainer.remove(),this._missingCSSCanary.remove(),this._canvas=void 0,this._canvasContainer=void 0,this._controlContainer=void 0,this._missingCSSCanary=void 0,this._container.classList.remove("mapboxgl-map"),this._container.removeEventListener("scroll",this._onMapScroll,!1),a.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new a.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(x){this._renderNextFrame=this._renderNextFrame||x,this.style&&!this._frame&&(this._frame=a.exported.frame(d=>{const m=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,m&&this._render(d)}))}_preloadTiles(x){const d=this.style?Object.values(this.style._sourceCaches):[];return a.asyncAll(d,(m,C)=>m._preloadTiles(x,C),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(x){this._trackResize&&this.resize({originalEvent:x})._update()}_onVisibilityChange(){a.window.document.visibilityState==="hidden"&&this._visibilityHidden++}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(x){this._showTileBoundaries!==x&&(this._showTileBoundaries=x,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(x){this._showTerrainWireframe!==x&&(this._showTerrainWireframe=x,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(x){this._speedIndexTiming!==x&&(this._speedIndexTiming=x,this._update())}get showPadding(){return!!this._showPadding}set showPadding(x){this._showPadding!==x&&(this._showPadding=x,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(x){this._showCollisionBoxes!==x&&(this._showCollisionBoxes=x,x?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(x){this._showOverdrawInspector!==x&&(this._showOverdrawInspector=x,this._update())}get repaint(){return!!this._repaint}set repaint(x){this._repaint!==x&&(this._repaint=x,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(x){this._vertices=x,this._update()}get showTileAABBs(){return!!this._showTileAABBs}set showTileAABBs(x){this._showTileAABBs!==x&&(this._showTileAABBs=x,x&&this._update())}_setCacheLimits(x,d){a.setCacheLimits(x,d)}get version(){return a.version}},NavigationControl:class{constructor(x){this.options=a.extend({},Bw,x),this._container=_("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",d=>d.preventDefault()),this.options.showZoom&&(a.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",d=>{this._map&&this._map.zoomIn({},{originalEvent:d})}),_("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",d=>{this._map&&this._map.zoomOut({},{originalEvent:d})}),_("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(a.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",d=>{const m=this._map;m&&(this.options.visualizePitch?m.resetNorthPitch({},{originalEvent:d}):m.resetNorth({},{originalEvent:d}))}),this._compassIcon=_("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const x=this._map;if(!x)return;const d=x.getZoom(),m=d===x.getMaxZoom(),C=d===x.getMinZoom();this._zoomInButton.disabled=m,this._zoomOutButton.disabled=C,this._zoomInButton.setAttribute("aria-disabled",m.toString()),this._zoomOutButton.setAttribute("aria-disabled",C.toString())}_rotateCompassArrow(){const x=this._map;if(!x)return;const d=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(x.transform.pitch*(Math.PI/180)),.5)}) rotateX(${x.transform.pitch}deg) rotateZ(${x.transform.angle*(180/Math.PI)}deg)`:`rotate(${x.transform.angle*(180/Math.PI)}deg)`;x._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=d)})}onAdd(x){return this._map=x,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),x.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&x.on("pitch",this._rotateCompassArrow),x.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new zw(x,this._compass,this.options.visualizePitch)),this._container}onRemove(){const x=this._map;x&&(this._container.remove(),this.options.showZoom&&x.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&x.off("pitch",this._rotateCompassArrow),x.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(x,d){const m=_("button",x,this._container);return m.type="button",m.addEventListener("click",d),m}_setButtonTitle(x,d){if(!this._map)return;const m=this._map._getUIString(`NavigationControl.${d}`);x.setAttribute("aria-label",m),x.firstElementChild&&x.firstElementChild.setAttribute("title",m)}},GeolocateControl:class extends a.Evented{constructor(x){super(),this.options=a.extend({geolocation:a.window.navigator.geolocation},Em,x),a.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Dc(this._updateMarkerRotation,20),this._numberOfWatches=0}onAdd(x){return this._map=x,this._container=_("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkGeolocationSupport(this._setupUI),this._container}onRemove(){this._geolocationWatchID!==void 0&&(this.options.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,this._numberOfWatches=0,this._noTimeout=!1}_checkGeolocationSupport(x){const d=(m=!!this.options.geolocation)=>{this._supportsGeolocation=m,x(m)};this._supportsGeolocation!==void 0?x(this._supportsGeolocation):a.window.navigator.permissions!==void 0?a.window.navigator.permissions.query({name:"geolocation"}).then(m=>d(m.state!=="denied")).catch(()=>d()):d()}_isOutOfMapMaxBounds(x){const d=this._map.getMaxBounds(),m=x.coords;return!!d&&(m.longitude<d.getWest()||m.longitude>d.getEast()||m.latitude<d.getSouth()||m.latitude>d.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(x){if(this._map){if(this._isOutOfMapMaxBounds(x))return this._setErrorState(),this.fire(new a.Event("outofmaxbounds",x)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=x,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(x),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(x),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("geolocate",x)),this._finish()}}_updateCamera(x){const d=new a.LngLat(x.coords.longitude,x.coords.latitude),m=x.coords.accuracy,C=this._map.getBearing(),A=a.extend({bearing:C},this.options.fitBoundsOptions);this._map.fitBounds(d.toBounds(m),A,{geolocateSource:!0})}_updateMarker(x){if(x){const d=new a.LngLat(x.coords.longitude,x.coords.latitude);this._accuracyCircleMarker.setLngLat(d).addTo(this._map),this._userLocationDotMarker.setLngLat(d).addTo(this._map),this._accuracy=x.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const x=this._map.transform,d=a.mercatorZfromAltitude(1,x._center.lat)*x.worldSize,m=Math.ceil(2*this._accuracy*d);this._circleElement.style.width=`${m}px`,this._circleElement.style.height=`${m}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(x){if(this._map){if(this.options.trackUserLocation)if(x.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(x.code===3&&this._noTimeout)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new a.Event("error",x)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(x){if(this._map!==void 0){if(this._container.addEventListener("contextmenu",d=>d.preventDefault()),this._geolocateButton=_("button","mapboxgl-ctrl-geolocate",this._container),_("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",x===!1){a.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const d=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}else{const d=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",d),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",d)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=_("div","mapboxgl-user-location"),this._dotElement.appendChild(_("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(_("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new yn({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=_("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new yn({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",d=>{d.geolocateSource||this._watchState!=="ACTIVE_LOCK"||d.originalEvent&&d.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new a.Event("trackuserlocationend")))})}}_onDeviceOrientation(x){this._userLocationDotMarker&&(x.webkitCompassHeading?this._heading=x.webkitCompassHeading:x.absolute===!0&&(this._heading=-1*x.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return a.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new a.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":this._numberOfWatches--,this._noTimeout=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new a.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new a.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let x;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),this._numberOfWatches++,this._numberOfWatches>1?(x={maximumAge:6e5,timeout:0},this._noTimeout=!0):(x=this.options.positionOptions,this._noTimeout=!1),this._geolocationWatchID=this.options.geolocation.watchPosition(this._onSuccess,this._onError,x),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else this.options.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const x=()=>{a.window.addEventListener("ondeviceorientationabsolute"in a.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};a.window.DeviceMotionEvent!==void 0&&typeof a.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(d=>{d==="granted"&&x()}).catch(console.error):x()}_clearWatch(){this.options.geolocation.clearWatch(this._geolocationWatchID),a.window.removeEventListener("deviceorientation",this._onDeviceOrientation),a.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:bn,ScaleControl:class{constructor(x){this.options=a.extend({},Pm,x),this._isNumberFormatSupported=function(){try{return new Intl.NumberFormat("en",{style:"unit",unitDisplay:"short",unit:"meter"}),!0}catch{return!1}}(),a.bindAll(["_update","_setScale","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_update(){const x=this.options.maxWidth||100,d=this._map,m=d._containerHeight/2,C=d._containerWidth/2-x/2,A=d.unproject([C,m]),F=d.unproject([C+x,m]),U=A.distanceTo(F);if(this.options.unit==="imperial"){const K=3.2808*U;K>5280?this._setScale(x,K/5280,"mile"):this._setScale(x,K,"foot")}else this.options.unit==="nautical"?this._setScale(x,U/1852,"nautical-mile"):U>=1e3?this._setScale(x,U/1e3,"kilometer"):this._setScale(x,U,"meter")}_setScale(x,d,m){this._map._requestDomTask(()=>{const C=function(F){const U=Math.pow(10,`${Math.floor(F)}`.length-1);let K=F/U;return K=K>=10?10:K>=5?5:K>=3?3:K>=2?2:K>=1?1:function(ee){const ue=Math.pow(10,Math.ceil(-Math.log(ee)/Math.LN10));return Math.round(ee*ue)/ue}(K),U*K}(d),A=C/d;this._container.innerHTML=this._isNumberFormatSupported&&m!=="nautical-mile"?new Intl.NumberFormat(this._language,{style:"unit",unitDisplay:"short",unit:m}).format(C):`${C}&nbsp;${Mm[m]}`,this._container.style.width=x*A+"px"})}onAdd(x){return this._map=x,this._language=x.getLanguage(),this._container=_("div","mapboxgl-ctrl mapboxgl-ctrl-scale",x.getContainer()),this._container.dir="auto",this._map.on("move",this._update),this._update(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._update),this._map=void 0}_setLanguage(x){this._language=x,this._update()}setUnit(x){this.options.unit=x,this._update()}},FullscreenControl:class{constructor(x){this._fullscreen=!1,x&&x.container&&(x.container instanceof a.window.HTMLElement?this._container=x.container:a.warnOnce("Full screen control 'container' must be a DOM element.")),a.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in a.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in a.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(x){return this._map=x,this._container||(this._container=this._map.getContainer()),this._controlContainer=_("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",a.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,a.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!a.window.document.fullscreenEnabled&&!a.window.document.webkitFullscreenEnabled)}_setupUI(){const x=this._fullscreenButton=_("button","mapboxgl-ctrl-fullscreen",this._controlContainer);_("span","mapboxgl-ctrl-icon",x).setAttribute("aria-hidden","true"),x.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),a.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const x=this._getTitle();this._fullscreenButton.setAttribute("aria-label",x),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",x)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(a.window.document.fullscreenElement||a.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?a.window.document.exitFullscreen?a.window.document.exitFullscreen():a.window.document.webkitCancelFullScreen&&a.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends a.Evented{constructor(x){super(),this.options=a.extend(Object.create(Sm),x),a.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(x&&x.className?x.className.trim().split(/\s+/):[])}addTo(x){return this._map&&this.remove(),this._map=x,this.options.closeOnClick&&x.on("preclick",this._onClose),this.options.closeOnMove&&x.on("move",this._onClose),x.on("remove",this.remove),this._update(),x._addPopup(this),this._focusFirstElement(),this._trackPointer?(x.on("mousemove",this._onMouseEvent),x.on("mouseup",this._onMouseEvent),x._canvasContainer.classList.add("mapboxgl-track-pointer")):x.on("move",this._update),this.fire(new a.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const x=this._map;return x&&(x.off("move",this._update),x.off("move",this._onClose),x.off("preclick",this._onClose),x.off("click",this._onClose),x.off("remove",this.remove),x.off("mousemove",this._onMouseEvent),x.off("mouseup",this._onMouseEvent),x.off("drag",this._onMouseEvent),x._canvasContainer&&x._canvasContainer.classList.remove("mapboxgl-track-pointer"),x._removePopup(this),this._map=void 0),this.fire(new a.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(x){this._lngLat=a.LngLat.convert(x),this._pos=null,this._trackPointer=!1,this._update();const d=this._map;return d&&(d.on("move",this._update),d.off("mousemove",this._onMouseEvent),d._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const x=this._map;return x&&(x.off("move",this._update),x.on("mousemove",this._onMouseEvent),x.on("drag",this._onMouseEvent),x._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(x){return this.setDOMContent(a.window.document.createTextNode(x))}setHTML(x){const d=a.window.document.createDocumentFragment(),m=a.window.document.createElement("body");let C;for(m.innerHTML=x;C=m.firstChild,C;)d.appendChild(C);return this.setDOMContent(d)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(x){return this.options.maxWidth=x,this._update(),this}setDOMContent(x){let d=this._content;if(d)for(;d.hasChildNodes();)d.firstChild&&d.removeChild(d.firstChild);else d=this._content=_("div","mapboxgl-popup-content",this._container||void 0);if(d.appendChild(x),this.options.closeButton){const m=this._closeButton=_("button","mapboxgl-popup-close-button",d);m.type="button",m.setAttribute("aria-label","Close popup"),m.setAttribute("aria-hidden","true"),m.innerHTML="&#215;",m.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(x){return this._classList.add(x),this._updateClassList(),this}removeClassName(x){return this._classList.delete(x),this._updateClassList(),this}setOffset(x){return this.options.offset=x,this._update(),this}toggleClassName(x){let d;return this._classList.delete(x)?d=!1:(this._classList.add(x),d=!0),this._updateClassList(),d}_onMouseEvent(x){this._update(x.point)}_getAnchor(x){if(this.options.anchor)return this.options.anchor;const d=this._map,m=this._container,C=this._pos;if(!d||!m||!C)return"bottom";const A=m.offsetWidth,F=m.offsetHeight,U=C.x<A/2,K=C.x>d.transform.width-A/2;if(C.y+x<F)return U?"top-left":K?"top-right":"top";if(C.y>d.transform.height-F){if(U)return"bottom-left";if(K)return"bottom-right"}return U?"left":K?"right":"bottom"}_updateClassList(){const x=this._container;if(!x)return;const d=[...this._classList];d.push("mapboxgl-popup"),this._anchor&&d.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&d.push("mapboxgl-popup-track-pointer"),x.className=d.join(" ")}_update(x){const d=this._map,m=this._content;if(!d||!this._lngLat&&!this._trackPointer||!m)return;let C=this._container;if(C||(C=this._container=_("div","mapboxgl-popup",d.getContainer()),this._tip=_("div","mapboxgl-popup-tip",C),C.appendChild(m)),this.options.maxWidth&&C.style.maxWidth!==this.options.maxWidth&&(C.style.maxWidth=this.options.maxWidth),d.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Fc(this._lngLat,this._pos,d.transform)),!this._trackPointer||x){const A=this._pos=this._trackPointer&&x?x:d.project(this._lngLat),F=ny(this.options.offset),U=this._anchor=this._getAnchor(F.y),K=ny(this.options.offset,U),ee=A.add(K).round();d._requestDomTask(()=>{this._container&&U&&(this._container.style.transform=`${Pu[U]} translate(${ee.x}px,${ee.y}px)`)})}if(!this._marker&&d._showingGlobe()){const A=a.isLngLatBehindGlobe(d.transform,this._lngLat)?0:1;this._setOpacity(A)}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const x=this._container.querySelector(Nw);x&&x.focus()}_onClose(){this.remove()}_setOpacity(x){this._container&&(this._container.style.opacity=`${x}`),this._content&&(this._content.style.pointerEvents=x?"auto":"none")}},Marker:yn,Style:No,LngLat:a.LngLat,LngLatBounds:a.LngLatBounds,Point:a.Point,MercatorCoordinate:a.MercatorCoordinate,FreeCameraOptions:j0,Evented:a.Evented,config:a.config,prewarm:function(){da().acquire(Si)},clearPrewarmedResources:function(){const x=Yr;x&&(x.isPreloaded()&&x.numActive()===1?(x.release(Si),Yr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return a.config.ACCESS_TOKEN},set accessToken(x){a.config.ACCESS_TOKEN=x},get baseApiUrl(){return a.config.API_URL},set baseApiUrl(x){a.config.API_URL=x},get workerCount(){return hr.workerCount},set workerCount(x){hr.workerCount=x},get maxParallelImageRequests(){return a.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(x){a.config.MAX_PARALLEL_IMAGE_REQUESTS=x},clearStorage(x){a.clearTileCache(x)},workerUrl:"",workerClass:null,setNow:a.exported.setNow,restoreNow:a.exported.restoreNow};return Nc});var l=i;return l})})(LN);var Une=LN.exports;const e_=Ml(Une),Hne=[{type:"Feature",properties:{2010:16226.9,2011:19942.5,2012:22590.9,2013:25378,2014:28242.1,2015:30344,2016:33353,2017:37235,2018:42022,2019:45429,2020:43443.5,NAME_1:"Hubei",NL_NAME_1:""},geometry:{coordinates:[[[109.228599,29.122455],[108.866439,29.449811],[108.868133,29.639493],[108.516532,29.870521],[108.569381,30.253854],[108.403938,30.377985],[108.68711,30.589031],[109.446746,30.617092],[109.893661,30.891635],[110.075706,30.804096],[110.190429,31.1506],[110.138221,31.395578],[109.576606,31.733167],[109.616821,32.109122],[109.490417,32.302585],[109.62696,32.602415],[110.023063,32.550528],[110.136909,32.804752],[109.758918,32.909706],[109.840263,33.248893],[110.213142,33.165019],[110.805709,33.148437],[110.977661,33.259673],[111.232398,33.042701],[111.571899,32.595813],[111.715263,32.60651],[112.151359,32.385261],[113.216056,32.424839],[113.417198,32.275146],[113.6604,32.421481],[113.841636,31.849065],[113.980438,31.756736],[114.580329,31.756343],[114.540588,31.616878],[114.830032,31.462205],[115.229965,31.553312],[115.364372,31.405038],[115.557411,31.1597],[115.875022,31.144224],[116.001167,30.949516],[115.760955,30.674276],[116.059059,30.209255],[116.129623,29.82485],[115.877624,29.735132],[115.505165,29.841829],[114.513412,29.327091],[114.287841,29.366165],[113.940132,29.04828],[113.599609,29.255363],[113.731742,29.578884],[113.437156,29.763933],[113.143463,29.448657],[112.678169,29.596908],[112.362373,29.539342],[111.784896,29.911354],[111.38594,29.918916],[111.230049,30.045486],[110.820266,30.128004],[110.522758,30.062427],[110.633216,29.763694],[110.374862,29.640249],[110.108451,29.792104],[109.518318,29.623172],[109.228599,29.122455]]],type:"Polygon"},id:"2050b9208972766f532413a2dbe662b7"},{type:"Feature",properties:{2010:2020.5,2011:2463.8,2012:2789.4,2013:3115.9,2014:3449,2015:3734.2,2016:4090.2,2017:4497.5,2018:4910.7,2019:5330.8,2020:5532.4,NAME_1:"Hainan",NL_NAME_1:""},geometry:{coordinates:[[[109.728195,18.314306],[109.155151,18.29375],[108.686248,18.506811],[108.634582,19.29153],[109.181251,19.65347],[109.258186,19.864032],[109.576812,19.97764],[109.989295,19.93375],[110.574859,20.09542],[110.939025,20.004301],[110.982635,19.643194],[110.671249,19.382083],[110.513191,18.969863],[110.531517,18.79458],[110.098472,18.525421],[110.050697,18.38681],[109.728195,18.314306]]],type:"Polygon"},id:"233da2d3992fc4288131977c2f9c165c"},{type:"Feature",properties:{2010:41383.9,2011:48839.2,2012:53701.9,2013:59349.4,2014:64830.5,2015:71255.9,2016:77350.9,2017:85869.8,2018:93207.6,2019:98656.8,2020:102719,NAME_1:"Jiangsu",NL_NAME_1:"|"},geometry:{coordinates:[[[119.63211,31.139343],[119.159317,31.300914],[118.786819,31.232364],[118.859611,31.62433],[118.488136,31.785787],[118.364097,31.937202],[118.656951,32.220146],[118.716781,32.610861],[119.129013,32.493426],[119.178001,32.832832],[118.845214,32.959547],[118.706916,32.721514],[118.36602,32.721145],[118.240676,32.849849],[118.208374,33.193461],[117.966392,33.283026],[118.161636,33.713794],[117.725799,33.728981],[117.752937,33.887058],[117.50904,34.062248],[117.18663,34.070178],[116.823043,34.39001],[116.368606,34.640869],[116.459693,34.898509],[116.961479,34.876541],[117.167686,34.482429],[117.556503,34.467174],[117.965431,34.67564],[118.162666,34.39336],[118.39965,34.438041],[118.460823,34.677833],[118.71508,34.760875],[118.920562,35.061733],[119.284378,35.089862],[119.171806,34.85736],[119.782081,34.46986],[120.26403,34.309028],[120.895973,33.004309],[120.855972,32.765419],[120.985137,32.553749],[121.39347,32.377639],[121.391807,32.180968],[121.850418,31.915702],[121.662361,31.727359],[121.329032,31.878749],[121.096801,31.78347],[121.325973,31.505416],[121.207252,31.474849],[120.895118,31.011978],[120.507064,30.767185],[120.361671,30.951988],[120.150825,30.936313],[119.90895,31.175247],[119.63211,31.139343]]],type:"Polygon"},id:"285dd1d4f1706ee393e31f124667134e"},{type:"Feature",properties:{2010:14964,2011:17188.8,2012:19024.7,2013:21134.6,2014:22926,2015:24779.1,2016:27041.2,2017:29883,2018:33106,2019:35445.1,2020:36102.6,NAME_1:"Beijing",NL_NAME_1:"|"},geometry:{coordinates:[[[117.379737,40.226871],[117.193984,40.082782],[116.834869,40.043586],[116.894294,39.696308],[116.799385,39.610008],[116.344795,39.448543],[116.134758,39.564998],[115.681663,39.599796],[115.440818,40.026233],[115.955131,40.261817],[115.729225,40.501873],[116.108749,40.622406],[116.450973,40.978912],[116.666885,40.976711],[117.195091,40.496902],[117.379737,40.226871]]],type:"Polygon"},id:"2fe0b97ef2a6e52aa72755af32a37505"},{type:"Feature",properties:{2010:15574.3,2011:18915,2012:21207.2,2013:23545.2,2014:25881.3,2015:28538.6,2016:30853.5,2017:33828.1,2018:36329.7,2019:39894.1,2020:41781.5,NAME_1:"Hunan",NL_NAME_1:""},geometry:{coordinates:[[[112.015914,24.739961],[111.474075,24.800382],[111.431228,25.101142],[111.091987,25.281908],[111.28569,25.436988],[111.2154,25.897918],[111.257164,26.212007],[110.987594,26.333953],[110.607795,26.337228],[110.330612,25.995586],[109.821472,25.914623],[109.478019,26.032773],[109.350311,26.696563],[109.550529,26.950481],[109.389274,27.165655],[108.900321,27.217134],[109.454132,27.58015],[109.299346,28.076446],[109.377861,28.266525],[109.270202,28.503477],[109.228599,29.122455],[109.518318,29.623172],[110.108451,29.792104],[110.374862,29.640249],[110.633216,29.763694],[110.522758,30.062427],[110.820266,30.128004],[111.230049,30.045486],[111.38594,29.918916],[111.784896,29.911354],[112.362373,29.539342],[112.678169,29.596908],[113.143463,29.448657],[113.437156,29.763933],[113.731742,29.578884],[113.599609,29.255363],[113.940132,29.04828],[114.145553,28.820493],[114.117591,28.598354],[114.249229,28.332538],[113.60186,27.628822],[113.611289,27.348873],[113.916236,26.962131],[113.901412,26.621789],[114.116973,26.592796],[113.965072,26.243938],[114.025711,25.926094],[113.910438,25.729339],[113.959213,25.457321],[113.583992,25.323074],[113.154136,25.487932],[112.962799,25.160791],[113.000854,24.930334],[112.773948,24.896972],[112.654006,25.128871],[112.178192,25.177278],[112.164093,24.911376],[112.015914,24.739961]]],type:"Polygon"},id:"3ca3afff2137a3a12239b432ecc10b4e"},{type:"Feature",properties:{2010:8308.3,2011:9935,2012:11015.8,2013:11849.1,2014:12170.8,2015:11690,2016:11895,2017:12313,2018:12846.5,2019:13544.4,2020:13698.5,NAME_1:"Heilongjiang",NL_NAME_1:"|"},geometry:{coordinates:[[[123.171043,46.246681],[123.003723,46.573722],[123.588897,46.686656],[123.624473,46.803615],[122.889007,46.815731],[122.841964,47.052825],[122.387916,47.344146],[122.549217,47.52074],[123.574218,48.041721],[124.0718,48.429424],[124.570755,48.257568],[124.512802,48.548328],[124.882324,49.177158],[125.266159,49.358547],[125.193122,49.736938],[125.271926,50.12553],[125.819137,50.546844],[125.788726,50.735584],[126.064071,50.959114],[125.343536,51.622177],[125.127304,51.632411],[124.857208,51.378189],[123.635208,51.318492],[123.282829,51.249446],[122.966987,51.333583],[122.742736,51.742351],[122.579116,52.265209],[122.126373,52.474529],[121.706871,52.316814],[121.19284,52.60234],[121.809165,53.064105],[121.69239,53.388511],[122.833541,53.452903],[123.257019,53.560859],[123.844421,53.488719],[124.375488,53.246181],[124.833045,53.13269],[125.188209,53.191589],[125.579658,53.08073],[126.343681,52.39595],[126.549957,52.130168],[126.469207,51.93531],[126.979866,51.307769],[126.922851,51.057998],[127.359352,50.583278],[127.571479,50.242759],[127.515129,49.83464],[127.802421,49.591247],[128.260894,49.49995],[128.70825,49.56372],[129.118133,49.348709],[129.520964,49.411891],[129.906417,49.053997],[130.257476,48.861846],[130.825531,48.30009],[130.652053,48.10934],[130.954193,47.720272],[131.803726,47.669712],[132.504821,47.71125],[132.691482,47.953609],[133.160293,48.105701],[133.468154,48.0676],[134.057693,48.335384],[134.575408,48.363216],[134.550552,48.024398],[134.77156,47.753459],[134.49353,47.443809],[134.149093,47.25951],[134.014709,46.654361],[133.85086,46.460681],[133.47612,45.654418],[133.215194,45.509113],[133.135559,45.127109],[132.851974,45.05569],[132.560577,44.555042],[132.111618,44.740684],[132.183593,44.956851],[132.058593,45.235588],[131.826782,45.308731],[131.469848,44.95948],[131.137954,44.937042],[131.102661,44.691558],[131.293106,44.0797],[131.203521,43.82357],[131.275955,43.478717],[130.515808,43.628322],[130.330062,43.94802],[129.230468,43.806732],[129.202116,43.574462],[128.849608,43.559551],[128.462768,44.157154],[128.466979,44.374275],[128.210281,44.429901],[128.04721,44.108421],[127.620811,44.183494],[127.448669,44.607799],[127.024314,44.590538],[126.963256,45.072299],[126.60437,45.233634],[126.237754,45.137496],[125.901443,45.190578],[125.679992,45.50801],[125.068244,45.38916],[124.539505,45.407073],[124.127708,45.630176],[123.950424,45.94403],[123.885108,46.301368],[123.171043,46.246681]]],type:"Polygon"},id:"48d71e338fe870dffe5805f8e8ba0935"},{type:"Feature",properties:{2010:15002.5,2011:17917.7,2012:20190.7,2013:22503.8,2014:24942.1,2015:26819.5,2016:29609.4,2017:33842.4,2018:38687.8,2019:42326.6,2020:43903.9,NAME_1:"Fujian",NL_NAME_1:""},geometry:{coordinates:[[[118.175132,24.664859],[118.134582,24.27486],[117.706253,23.952083],[117.270416,23.737922],[117.18708,23.618192],[117.046173,23.703323],[116.906768,24.365011],[116.721961,24.665702],[116.509689,24.654195],[116.211891,24.852706],[115.877265,24.935834],[115.851509,25.213085],[116.132461,25.870069],[116.420356,26.076982],[116.383743,26.24109],[116.59362,26.48925],[116.510406,26.724424],[116.674621,26.981924],[116.942047,27.041473],[117.164558,27.298212],[117.020317,27.663923],[117.471824,27.938741],[117.784164,27.899171],[118.336784,28.096084],[118.42427,28.292282],[118.803703,28.229173],[118.868881,27.537115],[119.239707,27.42469],[119.700477,27.519109],[119.871284,27.305782],[120.243644,27.434686],[120.434593,27.171733],[120.109024,26.924583],[120.101242,26.695421],[119.867362,26.349861],[119.515686,26.08292],[119.616249,25.887361],[119.581253,25.5857],[119.150138,25.399311],[119.268753,25.17597],[118.940696,25.006561],[118.628196,24.545419],[118.175132,24.664859]]],type:"Polygon"},id:"4b6af2241527bb6bb9a2e866e5776e22"},{type:"Feature",properties:{2010:1144.2,2011:1370.4,2012:1528.5,2013:1713.3,2014:1847.7,2015:2011,2016:2258.2,2017:2465.1,2018:2748,2019:2941.1,2020:3005.9,NAME_1:"Qinghai",NL_NAME_1:""},geometry:{coordinates:[[[97.729965,32.529659],[97.397712,32.520442],[97.301925,32.082607],[96.736305,31.983194],[96.736137,31.67774],[96.250083,31.932867],[96.060516,31.723409],[95.521003,31.751422],[95.371978,31.964406],[95.433387,32.160007],[95.080848,32.250434],[94.622375,32.670226],[94.13578,32.435955],[93.654045,32.574976],[93.515419,32.480308],[93.246406,32.662951],[91.967201,32.820003],[91.37815,33.23875],[90.70668,33.139141],[90.264808,33.367579],[89.739547,33.917171],[89.81417,34.540431],[89.591995,34.894687],[89.497055,35.365894],[89.688041,35.421749],[89.785598,35.861808],[89.731246,36.084743],[89.98883,36.155738],[91.098861,36.094806],[91.027786,36.537014],[90.730186,36.591377],[90.847297,36.919029],[91.30413,37.018634],[91.090782,37.463397],[90.522377,37.73019],[90.480613,37.958194],[90.14225,38.40213],[90.630622,38.675483],[91.296257,38.753318],[92.50003,39.109432],[92.950561,39.171054],[93.608085,39.26345],[94.630126,39.30706],[95.264747,39.191684],[95.690765,38.879173],[96.315063,38.637992],[96.515731,38.464706],[96.959701,38.338336],[96.990173,39.171623],[97.400383,39.145912],[98.098335,38.815048],[98.383117,39.028659],[98.583908,38.934085],[98.818107,39.083873],[99.658302,38.448959],[100.081184,38.409706],[100.589073,38.249485],[100.634658,38.101261],[101.110832,37.935676],[101.542518,37.656311],[102.288421,37.367675],[102.593399,37.152778],[102.471382,36.957988],[102.723655,36.766658],[102.826828,36.355117],[102.991546,36.265728],[102.953994,35.865234],[102.683921,35.761405],[102.279129,35.058536],[102.004646,34.950431],[101.914337,34.742988],[102.250907,34.358482],[101.899108,34.132667],[101.650802,34.121707],[100.906867,34.38161],[100.813575,34.150478],[101.240608,33.682319],[101.54747,33.694004],[101.77423,33.548042],[101.734336,33.278025],[101.164749,33.161853],[101.216903,32.716074],[100.933082,32.604903],[99.768661,32.952419],[99.742401,32.746673],[98.852394,33.159336],[98.662704,33.652294],[98.411163,33.872028],[97.660102,33.962329],[97.388328,33.888744],[97.619689,33.337726],[97.36296,32.950981],[97.487525,32.653937],[97.729965,32.529659]]],type:"Polygon"},id:"4f9fb667c6a44498a2a33b8a705fca2d"},{type:"Feature",properties:{2010:22655,2011:26318.7,2012:28961.9,2013:31632.5,2014:34574.8,2015:37084.1,2016:40249.3,2017:44824.9,2018:49935.9,2019:53717.8,2020:54997.1,NAME_1:"Henan",NL_NAME_1:""},geometry:{coordinates:[[[115.364372,31.405038],[115.229965,31.553312],[114.830032,31.462205],[114.540588,31.616878],[114.580329,31.756343],[113.980438,31.756736],[113.841636,31.849065],[113.6604,32.421481],[113.417198,32.275146],[113.216056,32.424839],[112.151359,32.385261],[111.715263,32.60651],[111.571899,32.595813],[111.232398,33.042701],[110.977661,33.259673],[110.997703,33.583656],[110.827217,33.674751],[110.355522,34.523582],[110.380233,34.604488],[110.682403,34.594139],[111.150177,34.808303],[111.567626,34.84954],[112.071861,35.229129],[112.769073,35.208904],[113.490547,35.530548],[113.724342,36.36],[114.320442,36.245853],[114.578712,36.125465],[115.120498,36.211357],[115.472869,36.169361],[115.331924,35.804111],[115.348777,35.506801],[115.019256,35.37437],[114.842933,35.177551],[115.424972,34.79631],[115.531532,34.579025],[116.185913,34.579467],[116.173652,34.431613],[116.510932,34.297325],[116.633544,33.988464],[116.149856,33.711246],[115.722045,34.080299],[115.549285,33.891666],[115.63195,33.586837],[115.407524,33.559215],[115.28569,33.135986],[115.133911,32.899524],[115.191528,32.59048],[115.615974,32.410995],[115.829315,32.526969],[115.930763,32.166019],[115.904357,31.820018],[115.491806,31.675666],[115.364372,31.405038]]],type:"Polygon"},id:"50865cdea8b0dd09bf36e04bccef655b"},{type:"Feature",properties:{2010:1571.7,2011:1931.8,2012:2131,2013:2327.7,2014:2473.9,2015:2579.4,2016:2781.4,2017:3200.3,2018:3510.2,2019:3748.5,2020:3920.6,NAME_1:"Ningxia Hui",NL_NAME_1:"|"},geometry:{coordinates:[[[104.279075,37.428287],[104.409446,37.515586],[104.98526,37.544406],[105.310829,37.701457],[105.595054,37.699031],[105.835792,38.007514],[105.847427,38.617782],[105.969001,38.910896],[106.275474,39.261283],[106.788726,39.358306],[106.964355,38.95774],[106.676971,38.671123],[106.54116,38.272808],[106.996322,38.121887],[107.325378,38.092823],[107.651748,37.87437],[107.310516,37.593761],[107.271392,37.082252],[106.602859,37.108383],[106.652557,36.818122],[106.446449,36.561889],[106.468536,36.295066],[106.860443,36.200603],[106.923347,35.807312],[106.749595,35.687606],[106.439109,35.694129],[106.507553,35.438972],[106.08786,35.414886],[105.663871,35.747375],[105.489105,35.724864],[105.32534,36.018592],[105.504638,36.143032],[105.198997,36.708305],[105.169609,36.985584],[104.910598,37.099552],[104.673393,37.408348],[104.279075,37.428287]]],type:"Polygon"},id:"68057bb798cdbbc455d650b16520440c"},{type:"Feature",properties:{2010:9383.2,2011:11584.5,2012:12807.7,2013:14300.2,2014:15667.8,2015:16780.9,2016:18388.6,2017:20210.8,2018:22716.5,2019:24667.3,2020:25691.5,NAME_1:"Jiangxi",NL_NAME_1:""},geometry:{coordinates:[[[113.959213,25.457321],[113.910438,25.729339],[114.025711,25.926094],[113.965072,26.243938],[114.116973,26.592796],[113.901412,26.621789],[113.916236,26.962131],[113.611289,27.348873],[113.60186,27.628822],[114.249229,28.332538],[114.117591,28.598354],[114.145553,28.820493],[113.940132,29.04828],[114.287841,29.366165],[114.513412,29.327091],[115.505165,29.841829],[115.877624,29.735132],[116.129623,29.82485],[116.89521,29.952171],[116.651824,29.688985],[116.835899,29.573484],[117.333129,29.850299],[117.533561,29.601949],[118.008888,29.579793],[118.189453,29.395221],[118.034599,29.210161],[118.096473,28.993619],[118.360336,28.811964],[118.466102,28.475738],[118.42427,28.292282],[118.336784,28.096084],[117.784164,27.899171],[117.471824,27.938741],[117.020317,27.663923],[117.164558,27.298212],[116.942047,27.041473],[116.674621,26.981924],[116.510406,26.724424],[116.59362,26.48925],[116.383743,26.24109],[116.420356,26.076982],[116.132461,25.870069],[115.851509,25.213085],[115.877265,24.935834],[115.721595,24.537246],[115.410835,24.780824],[114.426155,24.487041],[114.276329,24.709245],[114.390319,24.952095],[114.732002,25.236312],[114.529747,25.418529],[114.118125,25.312196],[113.959213,25.457321]]],type:"Polygon"},id:"6b5287f61a0202fbe5f3ee4a598ede3c"},{type:"Feature",properties:{2010:3943.7,2011:4816.9,2012:5393.1,2013:6014.5,2014:6518.4,2015:6556.6,2016:6907.9,2017:7336.7,2018:8104.1,2019:8718.3,2020:9016.7,NAME_1:"Gansu",NL_NAME_1:"|"},geometry:{coordinates:[[[101.77423,33.548042],[101.54747,33.694004],[101.240608,33.682319],[100.813575,34.150478],[100.906867,34.38161],[101.650802,34.121707],[101.899108,34.132667],[102.250907,34.358482],[101.914337,34.742988],[102.004646,34.950431],[102.279129,35.058536],[102.683921,35.761405],[102.953994,35.865234],[102.991546,36.265728],[102.826828,36.355117],[102.723655,36.766658],[102.471382,36.957988],[102.593399,37.152778],[102.288421,37.367675],[101.542518,37.656311],[101.110832,37.935676],[100.634658,38.101261],[100.589073,38.249485],[100.081184,38.409706],[99.658302,38.448959],[98.818107,39.083873],[98.583908,38.934085],[98.383117,39.028659],[98.098335,38.815048],[97.400383,39.145912],[96.990173,39.171623],[96.959701,38.338336],[96.515731,38.464706],[96.315063,38.637992],[95.690765,38.879173],[95.264747,39.191684],[94.630126,39.30706],[93.608085,39.26345],[92.950561,39.171054],[92.94313,39.458271],[92.76416,39.879798],[92.917991,40.103733],[92.91381,40.498298],[93.353942,40.472461],[93.646751,40.61911],[94.077011,41.158325],[94.67984,41.622211],[95.046371,41.771228],[95.989669,41.894283],[96.096641,42.599666],[96.365165,42.717075],[97.184722,42.77169],[97.840209,41.655746],[97.625511,41.496742],[97.966667,41.102912],[98.33477,40.913047],[98.2574,40.52898],[98.636817,40.539402],[98.846206,40.736595],[99.179374,40.864711],[100.015846,40.906425],[100.241798,40.605705],[99.906898,40.212146],[99.619377,40.064029],[99.764938,39.885974],[100.250633,39.687465],[100.49961,39.398361],[100.837646,39.401348],[100.862274,39.105922],[101.187522,38.967781],[101.327522,38.782752],[101.773056,38.665138],[102.08049,38.8969],[101.815231,39.102142],[102.455795,39.254039],[103.012504,39.105091],[103.361351,39.346069],[103.837455,39.458847],[104.205711,39.092948],[103.876304,38.645122],[103.417716,38.412624],[103.544448,38.155284],[103.406967,37.851867],[103.668975,37.785751],[104.178153,37.408187],[104.279075,37.428287],[104.673393,37.408348],[104.910598,37.099552],[105.169609,36.985584],[105.198997,36.708305],[105.504638,36.143032],[105.32534,36.018592],[105.489105,35.724864],[105.663871,35.747375],[106.08786,35.414886],[106.507553,35.438972],[106.439109,35.694129],[106.749595,35.687606],[106.923347,35.807312],[106.860443,36.200603],[106.468536,36.295066],[106.446449,36.561889],[106.652557,36.818122],[106.602859,37.108383],[107.271392,37.082252],[107.294967,36.941543],[107.895431,36.760158],[107.954429,36.65525],[108.614517,36.434116],[108.707626,36.138362],[108.501007,35.895126],[108.611228,35.563209],[108.575088,35.308822],[107.697677,35.19374],[107.801704,34.956863],[107.196235,34.882575],[106.91616,35.095222],[106.545707,35.087738],[106.548736,34.757553],[106.318946,34.591091],[106.713996,34.374431],[106.49768,34.106414],[106.442642,33.614723],[105.955429,33.610134],[105.728973,33.392806],[105.929458,33.194454],[105.919235,33.008152],[105.495353,32.910739],[105.449127,32.736293],[105.141593,32.598896],[104.643737,32.661417],[104.300193,32.831443],[104.380805,32.996158],[104.264328,33.393478],[104.049659,33.686805],[103.766242,33.660385],[103.150146,33.811813],[103.167442,34.093654],[102.925239,34.309345],[102.734848,34.268592],[102.193351,33.918643],[102.439132,33.581356],[102.206024,33.234423],[101.840827,33.184824],[101.938865,33.445757],[101.77423,33.548042]]],type:"Polygon"},id:"6f80dfcd00a14d671fb4c7b5aeae43ae"},{type:"Feature",properties:{2010:6830.8,2011:8112.5,2012:9043,2013:9945.4,2014:10640.6,2015:10879.5,2016:11477.2,2017:12450.6,2018:13362.9,2019:14055.5,2020:14083.7,NAME_1:"Tianjin",NL_NAME_1:"|"},geometry:{coordinates:[[[116.799385,39.610008],[116.894294,39.696308],[117.15242,39.626743],[117.193984,40.082782],[117.379737,40.226871],[117.640846,40.098239],[117.513191,39.885005],[117.693595,39.580554],[118.010475,39.361911],[118.012687,39.218193],[117.823471,39.170139],[117.564308,38.655693],[117.269317,38.569545],[116.750755,38.740154],[116.901458,39.064216],[116.799385,39.610008]]],type:"Polygon"},id:"7bfa3a1cf99817a3a0c604156697b484"},{type:"Feature",properties:{2010:13896.3,2011:16354.9,2012:17848.6,2013:19208.8,2014:20025.7,2015:20210.3,2016:20392.5,2017:21693,2018:23510.5,2019:24855.3,2020:25115,NAME_1:"Liaoning",NL_NAME_1:"|"},geometry:{coordinates:[[[121.717918,39.440963],[121.435691,39.512924],[121.554031,39.857643],[121.793472,39.956253],[122.301246,40.474029],[121.940406,40.803199],[121.156806,40.909862],[120.674308,40.537921],[120.442642,40.195693],[119.807212,39.979583],[119.53701,40.549285],[119.295921,40.528835],[118.835594,40.803291],[119.233108,41.312511],[119.396881,41.472873],[119.281707,41.784236],[119.537132,42.355705],[120.121154,41.770278],[120.461097,42.103096],[121.024757,42.24691],[121.400245,42.482875],[121.655189,42.436233],[121.930984,42.684535],[122.331161,42.67255],[122.618301,42.773296],[123.061386,42.773372],[123.249794,42.993175],[123.623756,43.07759],[123.696838,43.370868],[124.277259,43.214859],[124.516357,42.865657],[124.983673,42.770332],[125.154037,42.347709],[125.333808,42.147251],[125.315597,41.684703],[125.786407,41.160285],[125.912513,40.893142],[125.454467,40.668151],[124.887542,40.47089],[124.385841,40.123088],[124.200965,39.859584],[123.303192,39.79626],[122.248191,39.342365],[121.96347,39.033477],[121.685691,39.020145],[121.472076,38.81792],[121.13375,38.725418],[121.094306,38.928749],[121.657638,39.078475],[121.717918,39.440963]]],type:"Polygon"},id:"898807c6ca7e2f68f1d2ba51776d2e62"},{type:"Feature",properties:{2010:8903.9,2011:10894.4,2012:11683.1,2013:11987.2,2014:12094.7,2015:11836.4,2016:11946.4,2017:14484.3,2018:15958.1,2019:16961.6,2020:17651.9,NAME_1:"Shanxi",NL_NAME_1:""},geometry:{coordinates:[[[110.380233,34.604488],[110.270561,34.968772],[110.601043,35.6058],[110.444641,36.164859],[110.500083,36.581142],[110.408332,36.994373],[110.785766,37.551132],[110.498939,38.021873],[110.505722,38.192474],[110.768753,38.434734],[111.207244,39.232055],[111.133766,39.367733],[111.48661,39.658477],[111.927124,39.619182],[111.970085,39.796257],[112.302726,40.251464],[112.721824,40.167041],[112.892044,40.3283],[113.249099,40.410274],[113.553077,40.347541],[114.055099,40.527389],[114.127861,40.735759],[114.307922,40.368305],[114.057838,40.163112],[114.051681,39.928169],[114.386375,39.867168],[114.545372,39.547451],[114.357864,39.10345],[114.044204,39.134826],[113.760887,38.958835],[113.518791,38.382465],[113.877113,38.053985],[114.1119,37.589736],[113.751708,37.075168],[113.786468,36.894397],[113.49282,36.740329],[113.724342,36.36],[113.490547,35.530548],[112.769073,35.208904],[112.071861,35.229129],[111.567626,34.84954],[111.150177,34.808303],[110.682403,34.594139],[110.380233,34.604488]]],type:"Polygon"},id:"921d3ff5f3d6a6b411a6165c064c911c"},{type:"Feature",properties:{2010:5360.2,2011:6532,2012:7411.8,2013:8392.6,2014:9264.5,2015:9306.9,2016:9630.8,2017:11159.9,2018:12809.4,2019:13597.1,2020:13797.6,NAME_1:"Xinjiang Uygur",NL_NAME_1:"|"},geometry:{coordinates:[[[92.950561,39.171054],[92.50003,39.109432],[91.296257,38.753318],[90.630622,38.675483],[90.14225,38.40213],[90.480613,37.958194],[90.522377,37.73019],[91.090782,37.463397],[91.30413,37.018634],[90.847297,36.919029],[90.730186,36.591377],[91.027786,36.537014],[91.098861,36.094806],[89.98883,36.155738],[89.731246,36.084743],[89.234176,36.295219],[88.765655,36.30178],[88.468002,36.482486],[87.551467,36.34254],[86.743629,36.292453],[86.195747,36.129486],[86.052307,35.846107],[85.612045,35.656295],[85.266304,35.780487],[84.445625,35.543003],[84.093803,35.36454],[83.539001,35.342594],[82.996238,35.485298],[82.964721,35.668182],[82.405899,35.699996],[81.851219,35.259784],[81.445899,35.354331],[80.687126,35.339969],[80.521102,35.455966],[80.050399,35.060012],[79.799148,34.480712],[78.927436,34.371635],[78.569335,34.611949],[78.284362,34.667362],[77.990287,35.379032],[77.81575,35.51786],[77.427276,35.469039],[76.763771,35.669647],[76.590515,35.893116],[76.221824,35.850933],[75.933067,36.125308],[76.053016,36.237319],[75.918869,36.620479],[75.454498,36.721614],[75.372352,36.943618],[74.433097,37.11576],[74.50798,37.239189],[74.892906,37.221942],[75.133827,37.437438],[74.928016,37.55624],[74.995079,37.76279],[74.785797,38.185539],[74.867256,38.498416],[74.382217,38.65303],[73.806709,38.633499],[73.651535,39.453952],[73.941368,39.602909],[73.842292,39.838752],[74.02391,40.098304],[74.340438,40.08385],[74.812004,40.453865],[75.193939,40.438751],[75.593109,40.658714],[75.722404,40.288818],[76.521324,40.462623],[76.633987,40.757339],[76.864044,41.020942],[77.669754,41.001056],[78.190032,41.079029],[78.405036,41.41349],[79.452018,41.849201],[79.670494,41.790096],[79.881523,42.038009],[80.280937,42.072792],[80.167327,42.636589],[80.409706,43.057289],[80.799446,43.175418],[80.745956,43.448501],[80.519737,43.834209],[80.342826,44.481296],[80.489738,44.711429],[80.246673,44.839584],[80.402778,45.052829],[81.452766,45.268699],[81.827842,45.199989],[82.240821,45.235359],[82.486206,45.12067],[82.590141,45.445621],[82.275718,45.545398],[82.50444,45.983379],[83.030876,47.21212],[84.038215,46.965351],[84.704734,46.996234],[84.826683,46.832347],[85.219413,47.051399],[85.529724,47.059398],[85.698303,47.397781],[85.541595,47.939437],[85.73545,48.371002],[86.584747,48.541519],[86.81044,48.85033],[86.855201,49.107521],[87.438102,49.084671],[88.073326,48.69168],[88.004257,48.56599],[88.601074,48.344116],[88.67424,48.17456],[89.193038,47.95016],[89.565917,48.048706],[89.796417,47.818149],[90.323455,47.666992],[90.517845,47.244155],[90.881156,46.976364],[91.077636,46.563964],[90.934768,46.205638],[91.011497,46.000534],[90.699851,45.690681],[90.663696,45.516906],[90.938293,45.182441],[91.652023,45.056709],[93.50827,44.965343],[94.197418,44.662502],[94.334007,44.523059],[94.990509,44.25455],[95.42366,44.289268],[95.881103,43.402099],[95.91645,43.233505],[96.324447,42.882431],[96.365165,42.717075],[96.096641,42.599666],[95.989669,41.894283],[95.046371,41.771228],[94.67984,41.622211],[94.077011,41.158325],[93.646751,40.61911],[93.353942,40.472461],[92.91381,40.498298],[92.917991,40.103733],[92.76416,39.879798],[92.94313,39.458271],[92.950561,39.171054]]],type:"Polygon"},id:"9c7fd75e8e9d7ecd16ca144240431079"},{type:"Feature",properties:{2010:8199.9,2011:9458.1,2012:10470.1,2013:11392.4,2014:12158.2,2015:12949,2016:13789.3,2017:14898.1,2018:16140.8,2019:17212.5,2020:17359.8,NAME_1:"Nei Mongol",NL_NAME_1:"|"},geometry:{coordinates:[[[119.233108,41.312511],[118.342651,41.340641],[118.123947,41.739986],[118.300231,41.977607],[118.090957,42.102806],[118.017707,42.382694],[117.773139,42.616489],[117.403945,42.474704],[116.898109,42.388458],[116.87339,42.016464],[116.189796,41.862461],[115.910171,41.943233],[115.215187,41.578056],[114.88935,41.634548],[114.939491,41.820648],[114.768798,42.10902],[114.205093,41.79763],[114.013465,41.517654],[113.861801,41.067337],[114.127861,40.735759],[114.055099,40.527389],[113.553077,40.347541],[113.249099,40.410274],[112.892044,40.3283],[112.721824,40.167041],[112.302726,40.251464],[111.970085,39.796257],[111.927124,39.619182],[111.48661,39.658477],[111.133766,39.367733],[110.862754,39.489971],[110.010643,39.213138],[109.7136,39.065635],[108.969665,38.338245],[109.054481,38.081855],[108.777961,37.949836],[108.778648,37.684028],[108.010749,37.670696],[107.651748,37.87437],[107.325378,38.092823],[106.996322,38.121887],[106.54116,38.272808],[106.676971,38.671123],[106.964355,38.95774],[106.788726,39.358306],[106.275474,39.261283],[105.969001,38.910896],[105.847427,38.617782],[105.835792,38.007514],[105.595054,37.699031],[105.310829,37.701457],[104.98526,37.544406],[104.409446,37.515586],[104.279075,37.428287],[104.178153,37.408187],[103.668975,37.785751],[103.406967,37.851867],[103.544448,38.155284],[103.417716,38.412624],[103.876304,38.645122],[104.205711,39.092948],[103.837455,39.458847],[103.361351,39.346069],[103.012504,39.105091],[102.455795,39.254039],[101.815231,39.102142],[102.08049,38.8969],[101.773056,38.665138],[101.327522,38.782752],[101.187522,38.967781],[100.862274,39.105922],[100.837646,39.401348],[100.49961,39.398361],[100.250633,39.687465],[99.764938,39.885974],[99.619377,40.064029],[99.906898,40.212146],[100.241798,40.605705],[100.015846,40.906425],[99.179374,40.864711],[98.846206,40.736595],[98.636817,40.539402],[98.2574,40.52898],[98.33477,40.913047],[97.966667,41.102912],[97.625511,41.496742],[97.840209,41.655746],[97.184722,42.77169],[98.247879,42.637859],[99.496276,42.570083],[100.326461,42.68333],[100.911582,42.645259],[101.816818,42.473609],[102.063293,42.218688],[102.739036,42.134159],[103.322082,41.90747],[103.862396,41.807941],[104.543746,41.883792],[104.534011,41.66262],[105.034484,41.567687],[105.801895,41.957645],[106.683631,42.259391],[107.266471,42.356658],[107.452796,42.461887],[107.912422,42.41201],[108.238548,42.461952],[108.782348,42.409713],[109.547477,42.471664],[109.834716,42.624961],[110.416503,42.76892],[111.047142,43.343456],[111.574508,43.489532],[112.015686,43.79132],[111.393951,44.321613],[111.559875,44.723083],[111.833129,45.048522],[112.415527,45.061523],[112.758087,44.870479],[113.623809,44.743957],[114.379272,45.165283],[114.548706,45.398498],[115.000122,45.365173],[115.721153,45.438438],[116.273498,45.761108],[116.262069,45.950332],[116.605285,46.297119],[117.371467,46.35477],[118.27005,46.787563],[118.935913,46.819526],[119.403701,46.633621],[119.920722,46.743499],[119.850708,47.101684],[119.18785,47.518459],[119.124084,47.703308],[118.478698,48.000122],[117.759696,47.990188],[117.374511,47.638057],[116.826782,47.898399],[116.256286,47.876708],[115.949371,47.679122],[115.553779,47.948326],[115.514892,48.183898],[115.8125,48.261474],[115.821495,48.531665],[116.700271,49.839855],[117.274269,49.631549],[117.842033,49.506931],[118.548988,49.914852],[119.197486,50.012088],[119.27349,50.601753],[119.987373,51.45269],[120.086402,51.66909],[120.65203,51.934108],[120.71965,52.528789],[120.280433,52.866298],[120.876716,53.287033],[121.69239,53.388511],[121.809165,53.064105],[121.19284,52.60234],[121.706871,52.316814],[122.126373,52.474529],[122.579116,52.265209],[122.742736,51.742351],[122.966987,51.333583],[123.282829,51.249446],[123.635208,51.318492],[124.857208,51.378189],[125.127304,51.632411],[125.343536,51.622177],[126.064071,50.959114],[125.788726,50.735584],[125.819137,50.546844],[125.271926,50.12553],[125.193122,49.736938],[125.266159,49.358547],[124.882324,49.177158],[124.512802,48.548328],[124.570755,48.257568],[124.0718,48.429424],[123.574218,48.041721],[122.549217,47.52074],[122.387916,47.344146],[122.841964,47.052825],[122.889007,46.815731],[123.624473,46.803615],[123.588897,46.686656],[123.003723,46.573722],[123.171043,46.246681],[122.779937,46.067497],[122.717689,45.713172],[122.246131,45.803062],[121.825347,46.021148],[121.669982,45.717613],[121.946159,45.706295],[122.161674,45.430267],[122.093391,44.636604],[122.430007,44.224422],[123.025817,44.503047],[123.472496,43.857593],[123.696838,43.370868],[123.623756,43.07759],[123.249794,42.993175],[123.061386,42.773372],[122.618301,42.773296],[122.331161,42.67255],[121.930984,42.684535],[121.655189,42.436233],[121.400245,42.482875],[121.024757,42.24691],[120.461097,42.103096],[120.121154,41.770278],[119.537132,42.355705],[119.281707,41.784236],[119.396881,41.472873],[119.233108,41.312511]]],type:"Polygon"},id:"a331a588f8e54e1b1649e2463ae8d28c"},{type:"Feature",properties:{2010:45944.6,2011:53072.8,2012:57007.7,2013:62503.4,2014:68173,2015:74732.4,2016:82163.2,2017:91648.7,2018:99945.2,2019:107986.9,2020:110760.9,NAME_1:"Guangdong",NL_NAME_1:"|"},geometry:{coordinates:[[[109.751441,21.565696],[109.935417,21.827411],[110.284843,21.91131],[110.434181,22.202239],[110.634918,22.150308],[110.760238,22.577165],[111.051467,22.654041],[111.424797,23.038248],[111.351142,23.287715],[111.641632,23.820308],[111.923042,23.968458],[111.871994,24.228792],[112.0569,24.365119],[111.920906,24.631265],[112.015914,24.739961],[112.164093,24.911376],[112.178192,25.177278],[112.654006,25.128871],[112.773948,24.896972],[113.000854,24.930334],[112.962799,25.160791],[113.154136,25.487932],[113.583992,25.323074],[113.959213,25.457321],[114.118125,25.312196],[114.529747,25.418529],[114.732002,25.236312],[114.390319,24.952095],[114.276329,24.709245],[114.426155,24.487041],[115.410835,24.780824],[115.721595,24.537246],[115.877265,24.935834],[116.211891,24.852706],[116.509689,24.654195],[116.721961,24.665702],[116.906768,24.365011],[117.046173,23.703323],[117.18708,23.618192],[116.89598,23.54347],[116.772361,23.25708],[116.455696,22.94931],[115.875694,22.797082],[115.662918,22.877361],[115.391532,22.691528],[115.230697,22.831529],[114.942359,22.768751],[114.72097,22.795972],[114.426528,22.601804],[114.041992,22.505676],[113.644027,22.64014],[113.599861,22.328193],[113.400138,22.00986],[112.76847,21.93736],[112.56208,21.762081],[112.262359,21.70236],[112.120407,21.80014],[111.623191,21.543193],[110.743186,21.38236],[110.415412,21.19292],[110.347923,20.99542],[110.530982,20.48125],[110.282638,20.25403],[109.949584,20.255971],[109.676528,20.863468],[109.77153,21.32431],[109.751441,21.565696]]],type:"Polygon"},id:"aa2c44d7b7e35f018677722480318337"},{type:"Feature",properties:{2010:8065.3,2011:10161.2,2012:11595.4,2013:13027.6,2014:14623.8,2015:16040.5,2016:18023,2017:20066.3,2018:21588.8,2019:23605.8,2020:25002.8,NAME_1:"Chongqing",NL_NAME_1:"|"},geometry:{coordinates:[[[109.270202,28.503477],[108.990821,28.164127],[108.732482,28.235145],[108.379951,28.774686],[108.29673,29.045576],[107.403137,29.156732],[107.384536,28.856973],[107.010566,28.887796],[106.722251,28.533971],[106.37358,28.530485],[106.247749,28.799732],[105.988113,28.980567],[105.799911,28.941226],[105.696212,29.272169],[105.449142,29.293939],[105.286743,29.545476],[105.724586,29.856422],[105.558776,30.184236],[105.790786,30.423486],[106.202102,30.21261],[106.560379,30.306888],[106.725013,30.037191],[107.028022,30.036109],[107.481643,30.606313],[107.510681,30.844881],[107.869003,30.808849],[108.230232,31.513105],[108.534233,31.677106],[108.286552,31.929058],[108.514549,32.212043],[109.272758,31.801454],[109.576606,31.733167],[110.138221,31.395578],[110.190429,31.1506],[110.075706,30.804096],[109.893661,30.891635],[109.446746,30.617092],[108.68711,30.589031],[108.403938,30.377985],[108.569381,30.253854],[108.516532,29.870521],[108.868133,29.639493],[108.866439,29.449811],[109.228599,29.122455],[109.270202,28.503477]]],type:"Polygon"},id:"ad551ac39b92ff77cdf256091d87ac3f"},{type:"Feature",properties:{2010:512.9,2011:611.5,2012:710.2,2013:828.2,2014:939.7,2015:1043,2016:1173,2017:1349,2018:1548.4,2019:1697.8,2020:1902.7,NAME_1:"Xizang",NL_NAME_1:"|"},geometry:{coordinates:[[[98.143211,28.048652],[97.717979,28.50386],[97.460861,28.2681],[96.996498,28.31623],[96.400772,28.56237],[96.585937,28.721588],[96.521217,28.965209],[96.15039,29.05314],[96.234169,29.243459],[96.092819,29.45643],[95.545028,29.215589],[95.454338,29.036991],[94.871803,29.184289],[94.628158,29.34859],[94.214691,29.084089],[93.844039,28.707389],[93.332305,28.63368],[93.193756,28.31804],[92.783027,28.18374],[92.560691,27.821041],[92.255157,27.862169],[91.878646,27.721839],[91.46733,28.005781],[91.20848,27.988225],[90.688819,28.077556],[90.381935,28.061439],[89.860267,28.230169],[89.613876,28.170415],[89.03395,27.579595],[88.767066,27.56496],[88.880187,27.89524],[88.751083,28.073312],[88.388801,27.97784],[87.581314,27.861755],[87.128837,27.833919],[87.041618,27.950115],[86.578804,28.112665],[86.444831,27.9055],[85.898033,28.066932],[85.664314,28.304716],[85.110382,28.346796],[84.951072,28.580038],[84.493988,28.734653],[84.222602,28.915599],[84.16603,29.193969],[83.964813,29.331315],[83.635505,29.158428],[83.198822,29.611118],[82.764816,29.731115],[82.69873,29.85523],[82.172546,30.067626],[82.000053,30.320764],[81.635818,30.445116],[81.134368,30.01654],[81.010978,30.26279],[80.21096,30.5823],[80.15937,30.812089],[79.74559,31.006151],[79.584815,30.94399],[79.299621,31.14924],[79.056777,31.472259],[78.72126,31.54095],[78.737068,32.004081],[78.464317,32.277777],[78.632339,32.611061],[78.970962,32.344279],[79.202957,32.510829],[79.545356,32.60736],[79.365036,32.956919],[79.409835,33.17877],[79.141441,33.200099],[78.709297,33.679611],[78.729232,34.095699],[78.927436,34.371635],[79.799148,34.480712],[80.050399,35.060012],[80.521102,35.455966],[80.687126,35.339969],[81.445899,35.354331],[81.851219,35.259784],[82.405899,35.699996],[82.964721,35.668182],[82.996238,35.485298],[83.539001,35.342594],[84.093803,35.36454],[84.445625,35.543003],[85.266304,35.780487],[85.612045,35.656295],[86.052307,35.846107],[86.195747,36.129486],[86.743629,36.292453],[87.551467,36.34254],[88.468002,36.482486],[88.765655,36.30178],[89.234176,36.295219],[89.731246,36.084743],[89.785598,35.861808],[89.688041,35.421749],[89.497055,35.365894],[89.591995,34.894687],[89.81417,34.540431],[89.739547,33.917171],[90.264808,33.367579],[90.70668,33.139141],[91.37815,33.23875],[91.967201,32.820003],[93.246406,32.662951],[93.515419,32.480308],[93.654045,32.574976],[94.13578,32.435955],[94.622375,32.670226],[95.080848,32.250434],[95.433387,32.160007],[95.371978,31.964406],[95.521003,31.751422],[96.060516,31.723409],[96.250083,31.932867],[96.736137,31.67774],[96.736305,31.983194],[97.301925,32.082607],[97.397712,32.520442],[97.729965,32.529659],[98.212364,32.345001],[98.565818,31.648494],[98.881332,31.369422],[98.60234,31.238855],[98.962249,30.733436],[98.988098,30.152858],[99.071128,29.931365],[98.993911,29.672952],[99.112312,29.251119],[98.920928,28.978324],[98.655914,28.977781],[98.628036,28.493793],[98.712135,28.239543],[98.143211,28.048652]]],type:"Polygon"},id:"b713736d8800132b97d9aa1b7e7588cb"},{type:"Feature",properties:{2010:6410.5,2011:7734.6,2012:8678,2013:9427.9,2014:9966.5,2015:10018,2016:10427,2017:10922,2018:11253.8,2019:11726.8,2020:12311.3,NAME_1:"Jilin",NL_NAME_1:""},geometry:{coordinates:[[[123.696838,43.370868],[123.472496,43.857593],[123.025817,44.503047],[122.430007,44.224422],[122.093391,44.636604],[122.161674,45.430267],[121.946159,45.706295],[121.669982,45.717613],[121.825347,46.021148],[122.246131,45.803062],[122.717689,45.713172],[122.779937,46.067497],[123.171043,46.246681],[123.885108,46.301368],[123.950424,45.94403],[124.127708,45.630176],[124.539505,45.407073],[125.068244,45.38916],[125.679992,45.50801],[125.901443,45.190578],[126.237754,45.137496],[126.60437,45.233634],[126.963256,45.072299],[127.024314,44.590538],[127.448669,44.607799],[127.620811,44.183494],[128.04721,44.108421],[128.210281,44.429901],[128.466979,44.374275],[128.462768,44.157154],[128.849608,43.559551],[129.202116,43.574462],[129.230468,43.806732],[130.330062,43.94802],[130.515808,43.628322],[131.275955,43.478717],[131.029602,42.863281],[130.544342,42.807689],[129.89653,43.001998],[129.740585,42.464313],[129.234985,42.37416],[129.140914,42.143283],[128.572586,41.99794],[128.064024,41.965419],[128.313812,41.58303],[128.202025,41.409599],[127.616989,41.424991],[127.159362,41.539051],[126.943901,41.7882],[126.610672,41.64289],[126.44696,41.354381],[125.912513,40.893142],[125.786407,41.160285],[125.315597,41.684703],[125.333808,42.147251],[125.154037,42.347709],[124.983673,42.770332],[124.516357,42.865657],[124.277259,43.214859],[123.696838,43.370868]]],type:"Polygon"},id:"c17ef1b55cc7f8df2ac17324b59164e1"},{type:"Feature",properties:{2010:4519,2011:5615.6,2012:6742.2,2013:7973.1,2014:9173.1,2015:10541,2016:11792.4,2017:13605.4,2018:15353.2,2019:16769.3,2020:17826.6,NAME_1:"Guizhou",NL_NAME_1:"|"},geometry:{coordinates:[[[104.530021,24.734367],[104.752113,25.217247],[104.307975,25.658769],[104.538146,26.252668],[104.67794,26.376707],[104.417823,26.711545],[103.811325,26.539188],[103.634811,27.119491],[103.927177,27.441984],[104.178993,27.273363],[104.34011,27.461427],[104.8638,27.293619],[105.232711,27.431634],[105.300247,27.709112],[105.620857,27.667245],[106.186782,27.758264],[106.317276,27.976343],[105.973793,28.116268],[105.633689,28.524948],[106.103439,28.634981],[106.37358,28.530485],[106.722251,28.533971],[107.010566,28.887796],[107.384536,28.856973],[107.403137,29.156732],[108.29673,29.045576],[108.379951,28.774686],[108.732482,28.235145],[108.990821,28.164127],[109.270202,28.503477],[109.377861,28.266525],[109.299346,28.076446],[109.454132,27.58015],[108.900321,27.217134],[109.389274,27.165655],[109.550529,26.950481],[109.350311,26.696563],[109.478019,26.032773],[109.307624,25.770906],[109.100921,25.807704],[108.934181,25.558532],[108.306854,25.530017],[108.129501,25.237112],[107.810226,25.133516],[107.502464,25.219079],[107.327445,25.502134],[107.058738,25.561948],[106.894691,25.197292],[106.145874,24.949848],[105.99517,24.648065],[105.506683,24.810123],[105.208106,24.998548],[104.713661,24.623714],[104.530021,24.734367]]],type:"Polygon"},id:"c525f99a5d276b0ed5768842dd4ba2bd"},{type:"Feature",properties:{2010:17915.4,2011:20009.7,2012:21305.6,2013:23204.1,2014:25269.8,2015:26887,2016:29887,2017:32925,2018:36011.8,2019:37987.6,2020:38700.6,NAME_1:"Shanghai",NL_NAME_1:"|"},geometry:{coordinates:[[[121.2649,30.689582],[120.895118,31.011978],[121.207252,31.474849],[121.325973,31.505416],[121.666809,31.328193],[121.862358,31.11347],[121.890419,30.847917],[121.526802,30.821529],[121.2649,30.689582]]],type:"Polygon"},id:"cb9c6fd9498e7942dfba7947ebc9fa31"},{type:"Feature",properties:{2010:9845.2,2011:12175.1,2012:14142.4,2013:15905.4,2014:17402.5,2015:17898.8,2016:19045.8,2017:21473.5,2018:23941.9,2019:25793.2,2020:26181.9,NAME_1:"Shaanxi",NL_NAME_1:"|"},geometry:{coordinates:[[[105.495353,32.910739],[105.919235,33.008152],[105.929458,33.194454],[105.728973,33.392806],[105.955429,33.610134],[106.442642,33.614723],[106.49768,34.106414],[106.713996,34.374431],[106.318946,34.591091],[106.548736,34.757553],[106.545707,35.087738],[106.91616,35.095222],[107.196235,34.882575],[107.801704,34.956863],[107.697677,35.19374],[108.575088,35.308822],[108.611228,35.563209],[108.501007,35.895126],[108.707626,36.138362],[108.614517,36.434116],[107.954429,36.65525],[107.895431,36.760158],[107.294967,36.941543],[107.271392,37.082252],[107.310516,37.593761],[107.651748,37.87437],[108.010749,37.670696],[108.778648,37.684028],[108.777961,37.949836],[109.054481,38.081855],[108.969665,38.338245],[109.7136,39.065635],[110.010643,39.213138],[110.862754,39.489971],[111.133766,39.367733],[111.207244,39.232055],[110.768753,38.434734],[110.505722,38.192474],[110.498939,38.021873],[110.785766,37.551132],[110.408332,36.994373],[110.500083,36.581142],[110.444641,36.164859],[110.601043,35.6058],[110.270561,34.968772],[110.380233,34.604488],[110.355522,34.523582],[110.827217,33.674751],[110.997703,33.583656],[110.977661,33.259673],[110.805709,33.148437],[110.213142,33.165019],[109.840263,33.248893],[109.758918,32.909706],[110.136909,32.804752],[110.023063,32.550528],[109.62696,32.602415],[109.490417,32.302585],[109.616821,32.109122],[109.576606,31.733167],[109.272758,31.801454],[108.514549,32.212043],[107.846054,32.20866],[107.669181,32.393535],[107.259353,32.405509],[107.054931,32.711996],[106.728408,32.731451],[106.430122,32.619445],[105.955116,32.847637],[105.618591,32.699813],[105.495353,32.910739]]],type:"Polygon"},id:"d5d04920dc1c856aebe0c65f7b9b803c"},{type:"Feature",properties:{2010:8552.4,2011:10299.9,2012:11303.6,2013:12448.4,2014:13587.8,2015:14797.8,2016:16116.6,2017:17790.7,2018:19627.8,2019:21237.1,2020:22156.7,NAME_1:"Guangxi",NL_NAME_1:"|"},geometry:{coordinates:[[[105.541381,23.193666],[105.810516,23.504873],[106.059417,23.490928],[106.18795,23.838174],[105.998649,24.132043],[105.49253,24.028812],[105.039909,24.444688],[104.609138,24.380914],[104.530021,24.734367],[104.713661,24.623714],[105.208106,24.998548],[105.506683,24.810123],[105.99517,24.648065],[106.145874,24.949848],[106.894691,25.197292],[107.058738,25.561948],[107.327445,25.502134],[107.502464,25.219079],[107.810226,25.133516],[108.129501,25.237112],[108.306854,25.530017],[108.934181,25.558532],[109.100921,25.807704],[109.307624,25.770906],[109.478019,26.032773],[109.821472,25.914623],[110.330612,25.995586],[110.607795,26.337228],[110.987594,26.333953],[111.257164,26.212007],[111.2154,25.897918],[111.28569,25.436988],[111.091987,25.281908],[111.431228,25.101142],[111.474075,24.800382],[112.015914,24.739961],[111.920906,24.631265],[112.0569,24.365119],[111.871994,24.228792],[111.923042,23.968458],[111.641632,23.820308],[111.351142,23.287715],[111.424797,23.038248],[111.051467,22.654041],[110.760238,22.577165],[110.634918,22.150308],[110.434181,22.202239],[110.284843,21.91131],[109.935417,21.827411],[109.751441,21.565696],[109.157081,21.402639],[109.125137,21.575416],[108.573471,21.684303],[108.393753,21.552917],[107.952392,21.5389],[107.871444,21.647375],[107.363296,21.599018],[107.024215,21.944686],[106.708694,22.025627],[106.558952,22.465417],[106.835876,22.802742],[106.601524,22.929128],[106.345848,22.855691],[106.201919,22.984022],[105.872772,22.93271],[105.541381,23.193666]]],type:"Polygon"},id:"e1caa61b00a2f0d2997dbda4a5032ea9"},{type:"Feature",properties:{2010:27399.9,2011:31854.8,2012:34382.4,2013:37334.6,2014:40023.5,2015:43507.7,2016:47254,2017:52403.1,2018:58002.8,2019:62462,2020:64613.3,NAME_1:"Zhejiang",NL_NAME_1:""},geometry:{coordinates:[[[118.42427,28.292282],[118.466102,28.475738],[118.360336,28.811964],[118.096473,28.993619],[118.034599,29.210161],[118.189453,29.395221],[118.47203,29.506912],[118.891502,29.951297],[118.879913,30.320142],[119.209274,30.29532],[119.570266,30.838838],[119.63211,31.139343],[119.90895,31.175247],[120.150825,30.936313],[120.361671,30.951988],[120.507064,30.767185],[120.895118,31.011978],[121.2649,30.689582],[121.008186,30.57125],[120.907913,30.37236],[121.350692,30.325141],[121.685974,29.985971],[121.914016,29.922918],[121.829864,29.544584],[121.950416,29.512359],[121.935417,29.194311],[121.634025,29.093748],[121.70903,28.934583],[121.510139,28.664861],[121.358467,28.139049],[121.133193,28.24625],[120.683746,27.698474],[120.681526,27.47236],[120.434593,27.171733],[120.243644,27.434686],[119.871284,27.305782],[119.700477,27.519109],[119.239707,27.42469],[118.868881,27.537115],[118.803703,28.229173],[118.42427,28.292282]]],type:"Polygon"},id:"e3dfbce4013fd468a8296d98203675fe"},{type:"Feature",properties:{2010:13249.8,2011:16284.9,2012:18341.7,2013:20584,2014:22519.7,2015:23831.2,2016:26307.7,2017:29676.2,2018:34010.9,2019:36845.5,2020:38680.6,NAME_1:"Anhui",NL_NAME_1:"|"},geometry:{coordinates:[[[116.129623,29.82485],[116.059059,30.209255],[115.760955,30.674276],[116.001167,30.949516],[115.875022,31.144224],[115.557411,31.1597],[115.364372,31.405038],[115.491806,31.675666],[115.904357,31.820018],[115.930763,32.166019],[115.829315,32.526969],[115.615974,32.410995],[115.191528,32.59048],[115.133911,32.899524],[115.28569,33.135986],[115.407524,33.559215],[115.63195,33.586837],[115.549285,33.891666],[115.722045,34.080299],[116.149856,33.711246],[116.633544,33.988464],[116.510932,34.297325],[116.173652,34.431613],[116.185913,34.579467],[116.368606,34.640869],[116.823043,34.39001],[117.18663,34.070178],[117.50904,34.062248],[117.752937,33.887058],[117.725799,33.728981],[118.161636,33.713794],[117.966392,33.283026],[118.208374,33.193461],[118.240676,32.849849],[118.36602,32.721145],[118.706916,32.721514],[118.845214,32.959547],[119.178001,32.832832],[119.129013,32.493426],[118.716781,32.610861],[118.656951,32.220146],[118.364097,31.937202],[118.488136,31.785787],[118.859611,31.62433],[118.786819,31.232364],[119.159317,31.300914],[119.63211,31.139343],[119.570266,30.838838],[119.209274,30.29532],[118.879913,30.320142],[118.891502,29.951297],[118.47203,29.506912],[118.189453,29.395221],[118.008888,29.579793],[117.533561,29.601949],[117.333129,29.850299],[116.835899,29.573484],[116.651824,29.688985],[116.89521,29.952171],[116.129623,29.82485]]],type:"Polygon"},id:"e7274927ece2628566c920add6715f12"},{type:"Feature",properties:{2010:7735.3,2011:9523.1,2012:11097.4,2013:12825.5,2014:14041.7,2015:14960,2016:16369,2017:18486,2018:20880.6,2019:23223.8,2020:24521.9,NAME_1:"Yunnan",NL_NAME_1:"|"},geometry:{coordinates:[[[98.143211,28.048652],[98.712135,28.239543],[98.628036,28.493793],[98.655914,28.977781],[98.920928,28.978324],[99.112312,29.251119],[99.108978,28.856487],[99.192222,28.496875],[99.519065,28.58551],[99.621864,28.812734],[99.956443,28.571981],[100.027053,28.174341],[100.325462,27.72199],[100.448005,27.872024],[100.82965,27.684648],[101.139648,27.033498],[101.366577,26.887445],[101.394958,26.559118],[101.639503,26.388837],[101.816795,26.090187],[102.129905,26.094909],[102.400535,26.305999],[102.98928,26.3644],[102.979553,26.799079],[102.867393,27.03214],[102.881759,27.303371],[103.136619,27.425537],[103.502441,27.84023],[103.563652,28.228448],[103.864097,28.306711],[103.87841,28.625391],[104.26107,28.645629],[104.253341,28.397077],[104.456146,28.174364],[104.310707,28.035182],[104.561378,27.852773],[105.175956,28.068841],[105.300247,27.709112],[105.232711,27.431634],[104.8638,27.293619],[104.34011,27.461427],[104.178993,27.273363],[103.927177,27.441984],[103.634811,27.119491],[103.811325,26.539188],[104.417823,26.711545],[104.67794,26.376707],[104.538146,26.252668],[104.307975,25.658769],[104.752113,25.217247],[104.530021,24.734367],[104.609138,24.380914],[105.039909,24.444688],[105.49253,24.028812],[105.998649,24.132043],[106.18795,23.838174],[106.059417,23.490928],[105.810516,23.504873],[105.541381,23.193666],[105.212326,23.267251],[104.801162,23.115056],[104.838371,22.92222],[104.352447,22.692413],[104.114952,22.811685],[103.96141,22.506477],[103.647262,22.794525],[103.409217,22.778501],[103.030815,22.442457],[102.688476,22.70449],[102.466262,22.769525],[102.251678,22.463634],[101.863609,22.390159],[101.695297,22.474269],[101.582,22.10231],[101.781455,21.83249],[101.826705,21.602979],[101.740303,21.31483],[101.238037,21.25073],[101.213623,21.56126],[101.01802,21.71215],[100.577789,21.45025],[100.202583,21.43935],[99.986152,21.71866],[100,21.977117],[99.65261,22.104871],[99.21894,22.118749],[99.389518,22.49942],[99.325462,22.75107],[99.511268,23.083738],[99.109817,23.093709],[98.89743,23.21968],[98.923049,23.423112],[98.69281,23.920351],[98.846466,24.13429],[98.230926,24.116899],[97.885261,24.010219],[97.557579,24.495992],[97.575897,24.76333],[97.845031,25.267892],[98.369155,25.572999],[98.475769,25.797702],[98.712661,25.898082],[98.57286,26.119081],[98.781059,26.61988],[98.686851,27.213729],[98.692916,27.58967],[98.467582,27.690162],[98.318817,27.54277],[98.143211,28.048652]]],type:"Polygon"},id:"ea64a09366021e1219f95efe2cd9eda2"},{type:"Feature",properties:{2010:33922.5,2011:39064.9,2012:42957.3,2013:47344.3,2014:50774.8,2015:55288.8,2016:58762.5,2017:63012.1,2018:66648.9,2019:70540.5,2020:73129,NAME_1:"Shandong",NL_NAME_1:"|"},geometry:{coordinates:[[[116.368606,34.640869],[116.185913,34.579467],[115.531532,34.579025],[115.424972,34.79631],[114.842933,35.177551],[115.019256,35.37437],[115.348777,35.506801],[115.331924,35.804111],[115.472869,36.169361],[115.278907,36.494327],[115.496025,36.768993],[115.683944,36.819458],[115.983894,37.336353],[116.431961,37.469871],[116.794418,37.831295],[117.405815,37.84362],[117.871116,38.255973],[118.111251,38.144031],[118.846252,38.144584],[119.098472,37.834304],[118.930419,37.528751],[118.966796,37.276248],[119.244026,37.13486],[119.749031,37.12292],[119.845138,37.375972],[120.084861,37.44403],[120.371246,37.696804],[120.877357,37.832359],[121.141525,37.598472],[121.543746,37.43542],[122.157638,37.537921],[122.57125,37.361808],[122.424026,36.866531],[122.009582,36.967922],[121.185966,36.685424],[120.680137,36.38042],[120.665702,36.13681],[120.285697,36.06042],[119.913192,35.635974],[119.635406,35.586532],[119.284378,35.089862],[118.920562,35.061733],[118.71508,34.760875],[118.460823,34.677833],[118.39965,34.438041],[118.162666,34.39336],[117.965431,34.67564],[117.556503,34.467174],[117.167686,34.482429],[116.961479,34.876541],[116.459693,34.898509],[116.368606,34.640869]]],type:"Polygon"},id:"ee4521accd2badc9c649061e1692db27"},{type:"Feature",properties:{2010:17224.8,2011:21050.9,2012:23922.4,2013:26518,2014:28891.3,2015:30342,2016:33138.5,2017:37905.1,2018:42902.1,2019:46363.8,2020:48598.8,NAME_1:"Sichuan",NL_NAME_1:""},geometry:{coordinates:[[[106.37358,28.530485],[106.103439,28.634981],[105.633689,28.524948],[105.973793,28.116268],[106.317276,27.976343],[106.186782,27.758264],[105.620857,27.667245],[105.300247,27.709112],[105.175956,28.068841],[104.561378,27.852773],[104.310707,28.035182],[104.456146,28.174364],[104.253341,28.397077],[104.26107,28.645629],[103.87841,28.625391],[103.864097,28.306711],[103.563652,28.228448],[103.502441,27.84023],[103.136619,27.425537],[102.881759,27.303371],[102.867393,27.03214],[102.979553,26.799079],[102.98928,26.3644],[102.400535,26.305999],[102.129905,26.094909],[101.816795,26.090187],[101.639503,26.388837],[101.394958,26.559118],[101.366577,26.887445],[101.139648,27.033498],[100.82965,27.684648],[100.448005,27.872024],[100.325462,27.72199],[100.027053,28.174341],[99.956443,28.571981],[99.621864,28.812734],[99.519065,28.58551],[99.192222,28.496875],[99.108978,28.856487],[99.112312,29.251119],[98.993911,29.672952],[99.071128,29.931365],[98.988098,30.152858],[98.962249,30.733436],[98.60234,31.238855],[98.881332,31.369422],[98.565818,31.648494],[98.212364,32.345001],[97.729965,32.529659],[97.487525,32.653937],[97.36296,32.950981],[97.619689,33.337726],[97.388328,33.888744],[97.660102,33.962329],[98.411163,33.872028],[98.662704,33.652294],[98.852394,33.159336],[99.742401,32.746673],[99.768661,32.952419],[100.933082,32.604903],[101.216903,32.716074],[101.164749,33.161853],[101.734336,33.278025],[101.77423,33.548042],[101.938865,33.445757],[101.840827,33.184824],[102.206024,33.234423],[102.439132,33.581356],[102.193351,33.918643],[102.734848,34.268592],[102.925239,34.309345],[103.167442,34.093654],[103.150146,33.811813],[103.766242,33.660385],[104.049659,33.686805],[104.264328,33.393478],[104.380805,32.996158],[104.300193,32.831443],[104.643737,32.661417],[105.141593,32.598896],[105.449127,32.736293],[105.495353,32.910739],[105.618591,32.699813],[105.955116,32.847637],[106.430122,32.619445],[106.728408,32.731451],[107.054931,32.711996],[107.259353,32.405509],[107.669181,32.393535],[107.846054,32.20866],[108.514549,32.212043],[108.286552,31.929058],[108.534233,31.677106],[108.230232,31.513105],[107.869003,30.808849],[107.510681,30.844881],[107.481643,30.606313],[107.028022,30.036109],[106.725013,30.037191],[106.560379,30.306888],[106.202102,30.21261],[105.790786,30.423486],[105.558776,30.184236],[105.724586,29.856422],[105.286743,29.545476],[105.449142,29.293939],[105.696212,29.272169],[105.799911,28.941226],[105.988113,28.980567],[106.247749,28.799732],[106.37358,28.530485]]],type:"Polygon"},id:"fa001ad4256564e1556b35470fd327ec"},{type:"Feature",properties:{2010:18003.6,2011:21384.7,2012:23077.5,2013:24259.6,2014:25208.9,2015:26398.4,2016:28474.1,2017:30640.8,2018:32494.6,2019:34978.6,2020:36206.9,NAME_1:"Hebei",NL_NAME_1:""},geometry:{coordinates:[[[[113.724342,36.36],[113.49282,36.740329],[113.786468,36.894397],[113.751708,37.075168],[114.1119,37.589736],[113.877113,38.053985],[113.518791,38.382465],[113.760887,38.958835],[114.044204,39.134826],[114.357864,39.10345],[114.545372,39.547451],[114.386375,39.867168],[114.051681,39.928169],[114.057838,40.163112],[114.307922,40.368305],[114.127861,40.735759],[113.861801,41.067337],[114.013465,41.517654],[114.205093,41.79763],[114.768798,42.10902],[114.939491,41.820648],[114.88935,41.634548],[115.215187,41.578056],[115.910171,41.943233],[116.189796,41.862461],[116.87339,42.016464],[116.898109,42.388458],[117.403945,42.474704],[117.773139,42.616489],[118.017707,42.382694],[118.090957,42.102806],[118.300231,41.977607],[118.123947,41.739986],[118.342651,41.340641],[119.233108,41.312511],[118.835594,40.803291],[119.295921,40.528835],[119.53701,40.549285],[119.807212,39.979583],[119.361808,39.745418],[119.305686,39.42097],[119.003196,39.197082],[118.63153,39.167919],[118.335975,39.024581],[118.012687,39.218193],[118.010475,39.361911],[117.693595,39.580554],[117.513191,39.885005],[117.640846,40.098239],[117.379737,40.226871],[117.195091,40.496902],[116.666885,40.976711],[116.450973,40.978912],[116.108749,40.622406],[115.729225,40.501873],[115.955131,40.261817],[115.440818,40.026233],[115.681663,39.599796],[116.134758,39.564998],[116.344795,39.448543],[116.799385,39.610008],[116.901458,39.064216],[116.750755,38.740154],[117.269317,38.569545],[117.564308,38.655693],[117.857543,38.26736],[117.871261,38.26144],[117.871116,38.255973],[117.405815,37.84362],[116.794418,37.831295],[116.431961,37.469871],[115.983894,37.336353],[115.683944,36.819458],[115.496025,36.768993],[115.278907,36.494327],[115.472869,36.169361],[115.120498,36.211357],[114.578712,36.125465],[114.320442,36.245853],[113.724342,36.36]]],[[[116.894294,39.696308],[116.834869,40.043586],[117.193984,40.082782],[117.15242,39.626743],[116.894294,39.696308]]]],type:"MultiPolygon"},id:"fbc64858e8d633556175553195d198ac"}],Kne="FeatureCollection",Wne={features:Hne,type:Kne};var zv=qne,Gne=Object.prototype.hasOwnProperty;function qne(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)Gne.call(n,r)&&(t[r]=n[r])}return t}var NN={exports:{}};(function(t,e){(function(){var n={};t.exports=n,n.simpleFilter=function(r,i){return i.filter(function(o){return n.test(r,o)})},n.test=function(r,i){return n.match(r,i)!==null},n.match=function(r,i,o){o=o||{};var l=0,a=[],f=i.length,p=0,v=0,g=o.pre||"",_=o.post||"",b=o.caseSensitive&&i||i.toLowerCase(),S;r=o.caseSensitive&&r||r.toLowerCase();for(var E=0;E<f;E++)S=i[E],b[E]===r[l]?(S=g+S+_,l+=1,v+=1+v):v=0,p+=v,a[a.length]=S;return l===r.length?(p=b===r?1/0:p,{rendered:a.join(""),score:p}):null},n.filter=function(r,i,o){return!i||i.length===0?[]:typeof r!="string"?i:(o=o||{},i.reduce(function(l,a,f,p){var v=a;o.extract&&(v=o.extract(a));var g=n.match(r,v,o);return g!=null&&(l[l.length]={string:g.rendered,score:g.score,index:f,original:a}),l},[]).sort(function(l,a){var f=a.score-l.score;return f||l.index-a.index}))}})()})(NN);var Yne=NN.exports,ts=function(t){return this.component=t,this.items=[],this.active=0,this.wrapper=document.createElement("div"),this.wrapper.className="suggestions-wrapper",this.element=document.createElement("ul"),this.element.className="suggestions",this.wrapper.appendChild(this.element),this.selectingListItem=!1,t.el.parentNode.insertBefore(this.wrapper,t.el.nextSibling),this};ts.prototype.show=function(){this.element.style.display="block"};ts.prototype.hide=function(){this.element.style.display="none"};ts.prototype.add=function(t){this.items.push(t)};ts.prototype.clear=function(){this.items=[],this.active=0};ts.prototype.isEmpty=function(){return!this.items.length};ts.prototype.isVisible=function(){return this.element.style.display==="block"};ts.prototype.draw=function(){if(this.element.innerHTML="",this.items.length===0){this.hide();return}for(var t=0;t<this.items.length;t++)this.drawItem(this.items[t],this.active===t);this.show()};ts.prototype.drawItem=function(t,e){var n=document.createElement("li"),r=document.createElement("a");e&&(n.className+=" active"),r.innerHTML=t.string,n.appendChild(r),this.element.appendChild(n),n.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),n.addEventListener("mouseup",function(){this.handleMouseUp.call(this,t)}.bind(this))};ts.prototype.handleMouseUp=function(t){this.selectingListItem=!1,this.component.value(t.original),this.clear(),this.draw()};ts.prototype.move=function(t){this.active=t,this.draw()};ts.prototype.previous=function(){this.move(this.active===0?this.items.length-1:this.active-1)};ts.prototype.next=function(){this.move(this.active===this.items.length-1?0:this.active+1)};ts.prototype.drawError=function(t){var e=document.createElement("li");e.innerHTML=t,this.element.appendChild(e),this.show()};var Xne=ts,Zne=zv,Qne=Yne,Jne=Xne,bo=function(t,e,n){return n=n||{},this.options=Zne({minLength:2,limit:5,filter:!0,hideOnBlur:!0},n),this.el=t,this.data=e||[],this.list=new Jne(this),this.query="",this.selected=null,this.list.draw(),this.el.addEventListener("keyup",function(r){this.handleKeyUp(r.keyCode)}.bind(this),!1),this.el.addEventListener("keydown",function(r){this.handleKeyDown(r)}.bind(this)),this.el.addEventListener("focus",function(){this.handleFocus()}.bind(this)),this.el.addEventListener("blur",function(){this.handleBlur()}.bind(this)),this.el.addEventListener("paste",function(r){this.handlePaste(r)}.bind(this)),this.render=this.options.render?this.options.render.bind(this):this.render.bind(this),this.getItemValue=this.options.getItemValue?this.options.getItemValue.bind(this):this.getItemValue.bind(this),this};bo.prototype.handleKeyUp=function(t){t===40||t===38||t===27||t===13||t===9||this.handleInputChange(this.el.value)};bo.prototype.handleKeyDown=function(t){switch(t.keyCode){case 13:case 9:this.list.isEmpty()||(this.list.isVisible()&&t.preventDefault(),this.value(this.list.items[this.list.active].original),this.list.hide());break;case 27:this.list.isEmpty()||this.list.hide();break;case 38:this.list.previous();break;case 40:this.list.next();break}};bo.prototype.handleBlur=function(){!this.list.selectingListItem&&this.options.hideOnBlur&&this.list.hide()};bo.prototype.handlePaste=function(t){if(t.clipboardData)this.handleInputChange(t.clipboardData.getData("Text"));else{var e=this;setTimeout(function(){e.handleInputChange(t.target.value)},100)}};bo.prototype.handleInputChange=function(t){if(this.query=this.normalize(t),this.list.clear(),this.query.length<this.options.minLength){this.list.draw();return}this.getCandidates(function(e){for(var n=0;n<e.length&&(this.list.add(e[n]),n!==this.options.limit-1);n++);this.list.draw()}.bind(this))};bo.prototype.handleFocus=function(){this.list.isEmpty()||this.list.show(),this.list.selectingListItem=!1};bo.prototype.update=function(t){this.data=t,this.handleKeyUp()};bo.prototype.clear=function(){this.data=[],this.list.clear()};bo.prototype.normalize=function(t){return t=t.toLowerCase(),t};bo.prototype.match=function(t,e){return t.indexOf(e)>-1};bo.prototype.value=function(t){if(this.selected=t,this.el.value=this.getItemValue(t),document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.el.dispatchEvent(e)}else this.el.fireEvent("onchange")};bo.prototype.getCandidates=function(t){var e={pre:"<strong>",post:"</strong>",extract:function(r){return this.getItemValue(r)}.bind(this)},n;this.options.filter?(n=Qne.filter(this.query,this.data,e),n=n.map(function(r){return{original:r.original,string:this.render(r.original,r.string)}}.bind(this))):n=this.data.map(function(r){var i=this.render(r);return{original:r,string:i}}.bind(this)),t(n)};bo.prototype.getItemValue=function(t){return t};bo.prototype.render=function(t,e){if(e)return e;for(var n=t.original?this.getItemValue(t.original):this.getItemValue(t),r=this.normalize(n),i=r.lastIndexOf(this.query);i>-1;){var o=i+this.query.length;n=n.slice(0,i)+"<strong>"+n.slice(i,o)+"</strong>"+n.slice(o),i=r.slice(0,i).lastIndexOf(this.query)}return n};bo.prototype.renderError=function(t){this.list.drawError(t)};var ere=bo,BN=ere,tre=BN;typeof window<"u"&&(window.Suggestions=BN);var nre="Expected a function",pA=0/0,rre="[object Symbol]",ire=/^\s+|\s+$/g,are=/^[-+]0x[0-9a-f]+$/i,ore=/^0b[01]+$/i,sre=/^0o[0-7]+$/i,lre=parseInt,ure=typeof La=="object"&&La&&La.Object===Object&&La,cre=typeof self=="object"&&self&&self.Object===Object&&self,dre=ure||cre||Function("return this")(),fre=Object.prototype,hre=fre.toString,pre=Math.max,vre=Math.min,pC=function(){return dre.Date.now()};function mre(t,e,n){var r,i,o,l,a,f,p=0,v=!1,g=!1,_=!0;if(typeof t!="function")throw new TypeError(nre);e=vA(e)||0,sS(n)&&(v=!!n.leading,g="maxWait"in n,o=g?pre(vA(n.maxWait)||0,e):o,_="trailing"in n?!!n.trailing:_);function b(N){var j=r,H=i;return r=i=void 0,p=N,l=t.apply(H,j),l}function S(N){return p=N,a=setTimeout(k,e),v?b(N):l}function E(N){var j=N-f,H=N-p,V=e-j;return g?vre(V,o-H):V}function P(N){var j=N-f,H=N-p;return f===void 0||j>=e||j<0||g&&H>=o}function k(){var N=pC();if(P(N))return I(N);a=setTimeout(k,E(N))}function I(N){return a=void 0,_&&r?b(N):(r=i=void 0,l)}function D(){a!==void 0&&clearTimeout(a),p=0,r=f=i=a=void 0}function L(){return a===void 0?l:I(pC())}function B(){var N=pC(),j=P(N);if(r=arguments,i=this,f=N,j){if(a===void 0)return S(f);if(g)return a=setTimeout(k,e),b(f)}return a===void 0&&(a=setTimeout(k,e)),l}return B.cancel=D,B.flush=L,B}function sS(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function gre(t){return!!t&&typeof t=="object"}function yre(t){return typeof t=="symbol"||gre(t)&&hre.call(t)==rre}function vA(t){if(typeof t=="number")return t;if(yre(t))return pA;if(sS(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=sS(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(ire,"");var n=ore.test(t);return n||sre.test(t)?lre(t.slice(2),n?2:8):are.test(t)?pA:+t}var _re=mre,I8={exports:{}},tv=typeof Reflect=="object"?Reflect:null,mA=tv&&typeof tv.apply=="function"?tv.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},q_;tv&&typeof tv.ownKeys=="function"?q_=tv.ownKeys:Object.getOwnPropertySymbols?q_=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:q_=function(e){return Object.getOwnPropertyNames(e)};function bre(t){console&&console.warn&&console.warn(t)}var zN=Number.isNaN||function(e){return e!==e};function bi(){bi.init.call(this)}I8.exports=bi;I8.exports.once=Sre;bi.EventEmitter=bi;bi.prototype._events=void 0;bi.prototype._eventsCount=0;bi.prototype._maxListeners=void 0;var gA=10;function p2(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(bi,"defaultMaxListeners",{enumerable:!0,get:function(){return gA},set:function(t){if(typeof t!="number"||t<0||zN(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");gA=t}});bi.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};bi.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||zN(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function $N(t){return t._maxListeners===void 0?bi.defaultMaxListeners:t._maxListeners}bi.prototype.getMaxListeners=function(){return $N(this)};bi.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var l;if(n.length>0&&(l=n[0]),l instanceof Error)throw l;var a=new Error("Unhandled error."+(l?" ("+l.message+")":""));throw a.context=l,a}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")mA(f,this,n);else for(var p=f.length,v=KN(f,p),r=0;r<p;++r)mA(v[r],this,n);return!0};function jN(t,e,n,r){var i,o,l;if(p2(n),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),l=o[e]),l===void 0)l=o[e]=n,++t._eventsCount;else if(typeof l=="function"?l=o[e]=r?[n,l]:[l,n]:r?l.unshift(n):l.push(n),i=$N(t),i>0&&l.length>i&&!l.warned){l.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=l.length,bre(a)}return t}bi.prototype.addListener=function(e,n){return jN(this,e,n,!1)};bi.prototype.on=bi.prototype.addListener;bi.prototype.prependListener=function(e,n){return jN(this,e,n,!0)};function xre(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function VN(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=xre.bind(r);return i.listener=n,r.wrapFn=i,i}bi.prototype.once=function(e,n){return p2(n),this.on(e,VN(this,e,n)),this};bi.prototype.prependOnceListener=function(e,n){return p2(n),this.prependListener(e,VN(this,e,n)),this};bi.prototype.removeListener=function(e,n){var r,i,o,l,a;if(p2(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,l=r.length-1;l>=0;l--)if(r[l]===n||r[l].listener===n){a=r[l].listener,o=l;break}if(o<0)return this;o===0?r.shift():wre(r,o),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};bi.prototype.off=bi.prototype.removeListener;bi.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var o=Object.keys(r),l;for(i=0;i<o.length;++i)l=o[i],l!=="removeListener"&&this.removeAllListeners(l);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function UN(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?Cre(i):KN(i,i.length)}bi.prototype.listeners=function(e){return UN(this,e,!0)};bi.prototype.rawListeners=function(e){return UN(this,e,!1)};bi.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):HN.call(t,e)};bi.prototype.listenerCount=HN;function HN(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}bi.prototype.eventNames=function(){return this._eventsCount>0?q_(this._events):[]};function KN(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function wre(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Cre(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function Sre(t,e){return new Promise(function(n,r){function i(l){t.removeListener(e,o),r(l)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}WN(t,e,o,{once:!0}),e!=="error"&&Tre(t,i,{once:!0})})}function Tre(t,e,n){typeof t.on=="function"&&WN(t,"error",e,n)}function WN(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){r.once&&t.removeEventListener(e,i),n(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Ere=I8.exports,Pre={fr:{name:"France",bbox:[[-4.59235,41.380007],[9.560016,51.148506]]},us:{name:"United States",bbox:[[-171.791111,18.91619],[-66.96466,71.357764]]},ru:{name:"Russia",bbox:[[19.66064,41.151416],[190.10042,81.2504]]},ca:{name:"Canada",bbox:[[-140.99778,41.675105],[-52.648099,83.23324]]}};function Mre(t){var e=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return e?{key:e[1],value:e[2]}:null}function kre(t){var e=t.match(/<?([^>]*)>(.*)/);if(!e)return null;var n=e[1],r=e[2].split(";"),i=null,o=r.reduce(function(l,a){var f=Mre(a);return f?f.key==="rel"?(i||(i=f.value),l):(l[f.key]=f.value,l):l},{});return i?{url:n,rel:i,params:o}:null}function Are(t){return t?t.split(/,\s*</).reduce(function(e,n){var r=kre(n);if(!r)return e;var i=r.rel.split(/\s+/);return i.forEach(function(o){e[o]||(e[o]={url:r.url,params:r.params})}),e},{}):{}}var Ire=Are,Ore=Ire;function O8(t,e){this.request=t,this.headers=e.headers,this.rawBody=e.body,this.statusCode=e.statusCode;try{this.body=JSON.parse(e.body||"{}")}catch{this.body=e.body}this.links=Ore(this.headers.link)}O8.prototype.hasNextPage=function(){return!!this.links.next};O8.prototype.nextPage=function(){return this.hasNextPage()?this.request._extend({path:this.links.next.url}):null};var Dre=O8,v2={API_ORIGIN:"https://api.mapbox.com",EVENT_PROGRESS_DOWNLOAD:"downloadProgress",EVENT_PROGRESS_UPLOAD:"uploadProgress",EVENT_ERROR:"error",EVENT_RESPONSE:"response",ERROR_HTTP:"HttpError",ERROR_REQUEST_ABORTED:"RequestAbortedError"},yA=v2;function Rre(t){var e=t.type||yA.ERROR_HTTP,n;if(t.body)try{n=JSON.parse(t.body)}catch{n=t.body}else n=null;var r=t.message||null;r||(typeof n=="string"?r=n:n&&typeof n.message=="string"?r=n.message:e===yA.ERROR_REQUEST_ABORTED&&(r="Request aborted")),this.message=r,this.type=e,this.statusCode=t.statusCode||null,this.request=t.request,this.body=n}var Lre=Rre;function Fre(t){var e=t.indexOf(":"),n=t.substring(0,e).trim().toLowerCase(),r=t.substring(e+1).trim();return{name:n,value:r}}function Nre(t){var e={};return t&&t.trim().split(/[\r|\n]+/).forEach(function(n){var r=Fre(n);e[r.name]=r.value}),e}var Bre=Nre,zre=Dre,_A=Lre,vC=v2,$re=Bre,qb={};function jre(t){var e=qb[t.id];e&&(e.abort(),delete qb[t.id])}function Vre(t,e){return new zre(t,{body:e.response,headers:$re(e.getAllResponseHeaders()),statusCode:e.status})}function bA(t){var e=t.total,n=t.loaded,r=100*n/e;return{total:e,transferred:n,percent:r}}function GN(t,e){return new Promise(function(n,r){e.onprogress=function(l){t.emitter.emit(vC.EVENT_PROGRESS_DOWNLOAD,bA(l))};var i=t.file;i&&(e.upload.onprogress=function(l){t.emitter.emit(vC.EVENT_PROGRESS_UPLOAD,bA(l))}),e.onerror=function(l){r(l)},e.onabort=function(){var l=new _A({request:t,type:vC.ERROR_REQUEST_ABORTED});r(l)},e.onload=function(){if(delete qb[t.id],e.status<200||e.status>=400){var l=new _A({request:t,body:e.response,statusCode:e.status});r(l);return}n(e)};var o=t.body;typeof o=="string"?e.send(o):o?e.send(JSON.stringify(o)):i?e.send(i):e.send(),qb[t.id]=e}).then(function(n){return Vre(t,n)})}function qN(t,e){var n=t.url(e),r=new window.XMLHttpRequest;return r.open(t.method,n),Object.keys(t.headers).forEach(function(i){r.setRequestHeader(i,t.headers[i])}),r}function Ure(t){return Promise.resolve().then(function(){var e=qN(t,t.client.accessToken);return GN(t,e)})}var Hre={browserAbort:jre,sendRequestXhr:GN,browserSend:Ure,createRequestXhr:qN},Yb={exports:{}};/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */Yb.exports;(function(t,e){(function(n){var r=e,i=t&&t.exports==r&&t,o=typeof La=="object"&&La;(o.global===o||o.window===o)&&(n=o);var l=function(S){this.message=S};l.prototype=new Error,l.prototype.name="InvalidCharacterError";var a=function(S){throw new l(S)},f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=/[\t\n\f\r ]/g,v=function(S){S=String(S).replace(p,"");var E=S.length;E%4==0&&(S=S.replace(/==?$/,""),E=S.length),(E%4==1||/[^+a-zA-Z0-9/]/.test(S))&&a("Invalid character: the string to be decoded is not correctly encoded.");for(var P=0,k,I,D="",L=-1;++L<E;)I=f.indexOf(S.charAt(L)),k=P%4?k*64+I:I,P++%4&&(D+=String.fromCharCode(255&k>>(-2*P&6)));return D},g=function(S){S=String(S),/[^\0-\xFF]/.test(S)&&a("The string to be encoded contains characters outside of the Latin1 range.");for(var E=S.length%3,P="",k=-1,I,D,L,B,N=S.length-E;++k<N;)I=S.charCodeAt(k)<<16,D=S.charCodeAt(++k)<<8,L=S.charCodeAt(++k),B=I+D+L,P+=f.charAt(B>>18&63)+f.charAt(B>>12&63)+f.charAt(B>>6&63)+f.charAt(B&63);return E==2?(I=S.charCodeAt(k)<<8,D=S.charCodeAt(++k),B=I+D,P+=f.charAt(B>>10)+f.charAt(B>>4&63)+f.charAt(B<<2&63)+"="):E==1&&(B=S.charCodeAt(k),P+=f.charAt(B>>2)+f.charAt(B<<4&63)+"=="),P},_={encode:g,decode:v,version:"0.1.0"};if(r&&!r.nodeType)if(i)i.exports=_;else for(var b in _)_.hasOwnProperty(b)&&(r[b]=_[b]);else n.base64=_})(La)})(Yb,Yb.exports);var Kre=Yb.exports,Wre=Kre,mC={};function Gre(t){if(mC[t])return mC[t];var e=t.split("."),n=e[0],r=e[1];if(!r)throw new Error("Invalid token");var i=qre(r),o={usage:n,user:i.u};return Af(i,"a")&&(o.authorization=i.a),Af(i,"exp")&&(o.expires=i.exp*1e3),Af(i,"iat")&&(o.created=i.iat*1e3),Af(i,"scopes")&&(o.scopes=i.scopes),Af(i,"client")&&(o.client=i.client),Af(i,"ll")&&(o.lastLogin=i.ll),Af(i,"iu")&&(o.impersonator=i.iu),mC[t]=o,o}function qre(t){try{return JSON.parse(Wre.decode(t))}catch{throw new Error("Invalid token")}}function Af(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var YN=Gre,XN={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(f,p,v){this.fn=f,this.context=p,this.once=v||!1}function o(f,p,v,g,_){if(typeof v!="function")throw new TypeError("The listener must be a function");var b=new i(v,g||f,_),S=n?n+p:p;return f._events[S]?f._events[S].fn?f._events[S]=[f._events[S],b]:f._events[S].push(b):(f._events[S]=b,f._eventsCount++),f}function l(f,p){--f._eventsCount===0?f._events=new r:delete f._events[p]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var p=[],v,g;if(this._eventsCount===0)return p;for(g in v=this._events)e.call(v,g)&&p.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(v)):p},a.prototype.listeners=function(p){var v=n?n+p:p,g=this._events[v];if(!g)return[];if(g.fn)return[g.fn];for(var _=0,b=g.length,S=new Array(b);_<b;_++)S[_]=g[_].fn;return S},a.prototype.listenerCount=function(p){var v=n?n+p:p,g=this._events[v];return g?g.fn?1:g.length:0},a.prototype.emit=function(p,v,g,_,b,S){var E=n?n+p:p;if(!this._events[E])return!1;var P=this._events[E],k=arguments.length,I,D;if(P.fn){switch(P.once&&this.removeListener(p,P.fn,void 0,!0),k){case 1:return P.fn.call(P.context),!0;case 2:return P.fn.call(P.context,v),!0;case 3:return P.fn.call(P.context,v,g),!0;case 4:return P.fn.call(P.context,v,g,_),!0;case 5:return P.fn.call(P.context,v,g,_,b),!0;case 6:return P.fn.call(P.context,v,g,_,b,S),!0}for(D=1,I=new Array(k-1);D<k;D++)I[D-1]=arguments[D];P.fn.apply(P.context,I)}else{var L=P.length,B;for(D=0;D<L;D++)switch(P[D].once&&this.removeListener(p,P[D].fn,void 0,!0),k){case 1:P[D].fn.call(P[D].context);break;case 2:P[D].fn.call(P[D].context,v);break;case 3:P[D].fn.call(P[D].context,v,g);break;case 4:P[D].fn.call(P[D].context,v,g,_);break;default:if(!I)for(B=1,I=new Array(k-1);B<k;B++)I[B-1]=arguments[B];P[D].fn.apply(P[D].context,I)}}return!0},a.prototype.on=function(p,v,g){return o(this,p,v,g,!1)},a.prototype.once=function(p,v,g){return o(this,p,v,g,!0)},a.prototype.removeListener=function(p,v,g,_){var b=n?n+p:p;if(!this._events[b])return this;if(!v)return l(this,b),this;var S=this._events[b];if(S.fn)S.fn===v&&(!_||S.once)&&(!g||S.context===g)&&l(this,b);else{for(var E=0,P=[],k=S.length;E<k;E++)(S[E].fn!==v||_&&!S[E].once||g&&S[E].context!==g)&&P.push(S[E]);P.length?this._events[b]=P.length===1?P[0]:P:l(this,b)}return this},a.prototype.removeAllListeners=function(p){var v;return p?(v=n?n+p:p,this._events[v]&&l(this,v)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(XN);var Yre=XN.exports;function Xre(t){return t.map(encodeURIComponent).join(",")}function ZN(t){return Array.isArray(t)?Xre(t):encodeURIComponent(String(t))}function QN(t,e,n){if(n===!1||n===null)return t;var r=/\?/.test(t)?"&":"?",i=encodeURIComponent(e);return n!==void 0&&n!==""&&n!==!0&&(i+="="+ZN(n)),""+t+r+i}function Zre(t,e){if(!e)return t;var n=t;return Object.keys(e).forEach(function(r){var i=e[r];i!==void 0&&(Array.isArray(i)&&(i=i.filter(function(o){return o!=null}).join(",")),n=QN(n,r,i))}),n}function Qre(t,e){if(!e||t.slice(0,4)==="http")return t;var n=t[0]==="/"?"":"/";return""+e.replace(/\/$/,"")+n+t}function Jre(t,e){return e?t.replace(/\/:([a-zA-Z0-9]+)/g,function(n,r){var i=e[r];if(i===void 0)throw new Error("Unspecified route parameter "+r);var o=ZN(i);return"/"+o}):t}var eie={appendQueryObject:Zre,appendQueryParam:QN,prependOrigin:Qre,interpolateRouteParams:Jre},tie=YN,D8=zv,nie=Yre,t_=eie,xA=v2,rie=1;function Ad(t,e){if(!t)throw new Error("MapiRequest requires a client");if(!e||!e.path||!e.method)throw new Error("MapiRequest requires an options object with path and method properties");var n={};e.body&&(n["content-type"]="application/json");var r=D8(n,e.headers),i=Object.keys(r).reduce(function(o,l){return o[l.toLowerCase()]=r[l],o},{});this.id=rie++,this._options=e,this.emitter=new nie,this.client=t,this.response=null,this.error=null,this.sent=!1,this.aborted=!1,this.path=e.path,this.method=e.method,this.origin=e.origin||t.origin,this.query=e.query||{},this.params=e.params||{},this.body=e.body||null,this.file=e.file||null,this.encoding=e.encoding||"utf8",this.sendFileAs=e.sendFileAs||null,this.headers=i}Ad.prototype.url=function(e){var n=t_.prependOrigin(this.path,this.origin);n=t_.appendQueryObject(n,this.query);var r=this.params,i=e??this.client.accessToken;if(i){n=t_.appendQueryParam(n,"access_token",i);var o=tie(i).user;r=D8({ownerId:o},r)}return n=t_.interpolateRouteParams(n,r),n};Ad.prototype.send=function(){var e=this;if(e.sent)throw new Error("This request has already been sent. Check the response and error properties. Create a new request with clone().");return e.sent=!0,e.client.sendRequest(e).then(function(n){return e.response=n,e.emitter.emit(xA.EVENT_RESPONSE,n),n},function(n){throw e.error=n,e.emitter.emit(xA.EVENT_ERROR,n),n})};Ad.prototype.abort=function(){this._nextPageRequest&&(this._nextPageRequest.abort(),delete this._nextPageRequest),!(this.response||this.error||this.aborted)&&(this.aborted=!0,this.client.abortRequest(this))};Ad.prototype.eachPage=function(e){var n=this;function r(l){function a(){delete n._nextPageRequest;var f=l.nextPage();f&&(n._nextPageRequest=f,o(f))}e(null,l,a)}function i(l){e(l,null,function(){})}function o(l){l.send().then(r,i)}o(this)};Ad.prototype.clone=function(){return this._extend()};Ad.prototype._extend=function(e){var n=D8(this._options,e);return new Ad(this.client,n)};var iie=Ad,aie=YN,oie=iie,sie=v2;function JN(t){if(!t||!t.accessToken)throw new Error("Cannot create a client without an access token");aie(t.accessToken),this.accessToken=t.accessToken,this.origin=t.origin||sie.API_ORIGIN}JN.prototype.createRequest=function(e){return new oie(this,e)};var eB=JN,tB=Hre,nB=eB;function yv(t){nB.call(this,t)}yv.prototype=Object.create(nB.prototype);yv.prototype.constructor=yv;yv.prototype.sendRequest=tB.browserSend;yv.prototype.abortRequest=tB.browserAbort;function lie(t){return new yv(t)}var rB=lie,uie=rB,cie=uie,die=Object.prototype.toString,fie=function(t){var e;return die.call(t)==="[object Object]"&&(e=Object.getPrototypeOf(t),e===null||e===Object.getPrototypeOf({}))},hie=fie,pie=zv,iB="value",gC=`
  `,Oi={};Oi.assert=function(t,e){return e=e||{},function(n){var r=Id(t,n);if(r){var i=R8(r,e);throw e.apiName&&(i=e.apiName+": "+i),new Error(i)}}};Oi.shape=function(e){var n=yie(e);return function(i){var o=Id(Oi.plainObject,i);if(o)return o;for(var l,a,f=[],p=0;p<n.length;p++)l=n[p].key,a=n[p].value,o=Id(a,i[l]),o&&f.push([l].concat(o));return f.length<2?f[0]:function(v){f=f.map(function(b){var S=b[0],E=R8(b,v).split(`
`).join(gC);return"- "+S+": "+E});var g=v.path.join("."),_=g===iB?"":" of "+g;return"The following properties"+_+" have invalid values:"+gC+f.join(gC)}}};Oi.strictShape=function(e){var n=Oi.shape(e);return function(i){var o=n(i);if(o)return o;var l=Object.keys(i).reduce(function(a,f){return e[f]===void 0&&a.push(f),a},[]);if(l.length!==0)return function(){return"The following keys are invalid: "+l.join(", ")}}};Oi.arrayOf=function(e){return aB(e)};Oi.tuple=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return aB(e)};function aB(t){var e=Array.isArray(t),n=function(r){return e?t[r]:t};return function(i){var o=Id(Oi.plainArray,i);if(o)return o;if(e&&i.length!==t.length)return"an array with "+t.length+" items";for(var l=0;l<i.length;l++)if(o=Id(n(l),i[l]),o)return[l].concat(o)}}Oi.required=function(e){function n(r){return r==null?function(i){return oB(i,sB(i.path)?"cannot be undefined/null.":"is required.")}:e.apply(this,arguments)}return n.__required=!0,n};Oi.oneOfType=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return function(r){var i=e.map(function(o){return Id(o,r)}).filter(Boolean);if(i.length===e.length)return i.every(function(o){return o.length===1&&typeof o[0]=="string"})?vie(i.map(function(o){return o[0]})):i.reduce(function(o,l){return l.length>o.length?l:o})}};Oi.equal=function(e){return function(r){if(r!==e)return JSON.stringify(e)}};Oi.oneOf=function(){var e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments),n=e.map(function(r){return Oi.equal(r)});return Oi.oneOfType.apply(this,n)};Oi.range=function(e){var n=e[0],r=e[1];return function(o){var l=Id(Oi.number,o);if(l||o<n||o>r)return"number between "+n+" & "+r+" (inclusive)"}};Oi.any=function(){};Oi.boolean=function(e){if(typeof e!="boolean")return"boolean"};Oi.number=function(e){if(typeof e!="number")return"number"};Oi.plainArray=function(e){if(!Array.isArray(e))return"array"};Oi.plainObject=function(e){if(!hie(e))return"object"};Oi.string=function(e){if(typeof e!="string")return"string"};Oi.func=function(e){if(typeof e!="function")return"function"};function Id(t,e){if(!(e==null&&!t.hasOwnProperty("__required"))){var n=t(e);if(n)return Array.isArray(n)?n:[n]}}function R8(t,e){var n=t.length,r=t[n-1],i=t.slice(0,n-1);return i.length===0&&(i=[iB]),e=pie(e,{path:i}),typeof r=="function"?r(e):oB(e,mie(r))}function vie(t){return t.length<2?t[0]:t.length===2?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t.slice(-1)}function mie(t){return"must be "+gie(t)+"."}function gie(t){return/^an? /.test(t)?t:/^[aeiou]/i.test(t)?"an "+t:/^[a-z]/i.test(t)?"a "+t:t}function oB(t,e){var n=sB(t.path),r=t.path.join(".")+" "+e,i=n?"Item at position ":"";return i+r}function sB(t){return typeof t[t.length-1]=="number"||typeof t[0]=="number"}function yie(t){return Object.keys(t||{}).map(function(e){return{key:e,value:t[e]}})}Oi.validate=Id;Oi.processMessage=R8;var _ie=Oi,bie=zv,nv=_ie;function xie(t){if(typeof window<"u")return t instanceof La.Blob||t instanceof La.ArrayBuffer?void 0:"Blob or ArrayBuffer";if(!(typeof t=="string"||t.pipe!==void 0))return"Filename or Readable stream"}function wie(t,e){return nv.assert(nv.strictShape(t),e)}function Cie(t){var e="date";if(typeof t=="boolean")return e;try{var n=new Date(t);if(n.getTime&&isNaN(n.getTime()))return e}catch{return e}}function Sie(t){return nv.tuple(nv.number,nv.number)(t)}var Tie=bie(nv,{file:xie,date:Cie,coordinates:Sie,assertShape:wie});function Eie(t,e){var n=function(r,i){return e.indexOf(r)!==-1&&i!==void 0};return typeof e=="function"&&(n=e),Object.keys(t).filter(function(r){return n(r,t[r])}).reduce(function(r,i){return r[i]=t[i],r},{})}var Pie=Eie;function Mie(t,e){return Object.keys(t).reduce(function(n,r){return n[r]=e(r,t[r]),n},{})}var kie=Mie,Aie=kie;function Iie(t){return Aie(t,function(e,n){return typeof n=="boolean"?JSON.stringify(n):n})}var Oie=Iie,Die=eB,Rie=rB;function Lie(t){return function(e){var n;Die.prototype.isPrototypeOf(e)?n=e:n=Rie(e);var r=Object.create(t);return r.client=n,r}}var Fie=Lie,lB=zv,Ur=Tie,Xb=Pie,uB=Oie,Nie=Fie,L8={},cB=["country","region","postcode","district","place","locality","neighborhood","address","poi","poi.landmark"];L8.forwardGeocode=function(t){Ur.assertShape({query:Ur.required(Ur.string),mode:Ur.oneOf("mapbox.places","mapbox.places-permanent"),countries:Ur.arrayOf(Ur.string),proximity:Ur.oneOf(Ur.coordinates,"ip"),types:Ur.arrayOf(Ur.oneOf(cB)),autocomplete:Ur.boolean,bbox:Ur.arrayOf(Ur.number),limit:Ur.number,language:Ur.arrayOf(Ur.string),routing:Ur.boolean,fuzzyMatch:Ur.boolean,worldview:Ur.string})(t),t.mode=t.mode||"mapbox.places";var e=uB(lB({country:t.countries},Xb(t,["proximity","types","autocomplete","bbox","limit","language","routing","fuzzyMatch","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Xb(t,["mode","query"]),query:e})};L8.reverseGeocode=function(t){Ur.assertShape({query:Ur.required(Ur.coordinates),mode:Ur.oneOf("mapbox.places","mapbox.places-permanent"),countries:Ur.arrayOf(Ur.string),types:Ur.arrayOf(Ur.oneOf(cB)),bbox:Ur.arrayOf(Ur.number),limit:Ur.number,language:Ur.arrayOf(Ur.string),reverseMode:Ur.oneOf("distance","score"),routing:Ur.boolean,worldview:Ur.string})(t),t.mode=t.mode||"mapbox.places";var e=uB(lB({country:t.countries},Xb(t,["country","types","bbox","limit","language","reverseMode","routing","worldview"])));return this.client.createRequest({method:"GET",path:"/geocoding/v5/:mode/:query.json",params:Xb(t,["mode","query"]),query:e})};var Bie=Nie(L8);let zie="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",dB=t=>crypto.getRandomValues(new Uint8Array(t)),fB=(t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let l="";for(;;){let a=n(i),f=i;for(;f--;)if(l+=t[a[f]&r]||"",l.length===o)return l}}},$ie=(t,e=21)=>fB(t,e,dB),jie=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const Vie=Object.freeze(Object.defineProperty({__proto__:null,customAlphabet:$ie,customRandom:fB,nanoid:jie,random:dB,urlAlphabet:zie},Symbol.toStringTag,{value:"Module"})),Uie=Vne(Vie);var Hie=Uie.nanoid;function hB(t){this.origin=t.origin||"https://api.mapbox.com",this.endpoint="events/v2",this.access_token=t.accessToken,this.version="0.2.0",this.sessionID=this.generateSessionID(),this.userAgent=this.getUserAgent(),this.options=t,this.send=this.send.bind(this),this.countries=t.countries?t.countries.split(","):null,this.types=t.types?t.types.split(","):null,this.bbox=t.bbox?t.bbox:null,this.language=t.language?t.language.split(","):null,this.limit=t.limit?+t.limit:null,this.locale=navigator.language||null,this.enableEventLogging=this.shouldEnableLogging(t),this.eventQueue=new Array,this.flushInterval=t.flushInterval||1e3,this.maxQueueSize=t.maxQueueSize||100,this.timer=this.flushInterval?setTimeout(this.flush.bind(this),this.flushInterval):null,this.lastSentInput="",this.lastSentIndex=0}hB.prototype={select:function(t,e){var n=this.getSelectedIndex(t,e),r=this.getEventPayload("search.select",e);if(r.resultIndex=n,r.resultPlaceName=t.place_name,r.resultId=t.id,!(n===this.lastSentIndex&&r.queryString===this.lastSentInput||n==-1)&&(this.lastSentIndex=n,this.lastSentInput=r.queryString,!!r.queryString))return this.push(r)},start:function(t){var e=this.getEventPayload("search.start",t);if(e.queryString)return this.push(e)},keyevent:function(t,e){if(t.key&&!(t.metaKey||[9,27,37,39,13,38,40].indexOf(t.keyCode)!==-1)){var n=this.getEventPayload("search.keystroke",e);if(n.lastAction=t.key,!!n.queryString)return this.push(n)}},send:function(t,e){if(!this.enableEventLogging)return e?e():void 0;var n=this.getRequestOptions(t);this.request(n,function(r){if(r)return this.handleError(r,e);if(e)return e()}.bind(this))},getRequestOptions:function(t){Array.isArray(t)||(t=[t]);var e={method:"POST",host:this.origin,path:this.endpoint+"?access_token="+this.access_token,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)};return e},getEventPayload:function(t,e){var n;e.options.proximity?typeof e.options.proximity=="object"?n=[e.options.proximity.longitude,e.options.proximity.latitude]:e.options.proximity==="ip"?n=[999,999]:n=e.options.proximity:n=null;var r=e._map?e._map.getZoom():void 0,i={event:t,created:+new Date,sessionIdentifier:this.sessionID,country:this.countries,userAgent:this.userAgent,language:this.language,bbox:this.bbox,types:this.types,endpoint:"mapbox.places",autocomplete:e.options.autocomplete,fuzzyMatch:e.options.fuzzyMatch,proximity:n,limit:e.options.limit,routing:e.options.routing,worldview:e.options.worldview,mapZoom:r,keyboardLocale:this.locale};return t==="search.select"?i.queryString=e.inputString:t!="search.select"&&e._inputEl?i.queryString=e._inputEl.value:i.queryString=e.inputString,i},request:function(t,e){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(this.readyState==4)return this.status==204?e(null):e(this.statusText)},n.open(t.method,t.host+"/"+t.path,!0);for(var r in t.headers){var i=t.headers[r];n.setRequestHeader(r,i)}n.send(t.body)},handleError:function(t,e){if(e)return e(t)},generateSessionID:function(){return Hie()},getUserAgent:function(){return"mapbox-gl-geocoder."+this.version+"."+navigator.userAgent},getSelectedIndex:function(t,e){if(e._typeahead){var n=e._typeahead.data,r=t.id,i=n.map(function(l){return l.id}),o=i.indexOf(r);return o}},shouldEnableLogging:function(t){return!(t.enableEventLogging===!1||t.origin&&t.origin!=="https://api.mapbox.com"||t.localGeocoder||t.filter)},flush:function(){this.eventQueue.length>0&&(this.send(this.eventQueue),this.eventQueue=new Array),this.timer&&clearTimeout(this.timer),this.flushInterval&&(this.timer=setTimeout(this.flush.bind(this),this.flushInterval))},push:function(t,e){this.eventQueue.push(t),(this.eventQueue.length>=this.maxQueueSize||e)&&this.flush()},remove:function(){this.flush()}};var Kie=hB,Wie={de:"Suche",it:"Ricerca",en:"Search",nl:"Zoeken",fr:"Chercher",ca:"Cerca",he:"",ja:"",lv:"Meklt",pt:"Procurar",sr:"",zh:"",cs:"Vyhledvn",hu:"Keress",ka:"",nb:"Ske",sk:"Vyhadvanie",th:"",fi:"Hae",is:"Leita",ko:"",pl:"Szukaj",sl:"Iskanje",fa:"",ru:""},Gie={placeholder:Wie},pB={exports:{}};(function(t){(function(e,n,r){t.exports?t.exports=r():e[n]=r()})(La,"subtag",function(){var e="",n=/^([a-zA-Z]{2,3})(?:[_-]+([a-zA-Z]{3})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{4})(?=$|[_-]+))?(?:[_-]+([a-zA-Z]{2}|[0-9]{3})(?=$|[_-]+))?/;function r(f){return f.match(n)||[]}function i(f){return r(f).filter(function(p,v){return p&&v})}function o(f){return f=r(f),{language:f[1]||e,extlang:f[2]||e,script:f[3]||e,region:f[4]||e}}function l(f,p,v){Object.defineProperty(f,p,{value:v,enumerable:!0})}function a(f,p,v){function g(_){return r(_)[f]||e}l(g,"pattern",p),l(o,v,g)}return a(1,/^[a-zA-Z]{2,3}$/,"language"),a(2,/^[a-zA-Z]{3}$/,"extlang"),a(3,/^[a-zA-Z]{4}$/,"script"),a(4,/^[a-zA-Z]{2}$|^[0-9]{3}$/,"region"),l(o,"split",i),o})})(pB);var qie=pB.exports;function vB(){}vB.prototype={isSupport:function(){return!!window.navigator.geolocation},getCurrentPosition:function(){const t={enableHighAccuracy:!0};return new Promise(function(e,n){window.navigator.geolocation.getCurrentPosition(e,n,t)})}};var Yie=vB;function Xie(t,e){const n=mB(t),r=["address","street","place","country"];var i;if(typeof e=="function")return e(n);const o=r.indexOf(e);return o===-1?i=r:i=r.slice(o),i.reduce(function(l,a){return n[a]?(l!==""&&(l=l+", "),l+n[a]):l},"")}function mB(t){const e=t.address||"",n=t.text||"",r=t.place_name||"",o={address:r.split(",")[0],houseNumber:e,street:n,placeName:r};return t.context.forEach(function(l){const a=l.id.split(".")[0];o[a]=l.text}),o}const Zie=/^[ ]*(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)[ ]*$/;var Qie={transformFeatureToGeolocationText:Xie,getAddressInfo:mB,REVERSE_GEOCODE_COORD_RGX:Zie},Jie=tre,eae=_re,jf=zv,tae=Ere.EventEmitter,wA=Pre,yC=cie,_C=Bie,nae=Kie,rae=Gie,iae=qie,aae=Yie,CA=Qie;const Qc={FORWARD:0,LOCAL:1,REVERSE:2};function oae(){var t=document.createElement("div");return t.className="mapboxgl-ctrl-geocoder--powered-by",t.innerHTML='<a href="https://www.mapbox.com/search-service" target="_blank">Powered by Mapbox</a>',t}function gB(t){this._eventEmitter=new tae,this.options=jf({},this.options,t),this.inputString="",this.fresh=!0,this.lastSelected=null,this.geolocation=new aae}gB.prototype={options:{zoom:16,flyTo:!0,trackProximity:!0,minLength:2,reverseGeocode:!1,flipCoordinates:!1,limit:5,origin:"https://api.mapbox.com",enableEventLogging:!0,marker:!0,mapboxgl:null,collapsed:!1,clearAndBlurOnEsc:!1,clearOnBlur:!1,enableGeolocation:!1,addressAccuracy:"street",getItemValue:function(t){return t.place_name},render:function(t){var e=t.place_name.split(",");return'<div class="mapboxgl-ctrl-geocoder--suggestion"><div class="mapboxgl-ctrl-geocoder--suggestion-title">'+e[0]+'</div><div class="mapboxgl-ctrl-geocoder--suggestion-address">'+e.splice(1,e.length).join(",")+"</div></div>"}},addTo:function(t){function e(n,r){if(!document.body.contains(r))throw new Error("Element provided to #addTo() exists, but is not in the DOM");const i=n.onAdd();r.appendChild(i)}if(t._controlContainer)t.addControl(this);else if(t instanceof HTMLElement)e(this,t);else if(typeof t=="string"){const n=document.querySelectorAll(t);if(n.length===0)throw new Error("Element ",t,"not found.");if(n.length>1)throw new Error("Geocoder can only be added to a single html element");e(this,n[0])}else throw new Error("Error: addTo must be a mapbox-gl-js map, an html element, or a CSS selector query for a single html element")},onAdd:function(t){if(t&&typeof t!="string"&&(this._map=t),this.setLanguage(),this.options.localGeocoderOnly||(this.geocoderService=_C(yC({accessToken:this.options.accessToken,origin:this.options.origin}))),this.options.localGeocoderOnly&&!this.options.localGeocoder)throw new Error("A localGeocoder function must be specified to use localGeocoderOnly mode");this.eventManager=new nae(this.options),this._onChange=this._onChange.bind(this),this._onKeyDown=this._onKeyDown.bind(this),this._onPaste=this._onPaste.bind(this),this._onBlur=this._onBlur.bind(this),this._showButton=this._showButton.bind(this),this._hideButton=this._hideButton.bind(this),this._onQueryResult=this._onQueryResult.bind(this),this.clear=this.clear.bind(this),this._updateProximity=this._updateProximity.bind(this),this._collapse=this._collapse.bind(this),this._unCollapse=this._unCollapse.bind(this),this._clear=this._clear.bind(this),this._clearOnBlur=this._clearOnBlur.bind(this),this._geolocateUser=this._geolocateUser.bind(this);var e=this.container=document.createElement("div");e.className="mapboxgl-ctrl-geocoder mapboxgl-ctrl";var n=this.createIcon("search",'<path d="M7.4 2.5c-2.7 0-4.9 2.2-4.9 4.9s2.2 4.9 4.9 4.9c1 0 1.8-.2 2.5-.8l3.7 3.7c.2.2.4.3.8.3.7 0 1.1-.4 1.1-1.1 0-.3-.1-.5-.3-.8L11.4 10c.4-.8.8-1.6.8-2.5.1-2.8-2.1-5-4.8-5zm0 1.6c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2-3.3-1.3-3.3-3.1 1.4-3.3 3.3-3.3z"/>');this._inputEl=document.createElement("input"),this._inputEl.type="text",this._inputEl.className="mapboxgl-ctrl-geocoder--input",this.setPlaceholder(),this.options.collapsed&&(this._collapse(),this.container.addEventListener("mouseenter",this._unCollapse),this.container.addEventListener("mouseleave",this._collapse),this._inputEl.addEventListener("focus",this._unCollapse)),(this.options.collapsed||this.options.clearOnBlur)&&this._inputEl.addEventListener("blur",this._onBlur),this._inputEl.addEventListener("keydown",eae(this._onKeyDown,200)),this._inputEl.addEventListener("paste",this._onPaste),this._inputEl.addEventListener("change",this._onChange),this.container.addEventListener("mouseenter",this._showButton),this.container.addEventListener("mouseleave",this._hideButton),this._inputEl.addEventListener("keyup",function(p){this.eventManager.keyevent(p,this)}.bind(this));var r=document.createElement("div");r.classList.add("mapboxgl-ctrl-geocoder--pin-right"),this._clearEl=document.createElement("button"),this._clearEl.setAttribute("aria-label","Clear"),this._clearEl.addEventListener("click",this.clear),this._clearEl.className="mapboxgl-ctrl-geocoder--button";var i=this.createIcon("close",'<path d="M3.8 2.5c-.6 0-1.3.7-1.3 1.3 0 .3.2.7.5.8L7.2 9 3 13.2c-.3.3-.5.7-.5 1 0 .6.7 1.3 1.3 1.3.3 0 .7-.2 1-.5L9 10.8l4.2 4.2c.2.3.7.3 1 .3.6 0 1.3-.7 1.3-1.3 0-.3-.2-.7-.3-1l-4.4-4L15 4.6c.3-.2.5-.5.5-.8 0-.7-.7-1.3-1.3-1.3-.3 0-.7.2-1 .3L9 7.1 4.8 2.8c-.3-.1-.7-.3-1-.3z"/>');if(this._clearEl.appendChild(i),this._loadingEl=this.createIcon("loading",'<path fill="#333" d="M4.4 4.4l.8.8c2.1-2.1 5.5-2.1 7.6 0l.8-.8c-2.5-2.5-6.7-2.5-9.2 0z"/><path opacity=".1" d="M12.8 12.9c-2.1 2.1-5.5 2.1-7.6 0-2.1-2.1-2.1-5.5 0-7.7l-.8-.8c-2.5 2.5-2.5 6.7 0 9.2s6.6 2.5 9.2 0 2.5-6.6 0-9.2l-.8.8c2.2 2.1 2.2 5.6 0 7.7z"/>'),r.appendChild(this._clearEl),r.appendChild(this._loadingEl),e.appendChild(n),e.appendChild(this._inputEl),e.appendChild(r),this.options.enableGeolocation&&this.geolocation.isSupport()){this._geolocateEl=document.createElement("button"),this._geolocateEl.setAttribute("aria-label","Geolocate"),this._geolocateEl.addEventListener("click",this._geolocateUser),this._geolocateEl.className="mapboxgl-ctrl-geocoder--button";var o=this.createIcon("geolocate",'<path d="M12.999 3.677L2.042 8.269c-.962.403-.747 1.823.29 1.912l5.032.431.431 5.033c.089 1.037 1.509 1.252 1.912.29l4.592-10.957c.345-.822-.477-1.644-1.299-1.299z" fill="#4264fb"/>');this._geolocateEl.appendChild(o),r.appendChild(this._geolocateEl),this._showGeolocateButton()}var l=this._typeahead=new Jie(this._inputEl,[],{filter:!1,minLength:this.options.minLength,limit:this.options.limit});this.setRenderFunction(this.options.render),l.getItemValue=this.options.getItemValue;var a=l.list.draw,f=this._footerNode=oae();return l.list.draw=function(){a.call(this),f.addEventListener("mousedown",function(){this.selectingListItem=!0}.bind(this)),f.addEventListener("mouseup",function(){this.selectingListItem=!1}.bind(this)),this.element.appendChild(f)},this.mapMarker=null,this._handleMarker=this._handleMarker.bind(this),this._map&&(this.options.trackProximity&&(this._updateProximity(),this._map.on("moveend",this._updateProximity)),this._mapboxgl=this.options.mapboxgl,!this._mapboxgl&&this.options.marker&&(console.error("No mapboxgl detected in options. Map markers are disabled. Please set options.mapboxgl."),this.options.marker=!1)),e},_geolocateUser:function(){this._hideGeolocateButton(),this._showLoadingIcon(),this.geolocation.getCurrentPosition().then(function(t){this._hideLoadingIcon();const e={geometry:{type:"Point",coordinates:[t.coords.longitude,t.coords.latitude]}};this._handleMarker(e),this._fly(e),this._typeahead.clear(),this._typeahead.selected=!0,this.lastSelected=JSON.stringify(e),this._showClearButton(),this.fresh=!1;const n={limit:1,language:[this.options.language],query:e.geometry.coordinates,types:["address"]};if(this.options.localGeocoderOnly){const r=e.geometry.coordinates[0]+","+e.geometry.coordinates[1];this._setInputValue(r),this._eventEmitter.emit("result",{result:e})}else this.geocoderService.reverseGeocode(n).send().then(function(r){const i=r.body.features[0];if(i){const o=CA.transformFeatureToGeolocationText(i,this.options.addressAccuracy);this._setInputValue(o),i.user_coordinates=e.geometry.coordinates,this._eventEmitter.emit("result",{result:i})}else this._eventEmitter.emit("result",{result:{user_coordinates:e.geometry.coordinates}})}.bind(this))}.bind(this)).catch(function(t){t.code===1?this._renderUserDeniedGeolocationError():this._renderLocationError(),this._hideLoadingIcon(),this._showGeolocateButton(),this._hideAttribution()}.bind(this))},createIcon:function(t,e){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("class","mapboxgl-ctrl-geocoder--icon mapboxgl-ctrl-geocoder--icon-"+t),n.setAttribute("viewBox","0 0 18 18"),n.setAttribute("xml:space","preserve"),n.setAttribute("width",18),n.setAttribute("height",18),n.innerHTML=e,n},onRemove:function(){return this.container.parentNode.removeChild(this.container),this.options.trackProximity&&this._map&&this._map.off("moveend",this._updateProximity),this._removeMarker(),this._map=null,this},_setInputValue:function(t){this._inputEl.value=t,setTimeout(function(){this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0)}.bind(this),1)},_onPaste:function(t){var e=(t.clipboardData||window.clipboardData).getData("text");e.length>=this.options.minLength&&this._geocode(e)},_onKeyDown:function(t){var e=27,n=9;if(t.keyCode===e&&this.options.clearAndBlurOnEsc)return this._clear(t),this._inputEl.blur();var r=t.target&&t.target.shadowRoot?t.target.shadowRoot.activeElement:t.target,i=r?r.value:"";if(!i)return this.fresh=!0,t.keyCode!==n&&this.clear(t),this._showGeolocateButton(),this._hideClearButton();this._hideGeolocateButton(),!(t.metaKey||[n,e,37,39,13,38,40].indexOf(t.keyCode)!==-1)&&r.value.length>=this.options.minLength&&this._geocode(r.value)},_showButton:function(){this._typeahead.selected&&this._showClearButton()},_hideButton:function(){this._typeahead.selected&&this._hideClearButton()},_showClearButton:function(){this._clearEl.style.display="block"},_hideClearButton:function(){this._clearEl.style.display="none"},_showGeolocateButton:function(){this._geolocateEl&&this.geolocation.isSupport()&&(this._geolocateEl.style.display="block")},_hideGeolocateButton:function(){this._geolocateEl&&(this._geolocateEl.style.display="none")},_showLoadingIcon:function(){this._loadingEl.style.display="block"},_hideLoadingIcon:function(){this._loadingEl.style.display="none"},_showAttribution:function(){this._footerNode.style.display="block"},_hideAttribution:function(){this._footerNode.style.display="none"},_onBlur:function(t){this.options.clearOnBlur&&this._clearOnBlur(t),this.options.collapsed&&this._collapse()},_onChange:function(){var t=this._typeahead.selected;t&&JSON.stringify(t)!==this.lastSelected&&(this._hideClearButton(),this.options.flyTo&&this._fly(t),this.options.marker&&this._mapboxgl&&this._handleMarker(t),this._inputEl.focus(),this._inputEl.scrollLeft=0,this._inputEl.setSelectionRange(0,0),this.lastSelected=JSON.stringify(t),this._eventEmitter.emit("result",{result:t}),this.eventManager.select(t,this))},_fly:function(t){var e;if(t.properties&&wA[t.properties.short_code])e=jf({},this.options.flyTo),this._map&&this._map.fitBounds(wA[t.properties.short_code].bbox,e);else if(t.bbox){var n=t.bbox;e=jf({},this.options.flyTo),this._map&&this._map.fitBounds([[n[0],n[1]],[n[2],n[3]]],e)}else{var r={zoom:this.options.zoom};e=jf({},r,this.options.flyTo),t.center?e.center=t.center:t.geometry&&t.geometry.type&&t.geometry.type==="Point"&&t.geometry.coordinates&&(e.center=t.geometry.coordinates),this._map&&this._map.flyTo(e)}},_requestType:function(t,e){var n;return t.localGeocoderOnly?n=Qc.LOCAL:t.reverseGeocode&&CA.REVERSE_GEOCODE_COORD_RGX.test(e)?n=Qc.REVERSE:n=Qc.FORWARD,n},_setupConfig:function(t,e){const n=["bbox","limit","proximity","countries","types","language","reverseMode","mode","autocomplete","fuzzyMatch","routing","worldview"],r=/[\s,]+/;var i=this,o=n.reduce(function(a,f){if(i.options[f]===void 0||i.options[f]===null)return a;["countries","types","language"].indexOf(f)>-1?a[f]=i.options[f].split(r):a[f]=i.options[f];const p=typeof i.options[f].longitude=="number"&&typeof i.options[f].latitude=="number";if(f==="proximity"&&p){const v=i.options[f].longitude,g=i.options[f].latitude;a[f]=[v,g]}return a},{});switch(t){case Qc.REVERSE:{var l=e.split(r).map(function(a){return parseFloat(a,10)});i.options.flipCoordinates||l.reverse(),o.types&&o.types[0],o=jf(o,{query:l,limit:1}),["proximity","autocomplete","fuzzyMatch","bbox"].forEach(function(a){a in o&&delete o[a]})}break;case Qc.FORWARD:{const a=e.trim();/^(-?\d{1,3}(\.\d{0,256})?)[, ]+(-?\d{1,3}(\.\d{0,256})?)?$/.test(a)&&(e=e.replace(/,/g," ")),o=jf(o,{query:e})}break}return o},_geocode:function(t){this.inputString=t,this._showLoadingIcon(),this._eventEmitter.emit("loading",{query:t});const e=this._requestType(this.options,t),n=this._setupConfig(e,t);var r;switch(e){case Qc.LOCAL:r=Promise.resolve();break;case Qc.FORWARD:r=this.geocoderService.forwardGeocode(n).send();break;case Qc.REVERSE:r=this.geocoderService.reverseGeocode(n).send();break}var i=this.options.localGeocoder?this.options.localGeocoder(t)||[]:[],o=[],l=null;return r.catch(function(a){l=a}.bind(this)).then(function(a){this._hideLoadingIcon();var f={};return a?a.statusCode=="200"&&(f=a.body,f.request=a.request,f.headers=a.headers):f={type:"FeatureCollection",features:[]},f.config=n,this.fresh&&(this.eventManager.start(this),this.fresh=!1),f.features=f.features?i.concat(f.features):i,this.options.externalGeocoder?(o=this.options.externalGeocoder(t,f.features)||Promise.resolve([]),o.then(function(p){return f.features=f.features?p.concat(f.features):p,f},function(){return f})):f}.bind(this)).then(function(a){if(l)throw l;this.options.filter&&a.features.length&&(a.features=a.features.filter(this.options.filter)),a.features.length?(this._showClearButton(),this._hideGeolocateButton(),this._showAttribution(),this._eventEmitter.emit("results",a),this._typeahead.update(a.features)):(this._hideClearButton(),this._hideAttribution(),this._typeahead.selected=null,this._renderNoResults(),this._eventEmitter.emit("results",a))}.bind(this)).catch(function(a){this._hideLoadingIcon(),this._hideAttribution(),i.length&&this.options.localGeocoder||o.length&&this.options.externalGeocoder?(this._showClearButton(),this._hideGeolocateButton(),this._typeahead.update(i)):(this._hideClearButton(),this._typeahead.selected=null,this._renderError()),this._eventEmitter.emit("results",{features:i}),this._eventEmitter.emit("error",{error:a})}.bind(this)),r},_clear:function(t){t&&t.preventDefault(),this._inputEl.value="",this._typeahead.selected=null,this._typeahead.clear(),this._onChange(),this._hideClearButton(),this._showGeolocateButton(),this._removeMarker(),this.lastSelected=null,this._eventEmitter.emit("clear"),this.fresh=!0},clear:function(t){this._clear(t),this._inputEl.focus()},_clearOnBlur:function(t){var e=this;t.relatedTarget&&e._clear(t)},_onQueryResult:function(t){var e=t.body;if(e.features.length){var n=e.features[0];this._typeahead.selected=n,this._inputEl.value=n.place_name,this._onChange()}},_updateProximity:function(){if(!(!this._map||!this.options.trackProximity))if(this._map.getZoom()>9){var t=this._map.getCenter().wrap();this.setProximity({longitude:t.lng,latitude:t.lat},!1)}else this.setProximity(null,!1)},_collapse:function(){!this._inputEl.value&&this._inputEl!==document.activeElement&&this.container.classList.add("mapboxgl-ctrl-geocoder--collapsed")},_unCollapse:function(){this.container.classList.remove("mapboxgl-ctrl-geocoder--collapsed")},query:function(t){return this._geocode(t).then(this._onQueryResult),this},_renderError:function(){var t="<div class='mapbox-gl-geocoder--error'>There was an error reaching the server</div>";this._renderMessage(t)},_renderLocationError:function(){var t="<div class='mapbox-gl-geocoder--error'>A location error has occurred</div>";this._renderMessage(t)},_renderNoResults:function(){var t="<div class='mapbox-gl-geocoder--error mapbox-gl-geocoder--no-results'>No results found</div>";this._renderMessage(t)},_renderUserDeniedGeolocationError:function(){var t="<div class='mapbox-gl-geocoder--error'>Geolocation permission denied</div>";this._renderMessage(t)},_renderMessage:function(t){this._typeahead.update([]),this._typeahead.selected=null,this._typeahead.clear(),this._typeahead.renderError(t)},_getPlaceholderText:function(){if(this.options.placeholder)return this.options.placeholder;if(this.options.language){var t=this.options.language.split(",")[0],e=iae.language(t),n=rae.placeholder[e];if(n)return n}return"Search"},setInput:function(t){return this._inputEl.value=t,this._typeahead.selected=null,this._typeahead.clear(),t.length>=this.options.minLength&&this._geocode(t),this},setProximity:function(t,e=!0){return this.options.proximity=t,e&&(this.options.trackProximity=!1),this},getProximity:function(){return this.options.proximity},setRenderFunction:function(t){return t&&typeof t=="function"&&(this._typeahead.render=t),this},getRenderFunction:function(){return this._typeahead.render},setLanguage:function(t){var e=navigator.language||navigator.userLanguage||navigator.browserLanguage;return this.options.language=t||this.options.language||e,this},getLanguage:function(){return this.options.language},getZoom:function(){return this.options.zoom},setZoom:function(t){return this.options.zoom=t,this},getFlyTo:function(){return this.options.flyTo},setFlyTo:function(t){return this.options.flyTo=t,this},getPlaceholder:function(){return this.options.placeholder},setPlaceholder:function(t){return this.placeholder=t||this._getPlaceholderText(),this._inputEl.placeholder=this.placeholder,this._inputEl.setAttribute("aria-label",this.placeholder),this},getBbox:function(){return this.options.bbox},setBbox:function(t){return this.options.bbox=t,this},getCountries:function(){return this.options.countries},setCountries:function(t){return this.options.countries=t,this},getTypes:function(){return this.options.types},setTypes:function(t){return this.options.types=t,this},getMinLength:function(){return this.options.minLength},setMinLength:function(t){return this.options.minLength=t,this._typeahead&&(this._typeahead.options.minLength=t),this},getLimit:function(){return this.options.limit},setLimit:function(t){return this.options.limit=t,this._typeahead&&(this._typeahead.options.limit=t),this},getFilter:function(){return this.options.filter},setFilter:function(t){return this.options.filter=t,this},setOrigin:function(t){return this.options.origin=t,this.geocoderService=_C(yC({accessToken:this.options.accessToken,origin:this.options.origin})),this},getOrigin:function(){return this.options.origin},setAccessToken:function(t){return this.options.accessToken=t,this.geocoderService=_C(yC({accessToken:this.options.accessToken,origin:this.options.origin})),this},setAutocomplete:function(t){return this.options.autocomplete=t,this},getAutocomplete:function(){return this.options.autocomplete},setFuzzyMatch:function(t){return this.options.fuzzyMatch=t,this},getFuzzyMatch:function(){return this.options.fuzzyMatch},setRouting:function(t){return this.options.routing=t,this},getRouting:function(){return this.options.routing},setWorldview:function(t){return this.options.worldview=t,this},getWorldview:function(){return this.options.worldview},_handleMarker:function(t){if(this._map){this._removeMarker();var e={color:"#4668F2"},n=jf({},e,this.options.marker);return this.mapMarker=new this._mapboxgl.Marker(n),t.center?this.mapMarker.setLngLat(t.center).addTo(this._map):t.geometry&&t.geometry.type&&t.geometry.type==="Point"&&t.geometry.coordinates&&this.mapMarker.setLngLat(t.geometry.coordinates).addTo(this._map),this}},_removeMarker:function(){this.mapMarker&&(this.mapMarker.remove(),this.mapMarker=null)},on:function(t,e){return this._eventEmitter.on(t,e),this},off:function(t,e){return this._eventEmitter.removeListener(t,e),this.eventManager.remove(),this}};var sae=gB;const lae=Ml(sae),uae={data(){return{map:null,geojson:Wne,year:"2020",sideProvince:"",sideGDP:0,Q0:0,Q1:0,Q2:0,Q3:0,Q4:0,openKeys:["sub1","sub2"],currentData:null,hoveredPolygonId:null,selected:!1,geocoder:null,showChart:!1,chartData:{}}},methods:{updateYear(t){this.year=t.toString()},toggleChart(){this.showChart=!this.showChart}},watch:{year(t){let e=this.geojson.features.map(n=>n.properties[t]);this.Q0=Xl(e,0),this.Q1=Xl(e,.25),this.Q2=Xl(e,.5),this.Q3=Xl(e,.75),this.Q4=Xl(e,1),this.sideGDP=this.currentData[0].properties[t],this.map&&this.map.setPaintProperty("polygon","fill-color",["interpolate",["linear"],["get",t],this.Q0,"#eff3ff",this.Q1,"#bdd7e7",this.Q2,"#6baed6",this.Q3,"#3182bd",this.Q4,"#08519c"])}},mounted(){e_.accessToken="pk.eyJ1IjoiYWl3aGVuIiwiYSI6ImNsaWwxMWhxYzA0OG0zZXBqem5tbWtrdHcifQ._L6deX2FwFlxpqQwhi8Zwg";let t=this.geojson.features.map(e=>e.properties[this.year]);this.Q0=Xl(t,0),this.Q1=Xl(t,.25),this.Q2=Xl(t,.5),this.Q3=Xl(t,.75),this.Q4=Xl(t,1),this.map=new e_.Map({container:this.$refs.mapContainer,style:"mapbox://styles/mapbox/light-v11",center:[119,32],zoom:9}),this.geocoder=new lae({accessToken:e_.accessToken,language:"zh-CN",mapboxgl:e_,marker:{color:"red"}}),this.map.addControl(this.geocoder),this.map.on("load",()=>{this.map.addSource("provinces",{type:"geojson",data:this.geojson,generateId:!0}),this.map.addLayer({id:"polygon",type:"fill",source:"provinces",paint:{"fill-color":["interpolate",["linear"],["get",this.year],this.Q0,"#eff3ff",this.Q1,"#bdd7e7",this.Q2,"#6baed6",this.Q3,"#3182bd",this.Q4,"#08519c"],"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.6,.8]}}),this.map.addLayer({id:"outline",type:"line",source:"provinces",layout:{},paint:{"line-color":"black","line-width":2}}),this.map.getStyle().layers.forEach(e=>{e.type==="symbol"&&e.layout["text-field"]&&this.map.setLayoutProperty(e.id,"text-field",["get","name_zh-Hans"])}),this.map.on("click","polygon",e=>{this.currentData=this.map.queryRenderedFeatures(e.point,{layers:["polygon"]}),this.sideProvince=this.currentData[0].properties.NL_NAME_1,this.sideGDP=this.currentData[0].properties[this.year],this.chartData=this.currentData[0].properties,delete this.chartData.NAME_1,delete this.chartData.NL_NAME_1,this.selected||(this.selected=!this.selected),this.showChart||(this.showChart=!this.showChart)}),this.map.on("mousemove","polygon",e=>{this.map.getCanvas().style.cursor="pointer",e.features.length>0&&(this.hoveredPolygonId!==null&&this.map.setFeatureState({source:"provinces",id:this.hoveredPolygonId},{hover:!1}),this.hoveredPolygonId=e.features[0].id,this.map.setFeatureState({source:"provinces",id:this.hoveredPolygonId},{hover:!0}))}),this.map.on("mouseleave","polygon",e=>{this.map.getCanvas().style.cursor="",this.hoveredPolygonId!==null&&this.map.setFeatureState({source:"provinces",id:this.hoveredPolygonId},{hover:!1}),this.hoveredPolygonId=null})})},beforeDestroy(){this.map&&this.map.remove()}};function Xl(t,e){t.sort((l,a)=>l-a);const n=(t.length-1)*e,r=Math.floor(n),i=r+1,o=n%1;return i>=t.length?t[r]:t[r]*(1-o)+t[i]*o}const $v=t=>(OF("data-v-968c5d65"),t=t(),DF(),t),cae={ref:"mapContainer",class:"map"},dae=$v(()=>ki("div",{id:"geocoder",class:"geocoder"},null,-1)),fae={style:{"font-size":"32px","margin-bottom":"-2px","margin-top":"-10px"}},hae={style:{"font-size":"16px"}},pae=$v(()=>ki("span",{class:"legendKey",style:{"background-color":"#eff3ff"}},null,-1)),vae={class:"legendValue"},mae=$v(()=>ki("span",{class:"legendKey",style:{"background-color":"#bdd7e7"}},null,-1)),gae={class:"legendValue"},yae=$v(()=>ki("span",{class:"legendKey",style:{"background-color":"#6baed6"}},null,-1)),_ae={class:"legendValue"},bae=$v(()=>ki("span",{class:"legendKey",style:{"background-color":"#3182bd"}},null,-1)),xae={class:"legendValue"},wae=$v(()=>ki("span",{class:"legendKey",style:{"background-color":"#08519c"}},null,-1)),Cae={class:"legendValue"};function Sae(t,e,n,r,i,o){const l=sd("a-slider"),a=sd("a-menu-item"),f=sd("a-sub-menu"),p=sd("a-menu"),v=sd("a-card"),g=sd("line-chart");return nu(),QF(Kn,null,[ki("div",cae,null,512),dae,M(p,{class:"sideMenu",mode:"inline",openKeys:i.openKeys,style:{width:"256px"}},{default:Uu(()=>[M(f,{title:"",key:"sub1"},{default:Uu(()=>[i.selected?(nu(),dd(l,{key:0,id:"test",value:i.year,"onUpdate:value":e[0]||(e[0]=_=>i.year=_),min:2010,max:2020,dots:!0,onChange:o.updateYear},null,8,["value","onChange"])):(nu(),dd(a,{key:1,disabled:!0},{default:Uu(()=>[vo("")]),_:1}))]),_:1}),M(f,{title:"",key:"sub2"},{default:Uu(()=>[i.showChart?(nu(),dd(a,{key:1,onClick:o.toggleChart},{default:Uu(()=>[vo("")]),_:1},8,["onClick"])):(nu(),dd(a,{key:0,onClick:o.toggleChart},{default:Uu(()=>[vo("")]),_:1},8,["onClick"]))]),_:1})]),_:1},8,["openKeys"]),M(v,{class:"sideInfo",title:"GDP",bordered:!1,style:{width:"300px"}},{default:Uu(()=>[ki("p",fae,[ki("strong",null,Ls(i.sideProvince),1)]),ki("p",hae,[vo(Ls(i.year)+"GDP: ",1),ki("strong",null,Ls(i.sideGDP),1)])]),_:1}),M(v,{class:"sideLegend",title:" (GDP)",bordered:!1,style:{width:"300px"}},{default:Uu(()=>[ki("div",null,[pae,ki("span",vae,Ls(i.Q0)+" ~ "+Ls(i.Q1),1)]),ki("div",null,[mae,ki("span",gae,Ls(i.Q1)+" ~ "+Ls(i.Q2),1)]),ki("div",null,[yae,ki("span",_ae,Ls(i.Q2)+" ~ "+Ls(i.Q3),1)]),ki("div",null,[bae,ki("span",xae,Ls(i.Q3)+" ~ "+Ls(i.Q4),1)]),ki("div",null,[wae,ki("span",Cae,""+Ls(i.Q4),1)])]),_:1}),i.showChart?(nu(),dd(g,{key:0,empty:"",class:"chart",data:this.chartData,colors:["red"],width:"400px",height:"200px"},null,8,["data"])):TX("",!0)],64)}const Tae=T5(uae,[["render",Sae],["__scopeId","data-v-968c5d65"]]);function dn(t){"@babel/helpers - typeof";return dn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dn(t)}function Eae(t,e){if(dn(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dn(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yB(t){var e=Eae(t,"string");return dn(e)==="symbol"?e:String(e)}function J(t,e,n){return e=yB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SA(Object(n),!0).forEach(function(r){J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yr(){return yr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yr.apply(this,arguments)}var Pae=function(e){return typeof e=="function"},Mae=Array.isArray,kae=function(e){return typeof e=="string"},Aae=function(e){return e!==null&&dn(e)==="object"},Iae=/^on[^a-z]/,Oae=function(e){return Iae.test(e)},_B=function(e){var n=Object.create(null);return function(r){var i=n[r];return i||(n[r]=e(r))}},Dae=/-(\w)/g,F8=_B(function(t){return t.replace(Dae,function(e,n){return n?n.toUpperCase():""})}),Rae=/\B([A-Z])/g,Lae=_B(function(t){return t.replace(Rae,"-$1").toLowerCase()}),Fae=Object.prototype.hasOwnProperty,TA=function(e,n){return Fae.call(e,n)};function Nae(t,e,n,r){var i=t[n];if(i!=null){var o=TA(i,"default");if(o&&r===void 0){var l=i.default;r=i.type!==Function&&Pae(l)?l():l}i.type===Boolean&&(!TA(e,n)&&!o?r=!1:r===""&&(r=!0))}return r}function Bae(t){return Object.keys(t).reduce(function(e,n){return(n.substr(0,5)==="data-"||n.substr(0,5)==="aria-")&&(e[n]=t[n]),e},{})}function Xf(t){return typeof t=="number"?"".concat(t,"px"):t}function Dg(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return typeof t=="function"?t(e):t??n}function mt(){for(var t=[],e=0;e<arguments.length;e++){var n=e<0||arguments.length<=e?void 0:arguments[e];if(n){if(kae(n))t.push(n);else if(Mae(n))for(var r=0;r<n.length;r++){var i=mt(n[r]);i&&t.push(i)}else if(Aae(n))for(var o in n)n[o]&&t.push(o)}}return t.join(" ")}var bB=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var l=o[i];n.call(r,l[1],l[0])}},e}()}(),lS=typeof window<"u"&&typeof document<"u"&&window.document===document,Zb=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),zae=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Zb):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),$ae=2;function jae(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function l(){zae(o)}function a(){var f=Date.now();if(n){if(f-i<$ae)return;r=!0}else n=!0,r=!1,setTimeout(l,e);i=f}return a}var Vae=20,Uae=["top","right","bottom","left","width","height","size","weight"],Hae=typeof MutationObserver<"u",Kae=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=jae(this.refresh.bind(this),Vae)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!lS||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Hae?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!lS||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=Uae.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),xB=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},_v=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Zb},wB=m2(0,0,0,0);function Qb(t){return parseFloat(t)||0}function EA(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Qb(o)},0)}function Wae(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],l=t["padding-"+o];n[o]=Qb(l)}return n}function Gae(t){var e=t.getBBox();return m2(0,0,e.width,e.height)}function qae(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return wB;var r=_v(t).getComputedStyle(t),i=Wae(r),o=i.left+i.right,l=i.top+i.bottom,a=Qb(r.width),f=Qb(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+o)!==e&&(a-=EA(r,"left","right")+o),Math.round(f+l)!==n&&(f-=EA(r,"top","bottom")+l)),!Xae(t)){var p=Math.round(a+o)-e,v=Math.round(f+l)-n;Math.abs(p)!==1&&(a-=p),Math.abs(v)!==1&&(f-=v)}return m2(i.left,i.top,a,f)}var Yae=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof _v(t).SVGGraphicsElement}:function(t){return t instanceof _v(t).SVGElement&&typeof t.getBBox=="function"}}();function Xae(t){return t===_v(t).document.documentElement}function Zae(t){return lS?Yae(t)?Gae(t):qae(t):wB}function Qae(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(o.prototype);return xB(l,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),l}function m2(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Jae=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=m2(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=Zae(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),eoe=function(){function t(e,n){var r=Qae(n);xB(this,{target:e,contentRect:r})}return t}(),toe=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new bB,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof _v(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Jae(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof _v(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new eoe(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),CB=typeof WeakMap<"u"?new WeakMap:new bB,SB=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Kae.getInstance(),r=new toe(e,n,this);CB.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){SB.prototype[t]=function(){var e;return(e=CB.get(this))[t].apply(e,arguments)}});var noe=function(){return typeof Zb.ResizeObserver<"u"?Zb.ResizeObserver:SB}();const N8=noe;function TB(t){if(Array.isArray(t))return t}function roe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,l,a=[],f=!0,p=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;f=!1}else for(;!(f=(r=o.call(n)).done)&&(a.push(r.value),a.length!==e);f=!0);}catch(v){p=!0,i=v}finally{try{if(!f&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(p)throw i}}return a}}function uS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g2(t,e){if(t){if(typeof t=="string")return uS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uS(t,e)}}function EB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wt(t,e){return TB(t)||roe(t,e)||g2(t,e)||EB()}function ioe(t){if(Array.isArray(t))return uS(t)}function PB(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aoe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jt(t){return ioe(t)||PB(t)||g2(t)||aoe()}var ooe=typeof global=="object"&&global&&global.Object===Object&&global;const MB=ooe;var soe=typeof self=="object"&&self&&self.Object===Object&&self,loe=MB||soe||Function("return this")();const kl=loe;var uoe=kl.Symbol;const Ws=uoe;var kB=Object.prototype,coe=kB.hasOwnProperty,doe=kB.toString,vg=Ws?Ws.toStringTag:void 0;function foe(t){var e=coe.call(t,vg),n=t[vg];try{t[vg]=void 0;var r=!0}catch{}var i=doe.call(t);return r&&(e?t[vg]=n:delete t[vg]),i}var hoe=Object.prototype,poe=hoe.toString;function voe(t){return poe.call(t)}var moe="[object Null]",goe="[object Undefined]",PA=Ws?Ws.toStringTag:void 0;function Fd(t){return t==null?t===void 0?goe:moe:PA&&PA in Object(t)?foe(t):voe(t)}function AB(t,e){return function(n){return t(e(n))}}var yoe=AB(Object.getPrototypeOf,Object);const B8=yoe;function Cl(t){return t!=null&&typeof t=="object"}var _oe="[object Object]",boe=Function.prototype,xoe=Object.prototype,IB=boe.toString,woe=xoe.hasOwnProperty,Coe=IB.call(Object);function z8(t){if(!Cl(t)||Fd(t)!=_oe)return!1;var e=B8(t);if(e===null)return!0;var n=woe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&IB.call(n)==Coe}var Soe=function(e){return e!=null&&e!==""};const cS=Soe;var Toe=function(e,n){var r=R({},e);return Object.keys(n).forEach(function(i){var o=r[i];if(o)o.type||o.default?o.default=n[i]:o.def?o.def(n[i]):r[i]={type:o,default:n[i]};else throw new Error("not have ".concat(i," prop"))}),r};const lr=Toe;var $8=function(e){for(var n=Object.keys(e),r={},i={},o={},l=0,a=n.length;l<a;l++){var f=n[l];Oae(f)?(r[f[2].toLowerCase()+f.slice(3)]=e[f],i[f]=e[f]):o[f]=e[f]}return{onEvents:i,events:r,extraAttrs:o}},j8=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r={},i=/;(?![^(]*\))/g,o=/:(.+)/;return dn(e)==="object"?e:(e.split(i).forEach(function(l){if(l){var a=l.split(o);if(a.length>1){var f=n?F8(a[0].trim()):a[0].trim();r[f]=a[1].trim()}}}),r)},Ju=function(e,n){return e[n]!==void 0},Wr=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=Array.isArray(e)?e:[e],i=[];return r.forEach(function(o){Array.isArray(o)?i.push.apply(i,Jt(t(o,n))):o&&o.type===Kn?i.push.apply(i,Jt(t(o.children,n))):o&&Ga(o)?n&&!a0(o)?i.push(o):n||i.push(o):cS(o)&&i.push(o)}),i},i0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Ga(e))return e.type===Kn?n==="default"?Wr(e.children):[]:e.children&&e.children[n]?Wr(e.children[n](r)):[];var i=e.$slots[n]&&e.$slots[n](r);return Wr(i)},vd=function(e){for(var n,r=(e==null||(n=e.vnode)===null||n===void 0?void 0:n.el)||e&&(e.$el||e);r&&!r.tagName;)r=r.nextSibling;return r},OB=function(e){var n={};if(e.$&&e.$.vnode){var r=e.$.vnode.props||{};Object.keys(e.$props).forEach(function(a){var f=e.$props[a],p=Lae(a);(f!==void 0||p in r)&&(n[a]=f)})}else if(Ga(e)&&dn(e.type)==="object"){var i=e.props||{},o={};Object.keys(i).forEach(function(a){o[F8(a)]=i[a]});var l=e.type.props||{};Object.keys(l).forEach(function(a){var f=Nae(l,o,a,o[a]);(f!==void 0||a in o)&&(n[a]=f)})}return n},V8=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,o=void 0;if(e.$){var l=e[n];if(l!==void 0)return typeof l=="function"&&i?l(r):l;o=e.$slots[n],o=i&&o?o(r):o}else if(Ga(e)){var a=e.props&&e.props[n];if(a!==void 0&&e.props!==null)return typeof a=="function"&&i?a(r):a;e.type===Kn?o=e.children:e.children&&e.children[n]&&(o=e.children[n],o=i&&o?o(r):o)}return Array.isArray(o)&&(o=Wr(o),o=o.length===1?o[0]:o,o=o.length===0?void 0:o),o};function MA(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n={};return t.$?n=R(R({},n),t.$attrs):n=R(R({},n),t.props),$8(n)[e?"onEvents":"events"]}function Eoe(t){var e=(Ga(t)?t.props:t.$attrs)||{},n=e.class||{},r={};return typeof n=="string"?n.split(" ").forEach(function(i){r[i.trim()]=!0}):Array.isArray(n)?mt(n).split(" ").forEach(function(i){r[i.trim()]=!0}):r=R(R({},r),n),r}function DB(t,e){var n=(Ga(t)?t.props:t.$attrs)||{},r=n.style||{};if(typeof r=="string")r=j8(r,e);else if(e&&r){var i={};return Object.keys(r).forEach(function(o){return i[F8(o)]=r[o]}),i}return r}function Poe(t){return t==null||t===""||Array.isArray(t)&&t.length===0}function a0(t){return t&&(t.type===Cs||t.type===Kn&&t.children.length===0||t.type===Ld&&t.children.trim()==="")}function Moe(t){return t&&t.type===Ld}function ta(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=[];return t.forEach(function(n){Array.isArray(n)?e.push.apply(e,Jt(n)):(n==null?void 0:n.type)===Kn?e.push.apply(e,Jt(ta(n.children))):e.push(n)}),e.filter(function(n){return!a0(n)})}function mg(t){if(t){var e=ta(t);return e.length?e:void 0}else return t}function la(t){return Array.isArray(t)&&t.length===1&&(t=t[0]),t&&t.__v_isVNode&&dn(t.type)!=="symbol"}function vi(t,e){var n,r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";return(n=e[i])!==null&&n!==void 0?n:(r=t[i])===null||r===void 0?void 0:r.call(t)}const Gs=lt({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup:function(e,n){var r=n.slots,i=Mr({width:0,height:0,offsetHeight:0,offsetWidth:0}),o=null,l=null,a=function(){l&&(l.disconnect(),l=null)},f=function(_){var b=e.onResize,S=_[0].target,E=S.getBoundingClientRect(),P=E.width,k=E.height,I=S.offsetWidth,D=S.offsetHeight,L=Math.floor(P),B=Math.floor(k);if(i.width!==L||i.height!==B||i.offsetWidth!==I||i.offsetHeight!==D){var N={width:L,height:B,offsetWidth:I,offsetHeight:D};yr(i,N),b&&Promise.resolve().then(function(){b(R(R({},N),{},{offsetWidth:I,offsetHeight:D}),S)})}},p=Ba(),v=function(){var _=e.disabled;if(_){a();return}var b=vd(p),S=b!==o;S&&(a(),o=b),!l&&b&&(l=new N8(f),l.observe(b))};return zn(function(){v()}),yo(function(){v()}),_o(function(){a()}),Lt(function(){return e.disabled},function(){v()},{flush:"post"}),function(){var g;return(g=r.default)===null||g===void 0?void 0:g.call(r)[0]}}});var RB=function(e){return setTimeout(e,16)},LB=function(e){return clearTimeout(e)};typeof window<"u"&&"requestAnimationFrame"in window&&(RB=function(e){return window.requestAnimationFrame(e)},LB=function(e){return window.cancelAnimationFrame(e)});var kA=0,U8=new Map;function FB(t){U8.delete(t)}function $n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;kA+=1;var n=kA;function r(i){if(i===0)FB(n),t();else{var o=RB(function(){r(i-1)});U8.set(n,o)}}return r(e),n}$n.cancel=function(t){var e=U8.get(t);return FB(e),LB(e)};function dS(t){var e,n=function(o){return function(){e=null,t.apply(void 0,Jt(o))}},r=function(){if(e==null){for(var o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];e=$n(n(l))}};return r.cancel=function(){return $n.cancel(e)},r}var Di=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n},koe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n},Ki=function(e){var n=e;return n.install=function(r){r.component(n.displayName||n.name,e)},e},NB=!1;try{var AA=Object.defineProperty({},"passive",{get:function(){NB=!0}});window.addEventListener("testPassive",null,AA),window.removeEventListener("testPassive",null,AA)}catch{}const va=NB;function _i(t,e,n,r){if(t&&t.addEventListener){var i=r;i===void 0&&va&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(i={passive:!1}),t.addEventListener(e,n,i)}return{remove:function(){t&&t.removeEventListener&&t.removeEventListener(e,n)}}}function n_(t){return t!==window?t.getBoundingClientRect():{top:0,bottom:window.innerHeight}}function IA(t,e,n){if(n!==void 0&&e.top>t.top-n)return"".concat(n+e.top,"px")}function OA(t,e,n){if(n!==void 0&&e.bottom<t.bottom+n){var r=window.innerHeight-e.bottom;return"".concat(n+r,"px")}}var BB=["resize","scroll","touchstart","touchmove","touchend","pageshow","load"],Jg=[];function DA(t,e){if(t){var n=Jg.find(function(r){return r.target===t});n?n.affixList.push(e):(n={target:t,affixList:[e],eventHandlers:{}},Jg.push(n),BB.forEach(function(r){n.eventHandlers[r]=_i(t,r,function(){n.affixList.forEach(function(i){var o=i.exposed.lazyUpdatePosition;o()},(r==="touchstart"||r==="touchmove")&&va?{passive:!0}:!1)})}))}}function RA(t){var e=Jg.find(function(n){var r=n.affixList.some(function(i){return i===t});return r&&(n.affixList=n.affixList.filter(function(i){return i!==t})),r});e&&e.affixList.length===0&&(Jg=Jg.filter(function(n){return n!==e}),BB.forEach(function(n){var r=e.eventHandlers[n];r&&r.remove&&r.remove()}))}function Aoe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kn(t,e){if(t==null)return{};var n=Aoe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}const zB={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"};var Ioe={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const Ooe=Ioe;var Doe={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};const $B=Doe;var Roe={lang:R({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Ooe),timePickerLocale:R({},$B)};const A1=Roe;var fs="${label} is not a valid ${type}",Loe={locale:"en",Pagination:zB,DatePicker:A1,TimePicker:$B,Calendar:A1,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:fs,method:fs,array:fs,object:fs,number:fs,date:fs,boolean:fs,integer:fs,float:fs,regexp:fs,email:fs,url:fs,hex:fs},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};const Sl=Loe,jv=lt({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup:function(e,n){var r=n.slots,i=Hn("localeData",{}),o=le(function(){var a=e.componentName,f=a===void 0?"global":a,p=e.defaultLocale,v=p||Sl[f||"global"],g=i.antLocale,_=f&&g?g[f]:{};return R(R({},typeof v=="function"?v():v),_||{})}),l=le(function(){var a=i.antLocale,f=a&&a.locale;return a&&a.exist&&!f?Sl.locale:f});return function(){var a=e.children||r.default,f=i.antLocale;return a==null?void 0:a(o.value,l.value,f)}}});function vu(t,e,n){var r=Hn("localeData",{}),i=le(function(){var o=r.antLocale,l=pa(e)||Sl[t||"global"],a=t&&o?o[t]:{};return R(R(R({},typeof l=="function"?l():l),a||{}),pa(n)||{})});return[i]}var jB=function(){var e=fn("empty",{}),n=e.getPrefixCls,r=n("empty-img-default");return M("svg",{class:r,width:"184",height:"152",viewBox:"0 0 184 152"},[M("g",{fill:"none","fill-rule":"evenodd"},[M("g",{transform:"translate(24 31.67)"},[M("ellipse",{class:"".concat(r,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),M("path",{class:"".concat(r,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},null),M("path",{class:"".concat(r,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"},null),M("path",{class:"".concat(r,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},null),M("path",{class:"".concat(r,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},null)]),M("path",{class:"".concat(r,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},null),M("g",{class:"".concat(r,"-g"),transform:"translate(149.65 15.383)"},[M("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),M("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])};jB.PRESENTED_IMAGE_DEFAULT=!0;const Foe=jB;var VB=function(){var e=fn("empty",{}),n=e.getPrefixCls,r=n("empty-img-simple");return M("svg",{class:r,width:"64",height:"41",viewBox:"0 0 64 41"},[M("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[M("ellipse",{class:"".concat(r,"-ellipse"),fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"},null),M("g",{class:"".concat(r,"-g"),"fill-rule":"nonzero",stroke:"#D9D9D9"},[M("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),M("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA",class:"".concat(r,"-path")},null)])])])};VB.PRESENTED_IMAGE_SIMPLE=!0;const Noe=VB;function LA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function UB(t,e,n){return e&&LA(t.prototype,e),n&&LA(t,n),t}function Y_(){return(Y_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function HB(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function KB(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}function FA(t){return((e=t)!=null&&typeof e=="object"&&Array.isArray(e)===!1)==1&&Object.prototype.toString.call(t)==="[object Object]";var e}var WB=Object.prototype,GB=WB.toString,Boe=WB.hasOwnProperty,qB=/^\s*function (\w+)/;function NA(t){var e,n=(e=t==null?void 0:t.type)!==null&&e!==void 0?e:t;if(n){var r=n.toString().match(qB);return r?r[1]:""}return""}var mh=function(t){var e,n;return FA(t)!==!1&&typeof(e=t.constructor)=="function"&&FA(n=e.prototype)!==!1&&n.hasOwnProperty("isPrototypeOf")!==!1},zoe=function(t){return t},ko=zoe,I1=function(t,e){return Boe.call(t,e)},$oe=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},bv=Array.isArray||function(t){return GB.call(t)==="[object Array]"},xv=function(t){return GB.call(t)==="[object Function]"},Jb=function(t){return mh(t)&&I1(t,"_vueTypes_name")},YB=function(t){return mh(t)&&(I1(t,"type")||["_vueTypes_name","validator","default","required"].some(function(e){return I1(t,e)}))};function H8(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function Ch(t,e,n){var r;n===void 0&&(n=!1);var i=!0,o="";r=mh(t)?t:{type:t};var l=Jb(r)?r._vueTypes_name+" - ":"";if(YB(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&e===void 0)return i;bv(r.type)?(i=r.type.some(function(g){return Ch(g,e,!0)===!0}),o=r.type.map(function(g){return NA(g)}).join(" or ")):i=(o=NA(r))==="Array"?bv(e):o==="Object"?mh(e):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(g){if(g==null)return"";var _=g.constructor.toString().match(qB);return _?_[1]:""}(e)===o:e instanceof r.type}if(!i){var a=l+'value "'+e+'" should be of type "'+o+'"';return n===!1?(ko(a),!1):a}if(I1(r,"validator")&&xv(r.validator)){var f=ko,p=[];if(ko=function(g){p.push(g)},i=r.validator(e),ko=f,!i){var v=(p.length>1?"* ":"")+p.join(`
* `);return p.length=0,n===!1?(ko(v),i):v}}return i}function Ss(t,e){var n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(i){return i!==void 0||this.default?xv(i)||Ch(this,i,!0)===!0?(this.default=bv(i)?function(){return[].concat(i)}:mh(i)?function(){return Object.assign({},i)}:i,this):(ko(this._vueTypes_name+' - invalid default value: "'+i+'"'),this):this}}}),r=n.validator;return xv(r)&&(n.validator=H8(r,n)),n}function hu(t,e){var n=Ss(t,e);return Object.defineProperty(n,"validate",{value:function(r){return xv(this.validator)&&ko(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=H8(r,this),this}})}function BA(t,e,n){var r,i,o=(r=e,i={},Object.getOwnPropertyNames(r).forEach(function(g){i[g]=Object.getOwnPropertyDescriptor(r,g)}),Object.defineProperties({},i));if(o._vueTypes_name=t,!mh(n))return o;var l,a,f=n.validator,p=KB(n,["validator"]);if(xv(f)){var v=o.validator;v&&(v=(a=(l=v).__original)!==null&&a!==void 0?a:l),o.validator=H8(v?function(g){return v.call(this,g)&&f.call(this,g)}:f,o)}return Object.assign(o,p)}function y2(t){return t.replace(/^(?!\s*$)/gm,"  ")}var joe=function(){return hu("any",{})},Voe=function(){return hu("function",{type:Function})},Uoe=function(){return hu("boolean",{type:Boolean})},Hoe=function(){return hu("string",{type:String})},Koe=function(){return hu("number",{type:Number})},Woe=function(){return hu("array",{type:Array})},Goe=function(){return hu("object",{type:Object})},qoe=function(){return Ss("integer",{type:Number,validator:function(t){return $oe(t)}})},Yoe=function(){return Ss("symbol",{validator:function(t){return typeof t=="symbol"}})};function Xoe(t,e){if(e===void 0&&(e="custom validation failed"),typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return Ss(t.name||"<<anonymous function>>",{validator:function(n){var r=t(n);return r||ko(this._vueTypes_name+" - "+e),r}})}function Zoe(t){if(!bv(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+t.join('", "')+'".',n=t.reduce(function(r,i){if(i!=null){var o=i.constructor;r.indexOf(o)===-1&&r.push(o)}return r},[]);return Ss("oneOf",{type:n.length>0?n:void 0,validator:function(r){var i=t.indexOf(r)!==-1;return i||ko(e),i}})}function Qoe(t){if(!bv(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,n=[],r=0;r<t.length;r+=1){var i=t[r];if(YB(i)){if(Jb(i)&&i._vueTypes_name==="oneOf"){n=n.concat(i.type);continue}if(xv(i.validator)&&(e=!0),i.type!==!0&&i.type){n=n.concat(i.type);continue}}n.push(i)}return n=n.filter(function(o,l){return n.indexOf(o)===l}),Ss("oneOfType",e?{type:n,validator:function(o){var l=[],a=t.some(function(f){var p=Ch(Jb(f)&&f._vueTypes_name==="oneOf"?f.type||null:f,o,!0);return typeof p=="string"&&l.push(p),p===!0});return a||ko("oneOfType - provided value does not match any of the "+l.length+` passed-in validators:
`+y2(l.join(`
`))),a}}:{type:n})}function Joe(t){return Ss("arrayOf",{type:Array,validator:function(e){var n,r=e.every(function(i){return(n=Ch(t,i,!0))===!0});return r||ko(`arrayOf - value validation error:
`+y2(n)),r}})}function ese(t){return Ss("instanceOf",{type:t})}function tse(t){return Ss("objectOf",{type:Object,validator:function(e){var n,r=Object.keys(e).every(function(i){return(n=Ch(t,e[i],!0))===!0});return r||ko(`objectOf - value validation error:
`+y2(n)),r}})}function nse(t){var e=Object.keys(t),n=e.filter(function(i){var o;return!!(!((o=t[i])===null||o===void 0)&&o.required)}),r=Ss("shape",{type:Object,validator:function(i){var o=this;if(!mh(i))return!1;var l=Object.keys(i);if(n.length>0&&n.some(function(f){return l.indexOf(f)===-1})){var a=n.filter(function(f){return l.indexOf(f)===-1});return ko(a.length===1?'shape - required property "'+a[0]+'" is not defined.':'shape - required properties "'+a.join('", "')+'" are not defined.'),!1}return l.every(function(f){if(e.indexOf(f)===-1)return o._vueTypes_isLoose===!0||(ko('shape - shape definition does not include a "'+f+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var p=Ch(t[f],i[f],!0);return typeof p=="string"&&ko('shape - "'+f+`" property validation error:
 `+y2(p)),p===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),r}var Zl=function(){function t(){}return t.extend=function(e){var n=this;if(bv(e))return e.forEach(function(g){return n.extend(g)}),this;var r=e.name,i=e.validate,o=i!==void 0&&i,l=e.getter,a=l!==void 0&&l,f=KB(e,["name","validate","getter"]);if(I1(this,r))throw new TypeError('[VueTypes error]: Type "'+r+'" already defined');var p,v=f.type;return Jb(v)?(delete f.type,Object.defineProperty(this,r,a?{get:function(){return BA(r,v,f)}}:{value:function(){var g,_=BA(r,v,f);return _.validator&&(_.validator=(g=_.validator).bind.apply(g,[_].concat([].slice.call(arguments)))),_}})):(p=a?{get:function(){var g=Object.assign({},f);return o?hu(r,g):Ss(r,g)},enumerable:!0}:{value:function(){var g,_,b=Object.assign({},f);return g=o?hu(r,b):Ss(r,b),b.validator&&(g.validator=(_=b.validator).bind.apply(_,[g].concat([].slice.call(arguments)))),g},enumerable:!0},Object.defineProperty(this,r,p))},UB(t,null,[{key:"any",get:function(){return joe()}},{key:"func",get:function(){return Voe().def(this.defaults.func)}},{key:"bool",get:function(){return Uoe().def(this.defaults.bool)}},{key:"string",get:function(){return Hoe().def(this.defaults.string)}},{key:"number",get:function(){return Koe().def(this.defaults.number)}},{key:"array",get:function(){return Woe().def(this.defaults.array)}},{key:"object",get:function(){return Goe().def(this.defaults.object)}},{key:"integer",get:function(){return qoe().def(this.defaults.integer)}},{key:"symbol",get:function(){return Yoe()}}]),t}();function XB(t){var e;return t===void 0&&(t={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(n){function r(){return n.apply(this,arguments)||this}return HB(r,n),UB(r,null,[{key:"sensibleDefaults",get:function(){return Y_({},this.defaults)},set:function(i){this.defaults=i!==!1?Y_({},i!==!0?i:t):{}}}]),r}(Zl)).defaults=Y_({},t),e}Zl.defaults={},Zl.custom=Xoe,Zl.oneOf=Zoe,Zl.instanceOf=ese,Zl.oneOfType=Qoe,Zl.arrayOf=Joe,Zl.objectOf=tse,Zl.shape=nse,Zl.utils={validate:function(t,e){return Ch(e,t,!0)===!0},toType:function(t,e,n){return n===void 0&&(n=!1),n?hu(t,e):Ss(t,e)}};(function(t){function e(){return t.apply(this,arguments)||this}return HB(e,t),e})(XB());var ZB=XB({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});ZB.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);function QB(t){return t.default=void 0,t}const Te=ZB;var rse=["image","description","imageStyle","class"],JB=M(Foe,null,null),ez=M(Noe,null,null),Vv=function(e,n){var r,i=n.slots,o=i===void 0?{}:i,l=n.attrs,a=fn("empty",e),f=a.direction,p=a.prefixCls,v=p.value,g=R(R({},e),l),_=g.image,b=_===void 0?JB:_,S=g.description,E=S===void 0?((r=o.description)===null||r===void 0?void 0:r.call(o))||void 0:S,P=g.imageStyle,k=g.class,I=k===void 0?"":k,D=kn(g,rse);return M(jv,{componentName:"Empty",children:function(B){var N,j=typeof E<"u"?E:B.description,H=typeof j=="string"?j:"empty",V=null;return typeof b=="string"?V=M("img",{alt:H,src:b},null):V=b,M("div",R({class:mt(v,I,(N={},J(N,"".concat(v,"-normal"),b===ez),J(N,"".concat(v,"-rtl"),f.value==="rtl"),N))},D),[M("div",{class:"".concat(v,"-image"),style:P},[V]),j&&M("p",{class:"".concat(v,"-description")},[j]),o.default&&M("div",{class:"".concat(v,"-footer")},[ta(o.default())])])}},null)};Vv.displayName="AEmpty";Vv.PRESENTED_IMAGE_DEFAULT=JB;Vv.PRESENTED_IMAGE_SIMPLE=ez;Vv.inheritAttrs=!1;Vv.props={prefixCls:String,image:Te.any,description:Te.any,imageStyle:{type:Object,default:void 0}};const fd=Ki(Vv);var ise=function(e){var n=fn("empty",e),r=n.prefixCls,i=function(l){switch(l){case"Table":case"List":return M(fd,{image:fd.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return M(fd,{image:fd.PRESENTED_IMAGE_SIMPLE,class:"".concat(r.value,"-small")},null);default:return M(fd,null,null)}};return i(e.componentName)};function tz(t){return M(ise,{componentName:t},null)}var zA={};function ase(t,e){}function ose(t,e){}function nz(t,e,n){!e&&!zA[n]&&(t(!1,n),zA[n]=!0)}function rz(t,e){nz(ase,t,e)}function sse(t,e){nz(ose,t,e)}const sa=function(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";rz(t,"[antdv: ".concat(e,"] ").concat(n))};var fS="internalMark",X_=lt({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup:function(e,n){var r=n.slots;sa(e.ANT_MARK__===fS,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead");var i=Mr({antLocale:R(R({},e.locale),{},{exist:!0}),ANT_MARK__:fS});return Xn("localeData",i),Lt(function(){return e.locale},function(){i.antLocale=R(R({},e.locale),{},{exist:!0})},{immediate:!0}),function(){var o;return(o=r.default)===null||o===void 0?void 0:o.call(r)}}});X_.install=function(t){return t.component(X_.name,X_),t};const iz=Ki(X_);Di("bottomLeft","bottomRight","topLeft","topRight");var lse=function(e){return e!==void 0&&(e==="topLeft"||e==="topRight")?"slide-down":"slide-up"},Nd=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=R(e?{name:e,appear:!0,enterFromClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e,"-enter ").concat(e,"-enter-prepare"),enterToClass:"".concat(e,"-enter ").concat(e,"-enter-active"),leaveFromClass:" ".concat(e,"-leave"),leaveActiveClass:"".concat(e,"-leave ").concat(e,"-leave-active"),leaveToClass:"".concat(e,"-leave ").concat(e,"-leave-active")}:{css:!1},n);return r},K8=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=R(e?{name:e,appear:!0,appearActiveClass:"".concat(e),appearToClass:"".concat(e,"-appear ").concat(e,"-appear-active"),enterFromClass:"".concat(e,"-appear ").concat(e,"-enter ").concat(e,"-appear-prepare ").concat(e,"-enter-prepare"),enterActiveClass:"".concat(e),enterToClass:"".concat(e,"-enter ").concat(e,"-appear ").concat(e,"-appear-active ").concat(e,"-enter-active"),leaveActiveClass:"".concat(e," ").concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-active")}:{css:!1},n);return r},Tl=function(e,n,r){return r!==void 0?r:"".concat(e,"-").concat(n)};const use=lt({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup:function(e,n){var r=n.attrs,i=n.slots,o,l=!1,a=le(function(){return e.duration===void 0?4.5:e.duration}),f=function(){a.value&&!l&&(o=setTimeout(function(){v()},a.value*1e3))},p=function(){o&&(clearTimeout(o),o=null)},v=function(b){b&&b.stopPropagation(),p();var S=e.onClose,E=e.noticeKey;S&&S(E)},g=function(){p(),f()};return zn(function(){f()}),_o(function(){l=!0,p()}),Lt([a,function(){return e.updateMark},function(){return e.visible}],function(_,b){var S=Wt(_,3),E=S[0],P=S[1],k=S[2],I=Wt(b,3),D=I[0],L=I[1],B=I[2];(E!==D||P!==L||k!==B&&B)&&g()},{flush:"post"}),function(){var _,b,S=e.prefixCls,E=e.closable,P=e.closeIcon,k=P===void 0?(_=i.closeIcon)===null||_===void 0?void 0:_.call(i):P,I=e.onClick,D=e.holder,L=r.class,B=r.style,N="".concat(S,"-notice"),j=Object.keys(r).reduce(function(V,Z){return(Z.substr(0,5)==="data-"||Z.substr(0,5)==="aria-"||Z==="role")&&(V[Z]=r[Z]),V},{}),H=M("div",R({class:mt(N,L,J({},"".concat(N,"-closable"),E)),style:B,onMouseenter:p,onMouseleave:f,onClick:I},j),[M("div",{class:"".concat(N,"-content")},[(b=i.default)===null||b===void 0?void 0:b.call(i)]),E?M("a",{tabindex:0,onClick:v,class:"".concat(N,"-close")},[k||M("span",{class:"".concat(N,"-close-x")},null)]):null]);return D?M(_5,{to:D},{default:function(){return H}}):H}}});var cse=["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName"],$A=0,dse=Date.now();function jA(){var t=$A;return $A+=1,"rcNotification_".concat(dse,"_").concat(t)}var hS=lt({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon"],setup:function(e,n){var r=n.attrs,i=n.expose,o=n.slots,l=new Map,a=ke([]),f=le(function(){var g=e.prefixCls,_=e.animation,b=_===void 0?"fade":_,S=e.transitionName;return!S&&b&&(S="".concat(g,"-").concat(b)),K8(S)}),p=function(_,b){var S=_.key||jA(),E=R(R({},_),{},{key:S}),P=e.maxCount,k=a.value.map(function(D){return D.notice.key}).indexOf(S),I=a.value.concat();k!==-1?I.splice(k,1,{notice:E,holderCallback:b}):(P&&a.value.length>=P&&(E.key=I[0].notice.key,E.updateMark=jA(),E.userPassKey=S,I.shift()),I.push({notice:E,holderCallback:b})),a.value=I},v=function(_){a.value=a.value.filter(function(b){var S=b.notice,E=S.key,P=S.userPassKey,k=P||E;return k!==_})};return i({add:p,remove:v,notices:a}),function(){var g,_,b=e.prefixCls,S=e.closeIcon,E=S===void 0?(g=o.closeIcon)===null||g===void 0?void 0:g.call(o,{prefixCls:b}):S,P=a.value.map(function(I,D){var L=I.notice,B=I.holderCallback,N=D===a.value.length-1?L.updateMark:void 0,j=L.key,H=L.userPassKey,V=L.content,Z=R(R(R({prefixCls:b,closeIcon:typeof E=="function"?E({prefixCls:b}):E},L),L.props),{},{key:j,noticeKey:H||j,updateMark:N,onClose:function(q){var G;v(q),(G=L.onClose)===null||G===void 0||G.call(L)},onClick:L.onClick});return B?M("div",{key:j,class:"".concat(b,"-hook-holder"),ref:function(q){typeof j>"u"||(q?(l.set(j,q),B(q,Z)):l.delete(j))}},null):M(use,Z,{default:function(){return[typeof V=="function"?V({prefixCls:b}):V]}})}),k=(_={},J(_,b,1),J(_,r.class,!!r.class),_);return M("div",{class:k,style:r.style||{top:"65px",left:"50%"}},[M(w5,R({tag:"div"},f.value),{default:function(){return[P]}})])}}});hS.newInstance=function(e,n){var r=e||{},i=r.name,o=i===void 0?"notification":i,l=r.getContainer,a=r.appContext,f=r.prefixCls,p=r.rootPrefixCls,v=r.transitionName,g=r.hasTransitionName,_=kn(r,cse),b=document.createElement("div");if(l){var S=l();S.appendChild(b)}else document.body.appendChild(b);var E=lt({compatConfig:{MODE:3},name:"NotificationWrapper",setup:function(I,D){var L=D.attrs,B=ke();return zn(function(){n({notice:function(j){var H;(H=B.value)===null||H===void 0||H.add(j)},removeNotice:function(j){var H;(H=B.value)===null||H===void 0||H.remove(j)},destroy:function(){Wb(null,b),b.parentNode&&b.parentNode.removeChild(b)},component:B})}),function(){var N=Yo,j=N.getPrefixCls(o,f),H=N.getRootPrefixCls(p,j),V=g?v:"".concat(H,"-").concat(v);return M(X8,R(R({},N),{},{notUpdateGlobalConfig:!0,prefixCls:H}),{default:function(){return[M(hS,R(R({ref:B},L),{},{prefixCls:j,transitionName:V}),null)]}})}}}),P=M(E,_);P.appContext=a||P.appContext,Wb(P,b)};const az=hS;var oz=3,sz,Ao,fse=1,lz="",uz="move-up",cz=!1,dz=function(){return document.body},fz,hz=!1;function hse(){return fse++}function pse(t){t.top!==void 0&&(sz=t.top,Ao=null),t.duration!==void 0&&(oz=t.duration),t.prefixCls!==void 0&&(lz=t.prefixCls),t.getContainer!==void 0&&(dz=t.getContainer,Ao=null),t.transitionName!==void 0&&(uz=t.transitionName,Ao=null,cz=!0),t.maxCount!==void 0&&(fz=t.maxCount,Ao=null),t.rtl!==void 0&&(hz=t.rtl)}function vse(t,e){if(Ao){e(Ao);return}az.newInstance({appContext:t.appContext,prefixCls:t.prefixCls||lz,rootPrefixCls:t.rootPrefixCls,transitionName:uz,hasTransitionName:cz,style:{top:sz},getContainer:dz||t.getPopupContainer,maxCount:fz,name:"message"},function(n){if(Ao){e(Ao);return}Ao=n,e(n)})}var mse={info:DN,success:t0,error:fc,warning:r0,loading:wl};function gse(t){var e=t.duration!==void 0?t.duration:oz,n=t.key||hse(),r=new Promise(function(o){var l=function(){return typeof t.onClose=="function"&&t.onClose(),o(!0)};vse(t,function(a){a.notice({key:n,duration:e,style:t.style||{},class:t.class,content:function(p){var v,g=p.prefixCls,_=mse[t.type],b=_?M(_,null,null):"",S=mt("".concat(g,"-custom-content"),(v={},J(v,"".concat(g,"-").concat(t.type),t.type),J(v,"".concat(g,"-rtl"),hz===!0),v));return M("div",{class:S},[typeof t.icon=="function"?t.icon():t.icon||b,M("span",null,[typeof t.content=="function"?t.content():t.content])])},onClose:l,onClick:t.onClick})})}),i=function(){Ao&&Ao.removeNotice(n)};return i.then=function(o,l){return r.then(o,l)},i.promise=r,i}function yse(t){return Object.prototype.toString.call(t)==="[object Object]"&&!!t.content}var ex={open:gse,config:pse,destroy:function(e){if(Ao)if(e){var n=Ao,r=n.removeNotice;r(e)}else{var i=Ao,o=i.destroy;o(),Ao=null}}};function _se(t,e){t[e]=function(n,r,i){return yse(n)?t.open(R(R({},n),{},{type:e})):(typeof r=="function"&&(i=r,r=void 0),t.open({content:n,duration:r,type:e,onClose:i}))}}["success","info","warning","error","loading"].forEach(function(t){return _se(ex,t)});ex.warn=ex.warning;const W8=ex;function VA(t,e,n,r,i,o,l){try{var a=t[o](l),f=a.value}catch(p){n(p);return}a.done?e(f):Promise.resolve(f).then(r,i)}function Sh(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function l(f){VA(o,r,i,l,a,"next",f)}function a(f){VA(o,r,i,l,a,"throw",f)}l(void 0)})}}var pz={exports:{}},vz={exports:{}};(function(t){function e(n){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(vz);var bse=vz.exports;(function(t){var e=bse.default;function n(){t.exports=n=function(){return r},t.exports.__esModule=!0,t.exports.default=t.exports;var r={},i=Object.prototype,o=i.hasOwnProperty,l=Object.defineProperty||function(te,Q,Y){te[Q]=Y.value},a=typeof Symbol=="function"?Symbol:{},f=a.iterator||"@@iterator",p=a.asyncIterator||"@@asyncIterator",v=a.toStringTag||"@@toStringTag";function g(te,Q,Y){return Object.defineProperty(te,Q,{value:Y,enumerable:!0,configurable:!0,writable:!0}),te[Q]}try{g({},"")}catch{g=function(Y,X,ie){return Y[X]=ie}}function _(te,Q,Y,X){var ie=Q&&Q.prototype instanceof E?Q:E,he=Object.create(ie.prototype),ce=new q(X||[]);return l(he,"_invoke",{value:H(te,Y,ce)}),he}function b(te,Q,Y){try{return{type:"normal",arg:te.call(Q,Y)}}catch(X){return{type:"throw",arg:X}}}r.wrap=_;var S={};function E(){}function P(){}function k(){}var I={};g(I,f,function(){return this});var D=Object.getPrototypeOf,L=D&&D(D(G([])));L&&L!==i&&o.call(L,f)&&(I=L);var B=k.prototype=E.prototype=Object.create(I);function N(te){["next","throw","return"].forEach(function(Q){g(te,Q,function(Y){return this._invoke(Q,Y)})})}function j(te,Q){function Y(ie,he,ce,we){var be=b(te[ie],te,he);if(be.type!=="throw"){var ve=be.arg,ge=ve.value;return ge&&e(ge)=="object"&&o.call(ge,"__await")?Q.resolve(ge.__await).then(function(Pe){Y("next",Pe,ce,we)},function(Pe){Y("throw",Pe,ce,we)}):Q.resolve(ge).then(function(Pe){ve.value=Pe,ce(ve)},function(Pe){return Y("throw",Pe,ce,we)})}we(be.arg)}var X;l(this,"_invoke",{value:function(he,ce){function we(){return new Q(function(be,ve){Y(he,ce,be,ve)})}return X=X?X.then(we,we):we()}})}function H(te,Q,Y){var X="suspendedStart";return function(ie,he){if(X==="executing")throw new Error("Generator is already running");if(X==="completed"){if(ie==="throw")throw he;return ae()}for(Y.method=ie,Y.arg=he;;){var ce=Y.delegate;if(ce){var we=V(ce,Y);if(we){if(we===S)continue;return we}}if(Y.method==="next")Y.sent=Y._sent=Y.arg;else if(Y.method==="throw"){if(X==="suspendedStart")throw X="completed",Y.arg;Y.dispatchException(Y.arg)}else Y.method==="return"&&Y.abrupt("return",Y.arg);X="executing";var be=b(te,Q,Y);if(be.type==="normal"){if(X=Y.done?"completed":"suspendedYield",be.arg===S)continue;return{value:be.arg,done:Y.done}}be.type==="throw"&&(X="completed",Y.method="throw",Y.arg=be.arg)}}}function V(te,Q){var Y=Q.method,X=te.iterator[Y];if(X===void 0)return Q.delegate=null,Y==="throw"&&te.iterator.return&&(Q.method="return",Q.arg=void 0,V(te,Q),Q.method==="throw")||Y!=="return"&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+Y+"' method")),S;var ie=b(X,te.iterator,Q.arg);if(ie.type==="throw")return Q.method="throw",Q.arg=ie.arg,Q.delegate=null,S;var he=ie.arg;return he?he.done?(Q[te.resultName]=he.value,Q.next=te.nextLoc,Q.method!=="return"&&(Q.method="next",Q.arg=void 0),Q.delegate=null,S):he:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,S)}function Z(te){var Q={tryLoc:te[0]};1 in te&&(Q.catchLoc=te[1]),2 in te&&(Q.finallyLoc=te[2],Q.afterLoc=te[3]),this.tryEntries.push(Q)}function re(te){var Q=te.completion||{};Q.type="normal",delete Q.arg,te.completion=Q}function q(te){this.tryEntries=[{tryLoc:"root"}],te.forEach(Z,this),this.reset(!0)}function G(te){if(te){var Q=te[f];if(Q)return Q.call(te);if(typeof te.next=="function")return te;if(!isNaN(te.length)){var Y=-1,X=function ie(){for(;++Y<te.length;)if(o.call(te,Y))return ie.value=te[Y],ie.done=!1,ie;return ie.value=void 0,ie.done=!0,ie};return X.next=X}}return{next:ae}}function ae(){return{value:void 0,done:!0}}return P.prototype=k,l(B,"constructor",{value:k,configurable:!0}),l(k,"constructor",{value:P,configurable:!0}),P.displayName=g(k,v,"GeneratorFunction"),r.isGeneratorFunction=function(te){var Q=typeof te=="function"&&te.constructor;return!!Q&&(Q===P||(Q.displayName||Q.name)==="GeneratorFunction")},r.mark=function(te){return Object.setPrototypeOf?Object.setPrototypeOf(te,k):(te.__proto__=k,g(te,v,"GeneratorFunction")),te.prototype=Object.create(B),te},r.awrap=function(te){return{__await:te}},N(j.prototype),g(j.prototype,p,function(){return this}),r.AsyncIterator=j,r.async=function(te,Q,Y,X,ie){ie===void 0&&(ie=Promise);var he=new j(_(te,Q,Y,X),ie);return r.isGeneratorFunction(Q)?he:he.next().then(function(ce){return ce.done?ce.value:he.next()})},N(B),g(B,v,"Generator"),g(B,f,function(){return this}),g(B,"toString",function(){return"[object Generator]"}),r.keys=function(te){var Q=Object(te),Y=[];for(var X in Q)Y.push(X);return Y.reverse(),function ie(){for(;Y.length;){var he=Y.pop();if(he in Q)return ie.value=he,ie.done=!1,ie}return ie.done=!0,ie}},r.values=G,q.prototype={constructor:q,reset:function(Q){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(re),!Q)for(var Y in this)Y.charAt(0)==="t"&&o.call(this,Y)&&!isNaN(+Y.slice(1))&&(this[Y]=void 0)},stop:function(){this.done=!0;var Q=this.tryEntries[0].completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(Q){if(this.done)throw Q;var Y=this;function X(ve,ge){return ce.type="throw",ce.arg=Q,Y.next=ve,ge&&(Y.method="next",Y.arg=void 0),!!ge}for(var ie=this.tryEntries.length-1;ie>=0;--ie){var he=this.tryEntries[ie],ce=he.completion;if(he.tryLoc==="root")return X("end");if(he.tryLoc<=this.prev){var we=o.call(he,"catchLoc"),be=o.call(he,"finallyLoc");if(we&&be){if(this.prev<he.catchLoc)return X(he.catchLoc,!0);if(this.prev<he.finallyLoc)return X(he.finallyLoc)}else if(we){if(this.prev<he.catchLoc)return X(he.catchLoc,!0)}else{if(!be)throw new Error("try statement without catch or finally");if(this.prev<he.finallyLoc)return X(he.finallyLoc)}}}},abrupt:function(Q,Y){for(var X=this.tryEntries.length-1;X>=0;--X){var ie=this.tryEntries[X];if(ie.tryLoc<=this.prev&&o.call(ie,"finallyLoc")&&this.prev<ie.finallyLoc){var he=ie;break}}he&&(Q==="break"||Q==="continue")&&he.tryLoc<=Y&&Y<=he.finallyLoc&&(he=null);var ce=he?he.completion:{};return ce.type=Q,ce.arg=Y,he?(this.method="next",this.next=he.finallyLoc,S):this.complete(ce)},complete:function(Q,Y){if(Q.type==="throw")throw Q.arg;return Q.type==="break"||Q.type==="continue"?this.next=Q.arg:Q.type==="return"?(this.rval=this.arg=Q.arg,this.method="return",this.next="end"):Q.type==="normal"&&Y&&(this.next=Y),S},finish:function(Q){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var X=this.tryEntries[Y];if(X.finallyLoc===Q)return this.complete(X.completion,X.afterLoc),re(X),S}},catch:function(Q){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var X=this.tryEntries[Y];if(X.tryLoc===Q){var ie=X.completion;if(ie.type==="throw"){var he=ie.arg;re(X)}return he}}throw new Error("illegal catch attempt")},delegateYield:function(Q,Y,X){return this.delegate={iterator:G(Q),resultName:Y,nextLoc:X},this.method==="next"&&(this.arg=void 0),S}},r}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports})(pz);var xse=pz.exports,Z_=xse(),wse=Z_;try{regeneratorRuntime=Z_}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=Z_:Function("r","regeneratorRuntime = r")(Z_)}const es=Ml(wse);var Zf={},mz=4.5,gz="24px",yz="24px",pS="",_z="topRight",bz=function(){return document.body},xz=null,vS=!1,wz;function Cse(t){var e=t.duration,n=t.placement,r=t.bottom,i=t.top,o=t.getContainer,l=t.closeIcon,a=t.prefixCls;a!==void 0&&(pS=a),e!==void 0&&(mz=e),n!==void 0&&(_z=n),r!==void 0&&(yz=typeof r=="number"?"".concat(r,"px"):r),i!==void 0&&(gz=typeof i=="number"?"".concat(i,"px"):i),o!==void 0&&(bz=o),l!==void 0&&(xz=l),t.rtl!==void 0&&(vS=t.rtl),t.maxCount!==void 0&&(wz=t.maxCount)}function Sse(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gz,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:yz,r;switch(t){case"topLeft":r={left:"0px",top:e,bottom:"auto"};break;case"topRight":r={right:"0px",top:e,bottom:"auto"};break;case"bottomLeft":r={left:"0px",top:"auto",bottom:n};break;default:r={right:"0px",top:"auto",bottom:n};break}return r}function Tse(t,e){var n=t.prefixCls,r=t.placement,i=r===void 0?_z:r,o=t.getContainer,l=o===void 0?bz:o,a=t.top,f=t.bottom,p=t.closeIcon,v=p===void 0?xz:p,g=t.appContext,_=zse(),b=_.getPrefixCls,S=b("notification",n||pS),E="".concat(S,"-").concat(i,"-").concat(vS),P=Zf[E];if(P){Promise.resolve(P).then(function(I){e(I)});return}var k=mt("".concat(S,"-").concat(i),J({},"".concat(S,"-rtl"),vS===!0));az.newInstance({name:"notification",prefixCls:n||pS,class:k,style:Sse(i,a,f),appContext:g,getContainer:l,closeIcon:function(D){var L=D.prefixCls,B=M("span",{class:"".concat(L,"-close-x")},[Dg(v,{},M(pu,{class:"".concat(L,"-close-icon")},null))]);return B},maxCount:wz,hasTransitionName:!0},function(I){Zf[E]=I,e(I)})}var Ese={success:F5,info:d8,error:j5,warning:f2};function Pse(t){var e=t.icon,n=t.type,r=t.description,i=t.message,o=t.btn,l=t.duration===void 0?mz:t.duration;Tse(t,function(a){a.notice({content:function(p){var v=p.prefixCls,g="".concat(v,"-notice"),_=null;if(e)_=function(){return M("span",{class:"".concat(g,"-icon")},[Dg(e)])};else if(n){var b=Ese[n];_=function(){return M(b,{class:"".concat(g,"-icon ").concat(g,"-icon-").concat(n)},null)}}return M("div",{class:_?"".concat(g,"-with-icon"):""},[_&&_(),M("div",{class:"".concat(g,"-message")},[!r&&_?M("span",{class:"".concat(g,"-message-single-line-auto-margin")},null):null,Dg(i)]),M("div",{class:"".concat(g,"-description")},[Dg(r)]),o?M("span",{class:"".concat(g,"-btn")},[Dg(o)]):null])},duration:l,closable:!0,onClose:t.onClose,onClick:t.onClick,key:t.key,style:t.style||{},class:t.class})})}var O1={open:Pse,close:function(e){Object.keys(Zf).forEach(function(n){return Promise.resolve(Zf[n]).then(function(r){r.removeNotice(e)})})},config:Cse,destroy:function(){Object.keys(Zf).forEach(function(e){Promise.resolve(Zf[e]).then(function(n){n.destroy()}),delete Zf[e]})}},Mse=["success","info","warning","error"];Mse.forEach(function(t){O1[t]=function(e){return O1.open(R(R({},e),{},{type:t}))}});O1.warn=O1.warning;const G8=O1;function Th(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var kse="vc-util-key";function Cz(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):kse}function q8(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function UA(t){var e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Th())return null;var r=document.createElement("style");if((e=n.csp)!==null&&e!==void 0&&e.nonce){var i;r.nonce=(i=n.csp)===null||i===void 0?void 0:i.nonce}r.innerHTML=t;var o=q8(n),l=o.firstChild;return n.prepend&&o.prepend?o.prepend(r):n.prepend&&l?o.insertBefore(r,l):o.appendChild(r),r}var mS=new Map;function Ase(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=q8(e);return Array.from(mS.get(n).children).find(function(r){return r.tagName==="STYLE"&&r.getAttribute(Cz(e))===t})}function Ise(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=q8(n);if(!mS.has(r)){var i=UA("",n),o=i.parentNode;mS.set(r,o),o.removeChild(i)}var l=Ase(e,n);if(l){var a,f;if((a=n.csp)!==null&&a!==void 0&&a.nonce&&l.nonce!==((f=n.csp)===null||f===void 0?void 0:f.nonce)){var p;l.nonce=(p=n.csp)===null||p===void 0?void 0:p.nonce}return l.innerHTML!==t&&(l.innerHTML=t),l}var v=UA(t,n);return v.setAttribute(Cz(n),e),v}const Br=function(t,e,n){rz(t,"[ant-design-vue: ".concat(e,"] ").concat(n))};var Ose="-ant-".concat(Date.now(),"-").concat(Math.random());function Dse(t,e){var n={},r=function(v,g){var _=v.clone();return _=(g==null?void 0:g(_))||_,_.toRgbString()},i=function(v,g){var _=new dC(v),b=k1(_.toRgbString());n["".concat(g,"-color")]=r(_),n["".concat(g,"-color-disabled")]=b[1],n["".concat(g,"-color-hover")]=b[4],n["".concat(g,"-color-active")]=b[6],n["".concat(g,"-color-outline")]=_.clone().setAlpha(.2).toRgbString(),n["".concat(g,"-color-deprecated-bg")]=b[1],n["".concat(g,"-color-deprecated-border")]=b[3]};if(e.primaryColor){i(e.primaryColor,"primary");var o=new dC(e.primaryColor),l=k1(o.toRgbString());l.forEach(function(p,v){n["primary-".concat(v+1)]=p}),n["primary-color-deprecated-l-35"]=r(o,function(p){return p.lighten(35)}),n["primary-color-deprecated-l-20"]=r(o,function(p){return p.lighten(20)}),n["primary-color-deprecated-t-20"]=r(o,function(p){return p.tint(20)}),n["primary-color-deprecated-t-50"]=r(o,function(p){return p.tint(50)}),n["primary-color-deprecated-f-12"]=r(o,function(p){return p.setAlpha(p.getAlpha()*.12)});var a=new dC(l[0]);n["primary-color-active-deprecated-f-30"]=r(a,function(p){return p.setAlpha(p.getAlpha()*.3)}),n["primary-color-active-deprecated-d-02"]=r(a,function(p){return p.darken(2)})}e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info");var f=Object.keys(n).map(function(p){return"--".concat(t,"-").concat(p,": ").concat(n[p],";")});Th()?Ise(`
  :root {
    `.concat(f.join(`
`),`
  }
  `),"".concat(Ose,"-dynamic-theme")):Br(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var Sz=Symbol("GlobalFormContextKey"),Rse=function(e){Xn(Sz,e)},Lse=function(){return Hn(Sz,{validateMessages:le(function(){})})},Fse=function(){return{getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:{type:Object,default:void 0},input:{type:Object},autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},pageHeader:{type:Object},componentSize:{type:String},direction:{type:String},space:{type:Object},virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:{type:Object,default:void 0},notUpdateGlobalConfig:Boolean}},Nse="ant";function rv(){return Yo.prefixCls||Nse}var gS=Mr({}),Tz=Mr({}),Yo=Mr({});Un(function(){yr(Yo,gS,Tz),Yo.prefixCls=rv(),Yo.getPrefixCls=function(t,e){return e||(t?"".concat(Yo.prefixCls,"-").concat(t):Yo.prefixCls)},Yo.getRootPrefixCls=function(t,e){return t||(Yo.prefixCls?Yo.prefixCls:e&&e.includes("-")?e.replace(/^(.*)-[^-]*$/,"$1"):rv())}});var bC,Bse=function(e){bC&&bC(),bC=Un(function(){yr(Tz,Mr(e)),yr(Yo,Mr(e))}),e.theme&&Dse(rv(),e.theme)},zse=function(){return{getPrefixCls:function(n,r){return r||(n?"".concat(rv(),"-").concat(n):rv())},getRootPrefixCls:function(n,r){return n||(Yo.prefixCls?Yo.prefixCls:r&&r.includes("-")?r.replace(/^(.*)-[^-]*$/,"$1"):rv())}}},e1=lt({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:Fse(),setup:function(e,n){var r=n.slots,i=function(g,_){var b=e.prefixCls,S=b===void 0?"ant":b;return _||(g?"".concat(S,"-").concat(g):S)},o=function(g){var _=e.renderEmpty||r.renderEmpty||tz;return _(g)},l=function(g,_){var b=e.prefixCls;if(_)return _;var S=b||i("");return g?"".concat(S,"-").concat(g):S},a=Mr(R(R({},e),{},{getPrefixCls:l,renderEmpty:o}));Object.keys(e).forEach(function(v){Lt(function(){return e[v]},function(){a[v]=e[v]})}),e.notUpdateGlobalConfig||(yr(gS,a),Lt(a,function(){yr(gS,a)}));var f=le(function(){var v={};if(e.locale){var g,_;v=((g=e.locale.Form)===null||g===void 0?void 0:g.defaultValidateMessages)||((_=Sl.Form)===null||_===void 0?void 0:_.defaultValidateMessages)||{}}return e.form&&e.form.validateMessages&&(v=R(R({},v),e.form.validateMessages)),v});Rse({validateMessages:f}),Xn("configProvider",a);var p=function(g){var _;return M(iz,{locale:e.locale||g,ANT_MARK__:fS},{default:function(){return[(_=r.default)===null||_===void 0?void 0:_.call(r)]}})};return Un(function(){e.direction&&(W8.config({rtl:e.direction==="rtl"}),G8.config({rtl:e.direction==="rtl"}))}),function(){return M(jv,{children:function(g,_,b){return p(b)}},null)}}}),Y8=Mr({getPrefixCls:function(e,n){return n||(e?"ant-".concat(e):"ant")},renderEmpty:tz,direction:"ltr"});e1.config=Bse;e1.install=function(t){t.component(e1.name,e1)};const X8=e1,fn=function(t,e){var n=Hn("configProvider",Y8),r=le(function(){return n.getPrefixCls(t,e.prefixCls)}),i=le(function(){var I;return(I=e.direction)!==null&&I!==void 0?I:n.direction}),o=le(function(){return n.getPrefixCls()}),l=le(function(){return n.autoInsertSpaceInButton}),a=le(function(){return n.renderEmpty}),f=le(function(){return n.space}),p=le(function(){return n.pageHeader}),v=le(function(){return n.form}),g=le(function(){return e.getTargetContainer||n.getTargetContainer}),_=le(function(){return e.getPopupContainer||n.getPopupContainer}),b=le(function(){var I;return(I=e.dropdownMatchSelectWidth)!==null&&I!==void 0?I:n.dropdownMatchSelectWidth}),S=le(function(){return(e.virtual===void 0?n.virtual!==!1:e.virtual!==!1)&&b.value!==!1}),E=le(function(){return e.size||n.componentSize}),P=le(function(){var I;return e.autocomplete||((I=n.input)===null||I===void 0?void 0:I.autocomplete)}),k=le(function(){return n.csp});return{configProvider:n,prefixCls:r,direction:i,size:E,getTargetContainer:g,getPopupContainer:_,space:f,pageHeader:p,form:v,autoInsertSpaceInButton:l,renderEmpty:a,virtual:S,dropdownMatchSelectWidth:b,rootPrefixCls:o,getPrefixCls:n.getPrefixCls,autocomplete:P,csp:k}};function Qn(t,e){for(var n=yr({},t),r=0;r<e.length;r+=1){var i=e[r];delete n[i]}return n}function $se(){return typeof window<"u"?window:null}var Wp;(function(t){t[t.None=0]="None",t[t.Prepare=1]="Prepare"})(Wp||(Wp={}));var jse=function(){return{offsetTop:Number,offsetBottom:Number,target:{type:Function,default:$se},prefixCls:String,onChange:Function,onTestUpdatePosition:Function}},Vse=lt({compatConfig:{MODE:3},name:"AAffix",props:jse(),setup:function(e,n){var r=n.slots,i=n.emit,o=n.expose,l=ke(),a=ke(),f=Mr({affixStyle:void 0,placeholderStyle:void 0,status:Wp.None,lastAffix:!1,prevTarget:null,timeout:null}),p=Ba(),v=le(function(){return e.offsetBottom===void 0&&e.offsetTop===void 0?0:e.offsetTop}),g=le(function(){return e.offsetBottom}),_=function(){var D=f.status,L=f.lastAffix,B=e.target;if(!(D!==Wp.Prepare||!a.value||!l.value||!B)){var N=B();if(N){var j={status:Wp.None},H=n_(N),V=n_(l.value),Z=IA(V,H,v.value),re=OA(V,H,g.value);Z!==void 0?(j.affixStyle={position:"fixed",top:Z,width:V.width+"px",height:V.height+"px"},j.placeholderStyle={width:V.width+"px",height:V.height+"px"}):re!==void 0&&(j.affixStyle={position:"fixed",bottom:re,width:V.width+"px",height:V.height+"px"},j.placeholderStyle={width:V.width+"px",height:V.height+"px"}),j.lastAffix=!!j.affixStyle,L!==j.lastAffix&&i("change",j.lastAffix),yr(f,j)}}},b=function(){yr(f,{status:Wp.Prepare,affixStyle:void 0,placeholderStyle:void 0}),p.update()},S=dS(function(){b()}),E=dS(function(){var I=e.target,D=f.affixStyle;if(I&&D){var L=I();if(L&&l.value){var B=n_(L),N=n_(l.value),j=IA(N,B,v.value),H=OA(N,B,g.value);if(j!==void 0&&D.top===j||H!==void 0&&D.bottom===H)return}}b()});o({updatePosition:S,lazyUpdatePosition:E}),Lt(function(){return e.target},function(I){var D=(I==null?void 0:I())||null;f.prevTarget!==D&&(RA(p),D&&(DA(D,p),S()),f.prevTarget=D)}),Lt(function(){return[e.offsetTop,e.offsetBottom]},S),zn(function(){var I=e.target;I&&(f.timeout=setTimeout(function(){DA(I(),p),S()}))}),yo(function(){_()}),_o(function(){clearTimeout(f.timeout),RA(p),S.cancel(),E.cancel()});var P=fn("affix",e),k=P.prefixCls;return function(){var I,D=f.affixStyle,L=f.placeholderStyle,B=mt(J({},k.value,D)),N=Qn(e,["prefixCls","offsetTop","offsetBottom","target","onChange","onTestUpdatePosition"]);return M(Gs,{onResize:S},{default:function(){return[M("div",R(R({},N),{},{style:L,ref:l}),[M("div",{class:B,ref:a,style:D},[(I=r.default)===null||I===void 0?void 0:I.call(r)])])]}})}}});const Ez=Ki(Vse);function yS(t){return t!=null&&t===t.window}function Z8(t,e){if(typeof window>"u")return 0;var n=e?"scrollTop":"scrollLeft",r=0;if(yS(t)?r=t[e?"pageYOffset":"pageXOffset"]:t instanceof Document?r=t.documentElement[n]:t&&(r=t[n]),t&&!yS(t)&&typeof r!="number"){var i;r=(i=(t.ownerDocument||t).documentElement)===null||i===void 0?void 0:i[n]}return r}function Use(t,e,n,r){var i=n-e;return t/=r/2,t<1?i/2*t*t*t+e:i/2*((t-=2)*t*t+2)+e}function Q8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.getContainer,r=n===void 0?function(){return window}:n,i=e.callback,o=e.duration,l=o===void 0?450:o,a=r(),f=Z8(a,!0),p=Date.now(),v=function g(){var _=Date.now(),b=_-p,S=Use(b>l?l:b,f,t,l);yS(a)?a.scrollTo(window.pageXOffset,S):a instanceof HTMLDocument||a.constructor.name==="HTMLDocument"?a.documentElement.scrollTop=S:a.scrollTop=S,b<l?$n(g):typeof i=="function"&&i()};$n(v)}function r_(){}var Pz=Symbol("anchorContextKey"),Hse=function(e){Xn(Pz,e)},Kse=function(){return Hn(Pz,{registerLink:r_,unregisterLink:r_,scrollTo:r_,activeLink:le(function(){return""}),handleClick:r_})};const Wse=Hse;function Gse(){return window}function HA(t,e){if(!t.getClientRects().length)return 0;var n=t.getBoundingClientRect();return n.width||n.height?e===window?(e=t.ownerDocument.documentElement,n.top-e.clientTop):n.top-e.getBoundingClientRect().top:n.top}var KA=/#([\S ]+)$/,qse=function(){return{prefixCls:String,offsetTop:Number,bounds:Number,affix:{type:Boolean,default:!0},showInkInFixed:{type:Boolean,default:!1},getContainer:Function,wrapperClass:String,wrapperStyle:{type:Object,default:void 0},getCurrentAnchor:Function,targetOffset:Number,onChange:Function,onClick:Function}};const Qf=lt({compatConfig:{MODE:3},name:"AAnchor",inheritAttrs:!1,props:qse(),setup:function(e,n){var r=n.emit,i=n.attrs,o=n.slots,l=n.expose,a=fn("anchor",e),f=a.prefixCls,p=a.getTargetContainer,v=a.direction,g=ke(),_=ke(),b=Mr({links:[],scrollContainer:null,scrollEvent:null,animating:!1}),S=ke(null),E=le(function(){var B=e.getContainer;return B||p.value||Gse}),P=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:5,H=[],V=E.value();if(b.links.forEach(function(re){var q=KA.exec(re.toString());if(q){var G=document.getElementById(q[1]);if(G){var ae=HA(G,V);ae<N+j&&H.push({link:re,top:ae})}}}),H.length){var Z=H.reduce(function(re,q){return q.top>re.top?q:re});return Z.link}return""},k=function(N){var j=e.getCurrentAnchor;S.value!==N&&(S.value=typeof j=="function"?j():N,r("change",N))},I=function(N){var j=e.offsetTop,H=e.targetOffset;k(N);var V=E.value(),Z=Z8(V,!0),re=KA.exec(N);if(re){var q=document.getElementById(re[1]);if(q){var G=HA(q,V),ae=Z+G;ae-=H!==void 0?H:j||0,b.animating=!0,Q8(ae,{callback:function(){b.animating=!1},getContainer:E.value})}}};l({scrollTo:I});var D=function(){if(!b.animating){var N=e.offsetTop,j=e.bounds,H=e.targetOffset,V=P(H!==void 0?H:N||0,j);k(V)}},L=function(){var N=_.value.getElementsByClassName("".concat(f.value,"-link-title-active"))[0];N&&(g.value.style.top="".concat(N.offsetTop+N.clientHeight/2-4.5,"px"))};return Wse({registerLink:function(N){b.links.includes(N)||b.links.push(N)},unregisterLink:function(N){var j=b.links.indexOf(N);j!==-1&&b.links.splice(j,1)},activeLink:S,scrollTo:I,handleClick:function(N,j){r("click",N,j)}}),zn(function(){Yn(function(){var B=E.value();b.scrollContainer=B,b.scrollEvent=_i(b.scrollContainer,"scroll",D),D()})}),tr(function(){b.scrollEvent&&b.scrollEvent.remove()}),yo(function(){if(b.scrollEvent){var B=E.value();b.scrollContainer!==B&&(b.scrollContainer=B,b.scrollEvent.remove(),b.scrollEvent=_i(b.scrollContainer,"scroll",D),D())}L()}),function(){var B,N=e.offsetTop,j=e.affix,H=e.showInkInFixed,V=f.value,Z=mt("".concat(V,"-ink-ball"),{visible:S.value}),re=mt(e.wrapperClass,"".concat(V,"-wrapper"),J({},"".concat(V,"-rtl"),v.value==="rtl")),q=mt(V,J({},"".concat(V,"-fixed"),!j&&!H)),G=R({maxHeight:N?"calc(100vh - ".concat(N,"px)"):"100vh"},e.wrapperStyle),ae=M("div",{class:re,style:G,ref:_},[M("div",{class:q},[M("div",{class:"".concat(V,"-ink")},[M("span",{class:Z,ref:g},null)]),(B=o.default)===null||B===void 0?void 0:B.call(o)])]);return j?M(Ez,R(R({},i),{},{offsetTop:N,target:E.value}),{default:function(){return[ae]}}):ae}}});var Yse=function(){return{prefixCls:String,href:String,title:Te.any,target:String}};const Mz=lt({compatConfig:{MODE:3},name:"AAnchorLink",props:lr(Yse(),{href:"#"}),slots:["title"],setup:function(e,n){var r=n.slots,i=null,o=Kse(),l=o.handleClick,a=o.scrollTo,f=o.unregisterLink,p=o.registerLink,v=o.activeLink,g=fn("anchor",e),_=g.prefixCls,b=function(E){var P=e.href;l(E,{title:i,href:P}),a(P)};return Lt(function(){return e.href},function(S,E){Yn(function(){f(E),p(S)})}),zn(function(){p(e.href)}),tr(function(){f(e.href)}),function(){var S,E=e.href,P=e.target,k=_.value,I=vi(r,e,"title");i=I;var D=v.value===E,L=mt("".concat(k,"-link"),J({},"".concat(k,"-link-active"),D)),B=mt("".concat(k,"-link-title"),J({},"".concat(k,"-link-title-active"),D));return M("div",{class:L},[M("a",{class:B,href:E,title:typeof I=="string"?I:"",target:P,onClick:b},[I]),(S=r.default)===null||S===void 0?void 0:S.call(r)])}}});Qf.Link=Mz;Qf.install=function(t){return t.component(Qf.name,Qf),t.component(Qf.Link.name,Qf.Link),t};function J8(t){return TB(t)||PB(t)||g2(t)||EB()}function WA(t,e){var n=t.key,r;return"value"in t&&(r=t.value),n??(r!==void 0?r:"rc-index-key-".concat(e))}function kz(t,e){var n=t||{},r=n.label,i=n.value,o=n.options;return{label:r||(e?"children":"label"),value:i||"value",options:o||"options"}}function Xse(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.fieldNames,r=e.childrenAsData,i=[],o=kz(n,!1),l=o.label,a=o.value,f=o.options;function p(v,g){v.forEach(function(_){var b=_[l];if(g||!(f in _)){var S=_[a];i.push({key:WA(_,i.length),groupOption:g,data:_,label:b,value:S})}else{var E=b;E===void 0&&r&&(E=_.label),i.push({key:WA(_,i.length),group:!0,data:_,label:E}),p(_[f],!0)}})}return p(t,!1),i}function _S(t){var e=R({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return e}}),e}function Zse(t,e){if(!e||!e.length)return null;var n=!1;function r(o,l){var a=J8(l),f=a[0],p=a.slice(1);if(!f)return[o];var v=o.split(f);return n=n||v.length>1,v.reduce(function(g,_){return[].concat(Jt(g),Jt(r(_,p)))},[]).filter(function(g){return g})}var i=r(t,e);return n?i:null}function Jf(t,e){return t?t.contains(e):!1}var Az=["moz","ms","webkit"];function Qse(){var t=0;return function(e){var n=new Date().getTime(),r=Math.max(0,16-(n-t)),i=window.setTimeout(function(){e(n+r)},r);return t=n+r,i}}function Jse(){if(typeof window>"u")return function(){};if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);var t=Az.filter(function(e){return"".concat(e,"RequestAnimationFrame")in window})[0];return t?window["".concat(t,"RequestAnimationFrame")]:Qse()}function ele(t){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(t);var e=Az.filter(function(n){return"".concat(n,"CancelAnimationFrame")in window||"".concat(n,"CancelRequestAnimationFrame")in window})[0];return e?(window["".concat(e,"CancelAnimationFrame")]||window["".concat(e,"CancelRequestAnimationFrame")]).call(this,t):clearTimeout(t)}var GA=Jse(),tle=function(e){return ele(e.id)},nle=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=Date.now();function i(){Date.now()-r>=n?e.call():o.id=GA(i)}var o={id:GA(i)};return o},eT={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},rle=R(R({},eT),{},{mobile:{type:Object}}),ile=R(R({},eT),{},{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function Iz(t){var e=t.prefixCls,n=t.animation,r=t.transitionName;return n?{name:"".concat(e,"-").concat(n)}:r?{name:r}:{}}function Oz(t){var e=t.prefixCls,n=t.visible,r=t.zIndex,i=t.mask,o=t.maskAnimation,l=t.maskTransitionName;if(!i)return null;var a={};return(l||o)&&(a=Iz({prefixCls:e,transitionName:l,animation:o})),M(Io,R({appear:!0},a),{default:function(){return[qa(M("div",{style:{zIndex:r},class:"".concat(e,"-mask")},null),[[eX("if"),n]])]}})}Oz.displayName="Mask";const ale=lt({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:rle,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup:function(e,n){var r=n.expose,i=n.slots,o=ke();return r({forceAlign:function(){},getElement:function(){return o.value}}),function(){var l,a=e.zIndex,f=e.visible,p=e.prefixCls,v=e.mobile,g=v===void 0?{}:v,_=g.popupClassName,b=g.popupStyle,S=g.popupMotion,E=S===void 0?{}:S,P=g.popupRender,k=R({zIndex:a},b),I=Wr((l=i.default)===null||l===void 0?void 0:l.call(i));I.length>1&&(I=M("div",{class:"".concat(p,"-content")},[I])),P&&(I=P(I));var D=mt(p,_);return M(Io,R({ref:o},E),{default:function(){return[f?M("div",{class:D,style:k},[I]):null]}})}}});var qA=["measure","align",null,"motion"];const ole=function(t,e){var n=ke(null),r=ke(),i=ke(!1);function o(f){i.value||(n.value=f)}function l(){$n.cancel(r.value)}function a(f){l(),r.value=$n(function(){var p=n.value;switch(n.value){case"align":p="motion";break;case"motion":p="stable";break}o(p),f==null||f()})}return Lt(t,function(){o("measure")},{immediate:!0,flush:"post"}),zn(function(){Lt(n,function(){switch(n.value){case"measure":e();break}n.value&&(r.value=$n(Sh(es.mark(function f(){var p,v;return es.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:p=qA.indexOf(n.value),v=qA[p+1],v&&p!==-1&&o(v);case 3:case"end":return _.stop()}},f)}))))},{immediate:!0,flush:"post"})}),tr(function(){i.value=!0,l()}),[n,a]},sle=function(t){var e=ke({width:0,height:0});function n(i){e.value={width:i.offsetWidth,height:i.offsetHeight}}var r=le(function(){var i={};if(t.value){var o=e.value,l=o.width,a=o.height;t.value.indexOf("height")!==-1&&a?i.height="".concat(a,"px"):t.value.indexOf("minHeight")!==-1&&a&&(i.minHeight="".concat(a,"px")),t.value.indexOf("width")!==-1&&l?i.width="".concat(l,"px"):t.value.indexOf("minWidth")!==-1&&l&&(i.minWidth="".concat(l,"px"))}return i});return[r,n]};function YA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YA(Object(n),!0).forEach(function(r){lle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bS(t){"@babel/helpers - typeof";return bS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bS(t)}function lle(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gg,ule={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function tx(){if(gg!==void 0)return gg;gg="";var t=document.createElement("p").style,e="Transform";for(var n in ule)n+e in t&&(gg=n);return gg}function Dz(){return tx()?"".concat(tx(),"TransitionProperty"):"transitionProperty"}function _2(){return tx()?"".concat(tx(),"Transform"):"transform"}function ZA(t,e){var n=Dz();n&&(t.style[n]=e,n!=="transitionProperty"&&(t.style.transitionProperty=e))}function xC(t,e){var n=_2();n&&(t.style[n]=e,n!=="transform"&&(t.style.transform=e))}function cle(t){return t.style.transitionProperty||t.style[Dz()]}function dle(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(_2());if(n&&n!=="none"){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var fle=/matrix\((.*)\)/,hle=/matrix3d\((.*)\)/;function ple(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(_2());if(r&&r!=="none"){var i,o=r.match(fle);if(o)o=o[1],i=o.split(",").map(function(a){return parseFloat(a,10)}),i[4]=e.x,i[5]=e.y,xC(t,"matrix(".concat(i.join(","),")"));else{var l=r.match(hle)[1];i=l.split(",").map(function(a){return parseFloat(a,10)}),i[12]=e.x,i[13]=e.y,xC(t,"matrix3d(".concat(i.join(","),")"))}}else xC(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var vle=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,o0;function QA(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function iv(t,e,n){var r=n;if(bS(e)==="object"){for(var i in e)e.hasOwnProperty(i)&&iv(t,i,e[i]);return}if(typeof r<"u"){typeof r=="number"&&(r="".concat(r,"px")),t.style[e]=r;return}return o0(t,e)}function mle(t){var e,n,r,i=t.ownerDocument,o=i.body,l=i&&i.documentElement;return e=t.getBoundingClientRect(),n=Math.floor(e.left),r=Math.floor(e.top),n-=l.clientLeft||o.clientLeft||0,r-=l.clientTop||o.clientTop||0,{left:n,top:r}}function Rz(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function Lz(t){return Rz(t)}function Fz(t){return Rz(t,!0)}function D1(t){var e=mle(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=Lz(r),e.top+=Fz(r),e}function tT(t){return t!=null&&t==t.window}function Nz(t){return tT(t)?t.document:t.nodeType===9?t:t.ownerDocument}function gle(t,e,n){var r=n,i="",o=Nz(t);return r=r||o.defaultView.getComputedStyle(t,null),r&&(i=r.getPropertyValue(e)||r[e]),i}var yle=new RegExp("^(".concat(vle,")(?!px)[a-z%]+$"),"i"),_le=/^(top|right|bottom|left)$/,wC="currentStyle",CC="runtimeStyle",If="left",ble="px";function xle(t,e){var n=t[wC]&&t[wC][e];if(yle.test(n)&&!_le.test(e)){var r=t.style,i=r[If],o=t[CC][If];t[CC][If]=t[wC][If],r[If]=e==="fontSize"?"1em":n||0,n=r.pixelLeft+ble,r[If]=i,t[CC][If]=o}return n===""?"auto":n}typeof window<"u"&&(o0=window.getComputedStyle?gle:xle);function i_(t,e){return t==="left"?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function JA(t){if(t==="left")return"right";if(t==="right")return"left";if(t==="top")return"bottom";if(t==="bottom")return"top"}function eI(t,e,n){iv(t,"position")==="static"&&(t.style.position="relative");var r=-999,i=-999,o=i_("left",n),l=i_("top",n),a=JA(o),f=JA(l);o!=="left"&&(r=999),l!=="top"&&(i=999);var p="",v=D1(t);("left"in e||"top"in e)&&(p=cle(t)||"",ZA(t,"none")),"left"in e&&(t.style[a]="",t.style[o]="".concat(r,"px")),"top"in e&&(t.style[f]="",t.style[l]="".concat(i,"px")),QA(t);var g=D1(t),_={};for(var b in e)if(e.hasOwnProperty(b)){var S=i_(b,n),E=b==="left"?r:i,P=v[b]-g[b];S===b?_[S]=E+P:_[S]=E-P}iv(t,_),QA(t),("left"in e||"top"in e)&&ZA(t,p);var k={};for(var I in e)if(e.hasOwnProperty(I)){var D=i_(I,n),L=e[I]-v[I];I===D?k[D]=_[D]+L:k[D]=_[D]-L}iv(t,k)}function wle(t,e){var n=D1(t),r=dle(t),i={x:r.x,y:r.y};"left"in e&&(i.x=r.x+e.left-n.left),"top"in e&&(i.y=r.y+e.top-n.top),ple(t,i)}function Cle(t,e,n){if(n.ignoreShake){var r=D1(t),i=r.left.toFixed(0),o=r.top.toFixed(0),l=e.left.toFixed(0),a=e.top.toFixed(0);if(i===l&&o===a)return}n.useCssRight||n.useCssBottom?eI(t,e,n):n.useCssTransform&&_2()in document.body.style?wle(t,e):eI(t,e,n)}function nT(t,e){for(var n=0;n<t.length;n++)e(t[n])}function Bz(t){return o0(t,"boxSizing")==="border-box"}var Sle=["margin","border","padding"],xS=-1,Tle=2,wS=1,Ele=0;function Ple(t,e,n){var r={},i=t.style,o;for(o in e)e.hasOwnProperty(o)&&(r[o]=i[o],i[o]=e[o]);n.call(t);for(o in e)e.hasOwnProperty(o)&&(i[o]=r[o])}function Rg(t,e,n){var r=0,i,o,l;for(o=0;o<e.length;o++)if(i=e[o],i)for(l=0;l<n.length;l++){var a=void 0;i==="border"?a="".concat(i).concat(n[l],"Width"):a=i+n[l],r+=parseFloat(o0(t,a))||0}return r}var lu={getParent:function(e){var n=e;do n.nodeType===11&&n.host?n=n.host:n=n.parentNode;while(n&&n.nodeType!==1&&n.nodeType!==9);return n}};nT(["Width","Height"],function(t){lu["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],lu["viewport".concat(t)](n))},lu["viewport".concat(t)]=function(e){var n="client".concat(t),r=e.document,i=r.body,o=r.documentElement,l=o[n];return r.compatMode==="CSS1Compat"&&l||i&&i[n]||l}});function tI(t,e,n){var r=n;if(tT(t))return e==="width"?lu.viewportWidth(t):lu.viewportHeight(t);if(t.nodeType===9)return e==="width"?lu.docWidth(t):lu.docHeight(t);var i=e==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(e==="width"?t.getBoundingClientRect().width:t.getBoundingClientRect().height),l=Bz(t),a=0;(o==null||o<=0)&&(o=void 0,a=o0(t,e),(a==null||Number(a)<0)&&(a=t.style[e]||0),a=Math.floor(parseFloat(a))||0),r===void 0&&(r=l?wS:xS);var f=o!==void 0||l,p=o||a;return r===xS?f?p-Rg(t,["border","padding"],i):a:f?r===wS?p:p+(r===Tle?-Rg(t,["border"],i):Rg(t,["margin"],i)):a+Rg(t,Sle.slice(r),i)}var Mle={position:"absolute",visibility:"hidden",display:"block"};function nI(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0];return i.offsetWidth!==0?r=tI.apply(void 0,e):Ple(i,Mle,function(){r=tI.apply(void 0,e)}),r}nT(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);lu["outer".concat(e)]=function(r,i){return r&&nI(r,t,i?Ele:wS)};var n=t==="width"?["Left","Right"]:["Top","Bottom"];lu[t]=function(r,i){var o=i;if(o!==void 0){if(r){var l=Bz(r);return l&&(o+=Rg(r,["padding","border"],n)),iv(r,t,o)}return}return r&&nI(r,t,xS)}});function zz(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var Cr={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},getDocument:Nz,offset:function(e,n,r){if(typeof n<"u")Cle(e,n,r||{});else return D1(e)},isWindow:tT,each:nT,css:iv,clone:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);var i=e.overflow;if(i)for(n in e)e.hasOwnProperty(n)&&(r.overflow[n]=e.overflow[n]);return r},mix:zz,getWindowScrollLeft:function(e){return Lz(e)},getWindowScrollTop:function(e){return Fz(e)},merge:function(){for(var e={},n=0;n<arguments.length;n++)Cr.mix(e,n<0||arguments.length<=n?void 0:arguments[n]);return e},viewportWidth:0,viewportHeight:0};zz(Cr,lu);var SC=Cr.getParent;function CS(t){if(Cr.isWindow(t)||t.nodeType===9)return null;var e=Cr.getDocument(t),n=e.body,r,i=Cr.css(t,"position"),o=i==="fixed"||i==="absolute";if(!o)return t.nodeName.toLowerCase()==="html"?null:SC(t);for(r=SC(t);r&&r!==n&&r.nodeType!==9;r=SC(r))if(i=Cr.css(r,"position"),i!=="static")return r;return null}var rI=Cr.getParent;function kle(t){if(Cr.isWindow(t)||t.nodeType===9)return!1;var e=Cr.getDocument(t),n=e.body,r=null;for(r=rI(t);r&&r!==n&&r!==e;r=rI(r)){var i=Cr.css(r,"position");if(i==="fixed")return!0}return!1}function rT(t,e){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=CS(t),i=Cr.getDocument(t),o=i.defaultView||i.parentWindow,l=i.body,a=i.documentElement;r;){if((navigator.userAgent.indexOf("MSIE")===-1||r.clientWidth!==0)&&r!==l&&r!==a&&Cr.css(r,"overflow")!=="visible"){var f=Cr.offset(r);f.left+=r.clientLeft,f.top+=r.clientTop,n.top=Math.max(n.top,f.top),n.right=Math.min(n.right,f.left+r.clientWidth),n.bottom=Math.min(n.bottom,f.top+r.clientHeight),n.left=Math.max(n.left,f.left)}else if(r===l||r===a)break;r=CS(r)}var p=null;if(!Cr.isWindow(t)&&t.nodeType!==9){p=t.style.position;var v=Cr.css(t,"position");v==="absolute"&&(t.style.position="fixed")}var g=Cr.getWindowScrollLeft(o),_=Cr.getWindowScrollTop(o),b=Cr.viewportWidth(o),S=Cr.viewportHeight(o),E=a.scrollWidth,P=a.scrollHeight,k=window.getComputedStyle(l);if(k.overflowX==="hidden"&&(E=o.innerWidth),k.overflowY==="hidden"&&(P=o.innerHeight),t.style&&(t.style.position=p),e||kle(t))n.left=Math.max(n.left,g),n.top=Math.max(n.top,_),n.right=Math.min(n.right,g+b),n.bottom=Math.min(n.bottom,_+S);else{var I=Math.max(E,g+b);n.right=Math.min(n.right,I);var D=Math.max(P,_+S);n.bottom=Math.min(n.bottom,D)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Ale(t,e,n,r){var i=Cr.clone(t),o={width:e.width,height:e.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),Cr.mix(i,o)}function iT(t){var e,n,r;if(!Cr.isWindow(t)&&t.nodeType!==9)e=Cr.offset(t),n=Cr.outerWidth(t),r=Cr.outerHeight(t);else{var i=Cr.getWindow(t);e={left:Cr.getWindowScrollLeft(i),top:Cr.getWindowScrollTop(i)},n=Cr.viewportWidth(i),r=Cr.viewportHeight(i)}return e.width=n,e.height=r,e}function iI(t,e){var n=e.charAt(0),r=e.charAt(1),i=t.width,o=t.height,l=t.left,a=t.top;return n==="c"?a+=o/2:n==="b"&&(a+=o),r==="c"?l+=i/2:r==="r"&&(l+=i),{left:l,top:a}}function a_(t,e,n,r,i){var o=iI(e,n[1]),l=iI(t,n[0]),a=[l.left-o.left,l.top-o.top];return{left:Math.round(t.left-a[0]+r[0]-i[0]),top:Math.round(t.top-a[1]+r[1]-i[1])}}function aI(t,e,n){return t.left<n.left||t.left+e.width>n.right}function oI(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function Ile(t,e,n){return t.left>n.right||t.left+e.width<n.left}function Ole(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function o_(t,e,n){var r=[];return Cr.each(t,function(i){r.push(i.replace(e,function(o){return n[o]}))}),r}function s_(t,e){return t[e]=-t[e],t}function sI(t,e){var n;return/%$/.test(t)?n=parseInt(t.substring(0,t.length-1),10)/100*e:n=parseInt(t,10),n||0}function lI(t,e){t[0]=sI(t[0],e.width),t[1]=sI(t[1],e.height)}function $z(t,e,n,r){var i=n.points,o=n.offset||[0,0],l=n.targetOffset||[0,0],a=n.overflow,f=n.source||t;o=[].concat(o),l=[].concat(l),a=a||{};var p={},v=0,g=!!(a&&a.alwaysByViewport),_=rT(f,g),b=iT(f);lI(o,b),lI(l,e);var S=a_(b,e,i,o,l),E=Cr.merge(b,S);if(_&&(a.adjustX||a.adjustY)&&r){if(a.adjustX&&aI(S,b,_)){var P=o_(i,/[lr]/gi,{l:"r",r:"l"}),k=s_(o,0),I=s_(l,0),D=a_(b,e,P,k,I);Ile(D,b,_)||(v=1,i=P,o=k,l=I)}if(a.adjustY&&oI(S,b,_)){var L=o_(i,/[tb]/gi,{t:"b",b:"t"}),B=s_(o,1),N=s_(l,1),j=a_(b,e,L,B,N);Ole(j,b,_)||(v=1,i=L,o=B,l=N)}v&&(S=a_(b,e,i,o,l),Cr.mix(E,S));var H=aI(S,b,_),V=oI(S,b,_);if(H||V){var Z=i;H&&(Z=o_(i,/[lr]/gi,{l:"r",r:"l"})),V&&(Z=o_(i,/[tb]/gi,{t:"b",b:"t"})),i=Z,o=n.offset||[0,0],l=n.targetOffset||[0,0]}p.adjustX=a.adjustX&&H,p.adjustY=a.adjustY&&V,(p.adjustX||p.adjustY)&&(E=Ale(S,b,_,p))}return E.width!==b.width&&Cr.css(f,"width",Cr.width(f)+E.width-b.width),E.height!==b.height&&Cr.css(f,"height",Cr.height(f)+E.height-b.height),Cr.offset(f,{left:E.left,top:E.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:l,overflow:p}}function Dle(t,e){var n=rT(t,e),r=iT(t);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function aT(t,e,n){var r=n.target||e,i=iT(r),o=!Dle(r,n.overflow&&n.overflow.alwaysByViewport);return $z(t,i,n,o)}aT.__getOffsetParent=CS;aT.__getVisibleRectForElement=rT;function Rle(t,e,n){var r,i,o=Cr.getDocument(t),l=o.defaultView||o.parentWindow,a=Cr.getWindowScrollLeft(l),f=Cr.getWindowScrollTop(l),p=Cr.viewportWidth(l),v=Cr.viewportHeight(l);"pageX"in e?r=e.pageX:r=a+e.clientX,"pageY"in e?i=e.pageY:i=f+e.clientY;var g={left:r,top:i,width:0,height:0},_=r>=0&&r<=a+p&&i>=0&&i<=f+v,b=[n.points[0],"cc"];return $z(t,g,XA(XA({},n),{},{points:b}),_)}function Pr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=t;if(Array.isArray(t)&&(i=ta(t)[0]),!i)return null;var o=io(i,e,r);return o.props=n?R(R({},o.props),e):o.props,sa(dn(o.props.class)!=="object","class must be string"),o}function Lle(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return t.map(function(r){return Pr(r,e,n)})}function t1(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Array.isArray(t))return t.map(function(o){return t1(o,e,n,r)});var i=Pr(t,e,n,r);return Array.isArray(i.children)&&(i.children=t1(i.children)),i}const oT=function(t){if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){var e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){var n=t.getBoundingClientRect();if(n.width||n.height)return!0}return!1};function Fle(t,e){return t===e?!0:!t||!e?!1:"pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e?t.clientX===e.clientX&&t.clientY===e.clientY:!1}function Nle(t,e){t!==document.activeElement&&Jf(e,t)&&typeof t.focus=="function"&&t.focus()}function uI(t,e){var n=null,r=null;function i(l){var a=Wt(l,1),f=a[0].target;if(document.documentElement.contains(f)){var p=f.getBoundingClientRect(),v=p.width,g=p.height,_=Math.floor(v),b=Math.floor(g);(n!==_||r!==b)&&Promise.resolve().then(function(){e({width:_,height:b})}),n=_,r=b}}var o=new N8(i);return t&&o.observe(t),function(){o.disconnect()}}const Ble=function(t,e){var n=!1,r=null;function i(){clearTimeout(r)}function o(l){if(!n||l===!0){if(t()===!1)return;n=!0,i(),r=setTimeout(function(){n=!1},e.value)}else i(),r=setTimeout(function(){n=!1,o()},e.value)}return[o,function(){n=!1,i()}]};function zle(){this.__data__=[],this.size=0}function sT(t,e){return t===e||t!==t&&e!==e}function b2(t,e){for(var n=t.length;n--;)if(sT(t[n][0],e))return n;return-1}var $le=Array.prototype,jle=$le.splice;function Vle(t){var e=this.__data__,n=b2(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():jle.call(e,n,1),--this.size,!0}function Ule(t){var e=this.__data__,n=b2(e,t);return n<0?void 0:e[n][1]}function Hle(t){return b2(this.__data__,t)>-1}function Kle(t,e){var n=this.__data__,r=b2(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function hc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}hc.prototype.clear=zle;hc.prototype.delete=Vle;hc.prototype.get=Ule;hc.prototype.has=Hle;hc.prototype.set=Kle;function Wle(){this.__data__=new hc,this.size=0}function Gle(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function qle(t){return this.__data__.get(t)}function Yle(t){return this.__data__.has(t)}function El(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xle="[object AsyncFunction]",Zle="[object Function]",Qle="[object GeneratorFunction]",Jle="[object Proxy]";function jz(t){if(!El(t))return!1;var e=Fd(t);return e==Zle||e==Qle||e==Xle||e==Jle}var eue=kl["__core-js_shared__"];const TC=eue;var cI=function(){var t=/[^.]+$/.exec(TC&&TC.keys&&TC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tue(t){return!!cI&&cI in t}var nue=Function.prototype,rue=nue.toString;function Eh(t){if(t!=null){try{return rue.call(t)}catch{}try{return t+""}catch{}}return""}var iue=/[\\^$.*+?()[\]{}|]/g,aue=/^\[object .+?Constructor\]$/,oue=Function.prototype,sue=Object.prototype,lue=oue.toString,uue=sue.hasOwnProperty,cue=RegExp("^"+lue.call(uue).replace(iue,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function due(t){if(!El(t)||tue(t))return!1;var e=jz(t)?cue:aue;return e.test(Eh(t))}function fue(t,e){return t==null?void 0:t[e]}function Ph(t,e){var n=fue(t,e);return due(n)?n:void 0}var hue=Ph(kl,"Map");const R1=hue;var pue=Ph(Object,"create");const L1=pue;function vue(){this.__data__=L1?L1(null):{},this.size=0}function mue(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var gue="__lodash_hash_undefined__",yue=Object.prototype,_ue=yue.hasOwnProperty;function bue(t){var e=this.__data__;if(L1){var n=e[t];return n===gue?void 0:n}return _ue.call(e,t)?e[t]:void 0}var xue=Object.prototype,wue=xue.hasOwnProperty;function Cue(t){var e=this.__data__;return L1?e[t]!==void 0:wue.call(e,t)}var Sue="__lodash_hash_undefined__";function Tue(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=L1&&e===void 0?Sue:e,this}function gh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gh.prototype.clear=vue;gh.prototype.delete=mue;gh.prototype.get=bue;gh.prototype.has=Cue;gh.prototype.set=Tue;function Eue(){this.size=0,this.__data__={hash:new gh,map:new(R1||hc),string:new gh}}function Pue(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function x2(t,e){var n=t.__data__;return Pue(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Mue(t){var e=x2(this,t).delete(t);return this.size-=e?1:0,e}function kue(t){return x2(this,t).get(t)}function Aue(t){return x2(this,t).has(t)}function Iue(t,e){var n=x2(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function pc(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}pc.prototype.clear=Eue;pc.prototype.delete=Mue;pc.prototype.get=kue;pc.prototype.has=Aue;pc.prototype.set=Iue;var Oue=200;function Due(t,e){var n=this.__data__;if(n instanceof hc){var r=n.__data__;if(!R1||r.length<Oue-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new pc(r)}return n.set(t,e),this.size=n.size,this}function uu(t){var e=this.__data__=new hc(t);this.size=e.size}uu.prototype.clear=Wle;uu.prototype.delete=Gle;uu.prototype.get=qle;uu.prototype.has=Yle;uu.prototype.set=Due;var Rue="__lodash_hash_undefined__";function Lue(t){return this.__data__.set(t,Rue),this}function Fue(t){return this.__data__.has(t)}function wv(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new pc;++e<n;)this.add(t[e])}wv.prototype.add=wv.prototype.push=Lue;wv.prototype.has=Fue;function Nue(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function nx(t,e){return t.has(e)}var Bue=1,zue=2;function Vz(t,e,n,r,i,o){var l=n&Bue,a=t.length,f=e.length;if(a!=f&&!(l&&f>a))return!1;var p=o.get(t),v=o.get(e);if(p&&v)return p==e&&v==t;var g=-1,_=!0,b=n&zue?new wv:void 0;for(o.set(t,e),o.set(e,t);++g<a;){var S=t[g],E=e[g];if(r)var P=l?r(E,S,g,e,t,o):r(S,E,g,t,e,o);if(P!==void 0){if(P)continue;_=!1;break}if(b){if(!Nue(e,function(k,I){if(!nx(b,I)&&(S===k||i(S,k,n,r,o)))return b.push(I)})){_=!1;break}}else if(!(S===E||i(S,E,n,r,o))){_=!1;break}}return o.delete(t),o.delete(e),_}var $ue=kl.Uint8Array;const rx=$ue;function jue(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}function lT(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Vue=1,Uue=2,Hue="[object Boolean]",Kue="[object Date]",Wue="[object Error]",Gue="[object Map]",que="[object Number]",Yue="[object RegExp]",Xue="[object Set]",Zue="[object String]",Que="[object Symbol]",Jue="[object ArrayBuffer]",ece="[object DataView]",dI=Ws?Ws.prototype:void 0,EC=dI?dI.valueOf:void 0;function tce(t,e,n,r,i,o,l){switch(n){case ece:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Jue:return!(t.byteLength!=e.byteLength||!o(new rx(t),new rx(e)));case Hue:case Kue:case que:return sT(+t,+e);case Wue:return t.name==e.name&&t.message==e.message;case Yue:case Zue:return t==e+"";case Gue:var a=jue;case Xue:var f=r&Vue;if(a||(a=lT),t.size!=e.size&&!f)return!1;var p=l.get(t);if(p)return p==e;r|=Uue,l.set(t,e);var v=Vz(a(t),a(e),r,i,o,l);return l.delete(t),v;case Que:if(EC)return EC.call(t)==EC.call(e)}return!1}function uT(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var nce=Array.isArray;const qs=nce;function Uz(t,e,n){var r=e(t);return qs(t)?r:uT(r,n(t))}function rce(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var l=t[n];e(l,n,t)&&(o[i++]=l)}return o}function Hz(){return[]}var ice=Object.prototype,ace=ice.propertyIsEnumerable,fI=Object.getOwnPropertySymbols,oce=fI?function(t){return t==null?[]:(t=Object(t),rce(fI(t),function(e){return ace.call(t,e)}))}:Hz;const cT=oce;function sce(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var lce="[object Arguments]";function hI(t){return Cl(t)&&Fd(t)==lce}var Kz=Object.prototype,uce=Kz.hasOwnProperty,cce=Kz.propertyIsEnumerable,dce=hI(function(){return arguments}())?hI:function(t){return Cl(t)&&uce.call(t,"callee")&&!cce.call(t,"callee")};const dT=dce;function fce(){return!1}var Wz=typeof xs=="object"&&xs&&!xs.nodeType&&xs,pI=Wz&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,hce=pI&&pI.exports===Wz,vI=hce?kl.Buffer:void 0,pce=vI?vI.isBuffer:void 0,vce=pce||fce;const ix=vce;var mce=9007199254740991,gce=/^(?:0|[1-9]\d*)$/;function fT(t,e){var n=typeof t;return e=e??mce,!!e&&(n=="number"||n!="symbol"&&gce.test(t))&&t>-1&&t%1==0&&t<e}var yce=9007199254740991;function hT(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=yce}var _ce="[object Arguments]",bce="[object Array]",xce="[object Boolean]",wce="[object Date]",Cce="[object Error]",Sce="[object Function]",Tce="[object Map]",Ece="[object Number]",Pce="[object Object]",Mce="[object RegExp]",kce="[object Set]",Ace="[object String]",Ice="[object WeakMap]",Oce="[object ArrayBuffer]",Dce="[object DataView]",Rce="[object Float32Array]",Lce="[object Float64Array]",Fce="[object Int8Array]",Nce="[object Int16Array]",Bce="[object Int32Array]",zce="[object Uint8Array]",$ce="[object Uint8ClampedArray]",jce="[object Uint16Array]",Vce="[object Uint32Array]",Fi={};Fi[Rce]=Fi[Lce]=Fi[Fce]=Fi[Nce]=Fi[Bce]=Fi[zce]=Fi[$ce]=Fi[jce]=Fi[Vce]=!0;Fi[_ce]=Fi[bce]=Fi[Oce]=Fi[xce]=Fi[Dce]=Fi[wce]=Fi[Cce]=Fi[Sce]=Fi[Tce]=Fi[Ece]=Fi[Pce]=Fi[Mce]=Fi[kce]=Fi[Ace]=Fi[Ice]=!1;function Uce(t){return Cl(t)&&hT(t.length)&&!!Fi[Fd(t)]}function w2(t){return function(e){return t(e)}}var Gz=typeof xs=="object"&&xs&&!xs.nodeType&&xs,n1=Gz&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,Hce=n1&&n1.exports===Gz,PC=Hce&&MB.process,Kce=function(){try{var t=n1&&n1.require&&n1.require("util").types;return t||PC&&PC.binding&&PC.binding("util")}catch{}}();const Cv=Kce;var mI=Cv&&Cv.isTypedArray,Wce=mI?w2(mI):Uce;const qz=Wce;var Gce=Object.prototype,qce=Gce.hasOwnProperty;function Yz(t,e){var n=qs(t),r=!n&&dT(t),i=!n&&!r&&ix(t),o=!n&&!r&&!i&&qz(t),l=n||r||i||o,a=l?sce(t.length,String):[],f=a.length;for(var p in t)(e||qce.call(t,p))&&!(l&&(p=="length"||i&&(p=="offset"||p=="parent")||o&&(p=="buffer"||p=="byteLength"||p=="byteOffset")||fT(p,f)))&&a.push(p);return a}var Yce=Object.prototype;function pT(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Yce;return t===n}var Xce=AB(Object.keys,Object);const Zce=Xce;var Qce=Object.prototype,Jce=Qce.hasOwnProperty;function ede(t){if(!pT(t))return Zce(t);var e=[];for(var n in Object(t))Jce.call(t,n)&&n!="constructor"&&e.push(n);return e}function s0(t){return t!=null&&hT(t.length)&&!jz(t)}function Uv(t){return s0(t)?Yz(t):ede(t)}function SS(t){return Uz(t,Uv,cT)}var tde=1,nde=Object.prototype,rde=nde.hasOwnProperty;function ide(t,e,n,r,i,o){var l=n&tde,a=SS(t),f=a.length,p=SS(e),v=p.length;if(f!=v&&!l)return!1;for(var g=f;g--;){var _=a[g];if(!(l?_ in e:rde.call(e,_)))return!1}var b=o.get(t),S=o.get(e);if(b&&S)return b==e&&S==t;var E=!0;o.set(t,e),o.set(e,t);for(var P=l;++g<f;){_=a[g];var k=t[_],I=e[_];if(r)var D=l?r(I,k,_,e,t,o):r(k,I,_,t,e,o);if(!(D===void 0?k===I||i(k,I,n,r,o):D)){E=!1;break}P||(P=_=="constructor")}if(E&&!P){var L=t.constructor,B=e.constructor;L!=B&&"constructor"in t&&"constructor"in e&&!(typeof L=="function"&&L instanceof L&&typeof B=="function"&&B instanceof B)&&(E=!1)}return o.delete(t),o.delete(e),E}var ade=Ph(kl,"DataView");const TS=ade;var ode=Ph(kl,"Promise");const ES=ode;var sde=Ph(kl,"Set");const av=sde;var lde=Ph(kl,"WeakMap");const PS=lde;var gI="[object Map]",ude="[object Object]",yI="[object Promise]",_I="[object Set]",bI="[object WeakMap]",xI="[object DataView]",cde=Eh(TS),dde=Eh(R1),fde=Eh(ES),hde=Eh(av),pde=Eh(PS),Vf=Fd;(TS&&Vf(new TS(new ArrayBuffer(1)))!=xI||R1&&Vf(new R1)!=gI||ES&&Vf(ES.resolve())!=yI||av&&Vf(new av)!=_I||PS&&Vf(new PS)!=bI)&&(Vf=function(t){var e=Fd(t),n=e==ude?t.constructor:void 0,r=n?Eh(n):"";if(r)switch(r){case cde:return xI;case dde:return gI;case fde:return yI;case hde:return _I;case pde:return bI}return e});const F1=Vf;var vde=1,wI="[object Arguments]",CI="[object Array]",l_="[object Object]",mde=Object.prototype,SI=mde.hasOwnProperty;function gde(t,e,n,r,i,o){var l=qs(t),a=qs(e),f=l?CI:F1(t),p=a?CI:F1(e);f=f==wI?l_:f,p=p==wI?l_:p;var v=f==l_,g=p==l_,_=f==p;if(_&&ix(t)){if(!ix(e))return!1;l=!0,v=!1}if(_&&!v)return o||(o=new uu),l||qz(t)?Vz(t,e,n,r,i,o):tce(t,e,f,n,r,i,o);if(!(n&vde)){var b=v&&SI.call(t,"__wrapped__"),S=g&&SI.call(e,"__wrapped__");if(b||S){var E=b?t.value():t,P=S?e.value():e;return o||(o=new uu),i(E,P,n,r,o)}}return _?(o||(o=new uu),ide(t,e,n,r,i,o)):!1}function C2(t,e,n,r,i){return t===e?!0:t==null||e==null||!Cl(t)&&!Cl(e)?t!==t&&e!==e:gde(t,e,n,r,C2,i)}function S2(t,e){return C2(t,e)}var yde={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function TI(t){return typeof t!="function"?null:t()}function EI(t){return dn(t)!=="object"||!t?null:t}const _de=lt({compatConfig:{MODE:3},name:"Align",props:yde,emits:["align"],setup:function(e,n){var r=n.expose,i=n.slots,o=ke({}),l=ke(),a=Ble(function(){var E=e.disabled,P=e.target,k=e.align,I=e.onAlign;if(!E&&P&&l.value){var D=l.value,L,B=TI(P),N=EI(P);o.value.element=B,o.value.point=N,o.value.align=k;var j=document,H=j.activeElement;return B&&oT(B)?L=aT(D,B,k):N&&(L=Rle(D,N,k)),Nle(H,D),I&&L&&I(D,L),!0}return!1},le(function(){return e.monitorBufferTime})),f=Wt(a,2),p=f[0],v=f[1],g=ke({cancel:function(){}}),_=ke({cancel:function(){}}),b=function(){var P=e.target,k=TI(P),I=EI(P);l.value!==_.value.element&&(_.value.cancel(),_.value.element=l.value,_.value.cancel=uI(l.value,p)),(o.value.element!==k||!Fle(o.value.point,I)||!S2(o.value.align,e.align))&&(p(),g.value.element!==k&&(g.value.cancel(),g.value.element=k,g.value.cancel=uI(k,p)))};zn(function(){Yn(function(){b()})}),yo(function(){Yn(function(){b()})}),Lt(function(){return e.disabled},function(E){E?v():p()},{immediate:!0,flush:"post"});var S=ke(null);return Lt(function(){return e.monitorWindowResize},function(E){E?S.value||(S.value=_i(window,"resize",p)):S.value&&(S.value.remove(),S.value=null)},{flush:"post"}),_o(function(){g.value.cancel(),_.value.cancel(),S.value&&S.value.remove(),v()}),r({forceAlign:function(){return p(!0)}}),function(){var E=i==null?void 0:i.default();return E?Pr(E[0],{ref:l},!0,!0):null}}}),bde=lt({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:eT,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup:function(e,n){var r=n.expose,i=n.attrs,o=n.slots,l=ke(),a=ke(),f=ke(),p=sle(An(e,"stretch")),v=Wt(p,2),g=v[0],_=v[1],b=function(){e.stretch&&_(e.getRootDomNode())},S=ke(!1),E;Lt(function(){return e.visible},function(re){clearTimeout(E),re?E=setTimeout(function(){S.value=e.visible}):S.value=!1},{immediate:!0});var P=ole(S,b),k=Wt(P,2),I=k[0],D=k[1],L=ke(),B=function(){return e.point?e.point:e.getRootDomNode},N=function(){var q;(q=l.value)===null||q===void 0||q.forceAlign()},j=function(q,G){var ae=e.getClassNameFromAlign(G),te=f.value;if(f.value!==ae&&(f.value=ae),I.value==="align"){var Q;te!==ae?Promise.resolve().then(function(){N()}):D(function(){var Y;(Y=L.value)===null||Y===void 0||Y.call(L)}),(Q=e.onAlign)===null||Q===void 0||Q.call(e,q,G)}},H=le(function(){var re=dn(e.animation)==="object"?e.animation:Iz(e);return["onAfterEnter","onAfterLeave"].forEach(function(q){var G=re[q];re[q]=function(ae){D(),I.value="stable",G==null||G(ae)}}),re}),V=function(){return new Promise(function(q){L.value=q})};Lt([H,I],function(){!H.value&&I.value==="motion"&&D()},{immediate:!0}),r({forceAlign:N,getElement:function(){return a.value.$el||a.value}});var Z=le(function(){var re;return!((re=e.align)!==null&&re!==void 0&&re.points&&(I.value==="align"||I.value==="stable"))});return function(){var re,q=e.zIndex,G=e.align,ae=e.prefixCls,te=e.destroyPopupOnHide,Q=e.onMouseenter,Y=e.onMouseleave,X=e.onTouchstart,ie=X===void 0?function(){}:X,he=e.onMousedown,ce=I.value,we=[R(R({},g.value),{},{zIndex:q,opacity:ce==="motion"||ce==="stable"||!S.value?null:0,pointerEvents:!S.value&&ce!=="stable"?"none":null}),i.style],be=Wr((re=o.default)===null||re===void 0?void 0:re.call(o,{visible:e.visible}));be.length>1&&(be=M("div",{class:"".concat(ae,"-content")},[be]));var ve=mt(ae,i.class,f.value),ge=S.value||!e.visible,Pe=ge?Nd(H.value.name,H.value):{};return M(Io,R(R({ref:a},Pe),{},{onBeforeEnter:V}),{default:function(){return!te||e.visible?qa(M(_de,{target:B(),key:"popup",ref:l,monitorWindowResize:!0,disabled:Z.value,align:G,onAlign:j},{default:function(){return M("div",R(R({class:ve,onMouseenter:Q,onMouseleave:Y,onMousedown:Nk(he,["capture"])},J({},va?"onTouchstartPassive":"onTouchstart",Nk(ie,["capture"]))),{},{style:we}),[be])}}),[[Pl,S.value]]):null}})}}}),xde=lt({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:ile,setup:function(e,n){var r=n.attrs,i=n.slots,o=n.expose,l=ke(!1),a=ke(!1),f=ke();return Lt([function(){return e.visible},function(){return e.mobile}],function(){l.value=e.visible,e.visible&&e.mobile&&(a.value=!0)},{immediate:!0,flush:"post"}),o({forceAlign:function(){var v;(v=f.value)===null||v===void 0||v.forceAlign()},getElement:function(){var v;return(v=f.value)===null||v===void 0?void 0:v.getElement()}}),function(){var p=R(R(R({},e),r),{},{visible:l.value}),v=a.value?M(ale,R(R({},p),{},{mobile:e.mobile,ref:f}),{default:i.default}):M(bde,R(R({},p),{},{ref:f}),{default:i.default});return M("div",null,[M(Oz,p,null),v])}}});function wde(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function PI(t,e,n){var r=t[e]||{};return R(R({},r),n)}function Cde(t,e,n,r){for(var i=n.points,o=Object.keys(t),l=0;l<o.length;l+=1){var a=o[l];if(wde(t[a].points,i,r))return"".concat(e,"-placement-").concat(a)}return""}const Mh={methods:{setState:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=typeof e=="function"?e(this.$data,this.$props):e;if(this.getDerivedStateFromProps){var i=this.getDerivedStateFromProps(OB(this),R(R({},this.$data),r));if(i===null)return;r=R(R({},r),i||{})}yr(this.$data,r),this._.isMounted&&this.$forceUpdate(),Yn(function(){n&&n()})},__emit:function(){var e=[].slice.call(arguments,0),n=e[0];n="on".concat(n[0].toUpperCase()).concat(n.substring(1));var r=this.$props[n]||this.$attrs[n];if(e.length&&r)if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)r[i].apply(r,Jt(e.slice(1)));else r.apply(void 0,Jt(e.slice(1)))}}};var Xz=Symbol("TriggerContextKey"),Zz=function(){var e=null;return Xn(Xz,{setPortal:function(r){e=r},popPortal:!0}),function(){return e}},Sde=function(e){return e?Hn(Xz,{setPortal:function(){},popPortal:!1}):{setPortal:function(){},popPortal:!1}},Qz=Symbol("PortalContextKey"),vT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};Xn(Qz,{inTriggerContext:n.inTriggerContext,shouldRender:le(function(){var r=e||{},i=r.sPopupVisible,o=r.popupRef,l=r.forceRender,a=r.autoDestroy,f=!1;return(i||o||l)&&(f=!0),!i&&a&&(f=!1),f})})},Tde=function(){vT({},{inTriggerContext:!1});var e=Hn(Qz,{shouldRender:le(function(){return!1}),inTriggerContext:!1});return{shouldRender:le(function(){return e.shouldRender.value||e.inTriggerContext===!1})}};const MS=lt({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:Te.func.isRequired,didUpdate:Function},setup:function(e,n){var r=n.slots,i=!0,o,l=Tde(),a=l.shouldRender;s2(function(){i=!1,a.value&&(o=e.getContainer())});var f=Lt(a,function(){a.value&&!o&&(o=e.getContainer()),o&&f()});return yo(function(){Yn(function(){if(a.value){var p;(p=e.didUpdate)===null||p===void 0||p.call(e,e)}})}),tr(function(){o&&o.parentNode&&o.parentNode.removeChild(o)}),function(){if(!a.value)return null;if(i){var p;return(p=r.default)===null||p===void 0?void 0:p.call(r)}return o?M(_5,{to:o},r):null}}});function MI(){}function Ede(){return""}function Pde(t){return t?t.ownerDocument:window.document}var Mde=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"];const Hv=lt({compatConfig:{MODE:3},name:"Trigger",mixins:[Mh],inheritAttrs:!1,props:{action:Te.oneOfType([Te.string,Te.arrayOf(Te.string)]).def([]),showAction:Te.any.def([]),hideAction:Te.any.def([]),getPopupClassNameFromAlign:Te.any.def(Ede),onPopupVisibleChange:Function,afterPopupVisibleChange:Te.func.def(MI),popup:Te.any,popupStyle:{type:Object,default:void 0},prefixCls:Te.string.def("rc-trigger-popup"),popupClassName:Te.string.def(""),popupPlacement:String,builtinPlacements:Te.object,popupTransitionName:String,popupAnimation:Te.any,mouseEnterDelay:Te.number.def(0),mouseLeaveDelay:Te.number.def(.1),zIndex:Number,focusDelay:Te.number.def(0),blurDelay:Te.number.def(.15),getPopupContainer:Function,getDocument:Te.func.def(Pde),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:Te.object.def(function(){return{}}),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function,tryPopPortal:Boolean},setup:function(e){var n=le(function(){var f=e.popupPlacement,p=e.popupAlign,v=e.builtinPlacements;return f&&v?PI(v,f,p):p}),r=Sde(e.tryPopPortal),i=r.setPortal,o=r.popPortal,l=ke(null),a=function(p){l.value=p};return{popPortal:o,setPortal:i,vcTriggerContext:Hn("vcTriggerContext",{}),popupRef:l,setPopupRef:a,triggerRef:ke(null),align:n,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data:function(){var e=this,n,r=this.$props,i;return this.popupVisible!==void 0?i=!!r.popupVisible:i=!!r.defaultPopupVisible,Mde.forEach(function(o){e["fire".concat(o)]=function(l){e.fireEvents(o,l)}}),(n=this.setPortal)===null||n===void 0||n.call(this,M(MS,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},{default:this.getComponent})),{prevPopupVisible:i,sPopupVisible:i,point:null}},watch:{popupVisible:function(e){e!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=e)}},created:function(){Xn("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown}),vT(this)},deactivated:function(){this.setPopupVisible(!1)},mounted:function(){var e=this;this.$nextTick(function(){e.updatedCal()})},updated:function(){var e=this;this.$nextTick(function(){e.updatedCal()})},beforeUnmount:function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),$n.cancel(this.attachId)},methods:{updatedCal:function(){var e=this.$props,n=this.$data;if(n.sPopupVisible){var r;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(r=e.getDocument(this.getRootDomNode()),this.clickOutsideHandler=_i(r,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(r=r||e.getDocument(this.getRootDomNode()),this.touchOutsideHandler=_i(r,"touchstart",this.onDocumentClick,va?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(r=r||e.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=_i(r,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=_i(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter:function(e){var n=this.$props.mouseEnterDelay;this.fireEvents("onMouseenter",e),this.delaySetPopupVisible(!0,n,n?null:e)},onMouseMove:function(e){this.fireEvents("onMousemove",e),this.setPoint(e)},onMouseleave:function(e){this.fireEvents("onMouseleave",e),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter:function(){this.clearDelayTimer()},onPopupMouseleave:function(e){var n;e&&e.relatedTarget&&!e.relatedTarget.setTimeout&&Jf((n=this.popupRef)===null||n===void 0?void 0:n.getElement(),e.relatedTarget)||this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onFocus:function(e){this.fireEvents("onFocus",e),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown:function(e){this.fireEvents("onMousedown",e),this.preClickTime=Date.now()},onTouchstart:function(e){this.fireEvents("onTouchstart",e),this.preTouchTime=Date.now()},onBlur:function(e){Jf(e.target,e.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",e),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu:function(e){e.preventDefault(),this.fireEvents("onContextmenu",e),this.setPopupVisible(!0,e)},onContextmenuClose:function(){this.isContextmenuToShow()&&this.close()},onClick:function(e){if(this.fireEvents("onClick",e),this.focusTime){var n;if(this.preClickTime&&this.preTouchTime?n=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?n=this.preClickTime:this.preTouchTime&&(n=this.preTouchTime),Math.abs(n-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&e&&e.preventDefault&&e.preventDefault(),e&&e.domEvent&&e.domEvent.preventDefault();var r=!this.$data.sPopupVisible;(this.isClickToHide()&&!r||r&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,e)},onPopupMouseDown:function(){var e=this,n=this.vcTriggerContext,r=n===void 0?{}:n;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(function(){e.hasPopupMouseDown=!1},0),r.onPopupMouseDown&&r.onPopupMouseDown.apply(r,arguments)},onDocumentClick:function(e){if(!(this.$props.mask&&!this.$props.maskClosable)){var n=e.target,r=this.getRootDomNode(),i=this.getPopupDomNode();(!Jf(r,n)||this.isContextMenuOnly())&&!Jf(i,n)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)}},getPopupDomNode:function(){var e;return((e=this.popupRef)===null||e===void 0?void 0:e.getElement())||null},getRootDomNode:function(){var e=this.$props.getTriggerDOMNode;if(e){var n=vd(this.triggerRef);return vd(e(n))}try{var r=vd(this.triggerRef);if(r)return r}catch{}return vd(this)},handleGetPopupClassFromAlign:function(e){var n=[],r=this.$props,i=r.popupPlacement,o=r.builtinPlacements,l=r.prefixCls,a=r.alignPoint,f=r.getPopupClassNameFromAlign;return i&&o&&n.push(Cde(o,l,e,a)),f&&n.push(f(e)),n.join(" ")},getPopupAlign:function(){var e=this.$props,n=e.popupPlacement,r=e.popupAlign,i=e.builtinPlacements;return n&&i?PI(i,n,r):r},getComponent:function(){var e=this,n={};this.isMouseEnterToShow()&&(n.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(n.onMouseleave=this.onPopupMouseleave),n.onMousedown=this.onPopupMouseDown,n[va?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;var r=this.handleGetPopupClassFromAlign,i=this.getRootDomNode,o=this.getContainer,l=this.$attrs,a=this.$props,f=a.prefixCls,p=a.destroyPopupOnHide,v=a.popupClassName,g=a.popupAnimation,_=a.popupTransitionName,b=a.popupStyle,S=a.mask,E=a.maskAnimation,P=a.maskTransitionName,k=a.zIndex,I=a.stretch,D=a.alignPoint,L=a.mobile,B=a.forceRender,N=this.$data,j=N.sPopupVisible,H=N.point,V=R(R({prefixCls:f,destroyPopupOnHide:p,visible:j,point:D?H:null,align:this.align,animation:g,getClassNameFromAlign:r,stretch:I,getRootDomNode:i,mask:S,zIndex:k,transitionName:_,maskAnimation:E,maskTransitionName:P,getContainer:o,class:v,style:b,onAlign:l.onPopupAlign||MI},n),{},{ref:this.setPopupRef,mobile:L,forceRender:B});return M(xde,V,{default:this.$slots.popup||function(){return V8(e,"popup")}})},attachParent:function(e){var n=this;$n.cancel(this.attachId);var r=this.$props,i=r.getPopupContainer,o=r.getDocument,l=this.getRootDomNode(),a;i?(l||i.length===0)&&(a=i(l)):a=o(this.getRootDomNode()).body,a?a.appendChild(e):this.attachId=$n(function(){n.attachParent(e)})},getContainer:function(){var e=this.$props,n=e.getDocument,r=n(this.getRootDomNode()).createElement("div");return r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",this.attachParent(r),r},setPopupVisible:function(e,n){var r=this.alignPoint,i=this.sPopupVisible,o=this.onPopupVisibleChange;this.clearDelayTimer(),i!==e&&(Ju(this,"popupVisible")||this.setState({sPopupVisible:e,prevPopupVisible:i}),o&&o(e)),r&&n&&e&&this.setPoint(n)},setPoint:function(e){var n=this.$props.alignPoint;!n||!e||this.setState({point:{pageX:e.pageX,pageY:e.pageY}})},handlePortalUpdate:function(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible:function(e,n,r){var i=this,o=n*1e3;if(this.clearDelayTimer(),o){var l=r?{pageX:r.pageX,pageY:r.pageY}:null;this.delayTimer=nle(function(){i.setPopupVisible(e,l),i.clearDelayTimer()},o)}else this.setPopupVisible(e,r)},clearDelayTimer:function(){this.delayTimer&&(tle(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function(e){var n=function(){},r=MA(this);return this.childOriginEvents[e]&&r[e]?this["fire".concat(e)]:(n=this.childOriginEvents[e]||r[e]||n,n)},isClickToShow:function(){var e=this.$props,n=e.action,r=e.showAction;return n.indexOf("click")!==-1||r.indexOf("click")!==-1},isContextMenuOnly:function(){var e=this.$props.action;return e==="contextmenu"||e.length===1&&e[0]==="contextmenu"},isContextmenuToShow:function(){var e=this.$props,n=e.action,r=e.showAction;return n.indexOf("contextmenu")!==-1||r.indexOf("contextmenu")!==-1},isClickToHide:function(){var e=this.$props,n=e.action,r=e.hideAction;return n.indexOf("click")!==-1||r.indexOf("click")!==-1},isMouseEnterToShow:function(){var e=this.$props,n=e.action,r=e.showAction;return n.indexOf("hover")!==-1||r.indexOf("mouseenter")!==-1},isMouseLeaveToHide:function(){var e=this.$props,n=e.action,r=e.hideAction;return n.indexOf("hover")!==-1||r.indexOf("mouseleave")!==-1},isFocusToShow:function(){var e=this.$props,n=e.action,r=e.showAction;return n.indexOf("focus")!==-1||r.indexOf("focus")!==-1},isBlurToHide:function(){var e=this.$props,n=e.action,r=e.hideAction;return n.indexOf("focus")!==-1||r.indexOf("blur")!==-1},forcePopupAlign:function(){if(this.$data.sPopupVisible){var e;(e=this.popupRef)===null||e===void 0||e.forceAlign()}},fireEvents:function(e,n){this.childOriginEvents[e]&&this.childOriginEvents[e](n);var r=this.$props[e]||this.$attrs[e];r&&r(n)},close:function(){this.setPopupVisible(!1)}},render:function(){var e=this,n=this.$attrs,r=ta(i0(this)),i=this.$props.alignPoint,o=r[0];this.childOriginEvents=MA(o);var l={key:"trigger"};this.isContextmenuToShow()?l.onContextmenu=this.onContextmenu:l.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(l.onClick=this.onClick,l.onMousedown=this.onMousedown,l[va?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(l.onClick=this.createTwoChains("onClick"),l.onMousedown=this.createTwoChains("onMousedown"),l[va?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(l.onMouseenter=this.onMouseenter,i&&(l.onMousemove=this.onMouseMove)):l.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?l.onMouseleave=this.onMouseleave:l.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(l.onFocus=this.onFocus,l.onBlur=this.onBlur):(l.onFocus=this.createTwoChains("onFocus"),l.onBlur=function(v){v&&(!v.relatedTarget||!Jf(v.target,v.relatedTarget))&&e.createTwoChains("onBlur")(v)});var a=mt(o&&o.props&&o.props.class,n.class);a&&(l.class=a);var f=Pr(o,R(R({},l),{},{ref:"triggerRef"}),!0,!0);if(this.popPortal)return f;var p=M(MS,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},{default:this.getComponent});return M(Kn,null,[p,f])}});var kde=["empty"],Ade=function(e){var n=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:n,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:n,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:n,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:n,adjustY:1}}}},Ide=lt({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:Te.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:Te.oneOfType([Number,Boolean]).def(!0),popupElement:Te.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function},setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=le(function(){var f=e.dropdownMatchSelectWidth;return Ade(f)}),a=ke();return o({getPopupElement:function(){return a.value}}),function(){var f=R(R({},e),i),p=f.empty,v=p===void 0?!1:p,g=kn(f,kde),_=g.visible,b=g.dropdownAlign,S=g.prefixCls,E=g.popupElement,P=g.dropdownClassName,k=g.dropdownStyle,I=g.direction,D=I===void 0?"ltr":I,L=g.placement,B=g.dropdownMatchSelectWidth,N=g.containerWidth,j=g.dropdownRender,H=g.animation,V=g.transitionName,Z=g.getPopupContainer,re=g.getTriggerDOMNode,q=g.onPopupVisibleChange,G=g.onPopupMouseEnter,ae="".concat(S,"-dropdown"),te=E;j&&(te=j({menuNode:E,props:e}));var Q=H?"".concat(ae,"-").concat(H):V,Y=R({minWidth:"".concat(N,"px")},k);return typeof B=="number"?Y.width="".concat(B,"px"):B&&(Y.width="".concat(N,"px")),M(Hv,R(R({},e),{},{showAction:q?["click"]:[],hideAction:q?["click"]:[],popupPlacement:L||(D==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:l.value,prefixCls:ae,popupTransitionName:Q,popupAlign:b,popupVisible:_,getPopupContainer:Z,popupClassName:mt(P,J({},"".concat(ae,"-empty"),v)),popupStyle:Y,getTriggerDOMNode:re,onPopupVisibleChange:q}),{default:r.default,popup:function(){return M("div",{ref:a,onMouseenter:G},[te])}})}}});const Ode=Ide;var pr={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){var n=e.keyCode;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=pr.F1&&n<=pr.F12)return!1;switch(n){case pr.ALT:case pr.CAPS_LOCK:case pr.CONTEXT_MENU:case pr.CTRL:case pr.DOWN:case pr.END:case pr.ESC:case pr.HOME:case pr.INSERT:case pr.LEFT:case pr.MAC_FF_META:case pr.META:case pr.NUMLOCK:case pr.NUM_CENTER:case pr.PAGE_DOWN:case pr.PAGE_UP:case pr.PAUSE:case pr.PRINT_SCREEN:case pr.RIGHT:case pr.SHIFT:case pr.UP:case pr.WIN_KEY:case pr.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=pr.ZERO&&e<=pr.NINE||e>=pr.NUM_ZERO&&e<=pr.NUM_MULTIPLY||e>=pr.A&&e<=pr.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case pr.SPACE:case pr.QUESTION_MARK:case pr.NUM_PLUS:case pr.NUM_MINUS:case pr.NUM_PERIOD:case pr.NUM_DIVISION:case pr.SEMICOLON:case pr.DASH:case pr.EQUALS:case pr.COMMA:case pr.PERIOD:case pr.SLASH:case pr.APOSTROPHE:case pr.SINGLE_QUOTE:case pr.OPEN_SQUARE_BRACKET:case pr.BACKSLASH:case pr.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const qt=pr;var T2=function(e,n){var r,i=n.slots,o=e.class,l=e.customizeIcon,a=e.customizeIconProps,f=e.onMousedown,p=e.onClick,v;return typeof l=="function"?v=l(a):v=l,M("span",{class:o,onMousedown:function(_){_.preventDefault(),f&&f(_)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:p,"aria-hidden":!0},[v!==void 0?v:M("span",{class:o.split(/\s+/).map(function(g){return"".concat(g,"-icon")})},[(r=i.default)===null||r===void 0?void 0:r.call(i)])])};T2.inheritAttrs=!1;T2.displayName="TransBtn";T2.props={class:String,customizeIcon:Te.any,customizeIconProps:Te.any,onMousedown:Function,onClick:Function};const ax=T2;function Dde(t){t.target.composing=!0}function kI(t){t.target.composing&&(t.target.composing=!1,Rde(t.target,"input"))}function Rde(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function MC(t,e,n,r){t.addEventListener(e,n,r)}var Lde={created:function(e,n){(!n.modifiers||!n.modifiers.lazy)&&(MC(e,"compositionstart",Dde),MC(e,"compositionend",kI),MC(e,"change",kI))}};const Kv=Lde;var Fde={inputRef:Te.any,prefixCls:String,id:String,inputElement:Te.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:Te.oneOfType([Te.number,Te.string]),attrs:Te.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},Nde=lt({compatConfig:{MODE:3},name:"Input",inheritAttrs:!1,props:Fde,setup:function(e){var n=null,r=Hn("VCSelectContainerEvent");return function(){var i,o,l=e.prefixCls,a=e.id,f=e.inputElement,p=e.disabled,v=e.tabindex,g=e.autofocus,_=e.autocomplete,b=e.editable,S=e.activeDescendantId,E=e.value,P=e.onKeydown,k=e.onMousedown,I=e.onChange,D=e.onPaste,L=e.onCompositionstart,B=e.onCompositionend,N=e.onFocus,j=e.onBlur,H=e.open,V=e.inputRef,Z=e.attrs,re=f||qa(M("input",null,null),[[Kv]]),q=re.props||{},G=q.onKeydown,ae=q.onInput,te=q.onFocus,Q=q.onBlur,Y=q.onMousedown,X=q.onCompositionstart,ie=q.onCompositionend,he=q.style;return re=Pr(re,yr(R(R(R({type:"search"},q),{},{id:a,ref:V,disabled:p,tabindex:v,autocomplete:_||"off",autofocus:g,class:mt("".concat(l,"-selection-search-input"),(i=re)===null||i===void 0||(o=i.props)===null||o===void 0?void 0:o.class),role:"combobox","aria-expanded":H,"aria-haspopup":"listbox","aria-owns":"".concat(a,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(a,"_list"),"aria-activedescendant":S},Z),{},{value:b?E:"",readonly:!b,unselectable:b?null:"on",style:R(R({},he),{},{opacity:b?null:0}),onKeydown:function(we){P(we),G&&G(we)},onMousedown:function(we){k(we),Y&&Y(we)},onInput:function(we){I(we),ae&&ae(we)},onCompositionstart:function(we){L(we),X&&X(we)},onCompositionend:function(we){B(we),ie&&ie(we)},onPaste:D,onFocus:function(){clearTimeout(n),te&&te(arguments.length<=0?void 0:arguments[0]),N&&N(arguments.length<=0?void 0:arguments[0]),r==null||r.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var we=arguments.length,be=new Array(we),ve=0;ve<we;ve++)be[ve]=arguments[ve];n=setTimeout(function(){Q&&Q(be[0]),j&&j(be[0]),r==null||r.blur(be[0])},100)}}),re.type==="textarea"?{}:{type:"search"}),!0,!0),re}}});const Jz=Nde;var Bde=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,zde=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,AI="".concat(Bde," ").concat(zde).split(/[\s\n]+/),$de="aria-",jde="data-";function II(t,e){return t.indexOf(e)===0}function Bd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=R({},e);var r={};return Object.keys(t).forEach(function(i){(n.aria&&(i==="role"||II(i,$de))||n.data&&II(i,jde)||n.attr&&(AI.includes(i)||AI.includes(i.toLowerCase())))&&(r[i]=t[i])}),r}var e$=Symbol("OverflowContextProviderKey"),kS=lt({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup:function(e,n){var r=n.slots;return Xn(e$,le(function(){return e.value})),function(){var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}}),Vde=function(){return Hn(e$,le(function(){return null}))},Ude=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"],kp=void 0;const Q_=lt({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:Te.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:Te.any,invalidate:Boolean},setup:function(e,n){var r=n.slots,i=n.expose,o=le(function(){return e.responsive&&!e.display}),l=ke();i({itemNodeRef:l});function a(f){e.registerSize(e.itemKey,f)}return _o(function(){a(null)}),function(){var f,p=e.prefixCls,v=e.invalidate,g=e.item,_=e.renderItem,b=e.responsive;e.registerSize,e.itemKey,e.display;var S=e.order,E=e.component,P=E===void 0?"div":E,k=kn(e,Ude),I=(f=r.default)===null||f===void 0?void 0:f.call(r),D=_&&g!==kp?_(g):I,L;v||(L={opacity:o.value?0:1,height:o.value?0:kp,overflowY:o.value?"hidden":kp,order:b?S:kp,pointerEvents:o.value?"none":kp,position:o.value?"absolute":kp});var B={};return o.value&&(B["aria-hidden"]=!0),M(Gs,{disabled:!b,onResize:function(j){var H=j.offsetWidth;a(H)}},{default:function(){return M(P,R(R(R({class:mt(!v&&p),style:L},B),k),{},{ref:l}),{default:function(){return[D]}})}})}}});var Hde=["component"],Kde=["className"],Wde=["class"];const Gde=lt({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:Te.any,title:Te.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function}},setup:function(e,n){var r=n.slots,i=n.attrs,o=Vde();return function(){if(!o.value){var l,a=e.component,f=a===void 0?"div":a,p=kn(e,Hde);return M(f,R(R({},p),i),{default:function(){return[(l=r.default)===null||l===void 0?void 0:l.call(r)]}})}var v=o.value,g=v.className,_=kn(v,Kde),b=i.class,S=kn(i,Wde);return M(kS,{value:null},{default:function(){return[M(Q_,R(R(R({class:mt(g,b)},_),S),e),r)]}})}}});var qde=["class","style"],t$="responsive",n$="invalidate";function Yde(t){return"+ ".concat(t.length," ...")}var Xde=function(){return{id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:Te.any,component:String,itemComponent:Te.any,onVisibleChange:Function,ssr:String,onMousedown:Function}},E2=lt({name:"Overflow",inheritAttrs:!1,props:Xde(),emits:["visibleChange"],setup:function(e,n){var r=n.attrs,i=n.emit,o=n.slots,l=le(function(){return e.ssr==="full"}),a=ke(null),f=le(function(){return a.value||0}),p=ke(new Map),v=ke(0),g=ke(0),_=ke(0),b=ke(null),S=ke(null),E=le(function(){return S.value===null&&l.value?Number.MAX_SAFE_INTEGER:S.value||0}),P=ke(!1),k=le(function(){return"".concat(e.prefixCls,"-item")}),I=le(function(){return Math.max(v.value,g.value)}),D=le(function(){return!!(e.data.length&&e.maxCount===t$)}),L=le(function(){return e.maxCount===n$}),B=le(function(){return D.value||typeof e.maxCount=="number"&&e.data.length>e.maxCount}),N=le(function(){var Q=e.data;return D.value?a.value===null&&l.value?Q=e.data:Q=e.data.slice(0,Math.min(e.data.length,f.value/e.itemWidth)):typeof e.maxCount=="number"&&(Q=e.data.slice(0,e.maxCount)),Q}),j=le(function(){return D.value?e.data.slice(E.value+1):e.data.slice(N.value.length)}),H=function(Y,X){var ie;return typeof e.itemKey=="function"?e.itemKey(Y):(ie=e.itemKey&&(Y==null?void 0:Y[e.itemKey]))!==null&&ie!==void 0?ie:X},V=le(function(){return e.renderItem||function(Q){return Q}}),Z=function(Y,X){S.value=Y,X||(P.value=Y<e.data.length-1,i("visibleChange",Y))},re=function(Y,X){a.value=X.clientWidth},q=function(Y,X){var ie=new Map(p.value);X===null?ie.delete(Y):ie.set(Y,X),p.value=ie},G=function(Y,X){v.value=g.value,g.value=X},ae=function(Y,X){_.value=X},te=function(Y){return p.value.get(H(N.value[Y],Y))};return Lt([f,p,g,_,function(){return e.itemKey},N],function(){if(f.value&&I.value&&N.value){var Q=_.value,Y=N.value.length,X=Y-1;if(!Y){Z(0),b.value=null;return}for(var ie=0;ie<Y;ie+=1){var he=te(ie);if(he===void 0){Z(ie-1,!0);break}if(Q+=he,X===0&&Q<=f.value||ie===X-1&&Q+te(X)<=f.value){Z(X),b.value=null;break}else if(Q+I.value>f.value){Z(ie-1),b.value=Q-he-_.value+g.value;break}}e.suffix&&te(0)+_.value>f.value&&(b.value=null)}}),function(){var Q=P.value&&!!j.value.length,Y=e.itemComponent,X=e.renderRawItem,ie=e.renderRawRest,he=e.renderRest,ce=e.prefixCls,we=ce===void 0?"rc-overflow":ce,be=e.suffix,ve=e.component,ge=ve===void 0?"div":ve,Pe=e.id,ye=e.onMousedown,Ne=r.class,Re=r.style,Ge=kn(r,qde),He={};b.value!==null&&D.value&&(He={position:"absolute",left:"".concat(b.value,"px"),top:0});var Ee={prefixCls:k.value,responsive:D.value,component:Y,invalidate:L.value},pe=X?function(xt,ot){var nt=H(xt,ot);return M(kS,{key:nt,value:R(R({},Ee),{},{order:ot,item:xt,itemKey:nt,registerSize:q,display:ot<=E.value})},{default:function(){return[X(xt,ot)]}})}:function(xt,ot){var nt=H(xt,ot);return M(Q_,R(R({},Ee),{},{order:ot,key:nt,item:xt,renderItem:V.value,itemKey:nt,registerSize:q,display:ot<=E.value}),null)},Ie=function(){return null},We={order:Q?E.value:Number.MAX_SAFE_INTEGER,className:"".concat(k.value," ").concat(k.value,"-rest"),registerSize:G,display:Q};if(ie)ie&&(Ie=function(){return M(kS,{value:R(R({},Ee),We)},{default:function(){return[ie(j.value)]}})});else{var Qe=he||Yde;Ie=function(){return M(Q_,R(R({},Ee),We),{default:function(){return typeof Qe=="function"?Qe(j.value):Qe}})}}var at=function(){var ot;return M(ge,R({id:Pe,class:mt(!L.value&&we,Ne),style:Re,onMousedown:ye},Ge),{default:function(){return[N.value.map(pe),B.value?Ie():null,be&&M(Q_,R(R({},Ee),{},{order:E.value,class:"".concat(k.value,"-suffix"),registerSize:ae,display:!0,style:He}),{default:function(){return be}}),(ot=o.default)===null||ot===void 0?void 0:ot.call(o)]}})};return M(Gs,{disabled:!D.value,onResize:re},{default:at})}}});E2.Item=Gde;E2.RESPONSIVE=t$;E2.INVALIDATE=n$;const ov=E2;var r$=Symbol("TreeSelectLegacyContextPropsKey");function Zde(t){return Xn(r$,t)}function P2(){return Hn(r$,{})}var Qde={id:String,prefixCls:String,values:Te.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:Te.any,placeholder:Te.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:Te.oneOfType([Te.number,Te.string]),removeIcon:Te.any,choiceTransitionName:String,maxTagCount:Te.oneOfType([Te.number,Te.string]),maxTagTextLength:Number,maxTagPlaceholder:Te.any.def(function(){return function(t){return"+ ".concat(t.length," ...")}}),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},OI=function(e){e.preventDefault(),e.stopPropagation()},Jde=lt({name:"MultipleSelectSelector",inheritAttrs:!1,props:Qde,setup:function(e){var n=ke(),r=ke(0),i=ke(!1),o=P2(),l=le(function(){return"".concat(e.prefixCls,"-selection")}),a=le(function(){return e.open||e.mode==="tags"?e.searchValue:""}),f=le(function(){return e.mode==="tags"||e.showSearch&&(e.open||i.value)});zn(function(){Lt(a,function(){r.value=n.value.scrollWidth},{flush:"post",immediate:!0})});function p(b,S,E,P,k){return M("span",{class:mt("".concat(l.value,"-item"),J({},"".concat(l.value,"-item-disabled"),E)),title:typeof b=="string"||typeof b=="number"?b.toString():void 0},[M("span",{class:"".concat(l.value,"-item-content")},[S]),P&&M(ax,{class:"".concat(l.value,"-item-remove"),onMousedown:OI,onClick:k,customizeIcon:e.removeIcon},{default:function(){return[vo("")]}})])}function v(b,S,E,P,k,I){var D=function(j){OI(j),e.onToggleOpen(!open)},L=I;if(o.keyEntities){var B;L=((B=o.keyEntities[b])===null||B===void 0?void 0:B.node)||{}}return M("span",{key:b,onMousedown:D},[e.tagRender({label:S,value:b,disabled:E,closable:P,onClose:k,option:L})])}function g(b){var S=b.disabled,E=b.label,P=b.value,k=b.option,I=!e.disabled&&!S,D=E;if(typeof e.maxTagTextLength=="number"&&(typeof E=="string"||typeof E=="number")){var L=String(D);L.length>e.maxTagTextLength&&(D="".concat(L.slice(0,e.maxTagTextLength),"..."))}var B=function(j){var H;j&&j.stopPropagation(),(H=e.onRemove)===null||H===void 0||H.call(e,b)};return typeof e.tagRender=="function"?v(P,D,S,I,B,k):p(E,D,S,I,B)}function _(b){var S=e.maxTagPlaceholder,E=S===void 0?function(k){return"+ ".concat(k.length," ...")}:S,P=typeof E=="function"?E(b):E;return p(P,P,!1)}return function(){var b=e.id,S=e.prefixCls,E=e.values,P=e.open,k=e.inputRef,I=e.placeholder,D=e.disabled,L=e.autofocus,B=e.autocomplete,N=e.activeDescendantId,j=e.tabindex,H=e.onInputChange,V=e.onInputPaste,Z=e.onInputKeyDown,re=e.onInputMouseDown,q=e.onInputCompositionStart,G=e.onInputCompositionEnd,ae=M("div",{class:"".concat(l.value,"-search"),style:{width:r.value+"px"},key:"input"},[M(Jz,{inputRef:k,open:P,prefixCls:S,id:b,inputElement:null,disabled:D,autofocus:L,autocomplete:B,editable:f.value,activeDescendantId:N,value:a.value,onKeydown:Z,onMousedown:re,onChange:H,onPaste:V,onCompositionstart:q,onCompositionend:G,tabindex:j,attrs:Bd(e,!0),onFocus:function(){return i.value=!0},onBlur:function(){return i.value=!1}},null),M("span",{ref:n,class:"".concat(l.value,"-search-mirror"),"aria-hidden":!0},[a.value,vo("")])]),te=M(ov,{prefixCls:"".concat(l.value,"-overflow"),data:E,renderItem:g,renderRest:_,suffix:ae,itemKey:"key",maxCount:e.maxTagCount,key:"overflow"},null);return M(Kn,null,[te,!E.length&&!a.value&&M("span",{class:"".concat(l.value,"-placeholder")},[I])])}}});const efe=Jde;var tfe={inputElement:Te.any,id:String,prefixCls:String,values:Te.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:Te.any,placeholder:Te.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:Te.oneOfType([Te.number,Te.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},mT=lt({name:"SingleSelector",setup:function(e){var n=ke(!1),r=le(function(){return e.mode==="combobox"}),i=le(function(){return r.value||e.showSearch}),o=le(function(){var v=e.searchValue||"";return r.value&&e.activeValue&&!n.value&&(v=e.activeValue),v}),l=P2();Lt([r,function(){return e.activeValue}],function(){r.value&&(n.value=!1)},{immediate:!0});var a=le(function(){return e.mode!=="combobox"&&!e.open&&!e.showSearch?!1:!!o.value}),f=le(function(){var v=e.values[0];return v&&(typeof v.label=="string"||typeof v.label=="number")?v.label.toString():void 0}),p=function(){if(e.values[0])return null;var g=a.value?{visibility:"hidden"}:void 0;return M("span",{class:"".concat(e.prefixCls,"-selection-placeholder"),style:g},[e.placeholder])};return function(){var v,g=e.inputElement,_=e.prefixCls,b=e.id,S=e.values,E=e.inputRef,P=e.disabled,k=e.autofocus,I=e.autocomplete,D=e.activeDescendantId,L=e.open,B=e.tabindex,N=e.optionLabelRender,j=e.onInputKeyDown,H=e.onInputMouseDown,V=e.onInputChange,Z=e.onInputPaste,re=e.onInputCompositionStart,q=e.onInputCompositionEnd,G=S[0],ae=null;if(G&&l.customSlots){var te,Q,Y,X=(te=G.key)!==null&&te!==void 0?te:G.value,ie=((Q=l.keyEntities[X])===null||Q===void 0?void 0:Q.node)||{};ae=l.customSlots[(Y=ie.slots)===null||Y===void 0?void 0:Y.title]||l.customSlots.title||G.label,typeof ae=="function"&&(ae=ae(ie))}else ae=N&&G?N(G.option):G==null?void 0:G.label;return M(Kn,null,[M("span",{class:"".concat(_,"-selection-search")},[M(Jz,{inputRef:E,prefixCls:_,id:b,open:L,inputElement:g,disabled:P,autofocus:k,autocomplete:I,editable:i.value,activeDescendantId:D,value:o.value,onKeydown:j,onMousedown:H,onChange:function(ce){n.value=!0,V(ce)},onPaste:Z,onCompositionstart:re,onCompositionend:q,tabindex:B,attrs:Bd(e,!0)},null)]),!r.value&&G&&!a.value&&M("span",{class:"".concat(_,"-selection-item"),title:f.value},[M(Kn,{key:(v=G.key)!==null&&v!==void 0?v:G.value},[ae])]),p()])}}});mT.props=tfe;mT.inheritAttrs=!1;const nfe=mT;function rfe(t){return![qt.ESC,qt.SHIFT,qt.BACKSPACE,qt.TAB,qt.WIN_KEY,qt.ALT,qt.META,qt.WIN_KEY_RIGHT,qt.CTRL,qt.SEMICOLON,qt.EQUALS,qt.CAPS_LOCK,qt.CONTEXT_MENU,qt.F1,qt.F2,qt.F3,qt.F4,qt.F5,qt.F6,qt.F7,qt.F8,qt.F9,qt.F10,qt.F11,qt.F12].includes(t)}function i$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=null,n;tr(function(){clearTimeout(n)});function r(i){(i||e===null)&&(e=i),clearTimeout(n),n=setTimeout(function(){e=null},t)}return[function(){return e},r]}function N1(){var t=function e(n){e.current=n};return t}var ife=lt({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:Te.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:Te.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:Te.oneOfType([Te.number,Te.string]),disabled:{type:Boolean,default:void 0},placeholder:Te.any,removeIcon:Te.any,maxTagCount:Te.oneOfType([Te.number,Te.string]),maxTagTextLength:Number,maxTagPlaceholder:Te.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup:function(e,n){var r=n.expose,i=N1(),o=!1,l=i$(0),a=Wt(l,2),f=a[0],p=a[1],v=function(B){var N=B.which;(N===qt.UP||N===qt.DOWN)&&B.preventDefault(),e.onInputKeyDown&&e.onInputKeyDown(B),N===qt.ENTER&&e.mode==="tags"&&!o&&!e.open&&e.onSearchSubmit(B.target.value),rfe(N)&&e.onToggleOpen(!0)},g=function(){p(!0)},_=null,b=function(B){e.onSearch(B,!0,o)!==!1&&e.onToggleOpen(!0)},S=function(){o=!0},E=function(B){o=!1,e.mode!=="combobox"&&b(B.target.value)},P=function(B){var N=B.target.value;if(e.tokenWithEnter&&_&&/[\r\n]/.test(_)){var j=_.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");N=N.replace(j,_)}_=null,b(N)},k=function(B){var N=B.clipboardData,j=N.getData("text");_=j},I=function(B){var N=B.target;if(N!==i.current){var j=document.body.style.msTouchAction!==void 0;j?setTimeout(function(){i.current.focus()}):i.current.focus()}},D=function(B){var N=f();B.target!==i.current&&!N&&B.preventDefault(),(e.mode!=="combobox"&&(!e.showSearch||!N)||!e.open)&&(e.open&&e.onSearch("",!0,!1),e.onToggleOpen())};return r({focus:function(){i.current.focus()},blur:function(){i.current.blur()}}),function(){var L=e.prefixCls,B=e.domRef,N=e.mode,j={inputRef:i,onInputKeyDown:v,onInputMouseDown:g,onInputChange:P,onInputPaste:k,onInputCompositionStart:S,onInputCompositionEnd:E},H=N==="multiple"||N==="tags"?M(efe,R(R({},e),j),null):M(nfe,R(R({},e),j),null);return M("div",{ref:B,class:"".concat(L,"-selector"),onClick:I,onMousedown:D},[H])}}});const afe=ife;function ofe(t,e,n){function r(i){var o,l,a,f=i.target;f.shadowRoot&&i.composed&&(f=i.composedPath()[0]||f);var p=[(o=t[0])===null||o===void 0?void 0:o.value,(l=t[1])===null||l===void 0||(a=l.value)===null||a===void 0?void 0:a.getPopupElement()];e.value&&p.every(function(v){return v&&!v.contains(f)&&v!==f})&&n(!1)}zn(function(){window.addEventListener("mousedown",r)}),tr(function(){window.removeEventListener("mousedown",r)})}function sfe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=ke(!1),n,r=function(){clearTimeout(n)};zn(function(){r()});var i=function(l,a){r(),n=setTimeout(function(){e.value=l,a&&a()},t)};return[e,i,r]}var a$=Symbol("BaseSelectContextKey");function lfe(t){return Xn(a$,t)}function l0(){return Hn(a$,{})}const gT=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var t=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4)))};function ox(t){if(!Ra(t))return Mr(t);var e=new Proxy({},{get:function(r,i,o){return Reflect.get(t.value,i,o)},set:function(r,i,o){return t.value[i]=o,!0},deleteProperty:function(r,i){return Reflect.deleteProperty(t.value,i)},has:function(r,i){return Reflect.has(t.value,i)},ownKeys:function(){return Object.keys(t.value)},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}});return Mr(e)}var ufe=["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"],cfe=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],dfe=function(){return{prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:Te.any,emptyOptions:Boolean}},M2=function(){return{showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:Te.any,placeholder:Te.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:Te.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:Te.any,clearIcon:Te.any,removeIcon:Te.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}},ffe=function(){return R(R({},dfe()),M2())};function o$(t){return t==="tags"||t==="multiple"}const yT=lt({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:lr(ffe(),{showAction:[],notFoundContent:"Not Found"}),setup:function(e,n){var r=n.attrs,i=n.expose,o=n.slots,l=le(function(){return o$(e.mode)}),a=le(function(){return e.showSearch!==void 0?e.showSearch:l.value||e.mode==="combobox"}),f=ke(!1);zn(function(){f.value=gT()});var p=P2(),v=ke(null),g=N1(),_=ke(null),b=ke(null),S=ke(null),E=sfe(),P=Wt(E,3),k=P[0],I=P[1],D=P[2],L=function(){var pe;(pe=b.value)===null||pe===void 0||pe.focus()},B=function(){var pe;(pe=b.value)===null||pe===void 0||pe.blur()};i({focus:L,blur:B,scrollTo:function(pe){var Ie;return(Ie=S.value)===null||Ie===void 0?void 0:Ie.scrollTo(pe)}});var N=le(function(){var Ee;if(e.mode!=="combobox")return e.searchValue;var pe=(Ee=e.displayValues[0])===null||Ee===void 0?void 0:Ee.value;return typeof pe=="string"||typeof pe=="number"?String(pe):""}),j=e.open!==void 0?e.open:e.defaultOpen,H=ke(j),V=ke(j),Z=function(pe){H.value=e.open!==void 0?e.open:pe,V.value=H.value};Lt(function(){return e.open},function(){Z(e.open)});var re=le(function(){return!e.notFoundContent&&e.emptyOptions});Un(function(){V.value=H.value,(e.disabled||re.value&&V.value&&e.mode==="combobox")&&(V.value=!1)});var q=le(function(){return re.value?!1:V.value}),G=function(pe){var Ie=pe!==void 0?pe:!V.value;H.value!==Ie&&!e.disabled&&(Z(Ie),e.onDropdownVisibleChange&&e.onDropdownVisibleChange(Ie))},ae=le(function(){return(e.tokenSeparators||[]).some(function(Ee){return[`
`,`\r
`].includes(Ee)})}),te=function(pe,Ie,We){var Qe,at=!0,xt=pe;(Qe=e.onActiveValueChange)===null||Qe===void 0||Qe.call(e,null);var ot=We?null:Zse(pe,e.tokenSeparators);if(e.mode!=="combobox"&&ot){var nt;xt="",(nt=e.onSearchSplit)===null||nt===void 0||nt.call(e,ot),G(!1),at=!1}return e.onSearch&&N.value!==xt&&e.onSearch(xt,{source:Ie?"typing":"effect"}),at},Q=function(pe){var Ie;!pe||!pe.trim()||(Ie=e.onSearch)===null||Ie===void 0||Ie.call(e,pe,{source:"submit"})};Lt(V,function(){!V.value&&!l.value&&e.mode!=="combobox"&&te("",!1,!1)},{immediate:!0,flush:"post"}),Lt(function(){return e.disabled},function(){H.value&&e.disabled&&Z(!1)},{immediate:!0});var Y=i$(),X=Wt(Y,2),ie=X[0],he=X[1],ce=function(pe){var Ie,We=ie(),Qe=pe.which;if(Qe===qt.ENTER&&(e.mode!=="combobox"&&pe.preventDefault(),V.value||G(!0)),he(!!N.value),Qe===qt.BACKSPACE&&!We&&l.value&&!N.value&&e.displayValues.length){for(var at=Jt(e.displayValues),xt=null,ot=at.length-1;ot>=0;ot-=1){var nt=at[ot];if(!nt.disabled){at.splice(ot,1),xt=nt;break}}xt&&e.onDisplayValuesChange(at,{type:"remove",values:[xt]})}for(var Ze=arguments.length,ht=new Array(Ze>1?Ze-1:0),vt=1;vt<Ze;vt++)ht[vt-1]=arguments[vt];if(V.value&&S.value){var Ct;(Ct=S.value).onKeydown.apply(Ct,[pe].concat(ht))}(Ie=e.onKeydown)===null||Ie===void 0||Ie.call.apply(Ie,[e,pe].concat(ht))},we=function(pe){for(var Ie=arguments.length,We=new Array(Ie>1?Ie-1:0),Qe=1;Qe<Ie;Qe++)We[Qe-1]=arguments[Qe];if(V.value&&S.value){var at;(at=S.value).onKeyup.apply(at,[pe].concat(We))}e.onKeyup&&e.onKeyup.apply(e,[pe].concat(We))},be=function(pe){var Ie=e.displayValues.filter(function(We){return We!==pe});e.onDisplayValuesChange(Ie,{type:"remove",values:[pe]})},ve=ke(!1),ge=function(){I(!0),e.disabled||(e.onFocus&&!ve.value&&e.onFocus.apply(e,arguments),e.showAction&&e.showAction.includes("focus")&&G(!0)),ve.value=!0},Pe=function(){if(I(!1,function(){ve.value=!1,G(!1)}),!e.disabled){var pe=N.value;pe&&(e.mode==="tags"?e.onSearch(pe,{source:"submit"}):e.mode==="multiple"&&e.onSearch("",{source:"blur"})),e.onBlur&&e.onBlur.apply(e,arguments)}};Xn("VCSelectContainerEvent",{focus:ge,blur:Pe});var ye=[];zn(function(){ye.forEach(function(Ee){return clearTimeout(Ee)}),ye.splice(0,ye.length)}),tr(function(){ye.forEach(function(Ee){return clearTimeout(Ee)}),ye.splice(0,ye.length)});var Ne=function(pe){var Ie,We,Qe=pe.target,at=(Ie=_.value)===null||Ie===void 0?void 0:Ie.getPopupElement();if(at&&at.contains(Qe)){var xt=setTimeout(function(){var ht=ye.indexOf(xt);if(ht!==-1&&ye.splice(ht,1),D(),!f.value&&!at.contains(document.activeElement)){var vt;(vt=b.value)===null||vt===void 0||vt.focus()}});ye.push(xt)}for(var ot=arguments.length,nt=new Array(ot>1?ot-1:0),Ze=1;Ze<ot;Ze++)nt[Ze-1]=arguments[Ze];(We=e.onMousedown)===null||We===void 0||We.call.apply(We,[e,pe].concat(nt))},Re=ke(null),Ge=Ba(),He=function(){Ge.update()};return zn(function(){Lt(q,function(){if(q.value){var Ee,pe=Math.ceil((Ee=v.value)===null||Ee===void 0?void 0:Ee.offsetWidth);Re.value!==pe&&!Number.isNaN(pe)&&(Re.value=pe)}},{immediate:!0,flush:"post"})}),ofe([v,_],q,G),lfe(ox(R(R({},Qp(e)),{},{open:V,triggerOpen:q,showSearch:a,multiple:l,toggleOpen:G}))),function(){var Ee,pe=R(R({},e),r),Ie=pe.prefixCls,We=pe.id;pe.open,pe.defaultOpen;var Qe=pe.mode;pe.showSearch,pe.searchValue,pe.onSearch;var at=pe.allowClear,xt=pe.clearIcon,ot=pe.showArrow,nt=pe.inputIcon,Ze=pe.disabled,ht=pe.loading,vt=pe.getInputElement,Ct=pe.getPopupContainer,Nt=pe.placement,tn=pe.animation,rn=pe.transitionName,Pt=pe.dropdownStyle,yt=pe.dropdownClassName,Bt=pe.dropdownMatchSelectWidth,Ut=pe.dropdownRender,St=pe.dropdownAlign;pe.showAction;var ft=pe.direction;pe.tokenSeparators;var gt=pe.tagRender,_t=pe.optionLabelRender;pe.onPopupScroll,pe.onDropdownVisibleChange,pe.onFocus,pe.onBlur,pe.onKeyup,pe.onKeydown,pe.onMousedown;var Ft=pe.onClear,Gt=pe.omitDomProps,Zt=pe.getRawInputElement,Me=pe.displayValues,de=pe.onDisplayValuesChange,_e=pe.emptyOptions,De=pe.activeDescendantId,$e=pe.activeValue,Ke=pe.OptionList,et=kn(pe,ufe),rt=Qe==="combobox"&&vt&&vt()||null,Ye=typeof Zt=="function"&&Zt(),pt=R({},et),kt;Ye&&(kt=function(rr){G(rr)}),cfe.forEach(function(qn){delete pt[qn]}),Gt==null||Gt.forEach(function(qn){delete pt[qn]});var Ht=ot!==void 0?ot:ht||!l.value&&Qe!=="combobox",Ot;Ht&&(Ot=M(ax,{class:mt("".concat(Ie,"-arrow"),J({},"".concat(Ie,"-arrow-loading"),ht)),customizeIcon:nt,customizeIconProps:{loading:ht,searchValue:N.value,open:V.value,focused:k.value,showSearch:a.value}},null));var hn,pn=function(){Ft==null||Ft(),de([],{type:"clear",values:Me}),te("",!1,!1)};!Ze&&at&&(Me.length||N.value)&&(hn=M(ax,{class:"".concat(Ie,"-clear"),onMousedown:pn,customizeIcon:xt},{default:function(){return[vo("")]}}));var En=M(Ke,{ref:S},R(R({},p.customSlots),{},{option:o.option})),Cn=mt(Ie,r.class,(Ee={},J(Ee,"".concat(Ie,"-focused"),k.value),J(Ee,"".concat(Ie,"-multiple"),l.value),J(Ee,"".concat(Ie,"-single"),!l.value),J(Ee,"".concat(Ie,"-allow-clear"),at),J(Ee,"".concat(Ie,"-show-arrow"),Ht),J(Ee,"".concat(Ie,"-disabled"),Ze),J(Ee,"".concat(Ie,"-loading"),ht),J(Ee,"".concat(Ie,"-open"),V.value),J(Ee,"".concat(Ie,"-customize-input"),rt),J(Ee,"".concat(Ie,"-show-search"),a.value),Ee)),Nn=M(Ode,{ref:_,disabled:Ze,prefixCls:Ie,visible:q.value,popupElement:En,containerWidth:Re.value,animation:tn,transitionName:rn,dropdownStyle:Pt,dropdownClassName:yt,direction:ft,dropdownMatchSelectWidth:Bt,dropdownRender:Ut,dropdownAlign:St,placement:Nt,getPopupContainer:Ct,empty:_e,getTriggerDOMNode:function(){return g.current},onPopupVisibleChange:kt,onPopupMouseEnter:He},{default:function(){return Ye?la(Ye)&&Pr(Ye,{ref:g},!1,!0):M(afe,R(R({},e),{},{domRef:g,prefixCls:Ie,inputElement:rt,ref:b,id:We,showSearch:a.value,mode:Qe,activeDescendantId:De,tagRender:gt,optionLabelRender:_t,values:Me,open:V.value,onToggleOpen:G,activeValue:$e,searchValue:N.value,onSearch:te,onSearchSubmit:Q,onRemove:be,tokenWithEnter:ae.value}),null)}}),nr;return Ye?nr=Nn:nr=M("div",R(R({},pt),{},{class:Cn,ref:v,onMousedown:Ne,onKeydown:ce,onKeyup:we}),[k.value&&!V.value&&M("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},["".concat(Me.map(function(qn){var rr=qn.label,ur=qn.value;return["number","string"].includes(dn(rr))?rr:ur}).join(", "))]),Nn,Ot,hn]),nr}}});var k2=function(e,n){var r,i=e.height,o=e.offset,l=e.prefixCls,a=e.onInnerResize,f=n.slots,p={},v={display:"flex",flexDirection:"column"};return o!==void 0&&(p={height:"".concat(i,"px"),position:"relative",overflow:"hidden"},v=R(R({},v),{},{transform:"translateY(".concat(o,"px)"),position:"absolute",left:0,right:0,top:0})),M("div",{style:p},[M(Gs,{onResize:function(_){var b=_.offsetHeight;b&&a&&a()}},{default:function(){return[M("div",{style:v,class:mt(J({},"".concat(l,"-holder-inner"),l))},[(r=f.default)===null||r===void 0?void 0:r.call(f)])]}})])};k2.displayName="Filter";k2.inheritAttrs=!1;k2.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const hfe=k2;var s$=function(e,n){var r,i=e.setRef,o=n.slots,l=Wr((r=o.default)===null||r===void 0?void 0:r.call(o));return l&&l.length?io(l[0],{ref:i}):l};s$.props={setRef:{type:Function,default:function(){}}};const pfe=s$;var vfe=20;function DI(t){return"touches"in t?t.touches[0].pageY:t.pageY}const mfe=lt({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup:function(){return{moveRaf:null,scrollbarRef:N1(),thumbRef:N1(),visibleTimeout:null,state:Mr({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler:function(){this.delayHidden()},flush:"post"}},mounted:function(){var e,n;(e=this.scrollbarRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onScrollbarTouchStart,va?{passive:!1}:!1),(n=this.thumbRef.current)===null||n===void 0||n.addEventListener("touchstart",this.onMouseDown,va?{passive:!1}:!1)},beforeUnmount:function(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden:function(){var e=this;clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(function(){e.state.visible=!1},2e3)},onScrollbarTouchStart:function(e){e.preventDefault()},onContainerMouseDown:function(e){e.stopPropagation(),e.preventDefault()},patchEvents:function(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,va?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents:function(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,va?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,va?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,va?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),$n.cancel(this.moveRaf)},onMouseDown:function(e){var n=this.$props.onStartMove;yr(this.state,{dragging:!0,pageY:DI(e),startTop:this.getTop()}),n(),this.patchEvents(),e.stopPropagation(),e.preventDefault()},onMouseMove:function(e){var n=this.state,r=n.dragging,i=n.pageY,o=n.startTop,l=this.$props.onScroll;if($n.cancel(this.moveRaf),r){var a=DI(e)-i,f=o+a,p=this.getEnableScrollRange(),v=this.getEnableHeightRange(),g=v?f/v:0,_=Math.ceil(g*p);this.moveRaf=$n(function(){l(_)})}},onMouseUp:function(){var e=this.$props.onStopMove;this.state.dragging=!1,e(),this.removeEvents()},getSpinHeight:function(){var e=this.$props,n=e.height,r=e.count,i=n/r*10;return i=Math.max(i,vfe),i=Math.min(i,n/2),Math.floor(i)},getEnableScrollRange:function(){var e=this.$props,n=e.scrollHeight,r=e.height;return n-r||0},getEnableHeightRange:function(){var e=this.$props.height,n=this.getSpinHeight();return e-n||0},getTop:function(){var e=this.$props.scrollTop,n=this.getEnableScrollRange(),r=this.getEnableHeightRange();if(e===0||n===0)return 0;var i=e/n;return i*r},showScroll:function(){var e=this.$props,n=e.height,r=e.scrollHeight;return r>n}},render:function(){var e=this.state,n=e.dragging,r=e.visible,i=this.$props.prefixCls,o=this.getSpinHeight()+"px",l=this.getTop()+"px",a=this.showScroll(),f=a&&r;return M("div",{ref:this.scrollbarRef,class:mt("".concat(i,"-scrollbar"),J({},"".concat(i,"-scrollbar-show"),a)),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:f?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[M("div",{ref:this.thumbRef,class:mt("".concat(i,"-scrollbar-thumb"),J({},"".concat(i,"-scrollbar-thumb-moving"),n)),style:{width:"100%",height:o,top:l,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function gfe(t,e,n,r){var i=new Map,o=new Map,l=ke(Symbol("update"));Lt(t,function(){l.value=Symbol("update")});var a=void 0;function f(){$n.cancel(a)}function p(){f(),a=$n(function(){i.forEach(function(g,_){if(g&&g.offsetParent){var b=g.offsetHeight;o.get(_)!==b&&(l.value=Symbol("update"),o.set(_,g.offsetHeight))}})})}function v(g,_){var b=e(g),S=i.get(b);_?(i.set(b,_.$el||_),p()):i.delete(b),!S!=!_&&(_?n==null||n(g):r==null||r(g))}return _o(function(){f()}),[v,p,o,l]}function yfe(t,e,n,r,i,o,l,a){var f;return function(p){if(p==null){a();return}$n.cancel(f);var v=e.value,g=r.itemHeight;if(typeof p=="number")l(p);else if(p&&dn(p)==="object"){var _,b=p.align;"index"in p?_=p.index:_=v.findIndex(function(k){return i(k)===p.key});var S=p.offset,E=S===void 0?0:S,P=function k(I,D){if(!(I<0||!t.value)){var L=t.value.clientHeight,B=!1,N=D;if(L){for(var j=D||b,H=0,V=0,Z=0,re=Math.min(v.length,_),q=0;q<=re;q+=1){var G=i(v[q]);V=H;var ae=n.get(G);Z=V+(ae===void 0?g:ae),H=Z,q===_&&ae===void 0&&(B=!0)}var te=t.value.scrollTop,Q=null;switch(j){case"top":Q=V-E;break;case"bottom":Q=Z-L+E;break;default:{var Y=te+L;V<te?N="top":Z>Y&&(N="bottom")}}Q!==null&&Q!==te&&l(Q)}f=$n(function(){B&&o(),k(I-1,N)},2)}};P(5)}}}var _fe=(typeof navigator>"u"?"undefined":dn(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const bfe=_fe,l$=function(t,e){var n=!1,r=null;function i(){clearTimeout(r),n=!0,r=setTimeout(function(){n=!1},50)}return function(o){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=o<0&&t.value||o>0&&e.value;return l&&a?(clearTimeout(r),n=!1):(!a||n)&&i(),!n&&a}};function xfe(t,e,n,r){var i=0,o=null,l=null,a=!1,f=l$(e,n);function p(g){if(t.value){$n.cancel(o);var _=g.deltaY;i+=_,l=_,!f(_)&&(bfe||g.preventDefault(),o=$n(function(){var b=a?10:1;r(i*b),i=0}))}}function v(g){t.value&&(a=g.detail===l)}return[p,v]}var wfe=14/15;function Cfe(t,e,n){var r=!1,i=0,o=null,l=null,a=function(){o&&(o.removeEventListener("touchmove",f),o.removeEventListener("touchend",p))},f=function(b){if(r){var S=Math.ceil(b.touches[0].pageY),E=i-S;i=S,n(E)&&b.preventDefault(),clearInterval(l),l=setInterval(function(){E*=wfe,(!n(E,!0)||Math.abs(E)<=.1)&&clearInterval(l)},16)}},p=function(){r=!1,a()},v=function(b){a(),b.touches.length===1&&!r&&(r=!0,i=Math.ceil(b.touches[0].pageY),o=b.target,o.addEventListener("touchmove",f,{passive:!1}),o.addEventListener("touchend",p))},g=function(){};zn(function(){document.addEventListener("touchmove",g,{passive:!1}),Lt(t,function(_){e.value.removeEventListener("touchstart",v),a(),clearInterval(l),_&&e.value.addEventListener("touchstart",v,{passive:!1})},{immediate:!0})}),tr(function(){document.removeEventListener("touchmove",g)})}var Sfe=["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"],Tfe=[],Efe={overflowY:"auto",overflowAnchor:"none"};function Pfe(t,e,n,r,i,o){var l=o.getKey;return t.slice(e,n+1).map(function(a,f){var p=e+f,v=i(a,p,{}),g=l(a);return M(pfe,{key:g,setRef:function(b){return r(a,b)}},{default:function(){return[v]}})})}var Mfe=lt({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:Te.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup:function(e,n){var r=n.expose,i=le(function(){var be=e.height,ve=e.itemHeight,ge=e.virtual;return!!(ge!==!1&&be&&ve)}),o=le(function(){var be=e.height,ve=e.itemHeight,ge=e.data;return i.value&&ge&&ve*ge.length>be}),l=Mr({scrollTop:0,scrollMoving:!1}),a=le(function(){return e.data||Tfe}),f=fr([]);Lt(a,function(){f.value=Gn(a.value).slice()},{immediate:!0});var p=fr(function(be){});Lt(function(){return e.itemKey},function(be){typeof be=="function"?p.value=be:p.value=function(ve){return ve==null?void 0:ve[be]}},{immediate:!0});var v=ke(),g=ke(),_=ke(),b=function(ve){return p.value(ve)},S={getKey:b};function E(be){var ve;typeof be=="function"?ve=be(l.scrollTop):ve=be;var ge=V(ve);v.value&&(v.value.scrollTop=ge),l.scrollTop=ge}var P=gfe(f,b,null,null),k=Wt(P,4),I=k[0],D=k[1],L=k[2],B=k[3],N=Mr({scrollHeight:void 0,start:0,end:0,offset:void 0}),j=ke(0);zn(function(){Yn(function(){var be;j.value=((be=g.value)===null||be===void 0?void 0:be.offsetHeight)||0})}),yo(function(){Yn(function(){var be;j.value=((be=g.value)===null||be===void 0?void 0:be.offsetHeight)||0})}),Lt([i,f],function(){i.value||yr(N,{scrollHeight:void 0,start:0,end:f.value.length-1,offset:void 0})},{immediate:!0}),Lt([i,f,j,o],function(){i.value&&!o.value&&yr(N,{scrollHeight:j.value,start:0,end:f.value.length-1,offset:void 0}),v.value&&(l.scrollTop=v.value.scrollTop)},{immediate:!0}),Lt([o,i,function(){return l.scrollTop},f,B,function(){return e.height},j],function(){if(!(!i.value||!o.value)){for(var be=0,ve,ge,Pe,ye=f.value.length,Ne=f.value,Re=l.scrollTop,Ge=e.itemHeight,He=e.height,Ee=Re+He,pe=0;pe<ye;pe+=1){var Ie=Ne[pe],We=b(Ie),Qe=L.get(We);Qe===void 0&&(Qe=Ge);var at=be+Qe;ve===void 0&&at>=Re&&(ve=pe,ge=be),Pe===void 0&&at>Ee&&(Pe=pe),be=at}ve===void 0&&(ve=0,ge=0,Pe=Math.ceil(He/Ge)),Pe===void 0&&(Pe=ye-1),Pe=Math.min(Pe+1,ye),yr(N,{scrollHeight:be,start:ve,end:Pe,offset:ge})}},{immediate:!0});var H=le(function(){return N.scrollHeight-e.height});function V(be){var ve=be;return Number.isNaN(H.value)||(ve=Math.min(ve,H.value)),ve=Math.max(ve,0),ve}var Z=le(function(){return l.scrollTop<=0}),re=le(function(){return l.scrollTop>=H.value}),q=l$(Z,re);function G(be){var ve=be;E(ve)}function ae(be){var ve,ge=be.currentTarget.scrollTop;ge!==l.scrollTop&&E(ge),(ve=e.onScroll)===null||ve===void 0||ve.call(e,be)}var te=xfe(i,Z,re,function(be){E(function(ve){var ge=ve+be;return ge})}),Q=Wt(te,2),Y=Q[0],X=Q[1];Cfe(i,v,function(be,ve){return q(be,ve)?!1:(Y({preventDefault:function(){},deltaY:be}),!0)});function ie(be){i.value&&be.preventDefault()}var he=function(){v.value&&(v.value.removeEventListener("wheel",Y,va?{passive:!1}:!1),v.value.removeEventListener("DOMMouseScroll",X),v.value.removeEventListener("MozMousePixelScroll",ie))};Un(function(){Yn(function(){v.value&&(he(),v.value.addEventListener("wheel",Y,va?{passive:!1}:!1),v.value.addEventListener("DOMMouseScroll",X),v.value.addEventListener("MozMousePixelScroll",ie))})}),tr(function(){he()});var ce=yfe(v,f,L,e,b,D,E,function(){var be;(be=_.value)===null||be===void 0||be.delayHidden()});r({scrollTo:ce});var we=le(function(){var be=null;return e.height&&(be=R(J({},e.fullHeight?"height":"maxHeight",e.height+"px"),Efe),i.value&&(be.overflowY="hidden",l.scrollMoving&&(be.pointerEvents="none"))),be});return Lt([function(){return N.start},function(){return N.end},f],function(){if(e.onVisibleChange){var be=f.value.slice(N.start,N.end+1);e.onVisibleChange(be,f.value)}},{flush:"post"}),{state:l,mergedData:f,componentStyle:we,onFallbackScroll:ae,onScrollBar:G,componentRef:v,useVirtual:i,calRes:N,collectHeight:D,setInstance:I,sharedConfig:S,scrollBarRef:_,fillerInnerRef:g}},render:function(){var e=this,n=R(R({},this.$props),this.$attrs),r=n.prefixCls,i=r===void 0?"rc-virtual-list":r,o=n.height;n.itemHeight,n.fullHeight,n.data,n.itemKey,n.virtual;var l=n.component,a=l===void 0?"div":l;n.onScroll;var f=n.children,p=f===void 0?this.$slots.default:f,v=n.style,g=n.class,_=kn(n,Sfe),b=mt(i,g),S=this.state.scrollTop,E=this.calRes,P=E.scrollHeight,k=E.offset,I=E.start,D=E.end,L=this.componentStyle,B=this.onFallbackScroll,N=this.onScrollBar,j=this.useVirtual,H=this.collectHeight,V=this.sharedConfig,Z=this.setInstance,re=this.mergedData;return M("div",R({style:R(R({},v),{},{position:"relative"}),class:b},_),[M(a,{class:"".concat(i,"-holder"),style:L,ref:"componentRef",onScroll:B},{default:function(){return[M(hfe,{prefixCls:i,height:P,offset:k,onInnerResize:H,ref:"fillerInnerRef"},{default:function(){return Pfe(re,I,D,Z,p,V)}})]}}),j&&M(mfe,{ref:"scrollBarRef",prefixCls:i,scrollTop:S,height:o,scrollHeight:P,count:re.length,onScroll:N,onStartMove:function(){e.state.scrollMoving=!0},onStopMove:function(){e.state.scrollMoving=!1}},null)])}});const u$=Mfe;function _T(t,e,n){var r=ke(t());return Lt(e,function(i,o){n?n(i,o)&&(r.value=t()):r.value=t()}),r}function kfe(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var c$=Symbol("SelectContextKey");function Afe(t){return Xn(c$,t)}function Ife(){return Hn(c$,{})}var Ofe=["disabled","title","children","style","class","className"];function RI(t){return typeof t=="string"||typeof t=="number"}var Dfe=lt({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,slots:["option"],setup:function(e,n){var r=n.expose,i=n.slots,o=l0(),l=Ife(),a=le(function(){return"".concat(o.prefixCls,"-item")}),f=_T(function(){return l.flattenOptions},[function(){return o.open},function(){return l.flattenOptions}],function(N){return N[0]}),p=N1(),v=function(j){j.preventDefault()},g=function(j){p.current&&p.current.scrollTo(typeof j=="number"?{index:j}:j)},_=function(j){for(var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,V=f.value.length,Z=0;Z<V;Z+=1){var re=(j+Z*H+V)%V,q=f.value[re],G=q.group,ae=q.data;if(!G&&!ae.disabled)return re}return-1},b=Mr({activeIndex:_(0)}),S=function(j){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;b.activeIndex=j;var V={source:H?"keyboard":"mouse"},Z=f.value[j];if(!Z){l.onActiveValue(null,-1,V);return}l.onActiveValue(Z.value,j,V)};Lt([function(){return f.value.length},function(){return o.searchValue}],function(){S(l.defaultActiveFirstOption!==!1?_(0):-1)},{immediate:!0});var E=function(j){return l.rawValues.has(j)&&o.mode!=="combobox"};Lt([function(){return o.open},function(){return o.searchValue}],function(){if(!o.multiple&&o.open&&l.rawValues.size===1){var N=Array.from(l.rawValues)[0],j=Gn(f.value).findIndex(function(H){var V=H.data;return V[l.fieldNames.value]===N});j!==-1&&(S(j),Yn(function(){g(j)}))}o.open&&Yn(function(){var H;(H=p.current)===null||H===void 0||H.scrollTo(void 0)})},{immediate:!0,flush:"post"});var P=function(j){j!==void 0&&l.onSelect(j,{selected:!l.rawValues.has(j)}),o.multiple||o.toggleOpen(!1)},k=function(j){return typeof j.label=="function"?j.label():j.label};function I(N){var j=f.value[N];if(!j)return null;var H=j.data||{},V=H.value,Z=j.group,re=Bd(H,!0),q=k(j);return j?M("div",R(R({"aria-label":typeof q=="string"&&!Z?q:null},re),{},{key:N,role:Z?"presentation":"option",id:"".concat(o.id,"_list_").concat(N),"aria-selected":E(V)}),[V]):null}var D=function(j){var H=j.which,V=j.ctrlKey;switch(H){case qt.N:case qt.P:case qt.UP:case qt.DOWN:{var Z=0;if(H===qt.UP?Z=-1:H===qt.DOWN?Z=1:kfe()&&V&&(H===qt.N?Z=1:H===qt.P&&(Z=-1)),Z!==0){var re=_(b.activeIndex+Z,Z);g(re),S(re,!0)}break}case qt.ENTER:{var q=f.value[b.activeIndex];q&&!q.data.disabled?P(q.value):P(void 0),o.open&&j.preventDefault();break}case qt.ESC:o.toggleOpen(!1),o.open&&j.stopPropagation()}},L=function(){},B=function(j){g(j)};return r({onKeydown:D,onKeyup:L,scrollTo:B}),function(){var N=o.id,j=o.notFoundContent,H=o.onPopupScroll,V=l.menuItemSelectedIcon,Z=l.fieldNames,re=l.virtual,q=l.listHeight,G=l.listItemHeight,ae=i.option,te=b.activeIndex,Q=Object.keys(Z).map(function(Y){return Z[Y]});return f.value.length===0?M("div",{role:"listbox",id:"".concat(N,"_list"),class:"".concat(a.value,"-empty"),onMousedown:v},[j]):M(Kn,null,[M("div",{role:"listbox",id:"".concat(N,"_list"),style:{height:0,width:0,overflow:"hidden"}},[I(te-1),I(te),I(te+1)]),M(u$,{itemKey:"key",ref:p,data:f.value,height:q,itemHeight:G,fullHeight:!1,onMousedown:v,onScroll:H,virtual:re},{default:function(X,ie){var he,ce=X.group,we=X.groupOption,be=X.data,ve=X.value,ge=be.key,Pe=typeof X.label=="function"?X.label():X.label;if(ce){var ye,Ne=(ye=be.title)!==null&&ye!==void 0?ye:RI(Pe)&&Pe;return M("div",{class:mt(a.value,"".concat(a.value,"-group")),title:Ne},[ae?ae(be):Pe!==void 0?Pe:ge])}var Re=be.disabled,Ge=be.title;be.children;var He=be.style,Ee=be.class,pe=be.className,Ie=kn(be,Ofe),We=Qn(Ie,Q),Qe=E(ve),at="".concat(a.value,"-option"),xt=mt(a.value,at,Ee,pe,(he={},J(he,"".concat(at,"-grouped"),we),J(he,"".concat(at,"-active"),te===ie&&!Re),J(he,"".concat(at,"-disabled"),Re),J(he,"".concat(at,"-selected"),Qe),he)),ot=k(X),nt=!V||typeof V=="function"||Qe,Ze=typeof ot=="number"?ot:ot||ve,ht=RI(Ze)?Ze.toString():void 0;return Ge!==void 0&&(ht=Ge),M("div",R(R({},We),{},{"aria-selected":Qe,class:xt,title:ht,onMousemove:function(Ct){Ie.onMousemove&&Ie.onMousemove(Ct),!(te===ie||Re)&&S(ie)},onClick:function(Ct){Re||P(ve),Ie.onClick&&Ie.onClick(Ct)},style:He}),[M("div",{class:"".concat(at,"-content")},[ae?ae(be):Ze]),la(V)||Qe,nt&&M(ax,{class:"".concat(a.value,"-option-state"),customizeIcon:V,customizeIconProps:{isSelected:Qe}},{default:function(){return[Qe?"":null]}})])}})])}}});const Rfe=Dfe;var Lfe=["value","disabled"];function Ffe(t){var e=t.key,n=t.children,r=t.props,i=r.value,o=r.disabled,l=kn(r,Lfe),a=n==null?void 0:n.default;return R({key:e,value:i!==void 0?i:e,children:a,disabled:o||o===""},l)}function d$(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Wr(t).map(function(r,i){var o;if(!la(r)||!r.type)return null;var l=r.type.isSelectOptGroup,a=r.key,f=r.children,p=r.props;if(e||!l)return Ffe(r);var v=f&&f.default?f.default():void 0,g=(p==null?void 0:p.label)||((o=f.label)===null||o===void 0?void 0:o.call(f))||a;return R(R({key:"__RC_SELECT_GRP__".concat(a===null?i:String(a),"__")},p),{},{label:g,options:d$(v||[])})}).filter(function(r){return r});return n}function Nfe(t,e,n){var r=fr(),i=fr(),o=fr(),l=fr([]);return Lt([t,e],function(){t.value?l.value=Gn(t.value).slice():l.value=d$(e.value)},{immediate:!0,deep:!0}),Un(function(){var a=l.value,f=new Map,p=new Map,v=n.value;function g(_){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=0;S<_.length;S+=1){var E=_[S];!E[v.options]||b?(f.set(E[v.value],E),p.set(E[v.label],E)):g(E[v.options],!0)}}g(a),r.value=a,i.value=f,o.value=p}),{options:r,valueOptions:i,labelOptions:o}}var LI=0,Bfe=Th();function zfe(){var t;return Bfe?(t=LI,LI+=1):t="TEST_OR_SSR",t}function bT(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke(""),e="rc_select_".concat(zfe());return t.value||e}function f$(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}function kC(t,e){return f$(t).join("").toUpperCase().includes(e)}const $fe=function(t,e,n,r,i){return le(function(){var o=n.value,l=i==null?void 0:i.value,a=r==null?void 0:r.value;if(!o||a===!1)return t.value;var f=e.value,p=f.options,v=f.label,g=f.value,_=[],b=typeof a=="function",S=o.toUpperCase(),E=b?a:function(k,I){return l?kC(I[l],S):I[p]?kC(I[v!=="children"?v:"label"],S):kC(I[g],S)},P=b?function(k){return _S(k)}:function(k){return k};return t.value.forEach(function(k){if(k[p]){var I=E(o,P(k));if(I)_.push(k);else{var D=k[p].filter(function(L){return E(o,P(L))});D.length&&_.push(R(R({},k),{},J({},p,D)))}return}E(o,P(k))&&_.push(k)}),_})},jfe=function(t,e){var n=fr({values:new Map,options:new Map}),r=le(function(){var o=n.value,l=o.values,a=o.options,f=t.value.map(function(g){if(g.label===void 0){var _;return R(R({},g),{},{label:(_=l.get(g.value))===null||_===void 0?void 0:_.label})}return g}),p=new Map,v=new Map;return f.forEach(function(g){p.set(g.value,g),v.set(g.value,e.value.get(g.value)||a.get(g.value))}),n.value.values=p,n.value.options=v,f}),i=function(l){return e.value.get(l)||n.value.options.get(l)};return[r,i]};function Ii(t,e){var n=e||{},r=n.defaultValue,i=n.value,o=i===void 0?ke():i,l=typeof t=="function"?t():t;o.value!==void 0&&(l=pa(o)),r!==void 0&&(l=typeof r=="function"?r():r);var a=ke(l),f=ke(l);Un(function(){var v=o.value!==void 0?o.value:a.value;e.postState&&(v=e.postState(v)),f.value=v});function p(v){var g=f.value;a.value=v,Gn(f.value)!==v&&e.onChange&&e.onChange(v,g)}return Lt(o,function(){a.value=o.value}),[f,p]}function yi(t){var e=typeof t=="function"?t():t,n=ke(e);function r(i){n.value=i}return[n,r]}var Vfe=["inputValue"];function h$(){return R(R({},M2()),{},{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:Te.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:Te.any,defaultValue:Te.any,onChange:Function,children:Array})}function Ufe(t){return!t||dn(t)!=="object"}const Hfe=lt({compatConfig:{MODE:3},name:"Select",inheritAttrs:!1,props:lr(h$(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup:function(e,n){var r=n.expose,i=n.attrs,o=n.slots,l=bT(An(e,"id")),a=le(function(){return o$(e.mode)}),f=le(function(){return!!(!e.options&&e.children)}),p=le(function(){return e.filterOption===void 0&&e.mode==="combobox"?!1:e.filterOption}),v=le(function(){return kz(e.fieldNames,f.value)}),g=Ii("",{value:le(function(){return e.searchValue!==void 0?e.searchValue:e.inputValue}),postState:function(Ze){return Ze||""}}),_=Wt(g,2),b=_[0],S=_[1],E=Nfe(An(e,"options"),An(e,"children"),v),P=E.valueOptions,k=E.labelOptions,I=E.options,D=function(Ze){var ht=f$(Ze);return ht.map(function(vt){var Ct,Nt,tn,rn;if(Ufe(vt))Ct=vt;else{var Pt;tn=vt.key,Nt=vt.label,Ct=(Pt=vt.value)!==null&&Pt!==void 0?Pt:tn}var yt=P.value.get(Ct);if(yt){var Bt;Nt===void 0&&(Nt=yt==null?void 0:yt[e.optionLabelProp||v.value.label]),tn===void 0&&(tn=(Bt=yt==null?void 0:yt.key)!==null&&Bt!==void 0?Bt:Ct),rn=yt==null?void 0:yt.disabled}return{label:Nt,value:Ct,key:tn,disabled:rn,option:yt}})},L=Ii(e.defaultValue,{value:An(e,"value")}),B=Wt(L,2),N=B[0],j=B[1],H=le(function(){var nt,Ze=D(N.value);return e.mode==="combobox"&&!((nt=Ze[0])!==null&&nt!==void 0&&nt.value)?[]:Ze}),V=jfe(H,P),Z=Wt(V,2),re=Z[0],q=Z[1],G=le(function(){if(!e.mode&&re.value.length===1){var nt=re.value[0];if(nt.value===null&&(nt.label===null||nt.label===void 0))return[]}return re.value.map(function(Ze){var ht;return R(R({},Ze),{},{label:(ht=typeof Ze.label=="function"?Ze.label():Ze.label)!==null&&ht!==void 0?ht:Ze.value})})}),ae=le(function(){return new Set(re.value.map(function(nt){return nt.value}))});Un(function(){if(e.mode==="combobox"){var nt,Ze=(nt=re.value[0])===null||nt===void 0?void 0:nt.value;Ze!=null&&S(String(Ze))}},{flush:"post"});var te=function(Ze,ht){var vt,Ct=ht??Ze;return vt={},J(vt,v.value.value,Ze),J(vt,v.value.label,Ct),vt},Q=fr();Un(function(){if(e.mode!=="tags"){Q.value=I.value;return}var nt=I.value.slice(),Ze=function(vt){return P.value.has(vt)};Jt(re.value).sort(function(ht,vt){return ht.value<vt.value?-1:1}).forEach(function(ht){var vt=ht.value;Ze(vt)||nt.push(te(vt,ht.label))}),Q.value=nt});var Y=$fe(Q,v,b,p,An(e,"optionFilterProp")),X=le(function(){return e.mode!=="tags"||!b.value||Y.value.some(function(nt){return nt[e.optionFilterProp||"value"]===b.value})?Y.value:[te(b.value)].concat(Jt(Y.value))}),ie=le(function(){return e.filterSort?Jt(X.value).sort(function(nt,Ze){return e.filterSort(nt,Ze)}):X.value}),he=le(function(){return Xse(ie.value,{fieldNames:v.value,childrenAsData:f.value})}),ce=function(Ze){var ht=D(Ze);if(j(ht),e.onChange&&(ht.length!==re.value.length||ht.some(function(Nt,tn){var rn;return((rn=re.value[tn])===null||rn===void 0?void 0:rn.value)!==(Nt==null?void 0:Nt.value)}))){var vt=e.labelInValue?ht.map(function(Nt){return R(R({},Nt),{},{originLabel:Nt.label,label:typeof Nt.label=="function"?Nt.label():Nt.label})}):ht.map(function(Nt){return Nt.value}),Ct=ht.map(function(Nt){return _S(q(Nt.value))});e.onChange(a.value?vt:vt[0],a.value?Ct:Ct[0])}},we=yi(null),be=Wt(we,2),ve=be[0],ge=be[1],Pe=yi(0),ye=Wt(Pe,2),Ne=ye[0],Re=ye[1],Ge=le(function(){return e.defaultActiveFirstOption!==void 0?e.defaultActiveFirstOption:e.mode!=="combobox"}),He=function(Ze,ht){var vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ct=vt.source,Nt=Ct===void 0?"keyboard":Ct;Re(ht),e.backfill&&e.mode==="combobox"&&Ze!==null&&Nt==="keyboard"&&ge(String(Ze))},Ee=function(Ze,ht){var vt=function(){var ft,gt=q(Ze),_t=gt==null?void 0:gt[v.value.label];return[e.labelInValue?{label:typeof _t=="function"?_t():_t,originLabel:_t,value:Ze,key:(ft=gt==null?void 0:gt.key)!==null&&ft!==void 0?ft:Ze}:Ze,_S(gt)]};if(ht&&e.onSelect){var Ct=vt(),Nt=Wt(Ct,2),tn=Nt[0],rn=Nt[1];e.onSelect(tn,rn)}else if(!ht&&e.onDeselect){var Pt=vt(),yt=Wt(Pt,2),Bt=yt[0],Ut=yt[1];e.onDeselect(Bt,Ut)}},pe=function(Ze,ht){var vt,Ct=a.value?ht.selected:!0;Ct?vt=a.value?[].concat(Jt(re.value),[Ze]):[Ze]:vt=re.value.filter(function(Nt){return Nt.value!==Ze}),ce(vt),Ee(Ze,Ct),e.mode==="combobox"?ge(""):(!a.value||e.autoClearSearchValue)&&(S(""),ge(""))},Ie=function(Ze,ht){ce(Ze),(ht.type==="remove"||ht.type==="clear")&&ht.values.forEach(function(vt){Ee(vt.value,!1)})},We=function(Ze,ht){if(S(Ze),ge(null),ht.source==="submit"){var vt=(Ze||"").trim();if(vt){var Ct=Array.from(new Set([].concat(Jt(ae.value),[vt])));ce(Ct),Ee(vt,!0),S("")}return}if(ht.source!=="blur"){var Nt;e.mode==="combobox"&&ce(Ze),(Nt=e.onSearch)===null||Nt===void 0||Nt.call(e,Ze)}},Qe=function(Ze){var ht=Ze;e.mode!=="tags"&&(ht=Ze.map(function(Ct){var Nt=k.value.get(Ct);return Nt==null?void 0:Nt.value}).filter(function(Ct){return Ct!==void 0}));var vt=Array.from(new Set([].concat(Jt(ae.value),Jt(ht))));ce(vt),vt.forEach(function(Ct){Ee(Ct,!0)})},at=le(function(){return e.virtual!==!1&&e.dropdownMatchSelectWidth!==!1});Afe(ox(R(R({},E),{},{flattenOptions:he,onActiveValue:He,defaultActiveFirstOption:Ge,onSelect:pe,menuItemSelectedIcon:An(e,"menuItemSelectedIcon"),rawValues:ae,fieldNames:v,virtual:at,listHeight:An(e,"listHeight"),listItemHeight:An(e,"listItemHeight"),childrenAsData:f})));var xt=ke();r({focus:function(){var Ze;(Ze=xt.value)===null||Ze===void 0||Ze.focus()},blur:function(){var Ze;(Ze=xt.value)===null||Ze===void 0||Ze.blur()},scrollTo:function(Ze){var ht;(ht=xt.value)===null||ht===void 0||ht.scrollTo(Ze)}});var ot=le(function(){return Qn(e,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"])});return function(){return M(yT,R(R(R({},ot.value),i),{},{id:l,prefixCls:e.prefixCls,ref:xt,omitDomProps:Vfe,mode:e.mode,displayValues:G.value,onDisplayValuesChange:Ie,searchValue:b.value,onSearch:We,onSearchSplit:Qe,dropdownMatchSelectWidth:e.dropdownMatchSelectWidth,OptionList:Rfe,emptyOptions:!he.value.length,activeValue:ve.value,activeDescendantId:"".concat(l,"_list_").concat(Ne.value)}),o)}}});var xT=function(){return null};xT.isSelectOption=!0;xT.displayName="ASelectOption";const Kfe=xT;var wT=function(){return null};wT.isSelectOptGroup=!0;wT.displayName="ASelectOptGroup";const Wfe=wT;function CT(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.loading,r=t.multiple,i=t.prefixCls,o=t.suffixIcon||e.suffixIcon&&e.suffixIcon(),l=t.clearIcon||e.clearIcon&&e.clearIcon(),a=t.menuItemSelectedIcon||e.menuItemSelectedIcon&&e.menuItemSelectedIcon(),f=t.removeIcon||e.removeIcon&&e.removeIcon(),p=l;l||(p=M(fc,null,null));var v=null;if(o!==void 0)v=o;else if(n)v=M(wl,{spin:!0},null);else{var g="".concat(i,"-suffix");v=function(E){var P=E.open,k=E.showSearch;return P&&k?M(h2,{class:g},null):M(n0,{class:g},null)}}var _=null;a!==void 0?_=a:r?_=M(d2,null,null):_=null;var b=null;return f!==void 0?b=f:b=M(pu,null,null),{clearIcon:p,suffixIcon:v,itemIcon:_,removeIcon:b}}var sx=Symbol("ContextProps"),lx=Symbol("InternalContextProps"),Gfe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:le(function(){return!0}),r=ke(new Map),i=function(a,f){r.value.set(a,f),r.value=new Map(r.value)},o=function(a){r.value.delete(a),r.value=new Map(r.value)};Ba(),Lt([n,r],function(){}),Xn(sx,e),Xn(lx,{addFormItemField:i,removeFormItemField:o})},AS={id:le(function(){}),onFieldBlur:function(){},onFieldChange:function(){},clearValidate:function(){}},IS={addFormItemField:function(){},removeFormItemField:function(){}},_a=function(){var e=Hn(lx,IS),n=Symbol("FormItemFieldKey"),r=Ba();return e.addFormItemField(n,r.type),tr(function(){e.removeFormItemField(n)}),Xn(lx,IS),Xn(sx,AS),Hn(sx,AS)};const ux=lt({compatConfig:{MODE:3},name:"AFormItemRest",setup:function(e,n){var r=n.slots;return Xn(lx,IS),Xn(sx,AS),function(){var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}});var ST=function(){return R(R({},Qn(h$(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{},{value:{type:[Array,Object,String,Number]},defaultValue:{type:[Array,Object,String,Number]},notFoundContent:Te.any,suffixIcon:Te.any,itemIcon:Te.any,size:String,mode:String,bordered:{type:Boolean,default:!0},transitionName:String,choiceTransitionName:{type:String,default:""},"onUpdate:value":Function})},FI="SECRET_COMBOBOX_MODE_DO_NOT_USE",tu=lt({compatConfig:{MODE:3},name:"ASelect",Option:Kfe,OptGroup:Wfe,inheritAttrs:!1,props:lr(ST(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:FI,slots:["notFoundContent","suffixIcon","itemIcon","removeIcon","clearIcon","dropdownRender","option","placeholder","tagRender","maxTagPlaceholder","optionLabel"],setup:function(e,n){var r=n.attrs,i=n.emit,o=n.slots,l=n.expose,a=ke(),f=_a(),p=function(){var Z;(Z=a.value)===null||Z===void 0||Z.focus()},v=function(){var Z;(Z=a.value)===null||Z===void 0||Z.blur()},g=function(Z){var re;(re=a.value)===null||re===void 0||re.scrollTo(Z)},_=le(function(){var V=e.mode;if(V!=="combobox")return V===FI?"combobox":V}),b=fn("select",e),S=b.prefixCls,E=b.direction,P=b.configProvider,k=b.size,I=b.getPrefixCls,D=le(function(){return I()}),L=le(function(){return Tl(D.value,"slide-up",e.transitionName)}),B=le(function(){var V;return mt((V={},J(V,"".concat(S.value,"-lg"),k.value==="large"),J(V,"".concat(S.value,"-sm"),k.value==="small"),J(V,"".concat(S.value,"-rtl"),E.value==="rtl"),J(V,"".concat(S.value,"-borderless"),!e.bordered),V))}),N=function(){for(var Z=arguments.length,re=new Array(Z),q=0;q<Z;q++)re[q]=arguments[q];i("update:value",re[0]),i.apply(void 0,["change"].concat(re)),f.onFieldChange()},j=function(Z){i("blur",Z),f.onFieldBlur()};l({blur:v,focus:p,scrollTo:g});var H=le(function(){return _.value==="multiple"||_.value==="tags"});return function(){var V,Z,re=e.notFoundContent,q=e.listHeight,G=q===void 0?256:q,ae=e.listItemHeight,te=ae===void 0?24:ae,Q=e.getPopupContainer,Y=e.dropdownClassName,X=e.virtual,ie=e.dropdownMatchSelectWidth,he=e.id,ce=he===void 0?f.id.value:he,we=e.placeholder,be=we===void 0?(V=o.placeholder)===null||V===void 0?void 0:V.call(o):we,ve=P.renderEmpty,ge=P.getPopupContainer,Pe;re!==void 0?Pe=re:o.notFoundContent?Pe=o.notFoundContent():_.value==="combobox"?Pe=null:Pe=ve("Select");var ye=CT(R(R({},e),{},{multiple:H.value,prefixCls:S.value}),o),Ne=ye.suffixIcon,Re=ye.itemIcon,Ge=ye.removeIcon,He=ye.clearIcon,Ee=Qn(e,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered"]),pe=mt(Y,J({},"".concat(S.value,"-dropdown-").concat(E.value),E.value==="rtl"));return M(Hfe,R(R(R({ref:a,virtual:X,dropdownMatchSelectWidth:ie},Ee),r),{},{placeholder:be,listHeight:G,listItemHeight:te,mode:_.value,prefixCls:S.value,direction:E.value,inputIcon:Ne,menuItemSelectedIcon:Re,removeIcon:Ge,clearIcon:He,notFoundContent:Pe,class:[B.value,r.class],getPopupContainer:Q||ge,dropdownClassName:pe,onChange:N,onBlur:j,id:ce,dropdownRender:Ee.dropdownRender||o.dropdownRender,transitionName:L.value,children:(Z=o.default)===null||Z===void 0?void 0:Z.call(o),tagRender:e.tagRender||o.tagRender,optionLabelRender:o.optionLabel,maxTagPlaceholder:e.maxTagPlaceholder||o.maxTagPlaceholder}),{option:o.option})}}});tu.install=function(t){return t.component(tu.name,tu),t.component(tu.Option.displayName,tu.Option),t.component(tu.OptGroup.displayName,tu.OptGroup),t};var qfe=tu.Option,Yfe=tu.OptGroup;const Od=tu;var TT=function(){return null};TT.isSelectOption=!0;TT.displayName="AAutoCompleteOption";const sv=TT;var ET=function(){return null};ET.isSelectOptGroup=!0;ET.displayName="AAutoCompleteOptGroup";const J_=ET;function Xfe(t){var e,n;return(t==null||(e=t.type)===null||e===void 0?void 0:e.isSelectOption)||(t==null||(n=t.type)===null||n===void 0?void 0:n.isSelectOptGroup)}var Zfe=function(){return R(R({},Qn(ST(),["loading","mode","optionLabelProp","labelInValue"])),{},{dataSource:Array,dropdownMenuStyle:{type:Object,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},prefixCls:String,showSearch:{type:Boolean,default:void 0},transitionName:String,choiceTransitionName:{type:String,default:"zoom"},autofocus:{type:Boolean,default:void 0},backfill:{type:Boolean,default:void 0},filterOption:{type:[Boolean,Function],default:!1},defaultActiveFirstOption:{type:Boolean,default:!0}})},Qfe=sv,Jfe=J_,AC=lt({compatConfig:{MODE:3},name:"AAutoComplete",inheritAttrs:!1,props:Zfe(),slots:["option"],setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose;sa(!("dataSource"in r),"AutoComplete","`dataSource` slot is deprecated, please use props `options` instead."),sa(!("options"in r),"AutoComplete","`options` slot is deprecated, please use props `options` instead.");var l=ke(),a=function(){var b,S=Wr((b=r.default)===null||b===void 0?void 0:b.call(r)),E=S.length?S[0]:void 0;return E},f=function(){var b;(b=l.value)===null||b===void 0||b.focus()},p=function(){var b;(b=l.value)===null||b===void 0||b.blur()};o({focus:f,blur:p});var v=fn("select",e),g=v.prefixCls;return function(){var _,b,S=e.size,E=e.dataSource,P=e.notFoundContent,k=P===void 0?(_=r.notFoundContent)===null||_===void 0?void 0:_.call(r):P,I,D=i.class,L=(b={},J(b,D,!!D),J(b,"".concat(g.value,"-lg"),S==="large"),J(b,"".concat(g.value,"-sm"),S==="small"),J(b,"".concat(g.value,"-show-search"),!0),J(b,"".concat(g.value,"-auto-complete"),!0),b);if(e.options===void 0){var B,N,j=((B=r.dataSource)===null||B===void 0?void 0:B.call(r))||((N=r.options)===null||N===void 0?void 0:N.call(r))||[];j.length&&Xfe(j[0])?I=j:I=E?E.map(function(V){if(la(V))return V;switch(dn(V)){case"string":return M(sv,{key:V,value:V},{default:function(){return[V]}});case"object":return M(sv,{key:V.value,value:V.value},{default:function(){return[V.text]}});default:throw new Error("AutoComplete[dataSource] only supports type `string[] | Object[]`.")}}):[]}var H=Qn(R(R(R({},e),i),{},{mode:Od.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:a,notFoundContent:k,class:L,ref:l}),["dataSource","loading"]);return M(Od,H,R({default:function(){return[I]}},Qn(r,["default","dataSource","options"])))}}});const ehe=yr(AC,{Option:sv,OptGroup:J_,install:function(e){return e.component(AC.name,AC),e.component(sv.displayName,sv),e.component(J_.displayName,J_),e}});var the={success:t0,info:DN,error:fc,warning:r0},nhe={success:F5,info:d8,error:j5,warning:f2},rhe=Di("success","info","warning","error"),ihe=function(){return{type:Te.oneOf(rhe),closable:{type:Boolean,default:void 0},closeText:Te.any,message:Te.any,description:Te.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:Te.any,closeIcon:Te.any,onClose:Function}},ahe=lt({compatConfig:{MODE:3},name:"AAlert",inheritAttrs:!1,props:ihe(),setup:function(e,n){var r=n.slots,i=n.emit,o=n.attrs,l=n.expose,a=fn("alert",e),f=a.prefixCls,p=a.direction,v=ke(!1),g=ke(!1),_=ke(),b=function(k){k.preventDefault();var I=_.value;I.style.height="".concat(I.offsetHeight,"px"),I.style.height="".concat(I.offsetHeight,"px"),v.value=!0,i("close",k)},S=function(){var k;v.value=!1,g.value=!0,(k=e.afterClose)===null||k===void 0||k.call(e)};l({animationEnd:S});var E=ke({});return function(){var P,k,I=e.banner,D=e.closeIcon,L=D===void 0?(P=r.closeIcon)===null||P===void 0?void 0:P.call(r):D,B=e.closable,N=e.type,j=e.showIcon,H=vi(r,e,"closeText"),V=vi(r,e,"description"),Z=vi(r,e,"message"),re=vi(r,e,"icon");j=I&&j===void 0?!0:j,N=I&&N===void 0?"warning":N||"info";var q=(V?nhe:the)[N]||null;H&&(B=!0);var G=f.value,ae=mt(G,(k={},J(k,"".concat(G,"-").concat(N),!0),J(k,"".concat(G,"-closing"),v.value),J(k,"".concat(G,"-with-description"),!!V),J(k,"".concat(G,"-no-icon"),!j),J(k,"".concat(G,"-banner"),!!I),J(k,"".concat(G,"-closable"),B),J(k,"".concat(G,"-rtl"),p.value==="rtl"),k)),te=B?M("button",{type:"button",onClick:b,class:"".concat(G,"-close-icon"),tabindex:0},[H?M("span",{class:"".concat(G,"-close-text")},[H]):L===void 0?M(pu,null,null):L]):null,Q=re&&(la(re)?Pr(re,{class:"".concat(G,"-icon")}):M("span",{class:"".concat(G,"-icon")},[re]))||M(q,{class:"".concat(G,"-icon")},null),Y=Nd("".concat(G,"-motion"),{appear:!1,css:!0,onAfterLeave:S,onBeforeLeave:function(ie){ie.style.maxHeight="".concat(ie.offsetHeight,"px")},onLeave:function(ie){ie.style.maxHeight="0px"}});return g.value?null:M(Io,Y,{default:function(){return[qa(M("div",R(R({role:"alert"},o),{},{style:[o.style,E.value],class:[o.class,ae],"data-show":!v.value,ref:_}),[j?Q:null,M("div",{class:"".concat(G,"-content")},[Z?M("div",{class:"".concat(G,"-message")},[Z]):null,V?M("div",{class:"".concat(G,"-description")},[V]):null]),te]),[[Pl,!v.value]])]}})}}});const ohe=Ki(ahe);var yh=["xxxl","xxl","xl","lg","md","sm","xs"],u_={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)",xxxl:"(min-width: 2000px)"},Of=new Map,IC=-1,c_={},she={matchHandlers:{},dispatch:function(e){return c_=e,Of.forEach(function(n){return n(c_)}),Of.size>=1},subscribe:function(e){return Of.size||this.register(),IC+=1,Of.set(IC,e),e(c_),IC},unsubscribe:function(e){Of.delete(e),Of.size||this.unregister()},unregister:function(){var e=this;Object.keys(u_).forEach(function(n){var r=u_[n],i=e.matchHandlers[r];i==null||i.mql.removeListener(i==null?void 0:i.listener)}),Of.clear()},register:function(){var e=this;Object.keys(u_).forEach(function(n){var r=u_[n],i=function(a){var f=a.matches;e.dispatch(R(R({},c_),{},J({},n,f)))},o=window.matchMedia(r);o.addListener(i),e.matchHandlers[r]={mql:o,listener:i},i(o)})}};const Sv=she;function Wv(){var t=ke({}),e=null;return zn(function(){e=Sv.subscribe(function(n){t.value=n})}),_o(function(){Sv.unsubscribe(e)}),t}var p$=Symbol("SizeProvider"),lhe=function(e){var n=Hn("configProvider",Y8),r=le(function(){return e.size||n.componentSize});return Xn(p$,r),r},v$=function(e){var n=e?le(function(){return e.size}):Hn(p$,le(function(){return"default"}));return n};const uhe=lhe;function ms(t){var e=fr();return Un(function(){e.value=t()},{flush:"sync"}),e}var che=function(){return{prefixCls:String,shape:{type:String,default:"circle"},size:{type:[Number,String,Object],default:function(){return"default"}},src:String,srcset:String,icon:Te.any,alt:String,gap:Number,draggable:{type:Boolean,default:void 0},crossOrigin:String,loadError:{type:Function}}},dhe=lt({compatConfig:{MODE:3},name:"AAvatar",inheritAttrs:!1,props:che(),slots:["icon"],setup:function(e,n){var r=n.slots,i=n.attrs,o=ke(!0),l=ke(!1),a=ke(1),f=ke(null),p=ke(null),v=fn("avatar",e),g=v.prefixCls,_=v$(),b=le(function(){return e.size==="default"?_.value:e.size}),S=Wv(),E=ms(function(){if(dn(e.size)==="object"){var D=yh.find(function(B){return S.value[B]}),L=e.size[D];return L}}),P=function(L){return E.value?{width:"".concat(E.value,"px"),height:"".concat(E.value,"px"),lineHeight:"".concat(E.value,"px"),fontSize:"".concat(L?E.value/2:18,"px")}:{}},k=function(){if(!(!f.value||!p.value)){var L=f.value.offsetWidth,B=p.value.offsetWidth;if(L!==0&&B!==0){var N=e.gap,j=N===void 0?4:N;j*2<B&&(a.value=B-j*2<L?(B-j*2)/L:1)}}},I=function(){var L=e.loadError,B=L==null?void 0:L();B!==!1&&(o.value=!1)};return Lt(function(){return e.src},function(){Yn(function(){o.value=!0,a.value=1})}),Lt(function(){return e.gap},function(){Yn(function(){k()})}),zn(function(){Yn(function(){k(),l.value=!0})}),function(){var D,L,B=e.shape,N=e.src,j=e.alt,H=e.srcset,V=e.draggable,Z=e.crossOrigin,re=vi(r,e,"icon"),q=g.value,G=(D={},J(D,"".concat(i.class),!!i.class),J(D,q,!0),J(D,"".concat(q,"-lg"),b.value==="large"),J(D,"".concat(q,"-sm"),b.value==="small"),J(D,"".concat(q,"-").concat(B),B),J(D,"".concat(q,"-image"),N&&o.value),J(D,"".concat(q,"-icon"),re),D),ae=typeof b.value=="number"?{width:"".concat(b.value,"px"),height:"".concat(b.value,"px"),lineHeight:"".concat(b.value,"px"),fontSize:re?"".concat(b.value/2,"px"):"18px"}:{},te=(L=r.default)===null||L===void 0?void 0:L.call(r),Q;if(N&&o.value)Q=M("img",{draggable:V,src:N,srcset:H,onError:I,alt:j,crossorigin:Z},null);else if(re)Q=re;else if(l.value||a.value!==1){var Y="scale(".concat(a.value,") translateX(-50%)"),X={msTransform:Y,WebkitTransform:Y,transform:Y},ie=typeof b.value=="number"?{lineHeight:"".concat(b.value,"px")}:{};Q=M(Gs,{onResize:k},{default:function(){return[M("span",{class:"".concat(q,"-string"),ref:f,style:R(R({},ie),X)},[te])]}})}else Q=M("span",{class:"".concat(q,"-string"),ref:f,style:{opacity:0}},[te]);return M("span",R(R({},i),{},{ref:p,class:G,style:[ae,P(!!re),i.style]}),[Q])}}});const sh=dhe;var Ns={adjustX:1,adjustY:1},Bs=[0,0],m$={left:{points:["cr","cl"],overflow:Ns,offset:[-4,0],targetOffset:Bs},right:{points:["cl","cr"],overflow:Ns,offset:[4,0],targetOffset:Bs},top:{points:["bc","tc"],overflow:Ns,offset:[0,-4],targetOffset:Bs},bottom:{points:["tc","bc"],overflow:Ns,offset:[0,4],targetOffset:Bs},topLeft:{points:["bl","tl"],overflow:Ns,offset:[0,-4],targetOffset:Bs},leftTop:{points:["tr","tl"],overflow:Ns,offset:[-4,0],targetOffset:Bs},topRight:{points:["br","tr"],overflow:Ns,offset:[0,-4],targetOffset:Bs},rightTop:{points:["tl","tr"],overflow:Ns,offset:[4,0],targetOffset:Bs},bottomRight:{points:["tr","br"],overflow:Ns,offset:[0,4],targetOffset:Bs},rightBottom:{points:["bl","br"],overflow:Ns,offset:[4,0],targetOffset:Bs},bottomLeft:{points:["tl","bl"],overflow:Ns,offset:[0,4],targetOffset:Bs},leftBottom:{points:["br","bl"],overflow:Ns,offset:[-4,0],targetOffset:Bs}},fhe={prefixCls:String,id:String,overlayInnerStyle:Te.any};const hhe=lt({compatConfig:{MODE:3},name:"Content",props:fhe,slots:["overlay"],setup:function(e,n){var r=n.slots;return function(){var i;return M("div",{class:"".concat(e.prefixCls,"-inner"),id:e.id,role:"tooltip",style:e.overlayInnerStyle},[(i=r.overlay)===null||i===void 0?void 0:i.call(r)])}}});var phe=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"];function NI(){}const vhe=lt({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:Te.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:Te.string.def("right"),transitionName:String,animation:Te.any,afterVisibleChange:Te.func.def(function(){}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:Te.string.def("rc-tooltip"),mouseEnterDelay:Te.number.def(.1),mouseLeaveDelay:Te.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:Te.object.def(function(){return{}}),arrowContent:Te.any.def(null),tipId:String,builtinPlacements:Te.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function},slots:["arrowContent","overlay"],setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=ke(),a=function(){var _=e.prefixCls,b=e.tipId,S=e.overlayInnerStyle;return[M("div",{class:"".concat(_,"-arrow"),key:"arrow"},[vi(r,e,"arrowContent")]),M(hhe,{key:"content",prefixCls:_,id:b,overlayInnerStyle:S},{overlay:r.overlay})]},f=function(){return l.value.getPopupDomNode()};o({getPopupDomNode:f,triggerDOM:l,forcePopupAlign:function(){var _;return(_=l.value)===null||_===void 0?void 0:_.forcePopupAlign()}});var p=ke(!1),v=ke(!1);return Un(function(){var g=e.destroyTooltipOnHide;if(typeof g=="boolean")p.value=g;else if(g&&dn(g)==="object"){var _=g.keepParent;p.value=_===!0,v.value=_===!1}}),function(){var g=e.overlayClassName,_=e.trigger,b=e.mouseEnterDelay,S=e.mouseLeaveDelay,E=e.overlayStyle,P=e.prefixCls,k=e.afterVisibleChange,I=e.transitionName,D=e.animation,L=e.placement,B=e.align;e.destroyTooltipOnHide;var N=e.defaultVisible,j=kn(e,phe),H=R({},j);e.visible!==void 0&&(H.popupVisible=e.visible);var V=R(R(R({popupClassName:g,prefixCls:P,action:_,builtinPlacements:m$,popupPlacement:L,popupAlign:B,afterPopupVisibleChange:k,popupTransitionName:I,popupAnimation:D,defaultPopupVisible:N,destroyPopupOnHide:p.value,autoDestroy:v.value,mouseLeaveDelay:S,popupStyle:E,mouseEnterDelay:b},H),i),{},{onPopupVisibleChange:e.onVisibleChange||NI,onPopupAlign:e.onPopupAlign||NI,ref:l,popup:a()});return M(Hv,V,{default:r.default})}}});var mhe=Di("success","processing","error","default","warning"),PT=Di("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime");const MT=function(){return{trigger:[String,Array],visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:{type:Object,default:void 0},overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:{type:Object,default:void 0},builtinPlacements:{type:Object,default:void 0},children:Array,onVisibleChange:Function,"onUpdate:visible":Function}};var ghe={adjustX:1,adjustY:1},BI={adjustX:0,adjustY:0},yhe=[0,0];function zI(t){return typeof t=="boolean"?t?ghe:BI:R(R({},BI),t)}function g$(t){var e=t.arrowWidth,n=e===void 0?4:e,r=t.horizontalArrowShift,i=r===void 0?16:r,o=t.verticalArrowShift,l=o===void 0?8:o,a=t.autoAdjustOverflow,f=t.arrowPointAtCenter,p={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(i+n),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(l+n)]},topRight:{points:["br","tc"],offset:[i+n,-4]},rightTop:{points:["tl","cr"],offset:[4,-(l+n)]},bottomRight:{points:["tr","bc"],offset:[i+n,4]},rightBottom:{points:["bl","cr"],offset:[4,l+n]},bottomLeft:{points:["tl","bc"],offset:[-(i+n),4]},leftBottom:{points:["br","cl"],offset:[-4,l+n]}};return Object.keys(p).forEach(function(v){p[v]=f?R(R({},p[v]),{},{overflow:zI(a),targetOffset:yhe}):R(R({},m$[v]),{},{overflow:zI(a)}),p[v].ignoreShake=!0}),p}function cx(){for(var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=0,n=t.length;e<n;e++)if(t[e]!==void 0)return t[e]}var _he=function(e,n){var r={},i=R({},e);return n.forEach(function(o){e&&o in e&&(r[o]=e[o],delete i[o])}),{picked:r,omitted:i}},$I=new RegExp("^(".concat(PT.join("|"),")(-inverse)?$")),y$=function(){return R(R({},MT()),{},{title:Te.any})},_$=function(){return{trigger:"hover",transitionName:"zoom-big-fast",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}};const bhe=lt({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:lr(y$(),{trigger:"hover",transitionName:"zoom-big-fast",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:["title"],setup:function(e,n){var r=n.slots,i=n.emit,o=n.attrs,l=n.expose,a=fn("tooltip",e),f=a.prefixCls,p=a.getPopupContainer,v=ke(cx([e.visible,e.defaultVisible])),g=ke();zn(function(){sa(e.defaultVisible===void 0,"Tooltip","'defaultVisible' is deprecated, please use 'v-model:visible'")});var _;Lt(function(){return e.visible},function(B){$n.cancel(_),_=$n(function(){v.value=!!B})});var b=function(){var N,j=(N=e.title)!==null&&N!==void 0?N:r.title;return!j&&j!==0},S=function(N){var j=b();e.visible===void 0&&(v.value=j?!1:N),j||(i("update:visible",N),i("visibleChange",N))},E=function(){return g.value.getPopupDomNode()};l({getPopupDomNode:E,visible:v,forcePopupAlign:function(){var N;return(N=g.value)===null||N===void 0?void 0:N.forcePopupAlign()}});var P=le(function(){var B=e.builtinPlacements,N=e.arrowPointAtCenter,j=e.autoAdjustOverflow;return B||g$({arrowPointAtCenter:N,autoAdjustOverflow:j})}),k=function(N){return N||N===""},I=function(N){var j=N.type;if(dn(j)==="object"&&N.props&&((j.__ANT_BUTTON===!0||j==="button")&&k(N.props.disabled)||j.__ANT_SWITCH===!0&&(k(N.props.disabled)||k(N.props.loading)))){var H=_he(DB(N),["position","left","right","top","bottom","float","display","zIndex"]),V=H.picked,Z=H.omitted,re=R(R({display:"inline-block"},V),{},{cursor:"not-allowed",lineHeight:1,width:N.props&&N.props.block?"100%":null}),q=R(R({},Z),{},{pointerEvents:"none"}),G=Pr(N,{style:q},!0);return M("span",{style:re,class:"".concat(f.value,"-disabled-compatible-wrapper")},[G])}return N},D=function(){var N,j;return(N=e.title)!==null&&N!==void 0?N:(j=r.title)===null||j===void 0?void 0:j.call(r)},L=function(N,j){var H=P.value,V=Object.keys(H).filter(function(q){return H[q].points[0]===j.points[0]&&H[q].points[1]===j.points[1]})[0];if(V){var Z=N.getBoundingClientRect(),re={top:"50%",left:"50%"};V.indexOf("top")>=0||V.indexOf("Bottom")>=0?re.top="".concat(Z.height-j.offset[1],"px"):(V.indexOf("Top")>=0||V.indexOf("bottom")>=0)&&(re.top="".concat(-j.offset[1],"px")),V.indexOf("left")>=0||V.indexOf("Right")>=0?re.left="".concat(Z.width-j.offset[0],"px"):(V.indexOf("right")>=0||V.indexOf("Left")>=0)&&(re.left="".concat(-j.offset[0],"px")),N.style.transformOrigin="".concat(re.left," ").concat(re.top)}};return function(){var B,N,j,H=e.openClassName,V=e.color,Z=e.overlayClassName,re=(B=ta((N=r.default)===null||N===void 0?void 0:N.call(r)))!==null&&B!==void 0?B:null;re=re.length===1?re[0]:re;var q=v.value;if(e.visible===void 0&&b()&&(q=!1),!re)return null;var G=I(la(re)?re:M("span",null,[re])),ae=mt((j={},J(j,H||"".concat(f.value,"-open"),!0),J(j,G.props&&G.props.class,G.props&&G.props.class),j)),te=mt(Z,J({},"".concat(f.value,"-").concat(V),V&&$I.test(V))),Q,Y;V&&!$I.test(V)&&(Q={backgroundColor:V},Y={backgroundColor:V});var X=R(R(R({},o),e),{},{prefixCls:f.value,getPopupContainer:p.value,builtinPlacements:P.value,visible:q,ref:g,overlayClassName:te,overlayInnerStyle:Q,onVisibleChange:S,onPopupAlign:L});return M(vhe,X,{default:function(){return[v.value?Pr(G,{class:ae}):G]},arrowContent:function(){return M("span",{class:"".concat(f.value,"-arrow-content"),style:Y},null)},overlay:D})}}}),_l=Ki(bhe);var xhe=function(){return R(R({},MT()),{},{content:Te.any,title:Te.any})},whe=lt({compatConfig:{MODE:3},name:"APopover",props:lr(xhe(),R(R({},_$()),{},{trigger:"hover",transitionName:"zoom-big",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup:function(e,n){var r=n.expose,i=n.slots,o=ke();r({getPopupDomNode:function(){var _,b;return(_=o.value)===null||_===void 0||(b=_.getPopupDomNode)===null||b===void 0?void 0:b.call(_)}});var l=fn("popover",e),a=l.prefixCls,f=l.configProvider,p=le(function(){return f.getPrefixCls()}),v=function(){var _,b,S=e.title,E=S===void 0?ta((_=i.title)===null||_===void 0?void 0:_.call(i)):S,P=e.content,k=P===void 0?ta((b=i.content)===null||b===void 0?void 0:b.call(i)):P,I=!!(Array.isArray(E)?E.length:E),D=!!(Array.isArray(k)?k.length:E);if(!(!I&&!D))return M(Kn,null,[I&&M("div",{class:"".concat(a.value,"-title")},[E]),M("div",{class:"".concat(a.value,"-inner-content")},[k])])};return function(){return M(_l,R(R({},Qn(e,["title","content"])),{},{prefixCls:a.value,ref:o,transitionName:Tl(p.value,"zoom-big",e.transitionName)}),{title:v,default:i.default})}}});const b$=Ki(whe);var Che=function(){return{prefixCls:String,maxCount:Number,maxStyle:{type:Object,default:void 0},maxPopoverPlacement:{type:String,default:"top"},maxPopoverTrigger:String,size:{type:[Number,String,Object],default:"default"}}},She=lt({compatConfig:{MODE:3},name:"AAvatarGroup",inheritAttrs:!1,props:Che(),setup:function(e,n){var r=n.slots,i=n.attrs,o=fn("avatar-group",e),l=o.prefixCls,a=o.direction;return uhe(e),function(){var f,p=e.maxPopoverPlacement,v=p===void 0?"top":p,g=e.maxCount,_=e.maxStyle,b=e.maxPopoverTrigger,S=b===void 0?"hover":b,E=(f={},J(f,l.value,!0),J(f,"".concat(l.value,"-rtl"),a.value==="rtl"),J(f,"".concat(i.class),!!i.class),f),P=vi(r,e),k=Wr(P).map(function(B,N){return Pr(B,{key:"avatar-key-".concat(N)})}),I=k.length;if(g&&g<I){var D=k.slice(0,g),L=k.slice(g,I);return D.push(M(b$,{key:"avatar-popover-key",content:L,trigger:S,placement:v,overlayClassName:"".concat(l.value,"-popover")},{default:function(){return[M(sh,{style:_},{default:function(){return["+".concat(I-g)]}})]}})),M("div",R(R({},i),{},{class:E,style:i.style}),[D])}return M("div",R(R({},i),{},{class:E,style:i.style}),[k])}}});const dx=She;sh.Group=dx;sh.install=function(t){return t.component(sh.name,sh),t.component(dx.name,dx),t};var The=function(){return{visibilityHeight:{type:Number,default:400},duration:{type:Number,default:450},target:Function,prefixCls:String,onClick:Function}},Ehe=lt({compatConfig:{MODE:3},name:"ABackTop",inheritAttrs:!1,props:The(),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.emit,l=fn("back-top",e),a=l.prefixCls,f=l.direction,p=ke(),v=Mr({visible:!1,scrollEvent:null}),g=function(){return p.value&&p.value.ownerDocument?p.value.ownerDocument:window},_=function(k){var I=e.target,D=I===void 0?g:I,L=e.duration;Q8(0,{getContainer:D,duration:L}),o("click",k)},b=dS(function(P){var k=e.visibilityHeight,I=Z8(P.target,!0);v.visible=I>k}),S=function(){var k=e.target,I=k||g,D=I();v.scrollEvent=_i(D,"scroll",function(L){b(L)}),b({target:D})},E=function(){v.scrollEvent&&v.scrollEvent.remove(),b.cancel()};return Lt(function(){return e.target},function(){E(),Yn(function(){S()})}),zn(function(){Yn(function(){S()})}),a2(function(){Yn(function(){S()})}),BF(function(){E()}),tr(function(){E()}),function(){var P,k,I=M("div",{class:"".concat(a.value,"-content")},[M("div",{class:"".concat(a.value,"-icon")},[M(Cne,null,null)])]),D=R(R({},i),{},{onClick:_,class:(P={},J(P,"".concat(a.value),!0),J(P,"".concat(i.class),i.class),J(P,"".concat(a.value,"-rtl"),f.value==="rtl"),P)}),L=Nd("fade");return M(Io,L,{default:function(){return[qa(M("div",R(R({},D),{},{ref:p}),[((k=r.default)===null||k===void 0?void 0:k.call(r))||I]),[[Pl,v.visible]])]}})}}});const Phe=Ki(Ehe);function jI(t){var e=t.prefixCls,n=t.value,r=t.current,i=t.offset,o=i===void 0?0:i,l;return o&&(l={position:"absolute",top:"".concat(o,"00%"),left:0}),M("p",{style:l,class:mt("".concat(e,"-only-unit"),{current:r})},[n])}function Mhe(t,e,n){for(var r=t,i=0;(r+10)%10!==e;)r+=n,i+=n;return i}const khe=lt({compatConfig:{MODE:3},name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function(e){var n=le(function(){return Number(e.value)}),r=le(function(){return Math.abs(e.count)}),i=Mr({prevValue:n.value,prevCount:r.value}),o=function(){i.prevValue=n.value,i.prevCount=r.value},l=ke();return Lt(n,function(){clearTimeout(l.value),l.value=setTimeout(function(){o()},1e3)},{flush:"post"}),_o(function(){clearTimeout(l.value)}),function(){var a,f={},p=n.value;if(i.prevValue===p||Number.isNaN(p)||Number.isNaN(i.prevValue))a=[jI(R(R({},e),{},{current:!0}))],f={transition:"none"};else{a=[];for(var v=p+10,g=[],_=p;_<=v;_+=1)g.push(_);var b=g.findIndex(function(E){return E%10===i.prevValue});a=g.map(function(E,P){var k=E%10;return jI(R(R({},e),{},{value:k,offset:P-b,current:P===b}))});var S=i.prevCount<r.value?1:-1;f={transform:"translateY(".concat(-Mhe(i.prevValue,p,S),"00%)")}}return M("span",{class:"".concat(e.prefixCls,"-only"),style:f,onTransitionend:function(){return o()}},[a])}}});var Ahe=["prefixCls","count","title","show","component","class","style"],Ihe={prefixCls:String,count:Te.any,component:String,title:Te.any,show:Boolean};const Ohe=lt({compatConfig:{MODE:3},name:"ScrollNumber",inheritAttrs:!1,props:Ihe,setup:function(e,n){var r=n.attrs,i=n.slots,o=fn("scroll-number",e),l=o.prefixCls;return function(){var a,f=R(R({},e),r);f.prefixCls;var p=f.count,v=f.title;f.show;var g=f.component,_=g===void 0?"sup":g,b=f.class,S=f.style,E=kn(f,Ahe),P=R(R({},E),{},{style:S,"data-show":e.show,class:mt(l.value,b),title:v}),k=p;if(p&&Number(p)%1===0){var I=String(p).split("");k=I.map(function(L,B){return M(khe,{prefixCls:l.value,count:Number(p),value:L,key:I.length-B},null)})}S&&S.borderColor&&(P.style=R(R({},S),{},{boxShadow:"0 0 0 1px ".concat(S.borderColor," inset")}));var D=ta((a=i.default)===null||a===void 0?void 0:a.call(i));return D&&D.length?Pr(D,{class:mt("".concat(l.value,"-custom-component"))},!1):M(_,P,{default:function(){return[k]}})}}});function Lg(t){return PT.indexOf(t)!==-1}var Dhe=["class","style"],Rhe=function(){return{prefix:String,color:{type:String},text:Te.any,placement:{type:String,default:"end"}}};const fx=lt({compatConfig:{MODE:3},name:"ABadgeRibbon",inheritAttrs:!1,props:Rhe(),slots:["text"],setup:function(e,n){var r=n.attrs,i=n.slots,o=fn("ribbon",e),l=o.prefixCls,a=o.direction,f=le(function(){return Lg(e.color)}),p=le(function(){var v;return[l.value,"".concat(l.value,"-placement-").concat(e.placement),(v={},J(v,"".concat(l.value,"-rtl"),a.value==="rtl"),J(v,"".concat(l.value,"-color-").concat(e.color),f.value),v)]});return function(){var v,g,_=r.class,b=r.style,S=kn(r,Dhe),E={},P={};return e.color&&!f.value&&(E.background=e.color,P.color=e.color),M("div",R({class:"".concat(l.value,"-wrapper")},S),[(v=i.default)===null||v===void 0?void 0:v.call(i),M("div",{class:[p.value,_],style:R(R({},E),b)},[M("span",{class:"".concat(l.value,"-text")},[e.text||((g=i.text)===null||g===void 0?void 0:g.call(i))]),M("div",{class:"".concat(l.value,"-corner"),style:P},null)])])}}});var Lhe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)};const x$=Lhe;var Fhe=function(){return{count:Te.any,showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:Te.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}};const eb=lt({compatConfig:{MODE:3},name:"ABadge",Ribbon:fx,inheritAttrs:!1,props:Fhe(),slots:["text","count"],setup:function(e,n){var r=n.slots,i=n.attrs,o=fn("badge",e),l=o.prefixCls,a=o.direction,f=le(function(){return e.count>e.overflowCount?"".concat(e.overflowCount,"+"):e.count}),p=le(function(){return e.status!==null&&e.status!==void 0||e.color!==null&&e.color!==void 0}),v=le(function(){return f.value==="0"||f.value===0}),g=le(function(){return e.dot&&!v.value}),_=le(function(){return g.value?"":f.value}),b=le(function(){var L=_.value===null||_.value===void 0||_.value==="";return(L||v.value&&!e.showZero)&&!g.value}),S=ke(e.count),E=ke(_.value),P=ke(g.value);Lt([function(){return e.count},_,g],function(){b.value||(S.value=e.count,E.value=_.value,P.value=g.value)},{immediate:!0});var k=le(function(){var L;return L={},J(L,"".concat(l.value,"-status-dot"),p.value),J(L,"".concat(l.value,"-status-").concat(e.status),!!e.status),J(L,"".concat(l.value,"-status-").concat(e.color),Lg(e.color)),L}),I=le(function(){return e.color&&!Lg(e.color)?{background:e.color}:{}}),D=le(function(){var L;return L={},J(L,"".concat(l.value,"-dot"),P.value),J(L,"".concat(l.value,"-count"),!P.value),J(L,"".concat(l.value,"-count-sm"),e.size==="small"),J(L,"".concat(l.value,"-multiple-words"),!P.value&&E.value&&E.value.toString().length>1),J(L,"".concat(l.value,"-status-").concat(e.status),!!e.status),J(L,"".concat(l.value,"-status-").concat(e.color),Lg(e.color)),L});return function(){var L,B,N,j=e.offset,H=e.title,V=e.color,Z=i.style,re=vi(r,e,"text"),q=l.value,G=S.value,ae=Wr((L=r.default)===null||L===void 0?void 0:L.call(r));ae=ae.length?ae:null;var te=!!(!b.value||r.count),Q=function(){if(!j)return R({},Z);var ve={marginTop:x$(j[1])?"".concat(j[1],"px"):j[1]};return a.value==="rtl"?ve.left="".concat(parseInt(j[0],10),"px"):ve.right="".concat(-parseInt(j[0],10),"px"),R(R({},ve),Z)}(),Y=H??(typeof G=="string"||typeof G=="number"?G:void 0),X=te||!re?null:M("span",{class:"".concat(q,"-status-text")},[re]),ie=dn(G)==="object"||G===void 0&&r.count?Pr(G??((B=r.count)===null||B===void 0?void 0:B.call(r)),{style:Q},!1):null,he=mt(q,(N={},J(N,"".concat(q,"-status"),p.value),J(N,"".concat(q,"-not-a-wrapper"),!ae),J(N,"".concat(q,"-rtl"),a.value==="rtl"),N),i.class);if(!ae&&p.value){var ce=Q.color;return M("span",R(R({},i),{},{class:he,style:Q}),[M("span",{class:k.value,style:I.value},null),M("span",{style:{color:ce},class:"".concat(q,"-status-text")},[re])])}var we=Nd(ae?"".concat(q,"-zoom"):"",{appear:!1}),be=R(R({},Q),e.numberStyle);return V&&!Lg(V)&&(be=be||{},be.background=V),M("span",R(R({},i),{},{class:he}),[ae,M(Io,we,{default:function(){return[qa(M(Ohe,{prefixCls:e.scrollNumberPrefixCls,show:te,class:D.value,count:E.value,title:Y,style:be,key:"scrollNumber"},{default:function(){return[ie]}}),[[Pl,te]])]}}),X])}}});eb.install=function(t){return t.component(eb.name,eb),t.component(fx.name,fx),t};var Ap={adjustX:1,adjustY:1},Ip=[0,0],Nhe={topLeft:{points:["bl","tl"],overflow:Ap,offset:[0,-4],targetOffset:Ip},topCenter:{points:["bc","tc"],overflow:Ap,offset:[0,-4],targetOffset:Ip},topRight:{points:["br","tr"],overflow:Ap,offset:[0,-4],targetOffset:Ip},bottomLeft:{points:["tl","bl"],overflow:Ap,offset:[0,4],targetOffset:Ip},bottomCenter:{points:["tc","bc"],overflow:Ap,offset:[0,4],targetOffset:Ip},bottomRight:{points:["tr","br"],overflow:Ap,offset:[0,4],targetOffset:Ip}};const Bhe=Nhe;var zhe=["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"];const w$=lt({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:Te.string.def("rc-dropdown"),transitionName:String,overlayClassName:Te.string.def(""),openClassName:String,animation:Te.any,align:Te.object,overlayStyle:{type:Object,default:void 0},placement:Te.string.def("bottomLeft"),overlay:Te.any,trigger:Te.oneOfType([Te.string,Te.arrayOf(Te.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:Te.array,hideAction:Te.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:Te.number.def(.15),mouseLeaveDelay:Te.number.def(.1)},emits:["visibleChange","overlayClick"],slots:["overlay"],setup:function(e,n){var r=n.slots,i=n.emit,o=n.expose,l=ke(!!e.visible);Lt(function(){return e.visible},function(S){S!==void 0&&(l.value=S)});var a=ke();o({triggerRef:a});var f=function(E){e.visible===void 0&&(l.value=!1),i("overlayClick",E)},p=function(E){e.visible===void 0&&(l.value=E),i("visibleChange",E)},v=function(){var E,P=(E=r.overlay)===null||E===void 0?void 0:E.call(r),k={prefixCls:"".concat(e.prefixCls,"-menu"),onClick:f,getPopupContainer:function(){return a.value.getPopupDomNode()}};return M(Kn,null,[e.arrow&&M("div",{class:"".concat(e.prefixCls,"-arrow")},null),Pr(P,k,!1)])},g=le(function(){var S=e.minOverlayWidthMatchTrigger,E=S===void 0?!e.alignPoint:S;return E}),_=function(){var E,P=(E=r.default)===null||E===void 0?void 0:E.call(r);return l.value&&P?Pr(P[0],{class:e.openClassName||"".concat(e.prefixCls,"-open")},!1):P},b=le(function(){return!e.hideAction&&e.trigger.indexOf("contextmenu")!==-1?["click"]:e.hideAction});return function(){var S=e.prefixCls,E=e.arrow,P=e.showAction,k=e.overlayStyle,I=e.trigger,D=e.placement,L=e.align,B=e.getPopupContainer,N=e.transitionName,j=e.animation,H=e.overlayClassName,V=kn(e,zhe);return M(Hv,R(R({},V),{},{prefixCls:S,ref:a,popupClassName:mt(H,J({},"".concat(S,"-show-arrow"),E)),popupStyle:k,builtinPlacements:Bhe,action:I,showAction:P,hideAction:b.value||[],popupPlacement:D,popupAlign:L,popupTransitionName:N,popupAnimation:j,popupVisible:l.value,stretch:g.value?"minWidth":"",onPopupVisibleChange:p,getPopupContainer:B}),{popup:v,default:_})}}});var OC={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},DC={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},jp=[],Vp=[];function $he(){var t=document.createElement("div"),e=t.style;"AnimationEvent"in window||(delete OC.animationstart.animation,delete DC.animationend.animation),"TransitionEvent"in window||(delete OC.transitionstart.transition,delete DC.transitionend.transition);function n(r,i){for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];for(var a in l)if(a in e){i.push(l[a]);break}}}n(OC,jp),n(DC,Vp)}typeof window<"u"&&typeof document<"u"&&$he();function VI(t,e,n){t.addEventListener(e,n,!1)}function UI(t,e,n){t.removeEventListener(e,n,!1)}var jhe={startEvents:jp,addStartEventListener:function(e,n){if(jp.length===0){setTimeout(n,0);return}jp.forEach(function(r){VI(e,r,n)})},removeStartEventListener:function(e,n){jp.length!==0&&jp.forEach(function(r){UI(e,r,n)})},endEvents:Vp,addEndEventListener:function(e,n){if(Vp.length===0){setTimeout(n,0);return}Vp.forEach(function(r){VI(e,r,n)})},removeEndEventListener:function(e,n){Vp.length!==0&&Vp.forEach(function(r){UI(e,r,n)})}};const d_=jhe;var Jc;function HI(t){return!t||t.offsetParent===null}function Vhe(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}const kT=lt({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function(e,n){var r=n.slots,i=n.expose,o=Ba(),l=fn("",e),a=l.csp,f=l.prefixCls;i({csp:a});var p=null,v=null,g=null,_=!1,b=null,S=!1,E=function(N){if(!S){var j=vd(o);!N||N.target!==j||_||D(j)}},P=function(N){!N||N.animationName!=="fadeEffect"||D(N.target)},k=function(){var N=e.insertExtraNode;return N?"".concat(f.value,"-click-animating"):"".concat(f.value,"-click-animating-without-extra-node")},I=function(N,j){var H=e.insertExtraNode,V=e.disabled;if(!(V||!N||HI(N)||N.className.indexOf("-leave")>=0)){b=document.createElement("div"),b.className="".concat(f.value,"-click-animating-node");var Z=k();if(N.removeAttribute(Z),N.setAttribute(Z,"true"),Jc=Jc||document.createElement("style"),j&&j!=="#ffffff"&&j!=="rgb(255, 255, 255)"&&Vhe(j)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(j)&&j!=="transparent"){var re;(re=a.value)!==null&&re!==void 0&&re.nonce&&(Jc.nonce=a.value.nonce),b.style.borderColor=j,Jc.innerHTML=`
        [`.concat(f.value,"-click-animating-without-extra-node='true']::after, .").concat(f.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(j,`;
        }`),document.body.contains(Jc)||document.body.appendChild(Jc)}H&&N.appendChild(b),d_.addStartEventListener(N,E),d_.addEndEventListener(N,P)}},D=function(N){if(!(!N||N===b||!(N instanceof Element))){var j=e.insertExtraNode,H=k();N.setAttribute(H,"false"),Jc&&(Jc.innerHTML=""),j&&b&&N.contains(b)&&N.removeChild(b),d_.removeStartEventListener(N,E),d_.removeEndEventListener(N,P)}},L=function(N){if(!(!N||!N.getAttribute||N.getAttribute("disabled")||N.className.indexOf("disabled")>=0)){var j=function(V){if(!(V.target.tagName==="INPUT"||HI(V.target))){D(N);var Z=getComputedStyle(N).getPropertyValue("border-top-color")||getComputedStyle(N).getPropertyValue("border-color")||getComputedStyle(N).getPropertyValue("background-color");v=setTimeout(function(){return I(N,Z)},0),$n.cancel(g),_=!0,g=$n(function(){_=!1},10)}};return N.addEventListener("click",j,!0),{cancel:function(){N.removeEventListener("click",j,!0)}}}};return zn(function(){Yn(function(){var B=vd(o);B.nodeType===1&&(p=L(B))})}),tr(function(){p&&p.cancel(),clearTimeout(v),S=!0}),function(){var B;return(B=r.default)===null||B===void 0?void 0:B.call(r)[0]}}});function hx(t){return t==="danger"?{danger:!0}:{type:t}}var Uhe=function(){return{prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:Te.any,href:String,target:String,title:String,onClick:{type:Function},onMousedown:{type:Function}}};const C$=Uhe;var KI=function(e){e&&(e.style.width="0px",e.style.opacity="0",e.style.transform="scale(0)")},WI=function(e){Yn(function(){e&&(e.style.width="".concat(e.scrollWidth,"px"),e.style.opacity="1",e.style.transform="scale(1)")})},GI=function(e){e&&e.style&&(e.style.width=null,e.style.opacity=null,e.style.transform=null)};const Hhe=lt({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup:function(e){return function(){var n=e.existIcon,r=e.prefixCls,i=e.loading;if(n)return M("span",{class:"".concat(r,"-loading-icon")},[M(wl,null,null)]);var o=!!i;return M(Io,{name:"".concat(r,"-loading-icon-motion"),onBeforeEnter:KI,onEnter:WI,onAfterEnter:GI,onBeforeLeave:WI,onLeave:function(a){setTimeout(function(){KI(a)})},onAfterLeave:GI},{default:function(){return[o?M("span",{class:"".concat(r,"-loading-icon")},[M(wl,null,null)]):null]}})}}});var qI=/^[\u4e00-\u9fa5]{2}$/,YI=qI.test.bind(qI);function f_(t){return t==="text"||t==="link"}const Ma=lt({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:lr(C$(),{type:"default"}),slots:["icon"],setup:function(e,n){var r=n.slots,i=n.attrs,o=n.emit,l=n.expose,a=fn("btn",e),f=a.prefixCls,p=a.autoInsertSpaceInButton,v=a.direction,g=a.size,_=ke(null),b=ke(void 0),S=!1,E=ke(!1),P=ke(!1),k=le(function(){return p.value!==!1}),I=le(function(){return dn(e.loading)==="object"&&e.loading.delay?e.loading.delay||!0:!!e.loading});Lt(I,function(V){clearTimeout(b.value),typeof I.value=="number"?b.value=setTimeout(function(){E.value=V},I.value):E.value=V},{immediate:!0});var D=le(function(){var V,Z=e.type,re=e.shape,q=re===void 0?"default":re,G=e.ghost,ae=e.block,te=e.danger,Q=f.value,Y={large:"lg",small:"sm",middle:void 0},X=g.value,ie=X&&Y[X]||"";return V={},J(V,"".concat(Q),!0),J(V,"".concat(Q,"-").concat(Z),Z),J(V,"".concat(Q,"-").concat(q),q!=="default"&&q),J(V,"".concat(Q,"-").concat(ie),ie),J(V,"".concat(Q,"-loading"),E.value),J(V,"".concat(Q,"-background-ghost"),G&&!f_(Z)),J(V,"".concat(Q,"-two-chinese-chars"),P.value&&k.value),J(V,"".concat(Q,"-block"),ae),J(V,"".concat(Q,"-dangerous"),!!te),J(V,"".concat(Q,"-rtl"),v.value==="rtl"),V}),L=function(){var Z=_.value;if(!(!Z||p.value===!1)){var re=Z.textContent;S&&YI(re)?P.value||(P.value=!0):P.value&&(P.value=!1)}},B=function(Z){if(E.value||e.disabled){Z.preventDefault();return}o("click",Z)},N=function(Z,re){var q=re?" ":"";if(Z.type===Ld){var G=Z.children.trim();return YI(G)&&(G=G.split("").join(q)),M("span",null,[G])}return Z};Un(function(){Br(!(e.ghost&&f_(e.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),zn(L),yo(L),tr(function(){b.value&&clearTimeout(b.value)});var j=function(){var Z;(Z=_.value)===null||Z===void 0||Z.focus()},H=function(){var Z;(Z=_.value)===null||Z===void 0||Z.blur()};return l({focus:j,blur:H}),function(){var V,Z,re=e.icon,q=re===void 0?(V=r.icon)===null||V===void 0?void 0:V.call(r):re,G=Wr((Z=r.default)===null||Z===void 0?void 0:Z.call(r));S=G.length===1&&!q&&!f_(e.type);var ae=e.type,te=e.htmlType,Q=e.disabled,Y=e.href,X=e.title,ie=e.target,he=e.onMousedown,ce=E.value?"loading":q,we=R(R({},i),{},{title:X,disabled:Q,class:[D.value,i.class,J({},"".concat(f.value,"-icon-only"),G.length===0&&!!ce)],onClick:B,onMousedown:he});Q||delete we.disabled;var be=q&&!E.value?q:M(Hhe,{existIcon:!!q,prefixCls:f.value,loading:!!E.value},null),ve=G.map(function(Pe){return N(Pe,S&&k.value)});if(Y!==void 0)return M("a",R(R({},we),{},{href:Y,target:ie,ref:_}),[be,ve]);var ge=M("button",R(R({},we),{},{ref:_,type:te}),[be,ve]);return f_(ae)?ge:M(kT,{ref:"wave",disabled:!!E.value},{default:function(){return[ge]}})}}});function XI(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yB(r.key),r)}}function Ir(t,e,n){return e&&XI(t.prototype,e),n&&XI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Or(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Khe=Ir(function t(e){Or(this,t),this.error=new Error("unreachable case: ".concat(JSON.stringify(e)))}),Whe=function(){return{prefixCls:String,size:{type:String}}};const px=lt({compatConfig:{MODE:3},name:"AButtonGroup",props:Whe(),setup:function(e,n){var r=n.slots,i=fn("btn-group",e),o=i.prefixCls,l=i.direction,a=le(function(){var f,p=e.size,v="";switch(p){case"large":v="lg";break;case"small":v="sm";break;case"middle":case void 0:break;default:console.warn(new Khe(p).error)}return f={},J(f,"".concat(o.value),!0),J(f,"".concat(o.value,"-").concat(v),v),J(f,"".concat(o.value,"-rtl"),l.value==="rtl"),f});return function(){var f;return M("div",{class:a.value},[Wr((f=r.default)===null||f===void 0?void 0:f.call(r))])}}});Ma.Group=px;Ma.install=function(t){return t.component(Ma.name,Ma),t.component(px.name,px),t};var S$=function(){return{arrow:{type:[Boolean,Object],default:void 0},trigger:{type:[Array,String]},overlay:Te.any,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},align:{type:Object},getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:{type:Object,default:void 0},forceRender:{type:Boolean,default:void 0},mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:void 0},onVisibleChange:{type:Function},"onUpdate:visible":{type:Function}}},RC=C$(),Ghe=function(){return R(R({},S$()),{},{type:RC.type,size:String,htmlType:RC.htmlType,href:String,disabled:{type:Boolean,default:void 0},prefixCls:String,icon:Te.any,title:String,loading:RC.loading,onClick:{type:Function}})},qhe=["type","disabled","loading","htmlType","class","overlay","trigger","align","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:visible"],Yhe=Ma.Group;const B1=lt({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:lr(Ghe(),{trigger:"hover",placement:"bottomRight",type:"default"}),slots:["icon","leftButton","rightButton","overlay"],setup:function(e,n){var r=n.slots,i=n.attrs,o=n.emit,l=function(_){o("update:visible",_),o("visibleChange",_)},a=fn("dropdown-button",e),f=a.prefixCls,p=a.direction,v=a.getPopupContainer;return function(){var g,_,b=R(R({},e),i),S=b.type,E=S===void 0?"default":S,P=b.disabled,k=b.loading,I=b.htmlType,D=b.class,L=D===void 0?"":D,B=b.overlay,N=B===void 0?(g=r.overlay)===null||g===void 0?void 0:g.call(r):B,j=b.trigger,H=b.align,V=b.visible;b.onVisibleChange;var Z=b.placement,re=Z===void 0?p.value==="rtl"?"bottomLeft":"bottomRight":Z,q=b.href,G=b.title,ae=b.icon,te=ae===void 0?((_=r.icon)===null||_===void 0?void 0:_.call(r))||M(Z5,null,null):ae,Q=b.mouseEnterDelay,Y=b.mouseLeaveDelay,X=b.overlayClassName,ie=b.overlayStyle,he=b.destroyPopupOnHide,ce=b.onClick;b["onUpdate:visible"];var we=kn(b,qhe),be={align:H,disabled:P,trigger:P?[]:j,placement:re,getPopupContainer:v.value,onVisibleChange:l,mouseEnterDelay:Q,mouseLeaveDelay:Y,visible:V,overlayClassName:X,overlayStyle:ie,destroyPopupOnHide:he},ve=M(Ma,{type:E,disabled:P,loading:k,onClick:ce,htmlType:I,href:q,title:G},{default:r.default}),ge=M(Ma,{type:E,icon:te},null);return M(Yhe,R(R({},we),{},{class:mt(f.value,L)}),{default:function(){return[r.leftButton?r.leftButton({button:ve}):ve,M(cu,be,{default:function(){return[r.rightButton?r.rightButton({button:ge}):ge]},overlay:function(){return N}})]}})}}});var T$=lt({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:lr(S$(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),slots:["overlay"],setup:function(e,n){var r=n.slots,i=n.attrs,o=n.emit,l=fn("dropdown",e),a=l.prefixCls,f=l.rootPrefixCls,p=l.direction,v=l.getPopupContainer,g=le(function(){var E=e.placement,P=E===void 0?"":E,k=e.transitionName;return k!==void 0?k:P.indexOf("top")>=0?"".concat(f.value,"-slide-down"):"".concat(f.value,"-slide-up")}),_=function(){var P,k,I,D=e.overlay||((P=r.overlay)===null||P===void 0?void 0:P.call(r)),L=Array.isArray(D)?D[0]:D;if(!L)return null;var B=L.props||{};Br(!B.mode||B.mode==="vertical","Dropdown",'mode="'.concat(B.mode,`" is not supported for Dropdown's Menu.`));var N=B.selectable,j=N===void 0?!1:N,H=B.expandIcon,V=H===void 0?(k=L.children)===null||k===void 0||(I=k.expandIcon)===null||I===void 0?void 0:I.call(k):H,Z=typeof V<"u"&&la(V)?V:M("span",{class:"".concat(a.value,"-menu-submenu-arrow")},[M(uc,{class:"".concat(a.value,"-menu-submenu-arrow-icon")},null)]),re=la(L)?Pr(L,{mode:"vertical",selectable:j,expandIcon:function(){return Z}}):L;return re},b=le(function(){var E=e.placement;if(!E)return p.value==="rtl"?"bottomRight":"bottomLeft";if(E.includes("Center")){var P=E.slice(0,E.indexOf("Center"));return Br(!E.includes("Center"),"Dropdown","You are using '".concat(E,"' placement in Dropdown, which is deprecated. Try to use '").concat(P,"' instead.")),P}return E}),S=function(P){o("update:visible",P),o("visibleChange",P)};return function(){var E,P,k=e.arrow,I=e.trigger,D=e.disabled,L=e.overlayClassName,B=(E=r.default)===null||E===void 0?void 0:E.call(r)[0],N=Pr(B,yr({class:mt(B==null||(P=B.props)===null||P===void 0?void 0:P.class,J({},"".concat(a.value,"-rtl"),p.value==="rtl"),"".concat(a.value,"-trigger"))},D?{disabled:D}:{})),j=mt(L,J({},"".concat(a.value,"-rtl"),p.value==="rtl")),H=D?[]:I,V;H&&H.indexOf("contextmenu")!==-1&&(V=!0);var Z=g$({arrowPointAtCenter:dn(k)==="object"&&k.pointAtCenter,autoAdjustOverflow:!0}),re=Qn(R(R(R({},e),i),{},{builtinPlacements:Z,overlayClassName:j,arrow:k,alignPoint:V,prefixCls:a.value,getPopupContainer:v.value,transitionName:g.value,trigger:H,onVisibleChange:S,placement:b.value}),["overlay","onUpdate:visible"]);return M(w$,re,{default:function(){return[N]},overlay:_})}}});T$.Button=B1;const cu=T$;var Xhe=["class","style"],Zhe=function(){return{prefixCls:String,href:String,separator:Te.any,overlay:Te.any,onClick:Function}};const z1=lt({compatConfig:{MODE:3},name:"ABreadcrumbItem",inheritAttrs:!1,__ANT_BREADCRUMB_ITEM:!0,props:Zhe(),slots:["separator","overlay"],setup:function(e,n){var r=n.slots,i=n.attrs,o=fn("breadcrumb",e),l=o.prefixCls,a=function(p,v){var g=vi(r,e,"overlay");return g?M(cu,{overlay:g,placement:"bottom"},{default:function(){return[M("span",{class:"".concat(v,"-overlay-link")},[p,M(n0,null,null)])]}}):p};return function(){var f,p=(f=vi(r,e,"separator"))!==null&&f!==void 0?f:"/",v=vi(r,e),g=i.class,_=i.style,b=kn(i,Xhe),S;return e.href!==void 0?S=M("a",R({class:"".concat(l.value,"-link"),onClick:e.onClick},b),[v]):S=M("span",R({class:"".concat(l.value,"-link"),onClick:e.onClick},b),[v]),S=a(S,l.value),v?M("span",{class:g,style:_},[S,p&&M("span",{class:"".concat(l.value,"-separator")},[p])]):null}}});function Qhe(t,e,n,r){var i=n?n.call(r,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(dn(t)!=="object"||!t||dn(e)!=="object"||!e)return!1;var o=Object.keys(t),l=Object.keys(e);if(o.length!==l.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(e),f=0;f<o.length;f++){var p=o[f];if(!a(p))return!1;var v=t[p],g=e[p];if(i=n?n.call(r,v,g,p):void 0,i===!1||i===void 0&&v!==g)return!1}return!0}function Up(t,e,n,r){return Qhe(Gn(t),Gn(e),n,r)}var E$=Symbol("menuContextKey"),P$=function(e){Xn(E$,e)},zd=function(){return Hn(E$)},M$=Symbol("ForceRenderKey"),Jhe=function(e){Xn(M$,e)},k$=function(){return Hn(M$,!1)},A$=Symbol("menuFirstLevelContextKey"),I$=function(e){Xn(A$,e)},epe=function(){return Hn(A$,!0)},vx=lt({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0},isRootMenu:{type:Boolean,default:void 0}},setup:function(e,n){var r=n.slots,i=zd(),o=R({},i);return e.mode!==void 0&&(o.mode=An(e,"mode")),e.isRootMenu!==void 0&&(o.isRootMenu=An(e,"isRootMenu")),e.overflowDisabled!==void 0&&(o.overflowDisabled=An(e,"overflowDisabled")),P$(o),function(){var l;return(l=r.default)===null||l===void 0?void 0:l.call(r)}}});const tpe=P$;function O$(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function npe(t){return t!==t}function rpe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function ipe(t,e,n){return e===e?rpe(t,e,n):O$(t,npe,n)}function D$(t,e){var n=t==null?0:t.length;return!!n&&ipe(t,e,0)>-1}function R$(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function ape(){}var ope=1/0,spe=av&&1/lT(new av([,-0]))[1]==ope?function(t){return new av(t)}:ape;const lpe=spe;var upe=200;function cpe(t,e,n){var r=-1,i=D$,o=t.length,l=!0,a=[],f=a;if(n)l=!1,i=R$;else if(o>=upe){var p=e?null:lpe(t);if(p)return lT(p);l=!1,i=nx,f=new wv}else f=e?[]:a;e:for(;++r<o;){var v=t[r],g=e?e(v):v;if(v=n||v!==0?v:0,l&&g===g){for(var _=f.length;_--;)if(f[_]===g)continue e;e&&f.push(g),a.push(v)}else i(f,g,n)||(f!==a&&f.push(g),a.push(v))}return a}function LC(t){return t&&t.length?cpe(t):[]}var L$=Symbol("siderCollapsed"),F$=Symbol("siderHookProvider"),h_="$$__vc-menu-more__key",N$=Symbol("KeyPathContext"),AT=function(){return Hn(N$,{parentEventKeys:le(function(){return[]}),parentKeys:le(function(){return[]}),parentInfo:{}})},dpe=function(e,n,r){var i=AT(),o=i.parentEventKeys,l=i.parentKeys,a=le(function(){return[].concat(Jt(o.value),[e])}),f=le(function(){return[].concat(Jt(l.value),[n])});return Xn(N$,{parentEventKeys:a,parentKeys:f,parentInfo:r}),f},B$=Symbol("measure"),ZI=lt({compatConfig:{MODE:3},setup:function(e,n){var r=n.slots;return Xn(B$,!0),function(){var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}}),IT=function(){return Hn(B$,!1)};const fpe=dpe;function z$(t){var e=zd(),n=e.mode,r=e.rtl,i=e.inlineIndent;return le(function(){return n.value!=="inline"?null:r.value?{paddingRight:"".concat(t.value*i.value,"px")}:{paddingLeft:"".concat(t.value*i.value,"px")}})}var hpe=0,ppe=function(){return{id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:Te.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function}};const sc=lt({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:ppe(),slots:["icon","title"],setup:function(e,n){var r=n.slots,i=n.emit,o=n.attrs,l=Ba(),a=IT(),f=dn(l.vnode.key)==="symbol"?String(l.vnode.key):l.vnode.key;Br(dn(l.vnode.key)!=="symbol","MenuItem",'MenuItem `:key="'.concat(String(f),'"` not support Symbol type'));var p="menu_item_".concat(++hpe,"_$$_").concat(f),v=AT(),g=v.parentEventKeys,_=v.parentKeys,b=zd(),S=b.prefixCls,E=b.activeKeys,P=b.disabled,k=b.changeActiveKeys,I=b.rtl,D=b.inlineCollapsed,L=b.siderCollapsed,B=b.onItemClick,N=b.selectedKeys,j=b.registerMenuInfo,H=b.unRegisterMenuInfo,V=epe(),Z=ke(!1),re=le(function(){return[].concat(Jt(_.value),[f])}),q={eventKey:p,key:f,parentEventKeys:g,parentKeys:_,isLeaf:!0};j(p,q),tr(function(){H(p)}),Lt(E,function(){Z.value=!!E.value.find(function(ve){return ve===f})},{immediate:!0});var G=le(function(){return P.value||e.disabled}),ae=le(function(){return N.value.includes(f)}),te=le(function(){var ve,ge="".concat(S.value,"-item");return ve={},J(ve,"".concat(ge),!0),J(ve,"".concat(ge,"-danger"),e.danger),J(ve,"".concat(ge,"-active"),Z.value),J(ve,"".concat(ge,"-selected"),ae.value),J(ve,"".concat(ge,"-disabled"),G.value),ve}),Q=function(ge){return{key:f,eventKey:p,keyPath:re.value,eventKeyPath:[].concat(Jt(g.value),[p]),domEvent:ge,item:R(R({},e),o)}},Y=function(ge){if(!G.value){var Pe=Q(ge);i("click",ge),B(Pe)}},X=function(ge){G.value||(k(re.value),i("mouseenter",ge))},ie=function(ge){G.value||(k([]),i("mouseleave",ge))},he=function(ge){if(i("keydown",ge),ge.which===qt.ENTER){var Pe=Q(ge);i("click",ge),B(Pe)}},ce=function(ge){k(re.value),i("focus",ge)},we=function(ge,Pe){var ye=M("span",{class:"".concat(S.value,"-title-content")},[Pe]);return(!ge||la(Pe)&&Pe.type==="span")&&Pe&&D.value&&V&&typeof Pe=="string"?M("div",{class:"".concat(S.value,"-inline-collapsed-noicon")},[Pe.charAt(0)]):ye},be=z$(le(function(){return re.value.length}));return function(){var ve,ge,Pe,ye;if(a)return null;var Ne=(ve=e.title)!==null&&ve!==void 0?ve:(ge=r.title)===null||ge===void 0?void 0:ge.call(r),Re=Wr((Pe=r.default)===null||Pe===void 0?void 0:Pe.call(r)),Ge=Re.length,He=Ne;typeof Ne>"u"?He=V&&Ge?Re:"":Ne===!1&&(He="");var Ee={title:He};!L.value&&!D.value&&(Ee.title=null,Ee.visible=!1);var pe={};e.role==="option"&&(pe["aria-selected"]=ae.value);var Ie=vi(r,e,"icon");return M(_l,R(R({},Ee),{},{placement:I.value?"left":"right",overlayClassName:"".concat(S.value,"-inline-collapsed-tooltip")}),{default:function(){return[M(ov.Item,R(R(R({component:"li"},o),{},{id:e.id,style:R(R({},o.style||{}),be.value),class:[te.value,(ye={},J(ye,"".concat(o.class),!!o.class),J(ye,"".concat(S.value,"-item-only-child"),(Ie?Ge+1:Ge)===1),ye)],role:e.role||"menuitem",tabindex:e.disabled?null:-1,"data-menu-id":f,"aria-disabled":e.disabled},pe),{},{onMouseenter:X,onMouseleave:ie,onClick:Y,onKeydown:he,onFocus:ce,title:typeof Ne=="string"?Ne:void 0}),{default:function(){return[Pr(Ie,{class:"".concat(S.value,"-item-icon")},!1),we(Ie,Re)]}})]}})}}});var md={adjustX:1,adjustY:1},vpe={topLeft:{points:["bl","tl"],overflow:md,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:md,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:md,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:md,offset:[4,0]}},mpe={topLeft:{points:["bl","tl"],overflow:md,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:md,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:md,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:md,offset:[4,0]}},gpe={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"};const QI=lt({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:["popup"],emits:["visibleChange"],setup:function(e,n){var r=n.slots,i=n.emit,o=ke(!1),l=zd(),a=l.getPopupContainer,f=l.rtl,p=l.subMenuOpenDelay,v=l.subMenuCloseDelay,g=l.builtinPlacements,_=l.triggerSubMenuAction,b=l.isRootMenu,S=l.forceSubMenuRender,E=l.motion,P=l.defaultMotions,k=k$(),I=le(function(){return f.value?R(R({},mpe),g.value):R(R({},vpe),g.value)}),D=le(function(){return gpe[e.mode]}),L=ke();Lt(function(){return e.visible},function(j){$n.cancel(L.value),L.value=$n(function(){o.value=j})},{immediate:!0}),tr(function(){$n.cancel(L.value)});var B=function(H){i("visibleChange",H)},N=le(function(){var j,H,V=E.value||((j=P.value)===null||j===void 0?void 0:j[e.mode])||((H=P.value)===null||H===void 0?void 0:H.other),Z=typeof V=="function"?V():V;return Z?Nd(Z.name,{css:!0}):void 0});return function(){var j=e.prefixCls,H=e.popupClassName,V=e.mode,Z=e.popupOffset,re=e.disabled;return M(Hv,{prefixCls:j,popupClassName:mt("".concat(j,"-popup"),J({},"".concat(j,"-rtl"),f.value),H),stretch:V==="horizontal"?"minWidth":null,getPopupContainer:b.value?a.value:function(q){return q.parentNode},builtinPlacements:I.value,popupPlacement:D.value,popupVisible:o.value,popupAlign:Z&&{offset:Z},action:re?[]:[_.value],mouseEnterDelay:p.value,mouseLeaveDelay:v.value,onPopupVisibleChange:B,forceRender:k||S.value,popupAnimation:N.value},{popup:r.popup,default:r.default})}}});var $$=function(e,n){var r,i=n.slots,o=n.attrs,l=zd(),a=l.prefixCls,f=l.mode;return M("ul",R(R({},o),{},{class:mt(a.value,"".concat(a.value,"-sub"),"".concat(a.value,"-").concat(f.value==="inline"?"inline":"vertical")),"data-menu-list":!0}),[(r=i.default)===null||r===void 0?void 0:r.call(i)])};$$.displayName="SubMenuList";const j$=$$,ype=lt({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup:function(e,n){var r=n.slots,i=le(function(){return"inline"}),o=zd(),l=o.motion,a=o.mode,f=o.defaultMotions,p=le(function(){return a.value===i.value}),v=ke(!p.value),g=le(function(){return p.value?e.open:!1});Lt(a,function(){p.value&&(v.value=!1)},{flush:"post"});var _=le(function(){var b,S,E=l.value||((b=f.value)===null||b===void 0?void 0:b[i.value])||((S=f.value)===null||S===void 0?void 0:S.other),P=typeof E=="function"?E():E;return R(R({},P),{},{appear:e.keyPath.length<=1})});return function(){var b;return v.value?null:M(vx,{mode:i.value},{default:function(){return[M(Io,_.value,{default:function(){return[qa(M(j$,{id:e.id},{default:function(){return[(b=r.default)===null||b===void 0?void 0:b.call(r)]}}),[[Pl,g.value]])]}})]}})}}});var JI=0,_pe=function(){return{icon:Te.any,title:Te.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function}};const Tv=lt({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:_pe(),slots:["icon","title","expandIcon"],setup:function(e,n){var r,i,o=n.slots,l=n.attrs,a=n.emit;I$(!1);var f=IT(),p=Ba(),v=dn(p.vnode.key)==="symbol"?String(p.vnode.key):p.vnode.key;Br(dn(p.vnode.key)!=="symbol","SubMenu",'SubMenu `:key="'.concat(String(v),'"` not support Symbol type'));var g=cS(v)?v:"sub_menu_".concat(++JI,"_$$_not_set_key"),_=(r=e.eventKey)!==null&&r!==void 0?r:cS(v)?"sub_menu_".concat(++JI,"_$$_").concat(v):g,b=AT(),S=b.parentEventKeys,E=b.parentInfo,P=b.parentKeys,k=le(function(){return[].concat(Jt(P.value),[g])}),I=ke([]),D={eventKey:_,key:g,parentEventKeys:S,childrenEventKeys:I,parentKeys:P};(i=E.childrenEventKeys)===null||i===void 0||i.value.push(_),tr(function(){if(E.childrenEventKeys){var ht;E.childrenEventKeys.value=(ht=E.childrenEventKeys)===null||ht===void 0?void 0:ht.value.filter(function(vt){return vt!=_})}}),fpe(_,g,D);var L=zd(),B=L.prefixCls,N=L.activeKeys,j=L.disabled,H=L.changeActiveKeys,V=L.mode,Z=L.inlineCollapsed,re=L.antdMenuTheme,q=L.openKeys,G=L.overflowDisabled,ae=L.onOpenChange,te=L.registerMenuInfo,Q=L.unRegisterMenuInfo,Y=L.selectedSubMenuKeys,X=L.expandIcon,ie=v!=null,he=!f&&(k$()||!ie);Jhe(he),(f&&ie||!f&&!ie||he)&&(te(_,D),tr(function(){Q(_)}));var ce=le(function(){return"".concat(B.value,"-submenu")}),we=le(function(){return j.value||e.disabled}),be=ke(),ve=ke(),ge=le(function(){return q.value.includes(g)}),Pe=le(function(){return!G.value&&ge.value}),ye=le(function(){return Y.value.includes(g)}),Ne=ke(!1);Lt(N,function(){Ne.value=!!N.value.find(function(ht){return ht===g})},{immediate:!0});var Re=function(vt){we.value||(a("titleClick",vt,g),V.value==="inline"&&ae(g,!ge.value))},Ge=function(vt){we.value||(H(k.value),a("mouseenter",vt))},He=function(vt){we.value||(H([]),a("mouseleave",vt))},Ee=z$(le(function(){return k.value.length})),pe=function(vt){V.value!=="inline"&&ae(g,vt)},Ie=function(){H(k.value)},We=_&&"".concat(_,"-popup"),Qe=le(function(){return mt(B.value,"".concat(B.value,"-").concat(re.value),e.popupClassName)}),at=function(vt,Ct){if(!Ct)return Z.value&&!P.value.length&&vt&&typeof vt=="string"?M("div",{class:"".concat(B.value,"-inline-collapsed-noicon")},[vt.charAt(0)]):M("span",{class:"".concat(B.value,"-title-content")},[vt]);var Nt=la(vt)&&vt.type==="span";return M(Kn,null,[Pr(Ct,{class:"".concat(B.value,"-item-icon")},!1),Nt?vt:M("span",{class:"".concat(B.value,"-title-content")},[vt])])},xt=le(function(){return V.value!=="inline"&&k.value.length>1?"vertical":V.value}),ot=le(function(){return V.value==="horizontal"?"vertical":V.value}),nt=le(function(){return xt.value==="horizontal"?"vertical":xt.value}),Ze=function(){var vt=ce.value,Ct=vi(o,e,"icon"),Nt=e.expandIcon||o.expandIcon||X.value,tn=at(vi(o,e,"title"),Ct);return M("div",{style:Ee.value,class:"".concat(vt,"-title"),tabindex:we.value?null:-1,ref:be,title:typeof tn=="string"?tn:null,"data-menu-id":g,"aria-expanded":Pe.value,"aria-haspopup":!0,"aria-controls":We,"aria-disabled":we.value,onClick:Re,onFocus:Ie},[tn,V.value!=="horizontal"&&Nt?Nt(R(R({},e),{},{isOpen:Pe.value})):M("i",{class:"".concat(vt,"-arrow")},null)])};return function(){var ht;if(f){var vt;return ie?(vt=o.default)===null||vt===void 0?void 0:vt.call(o):null}var Ct=ce.value,Nt=function(){return null};return!G.value&&V.value!=="inline"?Nt=function(){return M(QI,{mode:xt.value,prefixCls:Ct,visible:!e.internalPopupClose&&Pe.value,popupClassName:Qe.value,popupOffset:e.popupOffset,disabled:we.value,onVisibleChange:pe},{default:function(){return[Ze()]},popup:function(){return M(vx,{mode:nt.value,isRootMenu:!1},{default:function(){return[M(j$,{id:We,ref:ve},{default:o.default})]}})}})}:Nt=function(){return M(QI,null,{default:Ze})},M(vx,{mode:ot.value},{default:function(){return[M(ov.Item,R(R({component:"li"},l),{},{role:"none",class:mt(Ct,"".concat(Ct,"-").concat(V.value),l.class,(ht={},J(ht,"".concat(Ct,"-open"),Pe.value),J(ht,"".concat(Ct,"-active"),Ne.value),J(ht,"".concat(Ct,"-selected"),ye.value),J(ht,"".concat(Ct,"-disabled"),we.value),ht)),onMouseenter:Ge,onMouseleave:He,"data-submenu-id":g}),{default:function(){return M(Kn,null,[Nt(),!G.value&&M(ype,{id:We,open:Pe.value,keyPath:k.value},{default:o.default})])}})]}})}}});function V$(t,e){if(t.classList)return t.classList.contains(e);var n=t.className;return" ".concat(n," ").indexOf(" ".concat(e," "))>-1}function eO(t,e){t.classList?t.classList.add(e):V$(t,e)||(t.className="".concat(t.className," ").concat(e))}function tO(t,e){if(t.classList)t.classList.remove(e);else if(V$(t,e)){var n=t.className;t.className=" ".concat(n," ").replace(" ".concat(e," ")," ")}}var bpe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:e,appear:n,css:!0,onBeforeEnter:function(i){i.style.height="0px",i.style.opacity="0",eO(i,e)},onEnter:function(i){Yn(function(){i.style.height="".concat(i.scrollHeight,"px"),i.style.opacity="1"})},onAfterEnter:function(i){i&&(tO(i,e),i.style.height=null,i.style.opacity=null)},onBeforeLeave:function(i){eO(i,e),i.style.height="".concat(i.offsetHeight,"px"),i.style.opacity=null},onLeave:function(i){setTimeout(function(){i.style.height="0px",i.style.opacity="0"})},onAfterLeave:function(i){i&&(tO(i,e),i.style&&(i.style.height=null,i.style.opacity=null))}}};const u0=bpe;var xpe=function(){return{id:String,prefixCls:String,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},motion:Object,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:.1},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}},nO=[];const Ui=lt({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:xpe(),slots:["expandIcon","overflowedIndicator"],setup:function(e,n){var r=n.slots,i=n.emit,o=n.attrs,l=fn("menu",e),a=l.prefixCls,f=l.direction,p=l.getPrefixCls,v=ke({}),g=Hn(L$,ke(void 0)),_=le(function(){return g.value!==void 0?g.value:e.inlineCollapsed}),b=ke(!1);zn(function(){b.value=!0}),Un(function(){Br(!(e.inlineCollapsed===!0&&e.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),Br(!(g.value!==void 0&&e.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});var S=ke([]),E=ke([]),P=ke({});Lt(v,function(){for(var ve={},ge=0,Pe=Object.values(v.value);ge<Pe.length;ge++){var ye=Pe[ge];ve[ye.key]=ye}P.value=ve},{flush:"post"}),Un(function(){if(e.activeKey!==void 0){var ve=[],ge=e.activeKey?P.value[e.activeKey]:void 0;ge&&e.activeKey!==void 0?ve=LC([].concat(pa(ge.parentKeys),e.activeKey)):ve=[],Up(S.value,ve)||(S.value=ve)}}),Lt(function(){return e.selectedKeys},function(ve){ve&&(E.value=ve.slice())},{immediate:!0,deep:!0});var k=ke([]);Lt([P,E],function(){var ve=[];E.value.forEach(function(ge){var Pe=P.value[ge];Pe&&(ve=ve.concat(pa(Pe.parentKeys)))}),ve=LC(ve),Up(k.value,ve)||(k.value=ve)},{immediate:!0});var I=function(ge){if(e.selectable){var Pe=ge.key,ye=E.value.includes(Pe),Ne;e.multiple?ye?Ne=E.value.filter(function(Ge){return Ge!==Pe}):Ne=[].concat(Jt(E.value),[Pe]):Ne=[Pe];var Re=R(R({},ge),{},{selectedKeys:Ne});Up(Ne,E.value)||(e.selectedKeys===void 0&&(E.value=Ne),i("update:selectedKeys",Ne),ye&&e.multiple?i("deselect",Re):i("select",Re)),H.value!=="inline"&&!e.multiple&&D.value.length&&re(nO)}},D=ke([]);Lt(function(){return e.openKeys},function(){var ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:D.value;Up(D.value,ve)||(D.value=ve.slice())},{immediate:!0,deep:!0});var L,B=function(ge){clearTimeout(L),L=setTimeout(function(){e.activeKey===void 0&&(S.value=ge),i("update:activeKey",ge[ge.length-1])})},N=le(function(){return!!e.disabled}),j=le(function(){return f.value==="rtl"}),H=ke("vertical"),V=ke(!1);Un(function(){(e.mode==="inline"||e.mode==="vertical")&&_.value?(H.value="vertical",V.value=_.value):(H.value=e.mode,V.value=!1)});var Z=le(function(){return H.value==="inline"}),re=function(ge){D.value=ge,i("update:openKeys",ge),i("openChange",ge)},q=ke(D.value),G=ke(!1);Lt(D,function(){Z.value&&(q.value=D.value)},{immediate:!0}),Lt(Z,function(){if(!G.value){G.value=!0;return}Z.value?D.value=q.value:re(nO)},{immediate:!0});var ae=le(function(){var ve;return ve={},J(ve,"".concat(a.value),!0),J(ve,"".concat(a.value,"-root"),!0),J(ve,"".concat(a.value,"-").concat(H.value),!0),J(ve,"".concat(a.value,"-inline-collapsed"),V.value),J(ve,"".concat(a.value,"-rtl"),j.value),J(ve,"".concat(a.value,"-").concat(e.theme),!0),ve}),te=le(function(){return p()}),Q=le(function(){return{horizontal:{name:"".concat(te.value,"-slide-up")},inline:u0,other:{name:"".concat(te.value,"-zoom-big")}}});I$(!0);var Y=function ve(){var ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Pe=[],ye=v.value;return ge.forEach(function(Ne){var Re=ye[Ne],Ge=Re.key,He=Re.childrenEventKeys;Pe.push.apply(Pe,[Ge].concat(Jt(ve(pa(He)))))}),Pe},X=function(ge){i("click",ge),I(ge)},ie=function(ge,Pe){var ye,Ne=((ye=P.value[ge])===null||ye===void 0?void 0:ye.childrenEventKeys)||[],Re=D.value.filter(function(He){return He!==ge});if(Pe)Re.push(ge);else if(H.value!=="inline"){var Ge=Y(pa(Ne));Re=LC(Re.filter(function(He){return!Ge.includes(He)}))}Up(D,Re)||re(Re)},he=function(ge,Pe){v.value=R(R({},v.value),{},J({},ge,Pe))},ce=function(ge){delete v.value[ge],v.value=R({},v.value)},we=ke(0),be=le(function(){return e.expandIcon||r.expandIcon?function(ve){var ge=e.expandIcon||r.expandIcon;return ge=typeof ge=="function"?ge(ve):ge,Pr(ge,{class:"".concat(a.value,"-submenu-expand-icon")},!1)}:null});return tpe({store:v,prefixCls:a,activeKeys:S,openKeys:D,selectedKeys:E,changeActiveKeys:B,disabled:N,rtl:j,mode:H,inlineIndent:le(function(){return e.inlineIndent}),subMenuCloseDelay:le(function(){return e.subMenuCloseDelay}),subMenuOpenDelay:le(function(){return e.subMenuOpenDelay}),builtinPlacements:le(function(){return e.builtinPlacements}),triggerSubMenuAction:le(function(){return e.triggerSubMenuAction}),getPopupContainer:le(function(){return e.getPopupContainer}),inlineCollapsed:V,antdMenuTheme:le(function(){return e.theme}),siderCollapsed:g,defaultMotions:le(function(){return b.value?Q.value:null}),motion:le(function(){return b.value?e.motion:null}),overflowDisabled:ke(void 0),onOpenChange:ie,onItemClick:X,registerMenuInfo:he,unRegisterMenuInfo:ce,selectedSubMenuKeys:k,isRootMenu:ke(!0),expandIcon:be,forceSubMenuRender:le(function(){return e.forceSubMenuRender})}),function(){var ve,ge,Pe=Wr((ve=r.default)===null||ve===void 0?void 0:ve.call(r)),ye=we.value>=Pe.length-1||H.value!=="horizontal"||e.disabledOverflow,Ne=H.value!=="horizontal"||e.disabledOverflow?Pe:Pe.map(function(Ge,He){return M(vx,{key:Ge.key,overflowDisabled:He>we.value},{default:function(){return Ge}})}),Re=((ge=r.overflowedIndicator)===null||ge===void 0?void 0:ge.call(r))||M(Z5,null,null);return M(ov,R(R({},o),{},{onMousedown:e.onMousedown,prefixCls:"".concat(a.value,"-overflow"),component:"ul",itemComponent:sc,class:[ae.value,o.class],role:"menu",id:e.id,data:Ne,renderRawItem:function(He){return He},renderRawRest:function(He){var Ee=He.length,pe=Ee?Pe.slice(-Ee):null;return M(Kn,null,[M(Tv,{eventKey:h_,key:h_,title:Re,disabled:ye,internalPopupClose:Ee===0},{default:function(){return pe}}),M(ZI,null,{default:function(){return[M(Tv,{eventKey:h_,key:h_,title:Re,disabled:ye,internalPopupClose:Ee===0},{default:function(){return pe}})]}})])},maxCount:H.value!=="horizontal"||e.disabledOverflow?ov.INVALIDATE:ov.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:function(He){we.value=He}}),{default:function(){return[M(_5,{to:"body"},{default:function(){return[M("div",{style:{display:"none"},"aria-hidden":!0},[M(ZI,null,{default:function(){return[Ne]}})])]}})]}})}}});var wpe=function(){return{title:Te.any}};const mx=lt({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:wpe(),slots:["title"],setup:function(e,n){var r=n.slots,i=n.attrs,o=zd(),l=o.prefixCls,a=le(function(){return"".concat(l.value,"-item-group")}),f=IT();return function(){var p,v;return f?(p=r.default)===null||p===void 0?void 0:p.call(r):M("li",R(R({},i),{},{onClick:function(_){return _.stopPropagation()},class:a.value}),[M("div",{title:typeof e.title=="string"?e.title:void 0,class:"".concat(a.value,"-title")},[vi(r,e,"title")]),M("ul",{class:"".concat(a.value,"-list")},[(v=r.default)===null||v===void 0?void 0:v.call(r)])])}}});var Cpe=function(){return{prefixCls:String,dashed:Boolean}};const gx=lt({compatConfig:{MODE:3},name:"AMenuDivider",props:Cpe(),setup:function(e){var n=fn("menu",e),r=n.prefixCls,i=le(function(){var o;return o={},J(o,"".concat(r.value,"-item-divider"),!0),J(o,"".concat(r.value,"-item-divider-dashed"),!!e.dashed),o});return function(){return M("li",{class:i.value},null)}}});Ui.install=function(t){return t.component(Ui.name,Ui),t.component(sc.name,sc),t.component(Tv.name,Tv),t.component(gx.name,gx),t.component(mx.name,mx),t};Ui.Item=sc;Ui.Divider=gx;Ui.SubMenu=Tv;Ui.ItemGroup=mx;var Spe=function(){return{prefixCls:String,routes:{type:Array},params:Te.any,separator:Te.any,itemRender:{type:Function}}};function Tpe(t,e){if(!t.breadcrumbName)return null;var n=Object.keys(e).join("|"),r=t.breadcrumbName.replace(new RegExp(":(".concat(n,")"),"g"),function(i,o){return e[o]||i});return r}function rO(t){var e=t.route,n=t.params,r=t.routes,i=t.paths,o=r.indexOf(e)===r.length-1,l=Tpe(e,n);return o?M("span",null,[l]):M("a",{href:"#/".concat(i.join("/"))},[l])}const lh=lt({compatConfig:{MODE:3},name:"ABreadcrumb",props:Spe(),slots:["separator","itemRender"],setup:function(e,n){var r=n.slots,i=fn("breadcrumb",e),o=i.prefixCls,l=i.direction,a=function(g,_){return g=(g||"").replace(/^\//,""),Object.keys(_).forEach(function(b){g=g.replace(":".concat(b),_[b])}),g},f=function(g,_,b){var S=Jt(g),E=a(_||"",b);return E&&S.push(E),S},p=function(g){var _=g.routes,b=_===void 0?[]:_,S=g.params,E=S===void 0?{}:S,P=g.separator,k=g.itemRender,I=k===void 0?rO:k,D=[];return b.map(function(L){var B=a(L.path,E);B&&D.push(B);var N=[].concat(D),j=null;return L.children&&L.children.length&&(j=M(Ui,null,{default:function(){return[L.children.map(function(V){return M(Ui.Item,{key:V.path||V.breadcrumbName},{default:function(){return[I({route:V,params:E,routes:b,paths:f(N,V.path,E)})]}})})]}})),M(z1,{overlay:j,separator:P,key:B||L.breadcrumbName},{default:function(){return[I({route:L,params:E,routes:b,paths:N})]}})})};return function(){var v,g,_,b=e.routes,S=e.params,E=S===void 0?{}:S,P=Wr(vi(r,e)),k=(v=vi(r,e,"separator"))!==null&&v!==void 0?v:"/",I=e.itemRender||r.itemRender||rO;b&&b.length>0?_=p({routes:b,params:E,separator:k,itemRender:I}):P.length&&(_=P.map(function(L,B){return sa(dn(L.type)==="object"&&(L.type.__ANT_BREADCRUMB_ITEM||L.type.__ANT_BREADCRUMB_SEPARATOR),"Breadcrumb","Only accepts Breadcrumb.Item and Breadcrumb.Separator as it's children"),io(L,{separator:k,key:B})}));var D=(g={},J(g,o.value,!0),J(g,"".concat(o.value,"-rtl"),l.value==="rtl"),g);return M("div",{class:D},[_])}}});var Epe=["separator","class"],Ppe=function(){return{prefixCls:String}};const yx=lt({compatConfig:{MODE:3},name:"ABreadcrumbSeparator",__ANT_BREADCRUMB_SEPARATOR:!0,inheritAttrs:!1,props:Ppe(),setup:function(e,n){var r=n.slots,i=n.attrs,o=fn("breadcrumb",e),l=o.prefixCls;return function(){var a;i.separator;var f=i.class,p=kn(i,Epe),v=Wr((a=r.default)===null||a===void 0?void 0:a.call(r));return M("span",R({class:["".concat(l.value,"-separator"),f]},p),[v.length>0?v:"/"])}}});lh.Item=z1;lh.Separator=yx;lh.install=function(t){return t.component(lh.name,lh),t.component(z1.name,z1),t.component(yx.name,yx),t};function _x(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=g2(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(p){throw p},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o=!0,l=!1,a;return{s:function(){n=n.call(t)},n:function(){var p=n.next();return o=p.done,p},e:function(p){l=!0,a=p},f:function(){try{!o&&n.return!=null&&n.return()}finally{if(l)throw a}}}}var U$={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){var n=1e3,r=6e4,i=36e5,o="millisecond",l="second",a="minute",f="hour",p="day",v="week",g="month",_="quarter",b="year",S="date",E="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,k=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,I={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(G){var ae=["th","st","nd","rd"],te=G%100;return"["+G+(ae[(te-20)%10]||ae[te]||ae[0])+"]"}},D=function(G,ae,te){var Q=String(G);return!Q||Q.length>=ae?G:""+Array(ae+1-Q.length).join(te)+G},L={s:D,z:function(G){var ae=-G.utcOffset(),te=Math.abs(ae),Q=Math.floor(te/60),Y=te%60;return(ae<=0?"+":"-")+D(Q,2,"0")+":"+D(Y,2,"0")},m:function G(ae,te){if(ae.date()<te.date())return-G(te,ae);var Q=12*(te.year()-ae.year())+(te.month()-ae.month()),Y=ae.clone().add(Q,g),X=te-Y<0,ie=ae.clone().add(Q+(X?-1:1),g);return+(-(Q+(te-Y)/(X?Y-ie:ie-Y))||0)},a:function(G){return G<0?Math.ceil(G)||0:Math.floor(G)},p:function(G){return{M:g,y:b,w:v,d:p,D:S,h:f,m:a,s:l,ms:o,Q:_}[G]||String(G||"").toLowerCase().replace(/s$/,"")},u:function(G){return G===void 0}},B="en",N={};N[B]=I;var j=function(G){return G instanceof re},H=function G(ae,te,Q){var Y;if(!ae)return B;if(typeof ae=="string"){var X=ae.toLowerCase();N[X]&&(Y=X),te&&(N[X]=te,Y=X);var ie=ae.split("-");if(!Y&&ie.length>1)return G(ie[0])}else{var he=ae.name;N[he]=ae,Y=he}return!Q&&Y&&(B=Y),Y||!Q&&B},V=function(G,ae){if(j(G))return G.clone();var te=typeof ae=="object"?ae:{};return te.date=G,te.args=arguments,new re(te)},Z=L;Z.l=H,Z.i=j,Z.w=function(G,ae){return V(G,{locale:ae.$L,utc:ae.$u,x:ae.$x,$offset:ae.$offset})};var re=function(){function G(te){this.$L=H(te.locale,null,!0),this.parse(te)}var ae=G.prototype;return ae.parse=function(te){this.$d=function(Q){var Y=Q.date,X=Q.utc;if(Y===null)return new Date(NaN);if(Z.u(Y))return new Date;if(Y instanceof Date)return new Date(Y);if(typeof Y=="string"&&!/Z$/i.test(Y)){var ie=Y.match(P);if(ie){var he=ie[2]-1||0,ce=(ie[7]||"0").substring(0,3);return X?new Date(Date.UTC(ie[1],he,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,ce)):new Date(ie[1],he,ie[3]||1,ie[4]||0,ie[5]||0,ie[6]||0,ce)}}return new Date(Y)}(te),this.$x=te.x||{},this.init()},ae.init=function(){var te=this.$d;this.$y=te.getFullYear(),this.$M=te.getMonth(),this.$D=te.getDate(),this.$W=te.getDay(),this.$H=te.getHours(),this.$m=te.getMinutes(),this.$s=te.getSeconds(),this.$ms=te.getMilliseconds()},ae.$utils=function(){return Z},ae.isValid=function(){return this.$d.toString()!==E},ae.isSame=function(te,Q){var Y=V(te);return this.startOf(Q)<=Y&&Y<=this.endOf(Q)},ae.isAfter=function(te,Q){return V(te)<this.startOf(Q)},ae.isBefore=function(te,Q){return this.endOf(Q)<V(te)},ae.$g=function(te,Q,Y){return Z.u(te)?this[Q]:this.set(Y,te)},ae.unix=function(){return Math.floor(this.valueOf()/1e3)},ae.valueOf=function(){return this.$d.getTime()},ae.startOf=function(te,Q){var Y=this,X=!!Z.u(Q)||Q,ie=Z.p(te),he=function(Ne,Re){var Ge=Z.w(Y.$u?Date.UTC(Y.$y,Re,Ne):new Date(Y.$y,Re,Ne),Y);return X?Ge:Ge.endOf(p)},ce=function(Ne,Re){return Z.w(Y.toDate()[Ne].apply(Y.toDate("s"),(X?[0,0,0,0]:[23,59,59,999]).slice(Re)),Y)},we=this.$W,be=this.$M,ve=this.$D,ge="set"+(this.$u?"UTC":"");switch(ie){case b:return X?he(1,0):he(31,11);case g:return X?he(1,be):he(0,be+1);case v:var Pe=this.$locale().weekStart||0,ye=(we<Pe?we+7:we)-Pe;return he(X?ve-ye:ve+(6-ye),be);case p:case S:return ce(ge+"Hours",0);case f:return ce(ge+"Minutes",1);case a:return ce(ge+"Seconds",2);case l:return ce(ge+"Milliseconds",3);default:return this.clone()}},ae.endOf=function(te){return this.startOf(te,!1)},ae.$set=function(te,Q){var Y,X=Z.p(te),ie="set"+(this.$u?"UTC":""),he=(Y={},Y[p]=ie+"Date",Y[S]=ie+"Date",Y[g]=ie+"Month",Y[b]=ie+"FullYear",Y[f]=ie+"Hours",Y[a]=ie+"Minutes",Y[l]=ie+"Seconds",Y[o]=ie+"Milliseconds",Y)[X],ce=X===p?this.$D+(Q-this.$W):Q;if(X===g||X===b){var we=this.clone().set(S,1);we.$d[he](ce),we.init(),this.$d=we.set(S,Math.min(this.$D,we.daysInMonth())).$d}else he&&this.$d[he](ce);return this.init(),this},ae.set=function(te,Q){return this.clone().$set(te,Q)},ae.get=function(te){return this[Z.p(te)]()},ae.add=function(te,Q){var Y,X=this;te=Number(te);var ie=Z.p(Q),he=function(be){var ve=V(X);return Z.w(ve.date(ve.date()+Math.round(be*te)),X)};if(ie===g)return this.set(g,this.$M+te);if(ie===b)return this.set(b,this.$y+te);if(ie===p)return he(1);if(ie===v)return he(7);var ce=(Y={},Y[a]=r,Y[f]=i,Y[l]=n,Y)[ie]||1,we=this.$d.getTime()+te*ce;return Z.w(we,this)},ae.subtract=function(te,Q){return this.add(-1*te,Q)},ae.format=function(te){var Q=this,Y=this.$locale();if(!this.isValid())return Y.invalidDate||E;var X=te||"YYYY-MM-DDTHH:mm:ssZ",ie=Z.z(this),he=this.$H,ce=this.$m,we=this.$M,be=Y.weekdays,ve=Y.months,ge=function(Re,Ge,He,Ee){return Re&&(Re[Ge]||Re(Q,X))||He[Ge].slice(0,Ee)},Pe=function(Re){return Z.s(he%12||12,Re,"0")},ye=Y.meridiem||function(Re,Ge,He){var Ee=Re<12?"AM":"PM";return He?Ee.toLowerCase():Ee},Ne={YY:String(this.$y).slice(-2),YYYY:Z.s(this.$y,4,"0"),M:we+1,MM:Z.s(we+1,2,"0"),MMM:ge(Y.monthsShort,we,ve,3),MMMM:ge(ve,we),D:this.$D,DD:Z.s(this.$D,2,"0"),d:String(this.$W),dd:ge(Y.weekdaysMin,this.$W,be,2),ddd:ge(Y.weekdaysShort,this.$W,be,3),dddd:be[this.$W],H:String(he),HH:Z.s(he,2,"0"),h:Pe(1),hh:Pe(2),a:ye(he,ce,!0),A:ye(he,ce,!1),m:String(ce),mm:Z.s(ce,2,"0"),s:String(this.$s),ss:Z.s(this.$s,2,"0"),SSS:Z.s(this.$ms,3,"0"),Z:ie};return X.replace(k,function(Re,Ge){return Ge||Ne[Re]||ie.replace(":","")})},ae.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},ae.diff=function(te,Q,Y){var X,ie=Z.p(Q),he=V(te),ce=(he.utcOffset()-this.utcOffset())*r,we=this-he,be=Z.m(this,he);return be=(X={},X[b]=be/12,X[g]=be,X[_]=be/3,X[v]=(we-ce)/6048e5,X[p]=(we-ce)/864e5,X[f]=we/i,X[a]=we/r,X[l]=we/n,X)[ie]||we,Y?be:Z.a(be)},ae.daysInMonth=function(){return this.endOf(g).$D},ae.$locale=function(){return N[this.$L]},ae.locale=function(te,Q){if(!te)return this.$L;var Y=this.clone(),X=H(te,Q,!0);return X&&(Y.$L=X),Y},ae.clone=function(){return Z.w(this.$d,this)},ae.toDate=function(){return new Date(this.valueOf())},ae.toJSON=function(){return this.isValid()?this.toISOString():null},ae.toISOString=function(){return this.$d.toISOString()},ae.toString=function(){return this.$d.toUTCString()},G}(),q=re.prototype;return V.prototype=q,[["$ms",o],["$s",l],["$m",a],["$H",f],["$W",p],["$M",g],["$y",b],["$D",S]].forEach(function(G){q[G[1]]=function(ae){return this.$g(ae,G[0],G[1])}}),V.extend=function(G,ae){return G.$i||(G(ae,re,V),G.$i=!0),V},V.locale=H,V.isDayjs=j,V.unix=function(G){return V(1e3*G)},V.en=N[B],V.Ls=N,V.p={},V})})(U$);var Mpe=U$.exports;const Da=Ml(Mpe);var H$={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){return function(n,r){r.prototype.weekday=function(i){var o=this.$locale().weekStart||0,l=this.$W,a=(l<o?l+7:l)-o;return this.$utils().u(i)?a:this.subtract(a,"day").add(i,"day")}}})})(H$);var kpe=H$.exports;const Ape=Ml(kpe);var K$={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){return function(n,r,i){var o=r.prototype,l=function(g){return g&&(g.indexOf?g:g.s)},a=function(g,_,b,S,E){var P=g.name?g:g.$locale(),k=l(P[_]),I=l(P[b]),D=k||I.map(function(B){return B.slice(0,S)});if(!E)return D;var L=P.weekStart;return D.map(function(B,N){return D[(N+(L||0))%7]})},f=function(){return i.Ls[i.locale()]},p=function(g,_){return g.formats[_]||function(b){return b.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(S,E,P){return E||P.slice(1)})}(g.formats[_.toUpperCase()])},v=function(){var g=this;return{months:function(_){return _?_.format("MMMM"):a(g,"months")},monthsShort:function(_){return _?_.format("MMM"):a(g,"monthsShort","months",3)},firstDayOfWeek:function(){return g.$locale().weekStart||0},weekdays:function(_){return _?_.format("dddd"):a(g,"weekdays")},weekdaysMin:function(_){return _?_.format("dd"):a(g,"weekdaysMin","weekdays",2)},weekdaysShort:function(_){return _?_.format("ddd"):a(g,"weekdaysShort","weekdays",3)},longDateFormat:function(_){return p(g.$locale(),_)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};o.localeData=function(){return v.bind(this)()},i.localeData=function(){var g=f();return{firstDayOfWeek:function(){return g.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(_){return p(g,_)},meridiem:g.meridiem,ordinal:g.ordinal}},i.months=function(){return a(f(),"months")},i.monthsShort=function(){return a(f(),"monthsShort","months",3)},i.weekdays=function(g){return a(f(),"weekdays",null,null,g)},i.weekdaysShort=function(g){return a(f(),"weekdaysShort","weekdays",3,g)},i.weekdaysMin=function(g){return a(f(),"weekdaysMin","weekdays",2,g)}}})})(K$);var Ipe=K$.exports;const Ope=Ml(Ipe);var W$={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){var n="week",r="year";return function(i,o,l){var a=o.prototype;a.week=function(f){if(f===void 0&&(f=null),f!==null)return this.add(7*(f-this.week()),"day");var p=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var v=l(this).startOf(r).add(1,r).date(p),g=l(this).endOf(n);if(v.isBefore(g))return 1}var _=l(this).startOf(r).date(p).startOf(n).subtract(1,"millisecond"),b=this.diff(_,n,!0);return b<0?l(this).startOf("week").week():Math.ceil(b)},a.weeks=function(f){return f===void 0&&(f=null),this.week(f)}}})})(W$);var Dpe=W$.exports;const Rpe=Ml(Dpe);var G$={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){return function(n,r){r.prototype.weekYear=function(){var i=this.month(),o=this.week(),l=this.year();return o===1&&i===11?l+1:i===0&&o>=52?l-1:l}}})})(G$);var Lpe=G$.exports;const Fpe=Ml(Lpe);var q$={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){var n="month",r="quarter";return function(i,o){var l=o.prototype;l.quarter=function(p){return this.$utils().u(p)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(p-1))};var a=l.add;l.add=function(p,v){return p=Number(p),this.$utils().p(v)===r?this.add(3*p,n):a.bind(this)(p,v)};var f=l.startOf;l.startOf=function(p,v){var g=this.$utils(),_=!!g.u(v)||v;if(g.p(p)===r){var b=this.quarter()-1;return _?this.month(3*b).startOf(n).startOf("day"):this.month(3*b+2).endOf(n).endOf("day")}return f.bind(this)(p,v)}}})})(q$);var Npe=q$.exports;const Bpe=Ml(Npe);var Y$={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){return function(n,r){var i=r.prototype,o=i.format;i.format=function(l){var a=this,f=this.$locale();if(!this.isValid())return o.bind(this)(l);var p=this.$utils(),v=(l||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(g){switch(g){case"Q":return Math.ceil((a.$M+1)/3);case"Do":return f.ordinal(a.$D);case"gggg":return a.weekYear();case"GGGG":return a.isoWeekYear();case"wo":return f.ordinal(a.week(),"W");case"w":case"ww":return p.s(a.week(),g==="w"?1:2,"0");case"W":case"WW":return p.s(a.isoWeek(),g==="W"?1:2,"0");case"k":case"kk":return p.s(String(a.$H===0?24:a.$H),g==="k"?1:2,"0");case"X":return Math.floor(a.$d.getTime()/1e3);case"x":return a.$d.getTime();case"z":return"["+a.offsetName()+"]";case"zzz":return"["+a.offsetName("long")+"]";default:return g}});return o.bind(this)(v)}}})})(Y$);var zpe=Y$.exports;const $pe=Ml(zpe);var X$={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(La,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},r=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,i=/\d\d/,o=/\d\d?/,l=/\d*[^-_:/,()\s\d]+/,a={},f=function(E){return(E=+E)+(E>68?1900:2e3)},p=function(E){return function(P){this[E]=+P}},v=[/[+-]\d\d:?(\d\d)?|Z/,function(E){(this.zone||(this.zone={})).offset=function(P){if(!P||P==="Z")return 0;var k=P.match(/([+-]|\d\d)/g),I=60*k[1]+(+k[2]||0);return I===0?0:k[0]==="+"?-I:I}(E)}],g=function(E){var P=a[E];return P&&(P.indexOf?P:P.s.concat(P.f))},_=function(E,P){var k,I=a.meridiem;if(I){for(var D=1;D<=24;D+=1)if(E.indexOf(I(D,0,P))>-1){k=D>12;break}}else k=E===(P?"pm":"PM");return k},b={A:[l,function(E){this.afternoon=_(E,!1)}],a:[l,function(E){this.afternoon=_(E,!0)}],S:[/\d/,function(E){this.milliseconds=100*+E}],SS:[i,function(E){this.milliseconds=10*+E}],SSS:[/\d{3}/,function(E){this.milliseconds=+E}],s:[o,p("seconds")],ss:[o,p("seconds")],m:[o,p("minutes")],mm:[o,p("minutes")],H:[o,p("hours")],h:[o,p("hours")],HH:[o,p("hours")],hh:[o,p("hours")],D:[o,p("day")],DD:[i,p("day")],Do:[l,function(E){var P=a.ordinal,k=E.match(/\d+/);if(this.day=k[0],P)for(var I=1;I<=31;I+=1)P(I).replace(/\[|\]/g,"")===E&&(this.day=I)}],M:[o,p("month")],MM:[i,p("month")],MMM:[l,function(E){var P=g("months"),k=(g("monthsShort")||P.map(function(I){return I.slice(0,3)})).indexOf(E)+1;if(k<1)throw new Error;this.month=k%12||k}],MMMM:[l,function(E){var P=g("months").indexOf(E)+1;if(P<1)throw new Error;this.month=P%12||P}],Y:[/[+-]?\d+/,p("year")],YY:[i,function(E){this.year=f(E)}],YYYY:[/\d{4}/,p("year")],Z:v,ZZ:v};function S(E){var P,k;P=E,k=a&&a.formats;for(var I=(E=P.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(V,Z,re){var q=re&&re.toUpperCase();return Z||k[re]||n[re]||k[q].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(G,ae,te){return ae||te.slice(1)})})).match(r),D=I.length,L=0;L<D;L+=1){var B=I[L],N=b[B],j=N&&N[0],H=N&&N[1];I[L]=H?{regex:j,parser:H}:B.replace(/^\[|\]$/g,"")}return function(V){for(var Z={},re=0,q=0;re<D;re+=1){var G=I[re];if(typeof G=="string")q+=G.length;else{var ae=G.regex,te=G.parser,Q=V.slice(q),Y=ae.exec(Q)[0];te.call(Z,Y),V=V.replace(Y,"")}}return function(X){var ie=X.afternoon;if(ie!==void 0){var he=X.hours;ie?he<12&&(X.hours+=12):he===12&&(X.hours=0),delete X.afternoon}}(Z),Z}}return function(E,P,k){k.p.customParseFormat=!0,E&&E.parseTwoDigitYear&&(f=E.parseTwoDigitYear);var I=P.prototype,D=I.parse;I.parse=function(L){var B=L.date,N=L.utc,j=L.args;this.$u=N;var H=j[1];if(typeof H=="string"){var V=j[2]===!0,Z=j[3]===!0,re=V||Z,q=j[2];Z&&(q=j[2]),a=this.$locale(),!V&&q&&(a=k.Ls[q]),this.$d=function(Q,Y,X){try{if(["x","X"].indexOf(Y)>-1)return new Date((Y==="X"?1e3:1)*Q);var ie=S(Y)(Q),he=ie.year,ce=ie.month,we=ie.day,be=ie.hours,ve=ie.minutes,ge=ie.seconds,Pe=ie.milliseconds,ye=ie.zone,Ne=new Date,Re=we||(he||ce?1:Ne.getDate()),Ge=he||Ne.getFullYear(),He=0;he&&!ce||(He=ce>0?ce-1:Ne.getMonth());var Ee=be||0,pe=ve||0,Ie=ge||0,We=Pe||0;return ye?new Date(Date.UTC(Ge,He,Re,Ee,pe,Ie,We+60*ye.offset*1e3)):X?new Date(Date.UTC(Ge,He,Re,Ee,pe,Ie,We)):new Date(Ge,He,Re,Ee,pe,Ie,We)}catch{return new Date("")}}(B,H,N),this.init(),q&&q!==!0&&(this.$L=this.locale(q).$L),re&&B!=this.format(H)&&(this.$d=new Date("")),a={}}else if(H instanceof Array)for(var G=H.length,ae=1;ae<=G;ae+=1){j[1]=H[ae-1];var te=k.apply(this,j);if(te.isValid()){this.$d=te.$d,this.$L=te.$L,this.init();break}ae===G&&(this.$d=new Date(""))}else D.call(this,L)}}})})(X$);var jpe=X$.exports;const Vpe=Ml(jpe);Da.extend(Vpe);Da.extend($pe);Da.extend(Ape);Da.extend(Ope);Da.extend(Rpe);Da.extend(Fpe);Da.extend(Bpe);Da.extend(function(t,e){var n=e.prototype,r=n.format;n.format=function(o){var l=(o||"").replace("Wo","wo");return r.bind(this)(l)}});var Upe={bn_BD:"bn-bd",by_BY:"be",en_GB:"en-gb",en_US:"en",fr_BE:"fr",fr_CA:"fr-ca",hy_AM:"hy-am",kmr_IQ:"ku",nl_BE:"nl-be",pt_BR:"pt-br",zh_CN:"zh-cn",zh_HK:"zh-hk",zh_TW:"zh-tw"},Df=function(e){var n=Upe[e];return n||e.split("_")[0]},iO=function(){sse(!1,"Not match any format. Please help to fire a issue about this.")},Hpe=/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|k{1,2}|S/g;function aO(t,e,n){for(var r=Jt(new Set(t.split(n))),i=0,o=0;o<r.length;o++){var l=r[o];if(i+=l.length,i>e)return l;i+=n.length}}var oO=function(e,n){if(!e)return null;if(Da.isDayjs(e))return e;var r=n.matchAll(Hpe),i=Da(e,n);if(r===null)return i;var o=_x(r),l;try{for(o.s();!(l=o.n()).done;){var a=l.value,f=a[0],p=a.index;if(f==="Q"){var v=e.slice(p-1,p),g=aO(e,p,v).match(/\d+/)[0];i=i.quarter(parseInt(g))}if(f.toLowerCase()==="wo"){var _=e.slice(p-1,p),b=aO(e,p,_).match(/\d+/)[0];i=i.week(parseInt(b))}f.toLowerCase()==="ww"&&(i=i.week(parseInt(e.slice(p,p+f.length)))),f.toLowerCase()==="w"&&(i=i.week(parseInt(e.slice(p,p+f.length+1))))}}catch(S){o.e(S)}finally{o.f()}return i},Kpe={getNow:function(){return Da()},getFixedDate:function(e){return Da(e,["YYYY-M-DD","YYYY-MM-DD"])},getEndDate:function(e){return e.endOf("month")},getWeekDay:function(e){var n=e.locale("en");return n.weekday()+n.localeData().firstDayOfWeek()},getYear:function(e){return e.year()},getMonth:function(e){return e.month()},getDate:function(e){return e.date()},getHour:function(e){return e.hour()},getMinute:function(e){return e.minute()},getSecond:function(e){return e.second()},addYear:function(e,n){return e.add(n,"year")},addMonth:function(e,n){return e.add(n,"month")},addDate:function(e,n){return e.add(n,"day")},setYear:function(e,n){return e.year(n)},setMonth:function(e,n){return e.month(n)},setDate:function(e,n){return e.date(n)},setHour:function(e,n){return e.hour(n)},setMinute:function(e,n){return e.minute(n)},setSecond:function(e,n){return e.second(n)},isAfter:function(e,n){return e.isAfter(n)},isValidate:function(e){return e.isValid()},locale:{getWeekFirstDay:function(e){return Da().locale(Df(e)).localeData().firstDayOfWeek()},getWeekFirstDate:function(e,n){return n.locale(Df(e)).weekday(0)},getWeek:function(e,n){return n.locale(Df(e)).week()},getShortWeekDays:function(e){return Da().locale(Df(e)).localeData().weekdaysMin()},getShortMonths:function(e){return Da().locale(Df(e)).localeData().monthsShort()},format:function(e,n,r){return n.locale(Df(e)).format(r)},parse:function(e,n,r){for(var i=Df(e),o=0;o<r.length;o+=1){var l=r[o],a=n;if(l.includes("wo")||l.includes("Wo")){for(var f=a.split("-")[0],p=a.split("-")[1],v=Da(f,"YYYY").startOf("year").locale(i),g=0;g<=52;g+=1){var _=v.add(g,"week");if(_.format("Wo")===p)return _}return iO(),null}var b=Da(a,l,!0).locale(i);if(b.isValid())return b}return n||iO(),null}},toDate:function(e,n){return Array.isArray(e)?e.map(function(r){return oO(r,n)}):oO(e,n)},toString:function(e,n){return Array.isArray(e)?e.map(function(r){return Da.isDayjs(r)?r.format(n):r}):Da.isDayjs(e)?e.format(n):e}};const OT=Kpe;var Wpe=9007199254740991,Gpe=Math.floor;function sO(t,e){var n="";if(!t||e<1||e>Wpe)return n;do e%2&&(n+=t),e=Gpe(e/2),e&&(t+=t);while(e);return n}function A2(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var qpe="[object Symbol]";function I2(t){return typeof t=="symbol"||Cl(t)&&Fd(t)==qpe}var Ype=1/0,lO=Ws?Ws.prototype:void 0,uO=lO?lO.toString:void 0;function DT(t){if(typeof t=="string")return t;if(qs(t))return A2(t,DT)+"";if(I2(t))return uO?uO.call(t):"";var e=t+"";return e=="0"&&1/t==-Ype?"-0":e}function Z$(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}function Xpe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:Z$(t,e,n)}var Zpe="\\ud800-\\udfff",Qpe="\\u0300-\\u036f",Jpe="\\ufe20-\\ufe2f",eve="\\u20d0-\\u20ff",tve=Qpe+Jpe+eve,nve="\\ufe0e\\ufe0f",rve="\\u200d",ive=RegExp("["+rve+Zpe+tve+nve+"]");function RT(t){return ive.test(t)}function Q$(t){return function(e){return e==null?void 0:e[t]}}var ave=Q$("length");const ove=ave;var J$="\\ud800-\\udfff",sve="\\u0300-\\u036f",lve="\\ufe20-\\ufe2f",uve="\\u20d0-\\u20ff",cve=sve+lve+uve,dve="\\ufe0e\\ufe0f",fve="["+J$+"]",OS="["+cve+"]",DS="\\ud83c[\\udffb-\\udfff]",hve="(?:"+OS+"|"+DS+")",ej="[^"+J$+"]",tj="(?:\\ud83c[\\udde6-\\uddff]){2}",nj="[\\ud800-\\udbff][\\udc00-\\udfff]",pve="\\u200d",rj=hve+"?",ij="["+dve+"]?",vve="(?:"+pve+"(?:"+[ej,tj,nj].join("|")+")"+ij+rj+")*",mve=ij+rj+vve,gve="(?:"+[ej+OS+"?",OS,tj,nj,fve].join("|")+")",cO=RegExp(DS+"(?="+DS+")|"+gve+mve,"g");function yve(t){for(var e=cO.lastIndex=0;cO.test(t);)++e;return e}function LT(t){return RT(t)?yve(t):ove(t)}function _ve(t){return t.split("")}var aj="\\ud800-\\udfff",bve="\\u0300-\\u036f",xve="\\ufe20-\\ufe2f",wve="\\u20d0-\\u20ff",Cve=bve+xve+wve,Sve="\\ufe0e\\ufe0f",Tve="["+aj+"]",RS="["+Cve+"]",LS="\\ud83c[\\udffb-\\udfff]",Eve="(?:"+RS+"|"+LS+")",oj="[^"+aj+"]",sj="(?:\\ud83c[\\udde6-\\uddff]){2}",lj="[\\ud800-\\udbff][\\udc00-\\udfff]",Pve="\\u200d",uj=Eve+"?",cj="["+Sve+"]?",Mve="(?:"+Pve+"(?:"+[oj,sj,lj].join("|")+")"+cj+uj+")*",kve=cj+uj+Mve,Ave="(?:"+[oj+RS+"?",RS,sj,lj,Tve].join("|")+")",Ive=RegExp(LS+"(?="+LS+")|"+Ave+kve,"g");function Ove(t){return t.match(Ive)||[]}function Dve(t){return RT(t)?Ove(t):_ve(t)}var Rve=Math.ceil;function dj(t,e){e=e===void 0?" ":DT(e);var n=e.length;if(n<2)return n?sO(e,t):e;var r=sO(e,Rve(t/LT(e)));return RT(e)?Xpe(Dve(r),0,t).join(""):r.slice(0,t)}var Lve=/\s/;function Fve(t){for(var e=t.length;e--&&Lve.test(t.charAt(e)););return e}var Nve=/^\s+/;function Bve(t){return t&&t.slice(0,Fve(t)+1).replace(Nve,"")}var dO=0/0,zve=/^[-+]0x[0-9a-f]+$/i,$ve=/^0b[01]+$/i,jve=/^0o[0-7]+$/i,Vve=parseInt;function FS(t){if(typeof t=="number")return t;if(I2(t))return dO;if(El(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=El(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Bve(t);var n=$ve.test(t);return n||jve.test(t)?Vve(t.slice(2),n?2:8):zve.test(t)?dO:+t}var fO=1/0,Uve=17976931348623157e292;function Hve(t){if(!t)return t===0?t:0;if(t=FS(t),t===fO||t===-fO){var e=t<0?-1:1;return e*Uve}return t===t?t:0}function FT(t){var e=Hve(t),n=e%1;return e===e?n?e-n:e:0}function NT(t){return t==null?"":DT(t)}function fj(t,e,n){t=NT(t),e=FT(e);var r=e?LT(t):0;return e&&r<e?dj(e-r,n)+t:t}function ca(t){var e=nX();return R(R({},t),e)}var hj=Symbol("PanelContextProps"),BT=function(e){Xn(hj,e)},mu=function(){return Hn(hj,{})},p_={visibility:"hidden"};function $d(t,e){var n,r=e.slots,i=ca(t),o=i.prefixCls,l=i.prevIcon,a=l===void 0?"":l,f=i.nextIcon,p=f===void 0?"":f,v=i.superPrevIcon,g=v===void 0?"":v,_=i.superNextIcon,b=_===void 0?"":_,S=i.onSuperPrev,E=i.onSuperNext,P=i.onPrev,k=i.onNext,I=mu(),D=I.hideNextBtn,L=I.hidePrevBtn;return M("div",{class:o},[S&&M("button",{type:"button",onClick:S,tabindex:-1,class:"".concat(o,"-super-prev-btn"),style:L.value?p_:{}},[g]),P&&M("button",{type:"button",onClick:P,tabindex:-1,class:"".concat(o,"-prev-btn"),style:L.value?p_:{}},[a]),M("div",{class:"".concat(o,"-view")},[(n=r.default)===null||n===void 0?void 0:n.call(r)]),k&&M("button",{type:"button",onClick:k,tabindex:-1,class:"".concat(o,"-next-btn"),style:D.value?p_:{}},[p]),E&&M("button",{type:"button",onClick:E,tabindex:-1,class:"".concat(o,"-super-next-btn"),style:D.value?p_:{}},[b])])}$d.displayName="Header";$d.inheritAttrs=!1;function zT(t){var e=ca(t),n=e.prefixCls,r=e.generateConfig,i=e.viewDate,o=e.onPrevDecades,l=e.onNextDecades,a=mu(),f=a.hideHeader;if(f)return null;var p="".concat(n,"-header"),v=r.getYear(i),g=Math.floor(v/tc)*tc,_=g+tc-1;return M($d,R(R({},e),{},{prefixCls:p,onSuperPrev:o,onSuperNext:l}),{default:function(){return[g,vo("-"),_]}})}zT.displayName="DecadeHeader";zT.inheritAttrs=!1;function pj(t,e,n,r,i){var o=t.setHour(e,n);return o=t.setMinute(o,r),o=t.setSecond(o,i),o}function tb(t,e,n){if(!n)return e;var r=e;return r=t.setHour(r,t.getHour(n)),r=t.setMinute(r,t.getMinute(n)),r=t.setSecond(r,t.getSecond(n)),r}function Kve(t,e,n,r,i,o){var l=Math.floor(t/r)*r;if(l<t)return[l,60-i,60-o];var a=Math.floor(e/i)*i;if(a<e)return[l,a,60-o];var f=Math.floor(n/o)*o;return[l,a,f]}function Wve(t,e){var n=t.getYear(e),r=t.getMonth(e)+1,i=t.getEndDate(t.getFixedDate("".concat(n,"-").concat(r,"-01"))),o=t.getDate(i),l=r<10?"0".concat(r):"".concat(r);return"".concat(n,"-").concat(l,"-").concat(o)}function kh(t){for(var e=ca(t),n=e.prefixCls,r=e.disabledDate,i=e.onSelect,o=e.picker,l=e.rowNum,a=e.colNum,f=e.prefixColumn,p=e.rowClassName,v=e.baseDate,g=e.getCellClassName,_=e.getCellText,b=e.getCellNode,S=e.getCellDate,E=e.generateConfig,P=e.titleCell,k=e.headerCells,I=mu(),D=I.onDateMouseenter,L=I.onDateMouseleave,B=I.mode,N="".concat(n,"-cell"),j=[],H=0;H<l;H+=1){for(var V=[],Z=void 0,re=function(){var ae,te=H*a+q,Q=S(v,te),Y=$S({cellDate:Q,mode:B.value,disabledDate:r,generateConfig:E});q===0&&(Z=Q,f&&V.push(f(Z)));var X=P&&P(Q);V.push(M("td",{key:q,title:X,class:mt(N,R((ae={},J(ae,"".concat(N,"-disabled"),Y),J(ae,"".concat(N,"-start"),_(Q)===1||o==="year"&&Number(X)%10===0),J(ae,"".concat(N,"-end"),X===Wve(E,Q)||o==="year"&&Number(X)%10===9),ae),g(Q))),onClick:function(){Y||i(Q)},onMouseenter:function(){!Y&&D&&D(Q)},onMouseleave:function(){!Y&&L&&L(Q)}},[b?b(Q):M("div",{class:"".concat(N,"-inner")},[_(Q)])]))},q=0;q<a;q+=1)re();j.push(M("tr",{key:H,class:p&&p(Z)},[V]))}return M("div",{class:"".concat(n,"-body")},[M("table",{class:"".concat(n,"-content")},[k&&M("thead",null,[M("tr",null,[k])]),M("tbody",null,[j])])])}kh.displayName="PanelBody";kh.inheritAttrs=!1;var NS=3,hO=4;function $T(t){var e=ca(t),n=vl-1,r=e.prefixCls,i=e.viewDate,o=e.generateConfig,l="".concat(r,"-cell"),a=o.getYear(i),f=Math.floor(a/vl)*vl,p=Math.floor(a/tc)*tc,v=p+tc-1,g=o.setYear(i,p-Math.ceil((NS*hO*vl-tc)/2)),_=function(S){var E,P=o.getYear(S),k=P+n;return E={},J(E,"".concat(l,"-in-view"),p<=P&&k<=v),J(E,"".concat(l,"-selected"),P===f),E};return M(kh,R(R({},e),{},{rowNum:hO,colNum:NS,baseDate:g,getCellText:function(S){var E=o.getYear(S);return"".concat(E,"-").concat(E+n)},getCellClassName:_,getCellDate:function(S,E){return o.addYear(S,E*vl)}}),null)}$T.displayName="DecadeBody";$T.inheritAttrs=!1;var v_=new Map;function Gve(t,e){var n;function r(){oT(t)?e():n=$n(function(){r()})}return r(),function(){$n.cancel(n)}}function BS(t,e,n){if(v_.get(t)&&$n.cancel(v_.get(t)),n<=0){v_.set(t,$n(function(){t.scrollTop=e}));return}var r=e-t.scrollTop,i=r/n*10;v_.set(t,$n(function(){t.scrollTop+=i,t.scrollTop!==e&&BS(t,e,n-10)}))}function Gv(t,e){var n=e.onLeftRight,r=e.onCtrlLeftRight,i=e.onUpDown,o=e.onPageUpDown,l=e.onEnter,a=t.which,f=t.ctrlKey,p=t.metaKey;switch(a){case qt.LEFT:if(f||p){if(r)return r(-1),!0}else if(n)return n(-1),!0;break;case qt.RIGHT:if(f||p){if(r)return r(1),!0}else if(n)return n(1),!0;break;case qt.UP:if(i)return i(-1),!0;break;case qt.DOWN:if(i)return i(1),!0;break;case qt.PAGE_UP:if(o)return o(-1),!0;break;case qt.PAGE_DOWN:if(o)return o(1),!0;break;case qt.ENTER:if(l)return l(),!0;break}return!1}function vj(t,e,n,r){var i=t;if(!i)switch(e){case"time":i=r?"hh:mm:ss a":"HH:mm:ss";break;case"week":i="gggg-wo";break;case"month":i="YYYY-MM";break;case"quarter":i="YYYY-[Q]Q";break;case"year":i="YYYY";break;default:i=n?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"}return i}function mj(t,e,n){var r=t==="time"?8:10,i=typeof e=="function"?e(n.getNow()).length:e.length;return Math.max(r,i)+2}var yg=null,m_=new Set;function qve(t){return!yg&&typeof window<"u"&&window.addEventListener&&(yg=function(n){Jt(m_).forEach(function(r){r(n)})},window.addEventListener("mousedown",yg)),m_.add(t),function(){m_.delete(t),m_.size===0&&(window.removeEventListener("mousedown",yg),yg=null)}}function Yve(t){var e=t.target;if(t.composed&&e.shadowRoot){var n;return((n=t.composedPath)===null||n===void 0?void 0:n.call(t)[0])||e}return e}var Xve=function(e){return e==="month"||e==="date"?"year":e},Zve=function(e){return e==="date"?"month":e},Qve=function(e){return e==="month"||e==="date"?"quarter":e},Jve=function(e){return e==="date"?"week":e},eme={year:Xve,month:Zve,quarter:Qve,week:Jve,time:null,date:null};function gj(t,e){return t.some(function(n){return n&&n.contains(e)})}var vl=10,tc=vl*10;function jT(t){var e=ca(t),n=e.prefixCls,r=e.onViewDateChange,i=e.generateConfig,o=e.viewDate,l=e.operationRef,a=e.onSelect,f=e.onPanelChange,p="".concat(n,"-decade-panel");l.value={onKeydown:function(b){return Gv(b,{onLeftRight:function(E){a(i.addYear(o,E*vl),"key")},onCtrlLeftRight:function(E){a(i.addYear(o,E*tc),"key")},onUpDown:function(E){a(i.addYear(o,E*vl*NS),"key")},onEnter:function(){f("year",o)}})}};var v=function(b){var S=i.addYear(o,b*tc);r(S),f(null,S)},g=function(b){a(b,"mouse"),f("year",b)};return M("div",{class:p},[M(zT,R(R({},e),{},{prefixCls:n,onPrevDecades:function(){v(-1)},onNextDecades:function(){v(1)}}),null),M($T,R(R({},e),{},{prefixCls:n,onSelect:g}),null)])}jT.displayName="DecadePanel";jT.inheritAttrs=!1;var nb=7;function Ah(t,e){if(!t&&!e)return!0;if(!t||!e)return!1}function tme(t,e,n){var r=Ah(e,n);if(typeof r=="boolean")return r;var i=Math.floor(t.getYear(e)/10),o=Math.floor(t.getYear(n)/10);return i===o}function O2(t,e,n){var r=Ah(e,n);return typeof r=="boolean"?r:t.getYear(e)===t.getYear(n)}function zS(t,e){var n=Math.floor(t.getMonth(e)/3);return n+1}function yj(t,e,n){var r=Ah(e,n);return typeof r=="boolean"?r:O2(t,e,n)&&zS(t,e)===zS(t,n)}function VT(t,e,n){var r=Ah(e,n);return typeof r=="boolean"?r:O2(t,e,n)&&t.getMonth(e)===t.getMonth(n)}function nc(t,e,n){var r=Ah(e,n);return typeof r=="boolean"?r:t.getYear(e)===t.getYear(n)&&t.getMonth(e)===t.getMonth(n)&&t.getDate(e)===t.getDate(n)}function nme(t,e,n){var r=Ah(e,n);return typeof r=="boolean"?r:t.getHour(e)===t.getHour(n)&&t.getMinute(e)===t.getMinute(n)&&t.getSecond(e)===t.getSecond(n)}function _j(t,e,n,r){var i=Ah(n,r);return typeof i=="boolean"?i:t.locale.getWeek(e,n)===t.locale.getWeek(e,r)}function lv(t,e,n){return nc(t,e,n)&&nme(t,e,n)}function g_(t,e,n,r){return!e||!n||!r?!1:!nc(t,e,r)&&!nc(t,n,r)&&t.isAfter(r,e)&&t.isAfter(n,r)}function rme(t,e,n){var r=e.locale.getWeekFirstDay(t),i=e.setDate(n,1),o=e.getWeekDay(i),l=e.addDate(i,r-o);return e.getMonth(l)===e.getMonth(n)&&e.getDate(l)>1&&(l=e.addDate(l,-7)),l}function r1(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;switch(e){case"year":return n.addYear(t,r*10);case"quarter":case"month":return n.addYear(t,r);default:return n.addMonth(t,r)}}function no(t,e){var n=e.generateConfig,r=e.locale,i=e.format;return typeof i=="function"?i(t):n.locale.format(r.locale,t,i)}function bj(t,e){var n=e.generateConfig,r=e.locale,i=e.formatList;return!t||typeof i[0]=="function"?null:n.locale.parse(r.locale,t,i)}function $S(t){var e=t.cellDate,n=t.mode,r=t.disabledDate,i=t.generateConfig;if(!r)return!1;var o=function(S,E,P){for(var k=E;k<=P;){var I=void 0;switch(S){case"date":{if(I=i.setDate(e,k),!r(I))return!1;break}case"month":{if(I=i.setMonth(e,k),!$S({cellDate:I,mode:"month",generateConfig:i,disabledDate:r}))return!1;break}case"year":{if(I=i.setYear(e,k),!$S({cellDate:I,mode:"year",generateConfig:i,disabledDate:r}))return!1;break}}k+=1}return!0};switch(n){case"date":case"week":return r(e);case"month":{var l=1,a=i.getDate(i.getEndDate(e));return o("date",l,a)}case"quarter":{var f=Math.floor(i.getMonth(e)/3)*3,p=f+2;return o("month",f,p)}case"year":return o("month",0,11);case"decade":{var v=i.getYear(e),g=Math.floor(v/vl)*vl,_=g+vl-1;return o("year",g,_)}}}function UT(t){var e=ca(t),n=mu(),r=n.hideHeader;if(r.value)return null;var i=e.prefixCls,o=e.generateConfig,l=e.locale,a=e.value,f=e.format,p="".concat(i,"-header");return M($d,{prefixCls:p},{default:function(){return[a?no(a,{locale:l,format:f,generateConfig:o}):""]}})}UT.displayName="TimeHeader";UT.inheritAttrs=!1;const y_=lt({name:"TimeUnitColumn",props:["prefixCls","units","onSelect","value","active","hideDisabledOptions"],setup:function(e){var n=mu(),r=n.open,i=ke(null),o=ke(new Map),l=ke();return Lt(function(){return e.value},function(){var a=o.value.get(e.value);a&&r.value!==!1&&BS(i.value,a.offsetTop,120)}),tr(function(){var a;(a=l.value)===null||a===void 0||a.call(l)}),Lt(r,function(){var a;(a=l.value)===null||a===void 0||a.call(l),Yn(function(){if(r.value){var f=o.value.get(e.value);f&&(l.value=Gve(f,function(){BS(i.value,f.offsetTop,0)}))}})},{immediate:!0,flush:"post"}),function(){var a=e.prefixCls,f=e.units,p=e.onSelect,v=e.value,g=e.active,_=e.hideDisabledOptions,b="".concat(a,"-cell");return M("ul",{class:mt("".concat(a,"-column"),J({},"".concat(a,"-column-active"),g)),ref:i,style:{position:"relative"}},[f.map(function(S){var E;return _&&S.disabled?null:M("li",{key:S.value,ref:function(k){o.value.set(S.value,k)},class:mt(b,(E={},J(E,"".concat(b,"-disabled"),S.disabled),J(E,"".concat(b,"-selected"),v===S.value),E)),onClick:function(){S.disabled||p(S.value)}},[M("div",{class:"".concat(b,"-inner")},[S.label])])})])}}});function xj(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"0",r=String(t);r.length<e;)r="".concat(n).concat(t);return r}var ime=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n};function wj(t){return t==null?[]:Array.isArray(t)?t:[t]}function Cj(t){var e={};return Object.keys(t).forEach(function(n){(n.substr(0,5)==="data-"||n.substr(0,5)==="aria-"||n==="role"||n==="name")&&n.substr(0,7)!=="data-__"&&(e[n]=t[n])}),e}function zr(t,e){return t?t[e]:null}function Vs(t,e,n){var r=[zr(t,0),zr(t,1)];return r[n]=typeof e=="function"?e(r[n]):e,!r[0]&&!r[1]?null:r}function FC(t,e,n,r){for(var i=[],o=t;o<=e;o+=n)i.push({label:xj(o,2),value:o,disabled:(r||[]).includes(o)});return i}var ame=lt({compatConfig:{MODE:3},name:"TimeBody",inheritAttrs:!1,props:["generateConfig","prefixCls","operationRef","activeColumnIndex","value","showHour","showMinute","showSecond","use12Hours","hourStep","minuteStep","secondStep","disabledHours","disabledMinutes","disabledSeconds","disabledTime","hideDisabledOptions","onSelect"],setup:function(e){var n=le(function(){return e.value?e.generateConfig.getHour(e.value):-1}),r=le(function(){return e.use12Hours?n.value>=12:!1}),i=le(function(){return e.use12Hours?n.value%12:n.value}),o=le(function(){return e.value?e.generateConfig.getMinute(e.value):-1}),l=le(function(){return e.value?e.generateConfig.getSecond(e.value):-1}),a=ke(e.generateConfig.getNow()),f=ke(),p=ke(),v=ke();p5(function(){a.value=e.generateConfig.getNow()}),Un(function(){if(e.disabledTime){var k=e.disabledTime(a),I=[k.disabledHours,k.disabledMinutes,k.disabledSeconds];f.value=I[0],p.value=I[1],v.value=I[2]}else{var D=[e.disabledHours,e.disabledMinutes,e.disabledSeconds];f.value=D[0],p.value=D[1],v.value=D[2]}});var g=function(I,D,L,B){var N=e.value||e.generateConfig.getNow(),j=Math.max(0,D),H=Math.max(0,L),V=Math.max(0,B);return N=pj(e.generateConfig,N,!e.use12Hours||!I?j:j+12,H,V),N},_=le(function(){var k;return FC(0,23,(k=e.hourStep)!==null&&k!==void 0?k:1,f.value&&f.value())}),b=le(function(){if(!e.use12Hours)return[!1,!1];var k=[!0,!0];return _.value.forEach(function(I){var D=I.disabled,L=I.value;D||(L>=12?k[1]=!1:k[0]=!1)}),k}),S=le(function(){return e.use12Hours?_.value.filter(r.value?function(k){return k.value>=12}:function(k){return k.value<12}).map(function(k){var I=k.value%12,D=I===0?"12":xj(I,2);return R(R({},k),{},{label:D,value:I})}):_.value}),E=le(function(){var k;return FC(0,59,(k=e.minuteStep)!==null&&k!==void 0?k:1,p.value&&p.value(n.value))}),P=le(function(){var k;return FC(0,59,(k=e.secondStep)!==null&&k!==void 0?k:1,v.value&&v.value(n.value,o.value))});return function(){var k=e.prefixCls,I=e.operationRef,D=e.activeColumnIndex,L=e.showHour,B=e.showMinute,N=e.showSecond,j=e.use12Hours,H=e.hideDisabledOptions,V=e.onSelect,Z=[],re="".concat(k,"-content"),q="".concat(k,"-time-panel");I.value={onUpDown:function(Q){var Y=Z[D];if(Y)for(var X=Y.units.findIndex(function(we){return we.value===Y.value}),ie=Y.units.length,he=1;he<ie;he+=1){var ce=Y.units[(X+Q*he+ie)%ie];if(ce.disabled!==!0){Y.onSelect(ce.value);break}}}};function G(te,Q,Y,X,ie){te!==!1&&Z.push({node:Pr(Q,{prefixCls:q,value:Y,active:D===Z.length,onSelect:ie,units:X,hideDisabledOptions:H}),onSelect:ie,value:Y,units:X})}G(L,M(y_,{key:"hour"},null),i.value,S.value,function(te){V(g(r.value,te,o.value,l.value),"mouse")}),G(B,M(y_,{key:"minute"},null),o.value,E.value,function(te){V(g(r.value,i.value,te,l.value),"mouse")}),G(N,M(y_,{key:"second"},null),l.value,P.value,function(te){V(g(r.value,i.value,o.value,te),"mouse")});var ae=-1;return typeof r.value=="boolean"&&(ae=r.value?1:0),G(j===!0,M(y_,{key:"12hours"},null),ae,[{label:"AM",value:0,disabled:b.value[0]},{label:"PM",value:1,disabled:b.value[1]}],function(te){V(g(!!te,i.value,o.value,l.value),"mouse")}),M("div",{class:re},[Z.map(function(te){var Q=te.node;return Q})])}}});const ome=ame;var sme=function(e){return e.filter(function(n){return n!==!1}).length};function D2(t){var e=ca(t),n=e.generateConfig,r=e.format,i=r===void 0?"HH:mm:ss":r,o=e.prefixCls,l=e.active,a=e.operationRef,f=e.showHour,p=e.showMinute,v=e.showSecond,g=e.use12Hours,_=g===void 0?!1:g,b=e.onSelect,S=e.value,E="".concat(o,"-time-panel"),P=ke(),k=ke(-1),I=sme([f,p,v,_]);return a.value={onKeydown:function(L){return Gv(L,{onLeftRight:function(N){k.value=(k.value+N+I)%I},onUpDown:function(N){k.value===-1?k.value=0:P.value&&P.value.onUpDown(N)},onEnter:function(){b(S||n.getNow(),"key"),k.value=-1}})},onBlur:function(){k.value=-1}},M("div",{class:mt(E,J({},"".concat(E,"-active"),l))},[M(UT,R(R({},e),{},{format:i,prefixCls:o}),null),M(ome,R(R({},e),{},{prefixCls:o,activeColumnIndex:k.value,operationRef:P}),null)])}D2.displayName="TimePanel";D2.inheritAttrs=!1;function R2(t){var e=t.cellPrefixCls,n=t.generateConfig,r=t.rangedValue,i=t.hoverRangedValue,o=t.isInView,l=t.isSameCell,a=t.offsetCell,f=t.today,p=t.value;function v(g){var _,b=a(g,-1),S=a(g,1),E=zr(r,0),P=zr(r,1),k=zr(i,0),I=zr(i,1),D=g_(n,k,I,g);function L(Z){return l(E,Z)}function B(Z){return l(P,Z)}var N=l(k,g),j=l(I,g),H=(D||j)&&(!o(b)||B(b)),V=(D||N)&&(!o(S)||L(S));return _={},J(_,"".concat(e,"-in-view"),o(g)),J(_,"".concat(e,"-in-range"),g_(n,E,P,g)),J(_,"".concat(e,"-range-start"),L(g)),J(_,"".concat(e,"-range-end"),B(g)),J(_,"".concat(e,"-range-start-single"),L(g)&&!P),J(_,"".concat(e,"-range-end-single"),B(g)&&!E),J(_,"".concat(e,"-range-start-near-hover"),L(g)&&(l(b,k)||g_(n,k,I,b))),J(_,"".concat(e,"-range-end-near-hover"),B(g)&&(l(S,I)||g_(n,k,I,S))),J(_,"".concat(e,"-range-hover"),D),J(_,"".concat(e,"-range-hover-start"),N),J(_,"".concat(e,"-range-hover-end"),j),J(_,"".concat(e,"-range-hover-edge-start"),H),J(_,"".concat(e,"-range-hover-edge-end"),V),J(_,"".concat(e,"-range-hover-edge-start-near-range"),H&&l(b,P)),J(_,"".concat(e,"-range-hover-edge-end-near-range"),V&&l(S,E)),J(_,"".concat(e,"-today"),l(f,g)),J(_,"".concat(e,"-selected"),l(p,g)),_}return v}var Sj=Symbol("RangeContextProps"),lme=function(e){Xn(Sj,e)},c0=function(){return Hn(Sj,{rangedValue:ke(),hoverRangedValue:ke(),inRange:ke(),panelPosition:ke()})},ume=lt({compatConfig:{MODE:3},name:"PanelContextProvider",inheritAttrs:!1,props:{value:{type:Object,default:function(){return{}}}},setup:function(e,n){var r=n.slots,i={rangedValue:ke(e.value.rangedValue),hoverRangedValue:ke(e.value.hoverRangedValue),inRange:ke(e.value.inRange),panelPosition:ke(e.value.panelPosition)};return lme(i),Lt(function(){return e.value},function(){Object.keys(e.value).forEach(function(o){i[o]&&(i[o].value=e.value[o])})}),function(){var o;return(o=r.default)===null||o===void 0?void 0:o.call(r)}}});function L2(t){var e=ca(t),n=e.prefixCls,r=e.generateConfig,i=e.prefixColumn,o=e.locale,l=e.rowCount,a=e.viewDate,f=e.value,p=e.dateRender,v=c0(),g=v.rangedValue,_=v.hoverRangedValue,b=rme(o.locale,r,a),S="".concat(n,"-cell"),E=r.locale.getWeekFirstDay(o.locale),P=r.getNow(),k=[],I=o.shortWeekDays||(r.locale.getShortWeekDays?r.locale.getShortWeekDays(o.locale):[]);i&&k.push(M("th",{key:"empty","aria-label":"empty cell"},null));for(var D=0;D<nb;D+=1)k.push(M("th",{key:D},[I[(D+E)%nb]]));var L=R2({cellPrefixCls:S,today:P,value:f,generateConfig:r,rangedValue:i?null:g.value,hoverRangedValue:i?null:_.value,isSameCell:function(j,H){return nc(r,j,H)},isInView:function(j){return VT(r,j,a)},offsetCell:function(j,H){return r.addDate(j,H)}}),B=p?function(N){return p({current:N,today:P})}:void 0;return M(kh,R(R({},e),{},{rowNum:l,colNum:nb,baseDate:b,getCellNode:B,getCellText:r.getDate,getCellClassName:L,getCellDate:r.addDate,titleCell:function(j){return no(j,{locale:o,format:"YYYY-MM-DD",generateConfig:r})},headerCells:k}),null)}L2.displayName="DateBody";L2.inheritAttrs=!1;L2.props=["prefixCls","generateConfig","value?","viewDate","locale","rowCount","onSelect","dateRender?","disabledDate?","prefixColumn?","rowClassName?"];function HT(t){var e=ca(t),n=e.prefixCls,r=e.generateConfig,i=e.locale,o=e.viewDate,l=e.onNextMonth,a=e.onPrevMonth,f=e.onNextYear,p=e.onPrevYear,v=e.onYearClick,g=e.onMonthClick,_=mu(),b=_.hideHeader;if(b.value)return null;var S="".concat(n,"-header"),E=i.shortMonths||(r.locale.getShortMonths?r.locale.getShortMonths(i.locale):[]),P=r.getMonth(o),k=M("button",{type:"button",key:"year",onClick:v,tabindex:-1,class:"".concat(n,"-year-btn")},[no(o,{locale:i,format:i.yearFormat,generateConfig:r})]),I=M("button",{type:"button",key:"month",onClick:g,tabindex:-1,class:"".concat(n,"-month-btn")},[i.monthFormat?no(o,{locale:i,format:i.monthFormat,generateConfig:r}):E[P]]),D=i.monthBeforeYear?[I,k]:[k,I];return M($d,R(R({},e),{},{prefixCls:S,onSuperPrev:p,onPrev:a,onNext:l,onSuperNext:f}),{default:function(){return[D]}})}HT.displayName="DateHeader";HT.inheritAttrs=!1;var cme=6;function d0(t){var e=ca(t),n=e.prefixCls,r=e.panelName,i=r===void 0?"date":r,o=e.keyboardConfig,l=e.active,a=e.operationRef,f=e.generateConfig,p=e.value,v=e.viewDate,g=e.onViewDateChange,_=e.onPanelChange,b=e.onSelect,S="".concat(n,"-").concat(i,"-panel");a.value={onKeydown:function(I){return Gv(I,R({onLeftRight:function(L){b(f.addDate(p||v,L),"key")},onCtrlLeftRight:function(L){b(f.addYear(p||v,L),"key")},onUpDown:function(L){b(f.addDate(p||v,L*nb),"key")},onPageUpDown:function(L){b(f.addMonth(p||v,L),"key")}},o))}};var E=function(I){var D=f.addYear(v,I);g(D),_(null,D)},P=function(I){var D=f.addMonth(v,I);g(D),_(null,D)};return M("div",{class:mt(S,J({},"".concat(S,"-active"),l))},[M(HT,R(R({},e),{},{prefixCls:n,value:p,viewDate:v,onPrevYear:function(){E(-1)},onNextYear:function(){E(1)},onPrevMonth:function(){P(-1)},onNextMonth:function(){P(1)},onMonthClick:function(){_("month",v)},onYearClick:function(){_("year",v)}}),null),M(L2,R(R({},e),{},{onSelect:function(I){return b(I,"mouse")},prefixCls:n,value:p,viewDate:v,rowCount:cme}),null)])}d0.displayName="DatePanel";d0.inheritAttrs=!1;var pO=ime("date","time");function KT(t){var e=ca(t),n=e.prefixCls,r=e.operationRef,i=e.generateConfig,o=e.value,l=e.defaultValue,a=e.disabledTime,f=e.showTime,p=e.onSelect,v="".concat(n,"-datetime-panel"),g=ke(null),_=ke({}),b=ke({}),S=dn(f)==="object"?R({},f):{};function E(D){var L=pO.indexOf(g.value)+D,B=pO[L]||null;return B}var P=function(L){b.value.onBlur&&b.value.onBlur(L),g.value=null};r.value={onKeydown:function(L){if(L.which===qt.TAB){var B=E(L.shiftKey?-1:1);return g.value=B,B&&L.preventDefault(),!0}if(g.value){var N=g.value==="date"?_:b;return N.value&&N.value.onKeydown&&N.value.onKeydown(L),!0}return[qt.LEFT,qt.RIGHT,qt.UP,qt.DOWN].includes(L.which)?(g.value="date",!0):!1},onBlur:P,onClose:P};var k=function(L,B){var N=L;B==="date"&&!o&&S.defaultValue?(N=i.setHour(N,i.getHour(S.defaultValue)),N=i.setMinute(N,i.getMinute(S.defaultValue)),N=i.setSecond(N,i.getSecond(S.defaultValue))):B==="time"&&!o&&l&&(N=i.setYear(N,i.getYear(l)),N=i.setMonth(N,i.getMonth(l)),N=i.setDate(N,i.getDate(l))),p&&p(N,"mouse")},I=a?a(o||null):{};return M("div",{class:mt(v,J({},"".concat(v,"-active"),g.value))},[M(d0,R(R({},e),{},{operationRef:_,active:g.value==="date",onSelect:function(L){k(tb(i,L,!o&&dn(f)==="object"?f.defaultValue:null),"date")}}),null),M(D2,R(R(R(R({},e),{},{format:void 0},S),I),{},{disabledTime:null,defaultValue:void 0,operationRef:b,active:g.value==="time",onSelect:function(L){k(L,"time")}}),null)])}KT.displayName="DatetimePanel";KT.inheritAttrs=!1;function WT(t){var e=ca(t),n=e.prefixCls,r=e.generateConfig,i=e.locale,o=e.value,l="".concat(n,"-cell"),a=function(g){return M("td",{key:"week",class:mt(l,"".concat(l,"-week"))},[r.locale.getWeek(i.locale,g)])},f="".concat(n,"-week-panel-row"),p=function(g){return mt(f,J({},"".concat(f,"-selected"),_j(r,i.locale,o,g)))};return M(d0,R(R({},e),{},{panelName:"week",prefixColumn:a,rowClassName:p,keyboardConfig:{onLeftRight:null}}),null)}WT.displayName="WeekPanel";WT.inheritAttrs=!1;function GT(t){var e=ca(t),n=e.prefixCls,r=e.generateConfig,i=e.locale,o=e.viewDate,l=e.onNextYear,a=e.onPrevYear,f=e.onYearClick,p=mu(),v=p.hideHeader;if(v.value)return null;var g="".concat(n,"-header");return M($d,R(R({},e),{},{prefixCls:g,onSuperPrev:a,onSuperNext:l}),{default:function(){return[M("button",{type:"button",onClick:f,class:"".concat(n,"-year-btn")},[no(o,{locale:i,format:i.yearFormat,generateConfig:r})])]}})}GT.displayName="MonthHeader";GT.inheritAttrs=!1;var Tj=3,dme=4;function qT(t){var e=ca(t),n=e.prefixCls,r=e.locale,i=e.value,o=e.viewDate,l=e.generateConfig,a=e.monthCellRender,f=c0(),p=f.rangedValue,v=f.hoverRangedValue,g="".concat(n,"-cell"),_=R2({cellPrefixCls:g,value:i,generateConfig:l,rangedValue:p.value,hoverRangedValue:v.value,isSameCell:function(k,I){return VT(l,k,I)},isInView:function(){return!0},offsetCell:function(k,I){return l.addMonth(k,I)}}),b=r.shortMonths||(l.locale.getShortMonths?l.locale.getShortMonths(r.locale):[]),S=l.setMonth(o,0),E=a?function(P){return a({current:P,locale:r})}:void 0;return M(kh,R(R({},e),{},{rowNum:dme,colNum:Tj,baseDate:S,getCellNode:E,getCellText:function(k){return r.monthFormat?no(k,{locale:r,format:r.monthFormat,generateConfig:l}):b[l.getMonth(k)]},getCellClassName:_,getCellDate:l.addMonth,titleCell:function(k){return no(k,{locale:r,format:"YYYY-MM",generateConfig:l})}}),null)}qT.displayName="MonthBody";qT.inheritAttrs=!1;function YT(t){var e=ca(t),n=e.prefixCls,r=e.operationRef,i=e.onViewDateChange,o=e.generateConfig,l=e.value,a=e.viewDate,f=e.onPanelChange,p=e.onSelect,v="".concat(n,"-month-panel");r.value={onKeydown:function(b){return Gv(b,{onLeftRight:function(E){p(o.addMonth(l||a,E),"key")},onCtrlLeftRight:function(E){p(o.addYear(l||a,E),"key")},onUpDown:function(E){p(o.addMonth(l||a,E*Tj),"key")},onEnter:function(){f("date",l||a)}})}};var g=function(b){var S=o.addYear(a,b);i(S),f(null,S)};return M("div",{class:v},[M(GT,R(R({},e),{},{prefixCls:n,onPrevYear:function(){g(-1)},onNextYear:function(){g(1)},onYearClick:function(){f("year",a)}}),null),M(qT,R(R({},e),{},{prefixCls:n,onSelect:function(b){p(b,"mouse"),f("date",b)}}),null)])}YT.displayName="MonthPanel";YT.inheritAttrs=!1;function XT(t){var e=ca(t),n=e.prefixCls,r=e.generateConfig,i=e.locale,o=e.viewDate,l=e.onNextYear,a=e.onPrevYear,f=e.onYearClick,p=mu(),v=p.hideHeader;if(v.value)return null;var g="".concat(n,"-header");return M($d,R(R({},e),{},{prefixCls:g,onSuperPrev:a,onSuperNext:l}),{default:function(){return[M("button",{type:"button",onClick:f,class:"".concat(n,"-year-btn")},[no(o,{locale:i,format:i.yearFormat,generateConfig:r})])]}})}XT.displayName="QuarterHeader";XT.inheritAttrs=!1;var fme=4,hme=1;function ZT(t){var e=ca(t),n=e.prefixCls,r=e.locale,i=e.value,o=e.viewDate,l=e.generateConfig,a=c0(),f=a.rangedValue,p=a.hoverRangedValue,v="".concat(n,"-cell"),g=R2({cellPrefixCls:v,value:i,generateConfig:l,rangedValue:f.value,hoverRangedValue:p.value,isSameCell:function(S,E){return yj(l,S,E)},isInView:function(){return!0},offsetCell:function(S,E){return l.addMonth(S,E*3)}}),_=l.setDate(l.setMonth(o,0),1);return M(kh,R(R({},e),{},{rowNum:hme,colNum:fme,baseDate:_,getCellText:function(S){return no(S,{locale:r,format:r.quarterFormat||"[Q]Q",generateConfig:l})},getCellClassName:g,getCellDate:function(S,E){return l.addMonth(S,E*3)},titleCell:function(S){return no(S,{locale:r,format:"YYYY-[Q]Q",generateConfig:l})}}),null)}ZT.displayName="QuarterBody";ZT.inheritAttrs=!1;function QT(t){var e=ca(t),n=e.prefixCls,r=e.operationRef,i=e.onViewDateChange,o=e.generateConfig,l=e.value,a=e.viewDate,f=e.onPanelChange,p=e.onSelect,v="".concat(n,"-quarter-panel");r.value={onKeydown:function(b){return Gv(b,{onLeftRight:function(E){p(o.addMonth(l||a,E*3),"key")},onCtrlLeftRight:function(E){p(o.addYear(l||a,E),"key")},onUpDown:function(E){p(o.addYear(l||a,E),"key")}})}};var g=function(b){var S=o.addYear(a,b);i(S),f(null,S)};return M("div",{class:v},[M(XT,R(R({},e),{},{prefixCls:n,onPrevYear:function(){g(-1)},onNextYear:function(){g(1)},onYearClick:function(){f("year",a)}}),null),M(ZT,R(R({},e),{},{prefixCls:n,onSelect:function(b){p(b,"mouse")}}),null)])}QT.displayName="QuarterPanel";QT.inheritAttrs=!1;function JT(t){var e=ca(t),n=e.prefixCls,r=e.generateConfig,i=e.viewDate,o=e.onPrevDecade,l=e.onNextDecade,a=e.onDecadeClick,f=mu(),p=f.hideHeader;if(p.value)return null;var v="".concat(n,"-header"),g=r.getYear(i),_=Math.floor(g/gd)*gd,b=_+gd-1;return M($d,R(R({},e),{},{prefixCls:v,onSuperPrev:o,onSuperNext:l}),{default:function(){return[M("button",{type:"button",onClick:a,class:"".concat(n,"-decade-btn")},[_,vo("-"),b])]}})}JT.displayName="YearHeader";JT.inheritAttrs=!1;var jS=3,vO=4;function eE(t){var e=ca(t),n=e.prefixCls,r=e.value,i=e.viewDate,o=e.locale,l=e.generateConfig,a=c0(),f=a.rangedValue,p=a.hoverRangedValue,v="".concat(n,"-cell"),g=l.getYear(i),_=Math.floor(g/gd)*gd,b=_+gd-1,S=l.setYear(i,_-Math.ceil((jS*vO-gd)/2)),E=function(I){var D=l.getYear(I);return _<=D&&D<=b},P=R2({cellPrefixCls:v,value:r,generateConfig:l,rangedValue:f.value,hoverRangedValue:p.value,isSameCell:function(I,D){return O2(l,I,D)},isInView:E,offsetCell:function(I,D){return l.addYear(I,D)}});return M(kh,R(R({},e),{},{rowNum:vO,colNum:jS,baseDate:S,getCellText:l.getYear,getCellClassName:P,getCellDate:l.addYear,titleCell:function(I){return no(I,{locale:o,format:"YYYY",generateConfig:l})}}),null)}eE.displayName="YearBody";eE.inheritAttrs=!1;var gd=10;function tE(t){var e=ca(t),n=e.prefixCls,r=e.operationRef,i=e.onViewDateChange,o=e.generateConfig,l=e.value,a=e.viewDate,f=e.sourceMode,p=e.onSelect,v=e.onPanelChange,g="".concat(n,"-year-panel");r.value={onKeydown:function(S){return Gv(S,{onLeftRight:function(P){p(o.addYear(l||a,P),"key")},onCtrlLeftRight:function(P){p(o.addYear(l||a,P*gd),"key")},onUpDown:function(P){p(o.addYear(l||a,P*jS),"key")},onEnter:function(){v(f==="date"?"date":"month",l||a)}})}};var _=function(S){var E=o.addYear(a,S*10);i(E),v(null,E)};return M("div",{class:g},[M(JT,R(R({},e),{},{prefixCls:n,onPrevDecade:function(){_(-1)},onNextDecade:function(){_(1)},onDecadeClick:function(){v("decade",a)}}),null),M(eE,R(R({},e),{},{prefixCls:n,onSelect:function(S){v(f==="date"?"date":"month",S),p(S,"mouse")}}),null)])}tE.displayName="YearPanel";tE.inheritAttrs=!1;function Ej(t,e,n){return n?M("div",{class:"".concat(t,"-footer-extra")},[n(e)]):null}function Pj(t){var e=t.prefixCls,n=t.rangeList,r=n===void 0?[]:n,i=t.components,o=i===void 0?{}:i,l=t.needConfirmButton,a=t.onNow,f=t.onOk,p=t.okDisabled,v=t.showNow,g=t.locale,_,b;if(r.length){var S=o.rangeItem||"span";_=M(Kn,null,[r.map(function(P){var k=P.label,I=P.onClick,D=P.onMouseenter,L=P.onMouseleave;return M("li",{key:k,class:"".concat(e,"-preset")},[M(S,{onClick:I,onMouseenter:D,onMouseleave:L},{default:function(){return[k]}})])})])}if(l){var E=o.button||"button";a&&!_&&v!==!1&&(_=M("li",{class:"".concat(e,"-now")},[M("a",{class:"".concat(e,"-now-btn"),onClick:a},[g.now])])),b=l&&M("li",{class:"".concat(e,"-ok")},[M(E,{disabled:p,onClick:f},{default:function(){return[g.ok]}})])}return!_&&!b?null:M("ul",{class:"".concat(e,"-ranges")},[_,b])}function pme(){return lt({name:"PickerPanel",inheritAttrs:!1,props:{prefixCls:String,locale:Object,generateConfig:Object,value:Object,defaultValue:Object,pickerValue:Object,defaultPickerValue:Object,disabledDate:Function,mode:String,picker:{type:String,default:"date"},tabindex:{type:[Number,String],default:0},showNow:{type:Boolean,default:void 0},showTime:[Boolean,Object],showToday:Boolean,renderExtraFooter:Function,dateRender:Function,hideHeader:{type:Boolean,default:void 0},onSelect:Function,onChange:Function,onPanelChange:Function,onMousedown:Function,onPickerValueChange:Function,onOk:Function,components:Object,direction:String,hourStep:{type:Number,default:1},minuteStep:{type:Number,default:1},secondStep:{type:Number,default:1}},setup:function(e,n){var r=n.attrs,i=le(function(){return e.picker==="date"&&!!e.showTime||e.picker==="time"}),o=le(function(){return 24%e.hourStep===0}),l=le(function(){return 60%e.minuteStep===0}),a=le(function(){return 60%e.secondStep===0}),f=mu(),p=f.operationRef,v=f.panelRef,g=f.onSelect,_=f.hideRanges,b=f.defaultOpenValue,S=c0(),E=S.inRange,P=S.panelPosition,k=S.rangedValue,I=S.hoverRangedValue,D=ke({}),L=Ii(null,{value:An(e,"value"),defaultValue:e.defaultValue,postState:function(ye){return!ye&&b!==null&&b!==void 0&&b.value&&e.picker==="time"?b.value:ye}}),B=Wt(L,2),N=B[0],j=B[1],H=Ii(null,{value:An(e,"pickerValue"),defaultValue:e.defaultPickerValue||N.value,postState:function(ye){var Ne=e.generateConfig,Re=e.showTime,Ge=e.defaultValue,He=Ne.getNow();return ye?!N.value&&e.showTime?dn(Re)==="object"?tb(Ne,Array.isArray(ye)?ye[0]:ye,Re.defaultValue||He):Ge?tb(Ne,Array.isArray(ye)?ye[0]:ye,Ge):tb(Ne,Array.isArray(ye)?ye[0]:ye,He):ye:He}}),V=Wt(H,2),Z=V[0],re=V[1],q=function(ye){re(ye),e.onPickerValueChange&&e.onPickerValueChange(ye)},G=function(ye){var Ne=eme[e.picker];return Ne?Ne(ye):ye},ae=Ii(function(){return e.picker==="time"?"time":G("date")},{value:An(e,"mode")}),te=Wt(ae,2),Q=te[0],Y=te[1];Lt(function(){return e.picker},function(){Y(e.picker)});var X=ke(Q.value),ie=function(ye){X.value=ye},he=function(ye,Ne){var Re=e.onPanelChange,Ge=e.generateConfig,He=G(ye||Q.value);ie(Q.value),Y(He),Re&&(Q.value!==He||lv(Ge,Z.value,Z.value))&&Re(Ne,He)},ce=function(ye,Ne){var Re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ge=e.picker,He=e.generateConfig,Ee=e.onSelect,pe=e.onChange,Ie=e.disabledDate;(Q.value===Ge||Re)&&(j(ye),Ee&&Ee(ye),g&&g(ye,Ne),pe&&!lv(He,ye,N.value)&&!(Ie!=null&&Ie(ye))&&pe(ye))},we=function(ye){return D.value&&D.value.onKeydown?([qt.LEFT,qt.RIGHT,qt.UP,qt.DOWN,qt.PAGE_UP,qt.PAGE_DOWN,qt.ENTER].includes(ye.which)&&ye.preventDefault(),D.value.onKeydown(ye)):!1},be=function(ye){D.value&&D.value.onBlur&&D.value.onBlur(ye)},ve=function(){var ye=e.generateConfig,Ne=e.hourStep,Re=e.minuteStep,Ge=e.secondStep,He=ye.getNow(),Ee=Kve(ye.getHour(He),ye.getMinute(He),ye.getSecond(He),o.value?Ne:1,l.value?Re:1,a.value?Ge:1),pe=pj(ye,He,Ee[0],Ee[1],Ee[2]);ce(pe,"submit")},ge=le(function(){var Pe,ye=e.prefixCls,Ne=e.direction;return mt("".concat(ye,"-panel"),(Pe={},J(Pe,"".concat(ye,"-panel-has-range"),k&&k.value&&k.value[0]&&k.value[1]),J(Pe,"".concat(ye,"-panel-has-range-hover"),I&&I.value&&I.value[0]&&I.value[1]),J(Pe,"".concat(ye,"-panel-rtl"),Ne==="rtl"),Pe))});return BT(R(R({},f),{},{mode:Q,hideHeader:le(function(){var Pe;return e.hideHeader!==void 0?e.hideHeader:(Pe=f.hideHeader)===null||Pe===void 0?void 0:Pe.value}),hidePrevBtn:le(function(){return E.value&&P.value==="right"}),hideNextBtn:le(function(){return E.value&&P.value==="left"})})),Lt(function(){return e.value},function(){e.value&&re(e.value)}),function(){var Pe=e.prefixCls,ye=Pe===void 0?"ant-picker":Pe,Ne=e.locale,Re=e.generateConfig,Ge=e.disabledDate,He=e.picker,Ee=He===void 0?"date":He,pe=e.tabindex,Ie=pe===void 0?0:pe,We=e.showNow,Qe=e.showTime,at=e.showToday,xt=e.renderExtraFooter,ot=e.onMousedown,nt=e.onOk,Ze=e.components;p&&P.value!=="right"&&(p.value={onKeydown:we,onClose:function(){D.value&&D.value.onClose&&D.value.onClose()}});var ht,vt=R(R(R({},r),e),{},{operationRef:D,prefixCls:ye,viewDate:Z.value,value:N.value,onViewDateChange:q,sourceMode:X.value,onPanelChange:he,disabledDate:Ge});switch(delete vt.onChange,delete vt.onSelect,Q.value){case"decade":ht=M(jT,R(R({},vt),{},{onSelect:function(Ut,St){q(Ut),ce(Ut,St)}}),null);break;case"year":ht=M(tE,R(R({},vt),{},{onSelect:function(Ut,St){q(Ut),ce(Ut,St)}}),null);break;case"month":ht=M(YT,R(R({},vt),{},{onSelect:function(Ut,St){q(Ut),ce(Ut,St)}}),null);break;case"quarter":ht=M(QT,R(R({},vt),{},{onSelect:function(Ut,St){q(Ut),ce(Ut,St)}}),null);break;case"week":ht=M(WT,R(R({},vt),{},{onSelect:function(Ut,St){q(Ut),ce(Ut,St)}}),null);break;case"time":delete vt.showTime,ht=M(D2,R(R(R({},vt),dn(Qe)==="object"?Qe:null),{},{onSelect:function(Ut,St){q(Ut),ce(Ut,St)}}),null);break;default:Qe?ht=M(KT,R(R({},vt),{},{onSelect:function(Ut,St){q(Ut),ce(Ut,St)}}),null):ht=M(d0,R(R({},vt),{},{onSelect:function(Ut,St){q(Ut),ce(Ut,St)}}),null)}var Ct,Nt;_!=null&&_.value||(Ct=Ej(ye,Q.value,xt),Nt=Pj({prefixCls:ye,components:Ze,needConfirmButton:i.value,okDisabled:!N.value||Ge&&Ge(N.value),locale:Ne,showNow:We,onNow:i.value&&ve,onOk:function(){N.value&&(ce(N.value,"submit",!0),nt&&nt(N.value))}}));var tn;if(at&&Q.value==="date"&&Ee==="date"&&!Qe){var rn=Re.getNow(),Pt="".concat(ye,"-today-btn"),yt=Ge&&Ge(rn);tn=M("a",{class:mt(Pt,yt&&"".concat(Pt,"-disabled")),"aria-disabled":yt,onClick:function(){yt||ce(rn,"mouse",!0)}},[Ne.today])}return M("div",{tabindex:Ie,class:mt(ge.value,r.class),style:r.style,onKeydown:we,onBlur:be,onMousedown:ot,ref:v},[ht,Ct||Nt||tn?M("div",{class:"".concat(ye,"-footer")},[Ct,Nt,tn]):null])}}})}var vme=pme();const nE=function(t){return M(vme,t)};var mme={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:1,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};function Mj(t,e){var n,r=e.slots,i=ca(t),o=i.prefixCls,l=i.popupStyle,a=i.visible,f=i.dropdownClassName,p=i.dropdownAlign,v=i.transitionName,g=i.getPopupContainer,_=i.range,b=i.popupPlacement,S=i.direction,E="".concat(o,"-dropdown"),P=function(){return b!==void 0?b:S==="rtl"?"bottomRight":"bottomLeft"};return M(Hv,{showAction:[],hideAction:[],popupPlacement:P(),builtinPlacements:mme,prefixCls:E,popupTransitionName:v,popupAlign:p,popupVisible:a,popupClassName:mt(f,(n={},J(n,"".concat(E,"-range"),_),J(n,"".concat(E,"-rtl"),S==="rtl"),n)),popupStyle:l,getPopupContainer:g,tryPopPortal:!0},{default:r.default,popup:r.popupElement})}function VS(t){var e=t.open,n=t.value,r=t.isClickOutside,i=t.triggerOpen,o=t.forwardKeydown,l=t.onKeydown,a=t.blurToCancel,f=t.onSubmit,p=t.onCancel,v=t.onFocus,g=t.onBlur,_=ke(!1),b=ke(!1),S=ke(!1),E=ke(!1),P=ke(!1),k=le(function(){return{onMousedown:function(){_.value=!0,i(!0)},onKeydown:function(L){var B=function(){P.value=!0};if(l(L,B),!P.value){switch(L.which){case qt.ENTER:{e.value?f()!==!1&&(_.value=!0):i(!0),L.preventDefault();return}case qt.TAB:{_.value&&e.value&&!L.shiftKey?(_.value=!1,L.preventDefault()):!_.value&&e.value&&!o(L)&&L.shiftKey&&(_.value=!0,L.preventDefault());return}case qt.ESC:{_.value=!0,p();return}}!e.value&&![qt.SHIFT].includes(L.which)?i(!0):_.value||o(L)}},onFocus:function(L){_.value=!0,b.value=!0,v&&v(L)},onBlur:function(L){if(S.value||!r(document.activeElement)){S.value=!1;return}a.value?setTimeout(function(){for(var B=document,N=B.activeElement;N&&N.shadowRoot;)N=N.shadowRoot.activeElement;r(N)&&p()},0):e.value&&(i(!1),E.value&&f()),b.value=!1,g&&g(L)}}});Lt(e,function(){E.value=!1}),Lt(n,function(){E.value=!0});var I=ke();return zn(function(){I.value=qve(function(D){var L=Yve(D);if(e.value){var B=r(L);B?(!b.value||B)&&i(!1):(S.value=!0,$n(function(){S.value=!1}))}})}),tr(function(){I.value&&I.value()}),[k,{focused:b,typing:_}]}function US(t){var e=t.valueTexts,n=t.onTextChange,r=ke("");function i(l){r.value=l,n(l)}function o(){r.value=e.value[0]}return Lt(function(){return Jt(e.value)},function(l){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];l.join("||")!==a.join("||")&&e.value.every(function(f){return f!==r.value})&&o()},{immediate:!0}),[r,i,o]}function bx(t,e){var n=e.formatList,r=e.generateConfig,i=e.locale,o=_T(function(){if(!t.value)return[[""],""];for(var f="",p=[],v=0;v<n.value.length;v+=1){var g=n.value[v],_=no(t.value,{generateConfig:r.value,locale:i.value,format:g});p.push(_),v===0&&(f=_)}return[p,f]},[t,n],function(f,p){return p[0]!==f[0]||!Up(p[1],f[1])}),l=le(function(){return o.value[0]}),a=le(function(){return o.value[1]});return[l,a]}function HS(t,e){var n=e.formatList,r=e.generateConfig,i=e.locale,o=ke(null),l;function a(b){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if($n.cancel(l),S){o.value=b;return}l=$n(function(){o.value=b})}var f=bx(o,{formatList:n,generateConfig:r,locale:i}),p=Wt(f,2),v=p[1];function g(b){a(b)}function _(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;a(null,b)}return Lt(t,function(){_(!0)}),tr(function(){$n.cancel(l)}),[v,g,_]}function gme(){return lt({name:"Picker",inheritAttrs:!1,props:["prefixCls","id","tabindex","dropdownClassName","dropdownAlign","popupStyle","transitionName","generateConfig","locale","inputReadOnly","allowClear","autofocus","showTime","showNow","showHour","showMinute","showSecond","picker","format","use12Hours","value","defaultValue","open","defaultOpen","defaultOpenValue","suffixIcon","clearIcon","disabled","disabledDate","placeholder","getPopupContainer","panelRender","inputRender","onChange","onOpenChange","onFocus","onBlur","onMousedown","onMouseup","onMouseenter","onMouseleave","onContextmenu","onClick","onKeydown","onSelect","direction","autocomplete","showToday","renderExtraFooter","dateRender","minuteStep","hourStep","secondStep","hideDisabledOptions"],setup:function(e,n){var r=n.attrs,i=n.expose,o=ke(null),l=le(function(){var pe;return(pe=e.picker)!==null&&pe!==void 0?pe:"date"}),a=le(function(){return l.value==="date"&&!!e.showTime||l.value==="time"}),f=le(function(){return wj(vj(e.format,l.value,e.showTime,e.use12Hours))}),p=ke(null),v=ke(null),g=ke(null),_=Ii(null,{value:An(e,"value"),defaultValue:e.defaultValue}),b=Wt(_,2),S=b[0],E=b[1],P=ke(S.value),k=function(Ie){P.value=Ie},I=ke(null),D=Ii(!1,{value:An(e,"open"),defaultValue:e.defaultOpen,postState:function(Ie){return e.disabled?!1:Ie},onChange:function(Ie){e.onOpenChange&&e.onOpenChange(Ie),!Ie&&I.value&&I.value.onClose&&I.value.onClose()}}),L=Wt(D,2),B=L[0],N=L[1],j=bx(P,{formatList:f,generateConfig:An(e,"generateConfig"),locale:An(e,"locale")}),H=Wt(j,2),V=H[0],Z=H[1],re=US({valueTexts:V,onTextChange:function(Ie){var We=bj(Ie,{locale:e.locale,formatList:f.value,generateConfig:e.generateConfig});We&&(!e.disabledDate||!e.disabledDate(We))&&k(We)}}),q=Wt(re,3),G=q[0],ae=q[1],te=q[2],Q=function(Ie){var We=e.onChange,Qe=e.generateConfig,at=e.locale;k(Ie),E(Ie),We&&!lv(Qe,S.value,Ie)&&We(Ie,Ie?no(Ie,{generateConfig:Qe,locale:at,format:f.value[0]}):"")},Y=function(Ie){e.disabled&&Ie||N(Ie)},X=function(Ie){return B.value&&I.value&&I.value.onKeydown?I.value.onKeydown(Ie):!1},ie=function(){e.onMouseup&&e.onMouseup.apply(e,arguments),o.value&&(o.value.focus(),Y(!0))},he=VS({blurToCancel:a,open:B,value:G,triggerOpen:Y,forwardKeydown:X,isClickOutside:function(Ie){return!gj([p.value,v.value,g.value],Ie)},onSubmit:function(){return!P.value||e.disabledDate&&e.disabledDate(P.value)?!1:(Q(P.value),Y(!1),te(),!0)},onCancel:function(){Y(!1),k(S.value),te()},onKeydown:function(Ie,We){var Qe;(Qe=e.onKeydown)===null||Qe===void 0||Qe.call(e,Ie,We)},onFocus:function(Ie){var We;(We=e.onFocus)===null||We===void 0||We.call(e,Ie)},onBlur:function(Ie){var We;(We=e.onBlur)===null||We===void 0||We.call(e,Ie)}}),ce=Wt(he,2),we=ce[0],be=ce[1],ve=be.focused,ge=be.typing;Lt([B,V],function(){B.value||(k(S.value),!V.value.length||V.value[0]===""?ae(""):Z.value!==G.value&&te())}),Lt(l,function(){B.value||te()}),Lt(S,function(){k(S.value)});var Pe=HS(G,{formatList:f,generateConfig:An(e,"generateConfig"),locale:An(e,"locale")}),ye=Wt(Pe,3),Ne=ye[0],Re=ye[1],Ge=ye[2],He=function(Ie,We){(We==="submit"||We!=="key"&&!a.value)&&(Q(Ie),Y(!1))};BT({operationRef:I,hideHeader:le(function(){return l.value==="time"}),panelRef:p,onSelect:He,open:B,defaultOpenValue:An(e,"defaultOpenValue"),onDateMouseenter:Re,onDateMouseleave:Ge}),i({focus:function(){o.value&&o.value.focus()},blur:function(){o.value&&o.value.blur()}});var Ee=Zz();return function(){var pe,Ie=e.prefixCls,We=Ie===void 0?"rc-picker":Ie,Qe=e.id,at=e.tabindex,xt=e.dropdownClassName,ot=e.dropdownAlign,nt=e.popupStyle,Ze=e.transitionName,ht=e.generateConfig,vt=e.locale,Ct=e.inputReadOnly,Nt=e.allowClear,tn=e.autofocus,rn=e.picker,Pt=rn===void 0?"date":rn;e.defaultOpenValue;var yt=e.suffixIcon,Bt=e.clearIcon,Ut=e.disabled,St=e.placeholder,ft=e.getPopupContainer,gt=e.panelRender,_t=e.onMousedown,Ft=e.onMouseenter,Gt=e.onMouseleave,Zt=e.onContextmenu,Me=e.onClick,de=e.onSelect,_e=e.direction,De=e.autocomplete,$e=De===void 0?"off":De,Ke=R(R(R({},e),r),{},{class:mt(J({},"".concat(We,"-panel-focused"),!ge.value)),style:void 0,pickerValue:void 0,onPickerValueChange:void 0,onChange:null}),et=M(nE,R(R({},Ke),{},{generateConfig:ht,value:P.value,locale:vt,tabindex:-1,onSelect:function(pn){de==null||de(pn),k(pn)},direction:_e,onPanelChange:function(pn,En){var Cn=e.onPanelChange;Ge(!0),Cn==null||Cn(pn,En)}}),null);gt&&(et=gt(et));var rt=M("div",{class:"".concat(We,"-panel-container"),onMousedown:function(pn){pn.preventDefault()}},[et]),Ye;yt&&(Ye=M("span",{class:"".concat(We,"-suffix")},[yt]));var pt;Nt&&S.value&&!Ut&&(pt=M("span",{onMousedown:function(pn){pn.preventDefault(),pn.stopPropagation()},onMouseup:function(pn){pn.preventDefault(),pn.stopPropagation(),Q(null),Y(!1)},class:"".concat(We,"-clear"),role:"button"},[Bt||M("span",{class:"".concat(We,"-clear-btn")},null)]));var kt=R(R(R({id:Qe,tabindex:at,disabled:Ut,readonly:Ct||typeof f.value[0]=="function"||!ge.value,value:Ne.value||G.value,onInput:function(pn){ae(pn.target.value)},autofocus:tn,placeholder:St,ref:o,title:G.value},we.value),{},{size:mj(Pt,f.value[0],ht)},Cj(e)),{},{autocomplete:$e}),Ht=e.inputRender?e.inputRender(kt):M("input",kt,null),Ot=_e==="rtl"?"bottomRight":"bottomLeft";return M(Mj,{visible:B.value,popupStyle:nt,prefixCls:We,dropdownClassName:xt,dropdownAlign:ot,getPopupContainer:ft,transitionName:Ze,popupPlacement:Ot,direction:_e},{default:function(){return[M("div",{ref:g,class:mt(We,r.class,(pe={},J(pe,"".concat(We,"-disabled"),Ut),J(pe,"".concat(We,"-focused"),ve.value),J(pe,"".concat(We,"-rtl"),_e==="rtl"),pe)),style:r.style,onMousedown:_t,onMouseup:ie,onMouseenter:Ft,onMouseleave:Gt,onContextmenu:Zt,onClick:Me},[M("div",{class:mt("".concat(We,"-input"),J({},"".concat(We,"-input-placeholder"),!!Ne.value)),ref:v},[Ht,Ye,pt]),Ee()])]},popupElement:function(){return rt}})}}})}const yme=gme();function _me(t,e){var n=t.picker,r=t.locale,i=t.selectedValue,o=t.disabledDate,l=t.disabled,a=t.generateConfig,f=le(function(){return zr(i.value,0)}),p=le(function(){return zr(i.value,1)});function v(E){return a.value.locale.getWeekFirstDate(r.value.locale,E)}function g(E){var P=a.value.getYear(E),k=a.value.getMonth(E);return P*100+k}function _(E){var P=a.value.getYear(E),k=zS(a.value,E);return P*10+k}var b=function(P){var k;if(o&&o!==null&&o!==void 0&&(k=o.value)!==null&&k!==void 0&&k.call(o,P))return!0;if(l[1]&&p)return!nc(a.value,P,p.value)&&a.value.isAfter(P,p.value);if(e.value[1]&&p.value)switch(n.value){case"quarter":return _(P)>_(p.value);case"month":return g(P)>g(p.value);case"week":return v(P)>v(p.value);default:return!nc(a.value,P,p.value)&&a.value.isAfter(P,p.value)}return!1},S=function(P){var k;if((k=o.value)!==null&&k!==void 0&&k.call(o,P))return!0;if(l[0]&&f)return!nc(a.value,P,p.value)&&a.value.isAfter(f.value,P);if(e.value[0]&&f.value)switch(n.value){case"quarter":return _(P)<_(f.value);case"month":return g(P)<g(f.value);case"week":return v(P)<v(f.value);default:return!nc(a.value,P,f.value)&&a.value.isAfter(f.value,P)}return!1};return[b,S]}function bme(t,e,n,r){var i=r1(t,n,r,1);function o(l){return l(t,e)?"same":l(i,e)?"closing":"far"}switch(n){case"year":return o(function(l,a){return tme(r,l,a)});case"quarter":case"month":return o(function(l,a){return O2(r,l,a)});default:return o(function(l,a){return VT(r,l,a)})}}function xme(t,e,n,r){var i=zr(t,0),o=zr(t,1);if(e===0)return i;if(i&&o){var l=bme(i,o,n,r);switch(l){case"same":return i;case"closing":return i;default:return r1(o,n,r,-1)}}return i}function wme(t){var e=t.values,n=t.picker,r=t.defaultDates,i=t.generateConfig,o=ke([zr(r,0),zr(r,1)]),l=ke(null),a=le(function(){return zr(e.value,0)}),f=le(function(){return zr(e.value,1)}),p=function(S){return o.value[S]?o.value[S]:zr(l.value,S)||xme(e.value,S,n.value,i.value)||a.value||f.value||i.value.getNow()},v=ke(null),g=ke(null);Un(function(){v.value=p(0),g.value=p(1)});function _(b,S){if(b){var E=Vs(l.value,b,S);o.value=Vs(o.value,null,S)||[null,null];var P=(S+1)%2;zr(e.value,P)||(E=Vs(E,b,P)),l.value=E}else(a.value||f.value)&&(l.value=null)}return[v,g,_]}function Cme(t){return lF()?(Zq(t),!0):!1}function Sme(t){return typeof t=="function"?t():pa(t)}function kj(t){var e,n=Sme(t);return(e=n==null?void 0:n.$el)!==null&&e!==void 0?e:n}function Tme(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Ba()?zn(t):e?t():Yn(t)}function Eme(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=ke(),r=function(){return n.value=!!t()};return r(),Tme(r,e),n}var NC,BC,Aj=typeof window<"u";Aj&&(!((NC=window)===null||NC===void 0||(BC=NC.navigator)===null||BC===void 0)&&BC.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);var Pme=Aj?window:void 0,Mme=["window"];function kme(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.window,i=r===void 0?Pme:r,o=kn(n,Mme),l,a=Eme(function(){return i&&"ResizeObserver"in i}),f=function(){l&&(l.disconnect(),l=void 0)},p=Lt(function(){return kj(t)},function(g){f(),a.value&&i&&g&&(l=new ResizeObserver(e),l.observe(g,o))},{immediate:!0,flush:"post"}),v=function(){f(),p()};return Cme(v),{isSupported:a,stop:v}}function _g(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{width:0,height:0},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.box,i=r===void 0?"content-box":r,o=ke(e.width),l=ke(e.height);return kme(t,function(a){var f=Wt(a,1),p=f[0],v=i==="border-box"?p.borderBoxSize:i==="content-box"?p.contentBoxSize:p.devicePixelContentBoxSize;v?(o.value=v.reduce(function(g,_){var b=_.inlineSize;return g+b},0),l.value=v.reduce(function(g,_){var b=_.blockSize;return g+b},0)):(o.value=p.contentRect.width,l.value=p.contentRect.height)},n),Lt(function(){return kj(t)},function(a){o.value=a?e.width:0,l.value=a?e.height:0}),{width:o,height:l}}function mO(t,e){return t&&t[0]&&t[1]&&e.isAfter(t[0],t[1])?[t[1],t[0]]:t}function gO(t,e,n,r){return!!(t||r&&r[e]||n[(e+1)%2])}function Ame(){return lt({name:"RangerPicker",inheritAttrs:!1,props:["prefixCls","id","popupStyle","dropdownClassName","transitionName","dropdownAlign","getPopupContainer","generateConfig","locale","placeholder","autofocus","disabled","format","picker","showTime","showNow","showHour","showMinute","showSecond","use12Hours","separator","value","defaultValue","defaultPickerValue","open","defaultOpen","disabledDate","disabledTime","dateRender","panelRender","ranges","allowEmpty","allowClear","suffixIcon","clearIcon","pickerRef","inputReadOnly","mode","renderExtraFooter","onChange","onOpenChange","onPanelChange","onCalendarChange","onFocus","onBlur","onMousedown","onMouseup","onMouseenter","onMouseleave","onClick","onOk","onKeydown","components","order","direction","activePickerIndex","autocomplete","minuteStep","hourStep","secondStep","hideDisabledOptions","disabledMinutes"],setup:function(e,n){var r=n.attrs,i=n.expose,o=le(function(){return e.picker==="date"&&!!e.showTime||e.picker==="time"}),l=Zz(),a=ke({}),f=ke(null),p=ke(null),v=ke(null),g=ke(null),_=ke(null),b=ke(null),S=ke(null),E=ke(null),P=le(function(){return wj(vj(e.format,e.picker,e.showTime,e.use12Hours))}),k=Ii(0,{value:An(e,"activePickerIndex")}),I=Wt(k,2),D=I[0],L=I[1],B=ke(null),N=le(function(){var Dn=e.disabled;return Array.isArray(Dn)?Dn:[Dn||!1,Dn||!1]}),j=Ii(null,{value:An(e,"value"),defaultValue:e.defaultValue,postState:function(wn){return e.picker==="time"&&!e.order?wn:mO(wn,e.generateConfig)}}),H=Wt(j,2),V=H[0],Z=H[1],re=wme({values:V,picker:An(e,"picker"),defaultDates:e.defaultPickerValue,generateConfig:An(e,"generateConfig")}),q=Wt(re,3),G=q[0],ae=q[1],te=q[2],Q=Ii(V.value,{postState:function(wn){var Mn=wn;if(N.value[0]&&N.value[1])return Mn;for(var In=0;In<2;In+=1)N.value[In]&&!zr(Mn,In)&&!zr(e.allowEmpty,In)&&(Mn=Vs(Mn,e.generateConfig.getNow(),In));return Mn}}),Y=Wt(Q,2),X=Y[0],ie=Y[1],he=Ii([e.picker,e.picker],{value:An(e,"mode")}),ce=Wt(he,2),we=ce[0],be=ce[1];Lt(function(){return e.picker},function(){be([e.picker,e.picker])});var ve=function(wn,Mn){var In;be(wn),(In=e.onPanelChange)===null||In===void 0||In.call(e,Mn,wn)},ge=_me({picker:An(e,"picker"),selectedValue:X,locale:An(e,"locale"),disabled:N,disabledDate:An(e,"disabledDate"),generateConfig:An(e,"generateConfig")},a),Pe=Wt(ge,2),ye=Pe[0],Ne=Pe[1],Re=Ii(!1,{value:An(e,"open"),defaultValue:e.defaultOpen,postState:function(wn){return N.value[D.value]?!1:wn},onChange:function(wn){var Mn;(Mn=e.onOpenChange)===null||Mn===void 0||Mn.call(e,wn),!wn&&B.value&&B.value.onClose&&B.value.onClose()}}),Ge=Wt(Re,2),He=Ge[0],Ee=Ge[1],pe=le(function(){return He.value&&D.value===0}),Ie=le(function(){return He.value&&D.value===1}),We=ke(0),Qe=ke(0),at=ke(0),xt=_g(f),ot=xt.width;Lt([He,ot],function(){!He.value&&f.value&&(at.value=ot.value)});var nt=_g(p),Ze=nt.width,ht=_g(E),vt=ht.width,Ct=_g(v),Nt=Ct.width,tn=_g(_),rn=tn.width;Lt([D,He,Ze,vt,Nt,rn,function(){return e.direction}],function(){Qe.value=0,He.value&&D.value?v.value&&_.value&&p.value&&(Qe.value=Nt.value+rn.value,Ze.value&&vt.value&&Qe.value>Ze.value-vt.value-(e.direction==="rtl"||E.value.offsetLeft>Qe.value?0:E.value.offsetLeft)&&(We.value=Qe.value)):D.value===0&&(We.value=0)},{immediate:!0});var Pt=ke();function yt(Dn,wn){if(Dn)clearTimeout(Pt.value),a.value[wn]=!0,L(wn),Ee(Dn),He.value||te(null,wn);else if(D.value===wn){Ee(Dn);var Mn=a.value;Pt.value=setTimeout(function(){Mn===a.value&&(a.value={})})}}function Bt(Dn){yt(!0,Dn),setTimeout(function(){var wn=[b,S][Dn];wn.value&&wn.value.focus()},0)}function Ut(Dn,wn){var Mn=Dn,In=zr(Mn,0),Pn=zr(Mn,1),xi=e.generateConfig,xa=e.locale,za=e.picker,is=e.order,as=e.onCalendarChange,Xs=e.allowEmpty,Za=e.onChange,os=e.showTime;In&&Pn&&xi.isAfter(In,Pn)&&(za==="week"&&!_j(xi,xa.locale,In,Pn)||za==="quarter"&&!yj(xi,In,Pn)||za!=="week"&&za!=="quarter"&&za!=="time"&&!(os?lv(xi,In,Pn):nc(xi,In,Pn))?(wn===0?(Mn=[In,null],Pn=null):(In=null,Mn=[null,Pn]),a.value=J({},wn,!0)):(za!=="time"||is!==!1)&&(Mn=mO(Mn,xi))),ie(Mn);var Qa=Mn&&Mn[0]?no(Mn[0],{generateConfig:xi,locale:xa,format:P.value[0]}):"",wa=Mn&&Mn[1]?no(Mn[1],{generateConfig:xi,locale:xa,format:P.value[0]}):"";if(as){var wi={range:wn===0?"start":"end"};as(Mn,[Qa,wa],wi)}var Lr=gO(In,0,N.value,Xs),_u=gO(Pn,1,N.value,Xs),Ol=Mn===null||Lr&&_u;Ol&&(Z(Mn),Za&&(!lv(xi,zr(V.value,0),In)||!lv(xi,zr(V.value,1),Pn))&&Za(Mn,[Qa,wa]));var Ei=null;wn===0&&!N.value[1]?Ei=1:wn===1&&!N.value[0]&&(Ei=0),Ei!==null&&Ei!==D.value&&(!a.value[Ei]||!zr(Mn,Ei))&&zr(Mn,wn)?Bt(Ei):yt(!1,wn)}var St=function(wn){return He&&B.value&&B.value.onKeydown?B.value.onKeydown(wn):!1},ft={formatList:P,generateConfig:An(e,"generateConfig"),locale:An(e,"locale")},gt=bx(le(function(){return zr(X.value,0)}),ft),_t=Wt(gt,2),Ft=_t[0],Gt=_t[1],Zt=bx(le(function(){return zr(X.value,1)}),ft),Me=Wt(Zt,2),de=Me[0],_e=Me[1],De=function(wn,Mn){var In=bj(wn,{locale:e.locale,formatList:P.value,generateConfig:e.generateConfig}),Pn=Mn===0?ye:Ne;In&&!Pn(In)&&(ie(Vs(X.value,In,Mn)),te(In,Mn))},$e=US({valueTexts:Ft,onTextChange:function(wn){return De(wn,0)}}),Ke=Wt($e,3),et=Ke[0],rt=Ke[1],Ye=Ke[2],pt=US({valueTexts:de,onTextChange:function(wn){return De(wn,1)}}),kt=Wt(pt,3),Ht=kt[0],Ot=kt[1],hn=kt[2],pn=yi(null),En=Wt(pn,2),Cn=En[0],Nn=En[1],nr=yi(null),qn=Wt(nr,2),rr=qn[0],ur=qn[1],Si=HS(et,ft),hr=Wt(Si,3),Yr=hr[0],da=hr[1],Oo=hr[2],ba=HS(Ht,ft),er=Wt(ba,3),ci=er[0],fa=er[1],xo=er[2],gc=function(wn){ur(Vs(X.value,wn,D.value)),D.value===0?da(wn):fa(wn)},Do=function(){ur(Vs(X.value,null,D.value)),D.value===0?Oo():xo()},Ro=function(wn,Mn){return{forwardKeydown:St,onBlur:function(Pn){var xi;(xi=e.onBlur)===null||xi===void 0||xi.call(e,Pn)},isClickOutside:function(Pn){return!gj([p.value,v.value,g.value,f.value],Pn)},onFocus:function(Pn){var xi;L(wn),(xi=e.onFocus)===null||xi===void 0||xi.call(e,Pn)},triggerOpen:function(Pn){yt(Pn,wn)},onSubmit:function(){if(!X.value||e.disabledDate&&e.disabledDate(X.value[wn]))return!1;Ut(X.value,wn),Mn()},onCancel:function(){yt(!1,wn),ie(V.value),Mn()}}},Ud=VS(R(R({},Ro(0,Ye)),{},{blurToCancel:o,open:pe,value:et,onKeydown:function(wn,Mn){var In;(In=e.onKeydown)===null||In===void 0||In.call(e,wn,Mn)}})),yc=Wt(Ud,2),Ys=yc[0],Lo=yc[1],Al=Lo.focused,zt=Lo.typing,rs=VS(R(R({},Ro(1,hn)),{},{blurToCancel:o,open:Ie,value:Ht,onKeydown:function(wn,Mn){var In;(In=e.onKeydown)===null||In===void 0||In.call(e,wn,Mn)}})),Ti=Wt(rs,2),na=Ti[0],Hd=Ti[1],wo=Hd.focused,_c=Hd.typing,Dh=function(wn){var Mn;(Mn=e.onClick)===null||Mn===void 0||Mn.call(e,wn),!He.value&&!b.value.contains(wn.target)&&!S.value.contains(wn.target)&&(N.value[0]?N.value[1]||Bt(1):Bt(0))},Il=function(wn){var Mn;(Mn=e.onMousedown)===null||Mn===void 0||Mn.call(e,wn),He.value&&(Al.value||wo.value)&&!b.value.contains(wn.target)&&!S.value.contains(wn.target)&&wn.preventDefault()},mn=le(function(){var Dn;return(Dn=V.value)!==null&&Dn!==void 0&&Dn[0]?no(V.value[0],{locale:e.locale,format:"YYYYMMDDHHmmss",generateConfig:e.generateConfig}):""}),br=le(function(){var Dn;return(Dn=V.value)!==null&&Dn!==void 0&&Dn[1]?no(V.value[1],{locale:e.locale,format:"YYYYMMDDHHmmss",generateConfig:e.generateConfig}):""});Lt([He,Ft,de],function(){He.value||(ie(V.value),!Ft.value.length||Ft.value[0]===""?rt(""):Gt.value!==et.value&&Ye(),!de.value.length||de.value[0]===""?Ot(""):_e.value!==Ht.value&&hn())}),Lt([mn,br],function(){ie(V.value)}),i({focus:function(){b.value&&b.value.focus()},blur:function(){b.value&&b.value.blur(),S.value&&S.value.blur()}});var mr=le(function(){return Object.keys(e.ranges||{}).map(function(Dn){var wn=e.ranges[Dn],Mn=typeof wn=="function"?wn():wn;return{label:Dn,onClick:function(){Ut(Mn,null),yt(!1,D.value)},onMouseenter:function(){Nn(Mn)},onMouseleave:function(){Nn(null)}}})}),Ya=le(function(){return He.value&&rr.value&&rr.value[0]&&rr.value[1]&&e.generateConfig.isAfter(rr.value[1],rr.value[0])?rr.value:null});function Xa(){var Dn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,wn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Mn=e.generateConfig,In=e.showTime,Pn=e.dateRender,xi=e.direction,xa=e.disabledTime,za=e.prefixCls,is=e.locale,as=In;if(In&&dn(In)==="object"&&In.defaultValue){var Xs=In.defaultValue;as=R(R({},In),{},{defaultValue:zr(Xs,D.value)||void 0})}var Za=null;return Pn&&(Za=function(Qa){var wa=Qa.current,wi=Qa.today;return Pn({current:wa,today:wi,info:{range:D.value?"end":"start"}})}),M(ume,{value:{inRange:!0,panelPosition:Dn,rangedValue:Cn.value||X.value,hoverRangedValue:Ya.value}},{default:function(){return[M(nE,R(R(R({},e),wn),{},{dateRender:Za,showTime:as,mode:we.value[D.value],generateConfig:Mn,style:void 0,direction:xi,disabledDate:D.value===0?ye:Ne,disabledTime:function(wa){return xa?xa(wa,D.value===0?"start":"end"):!1},class:mt(J({},"".concat(za,"-panel-focused"),D.value===0?!zt.value:!_c.value)),value:zr(X.value,D.value),locale:is,tabIndex:-1,onPanelChange:function(wa,wi){D.value===0&&Oo(!0),D.value===1&&xo(!0),ve(Vs(we.value,wi,D.value),Vs(X.value,wa,D.value));var Lr=wa;Dn==="right"&&we.value[D.value]===wi&&(Lr=r1(Lr,wi,Mn,-1)),te(Lr,D.value)},onOk:null,onSelect:void 0,onChange:void 0,defaultValue:D.value===0?zr(X.value,1):zr(X.value,0)}),null)]}})}var gr=function(wn,Mn){var In=Vs(X.value,wn,D.value);Mn==="submit"||Mn!=="key"&&!o.value?(Ut(In,D.value),D.value===0?Oo():xo()):ie(In)};return BT({operationRef:B,hideHeader:le(function(){return e.picker==="time"}),onDateMouseenter:gc,onDateMouseleave:Do,hideRanges:le(function(){return!0}),onSelect:gr,open:He}),function(){var Dn,wn,Mn,In=e.prefixCls,Pn=In===void 0?"rc-picker":In,xi=e.id,xa=e.popupStyle,za=e.dropdownClassName,is=e.transitionName,as=e.dropdownAlign,Xs=e.getPopupContainer,Za=e.generateConfig,os=e.locale,Qa=e.placeholder,wa=e.autofocus,wi=e.picker,Lr=wi===void 0?"date":wi,_u=e.showTime,Ol=e.separator,Ei=Ol===void 0?"~":Ol,Ja=e.disabledDate,Kd=e.panelRender,bu=e.allowClear,mi=e.suffixIcon,xu=e.clearIcon,bc=e.inputReadOnly,Zs=e.renderExtraFooter,ha=e.onMouseenter,Wd=e.onMouseleave,Gd=e.onMouseup,Fo=e.onOk,Ts=e.components,Es=e.direction,Rh=e.autocomplete,xc=Rh===void 0?"off":Rh,Dl=Es==="rtl"?{right:"".concat(Qe.value,"px")}:{left:"".concat(Qe.value,"px")};function No(){var ao,So=Ej(Pn,we.value[D.value],Zs),Aa=Pj({prefixCls:Pn,components:Ts,needConfirmButton:o.value,okDisabled:!zr(X.value,D.value)||Ja&&Ja(X.value[D.value]),locale:os,rangeList:mr.value,onOk:function(){zr(X.value,D.value)&&(Ut(X.value,D.value),Fo&&Fo(X.value))}});if(Lr!=="time"&&!_u){var wc=D.value===0?G.value:ae.value,Yd=r1(wc,Lr,Za),Nl=we.value[D.value],kr=Nl===Lr,Lh=Xa(kr?"left":!1,{pickerValue:wc,onPickerValueChange:function(Bl){te(Bl,D.value)}}),Cc=Xa("right",{pickerValue:Yd,onPickerValueChange:function(Bl){te(r1(Bl,Lr,Za,-1),D.value)}});Es==="rtl"?ao=M(Kn,null,[Cc,kr&&Lh]):ao=M(Kn,null,[Lh,kr&&Cc])}else ao=Xa();var Sc=M(Kn,null,[M("div",{class:"".concat(Pn,"-panels")},[ao]),(So||Aa)&&M("div",{class:"".concat(Pn,"-footer")},[So,Aa])]);return Kd&&(Sc=Kd(Sc)),M("div",{class:"".concat(Pn,"-panel-container"),style:{marginLeft:"".concat(We.value,"px")},ref:p,onMousedown:function(Bl){Bl.preventDefault()}},[Sc])}var qd=M("div",{class:mt("".concat(Pn,"-range-wrapper"),"".concat(Pn,"-").concat(Lr,"-range-wrapper")),style:{minWidth:"".concat(at.value,"px")}},[M("div",{ref:E,class:"".concat(Pn,"-range-arrow"),style:Dl},null),No()]),Ps;mi&&(Ps=M("span",{class:"".concat(Pn,"-suffix")},[mi]));var Bo;bu&&(zr(V.value,0)&&!N.value[0]||zr(V.value,1)&&!N.value[1])&&(Bo=M("span",{onMousedown:function(So){So.preventDefault(),So.stopPropagation()},onMouseup:function(So){So.preventDefault(),So.stopPropagation();var Aa=V.value;N.value[0]||(Aa=Vs(Aa,null,0)),N.value[1]||(Aa=Vs(Aa,null,1)),Ut(Aa,null),yt(!1,D.value)},class:"".concat(Pn,"-clear")},[xu||M("span",{class:"".concat(Pn,"-clear-btn")},null)]));var Rl={size:mj(Lr,P.value[0],Za)},Co=0,Ll=0;v.value&&g.value&&_.value&&(D.value===0?Ll=v.value.offsetWidth:(Co=Qe.value,Ll=g.value.offsetWidth));var Fl=Es==="rtl"?{right:"".concat(Co,"px")}:{left:"".concat(Co,"px")};return M(Mj,{visible:He.value,popupStyle:xa,prefixCls:Pn,dropdownClassName:za,dropdownAlign:as,getPopupContainer:Xs,transitionName:is,range:!0,direction:Es},{default:function(){return[M("div",R({ref:f,class:mt(Pn,"".concat(Pn,"-range"),r.class,(Dn={},J(Dn,"".concat(Pn,"-disabled"),N.value[0]&&N.value[1]),J(Dn,"".concat(Pn,"-focused"),D.value===0?Al.value:wo.value),J(Dn,"".concat(Pn,"-rtl"),Es==="rtl"),Dn)),style:r.style,onClick:Dh,onMouseenter:ha,onMouseleave:Wd,onMousedown:Il,onMouseup:Gd},Cj(e)),[M("div",{class:mt("".concat(Pn,"-input"),(wn={},J(wn,"".concat(Pn,"-input-active"),D.value===0),J(wn,"".concat(Pn,"-input-placeholder"),!!Yr.value),wn)),ref:v},[M("input",R(R(R({id:xi,disabled:N.value[0],readonly:bc||typeof P.value[0]=="function"||!zt.value,value:Yr.value||et.value,onInput:function(Aa){rt(Aa.target.value)},autofocus:wa,placeholder:zr(Qa,0)||"",ref:b},Ys.value),Rl),{},{autocomplete:xc}),null)]),M("div",{class:"".concat(Pn,"-range-separator"),ref:_},[Ei]),M("div",{class:mt("".concat(Pn,"-input"),(Mn={},J(Mn,"".concat(Pn,"-input-active"),D.value===1),J(Mn,"".concat(Pn,"-input-placeholder"),!!ci.value),Mn)),ref:g},[M("input",R(R(R({disabled:N.value[1],readonly:bc||typeof P.value[0]=="function"||!_c.value,value:ci.value||Ht.value,onInput:function(Aa){Ot(Aa.target.value)},placeholder:zr(Qa,1)||"",ref:S},na.value),Rl),{},{autocomplete:xc}),null)]),M("div",{class:"".concat(Pn,"-active-bar"),style:R(R({},Fl),{},{width:"".concat(Ll,"px"),position:"absolute"})},null),Ps,Bo,l()])]},popupElement:function(){return qd}})}}})}var Ime=Ame();const Ome=Ime;var Dme=["prefixCls","name","id","type","disabled","readonly","tabindex","autofocus","value","required"],Rme={prefixCls:String,name:String,id:String,type:String,defaultChecked:{type:[Boolean,Number],default:void 0},checked:{type:[Boolean,Number],default:void 0},disabled:Boolean,tabindex:{type:[Number,String]},readonly:Boolean,autofocus:Boolean,value:Te.any,required:Boolean};const Ij=lt({compatConfig:{MODE:3},name:"Checkbox",inheritAttrs:!1,props:lr(Rme,{prefixCls:"rc-checkbox",type:"checkbox",defaultChecked:!1}),emits:["click","change"],setup:function(e,n){var r=n.attrs,i=n.emit,o=n.expose,l=ke(e.checked===void 0?e.defaultChecked:e.checked),a=ke();Lt(function(){return e.checked},function(){l.value=e.checked}),o({focus:function(){var _;(_=a.value)===null||_===void 0||_.focus()},blur:function(){var _;(_=a.value)===null||_===void 0||_.blur()}});var f=ke(),p=function(_){if(!e.disabled){e.checked===void 0&&(l.value=_.target.checked),_.shiftKey=f.value;var b={target:R(R({},e),{},{checked:_.target.checked}),stopPropagation:function(){_.stopPropagation()},preventDefault:function(){_.preventDefault()},nativeEvent:_};e.checked!==void 0&&(a.value.checked=!!e.checked),i("change",b),f.value=!1}},v=function(_){i("click",_),f.value=_.shiftKey};return function(){var g,_=e.prefixCls,b=e.name,S=e.id,E=e.type,P=e.disabled,k=e.readonly,I=e.tabindex,D=e.autofocus,L=e.value,B=e.required,N=kn(e,Dme),j=r.class,H=r.onFocus,V=r.onBlur,Z=r.onKeydown,re=r.onKeypress,q=r.onKeyup,G=R(R({},N),r),ae=Object.keys(G).reduce(function(Y,X){return(X.substr(0,5)==="aria-"||X.substr(0,5)==="data-"||X==="role")&&(Y[X]=G[X]),Y},{}),te=mt(_,j,(g={},J(g,"".concat(_,"-checked"),l.value),J(g,"".concat(_,"-disabled"),P),g)),Q=R(R({name:b,id:S,type:E,readonly:k,disabled:P,tabindex:I,class:"".concat(_,"-input"),checked:!!l.value,autofocus:D,value:L},ae),{},{onChange:p,onClick:v,onFocus:H,onBlur:V,onKeydown:Z,onKeypress:re,onKeyup:q,required:B});return M("span",{class:te},[M("input",R({ref:a},Q),null),M("span",{class:"".concat(_,"-inner")},null)])}}});var Lme=["prefixCls","id"],Oj=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Te.any,name:String,id:String,autofocus:{type:Boolean,default:void 0},onChange:Function,onFocus:Function,onBlur:Function,onClick:Function,"onUpdate:checked":Function,"onUpdate:value":Function}};const Mo=lt({compatConfig:{MODE:3},name:"ARadio",props:Oj(),setup:function(e,n){var r=n.emit,i=n.expose,o=n.slots,l=_a(),a=ke(),f=Hn("radioGroupContext",void 0),p=fn("radio",e),v=p.prefixCls,g=p.direction,_=function(){a.value.focus()},b=function(){a.value.blur()};i({focus:_,blur:b});var S=function(k){var I=k.target.checked;r("update:checked",I),r("update:value",I),r("change",k),l.onFieldChange()},E=function(k){r("change",k),f&&f.onRadioChange&&f.onRadioChange(k)};return function(){var P,k=f;e.prefixCls;var I=e.id,D=I===void 0?l.id.value:I,L=kn(e,Lme),B=R({prefixCls:v.value,id:D},Qn(L,["onUpdate:checked","onUpdate:value"]));k?(B.name=k.props.name,B.onChange=E,B.checked=e.value===k.stateValue.value,B.disabled=e.disabled||k.props.disabled):B.onChange=S;var N=mt((P={},J(P,"".concat(v.value,"-wrapper"),!0),J(P,"".concat(v.value,"-wrapper-checked"),B.checked),J(P,"".concat(v.value,"-wrapper-disabled"),B.disabled),J(P,"".concat(v.value,"-wrapper-rtl"),g.value==="rtl"),P));return M("label",{class:N},[M(Ij,R(R({},B),{},{type:"radio",ref:a}),null),o.default&&M("span",null,[o.default()])])}}});var Fme=Di("large","default","small"),Nme=function(){return{prefixCls:String,value:Te.any,size:Te.oneOf(Fme),options:{type:Array},disabled:{type:Boolean,default:void 0},name:String,buttonStyle:{type:String,default:"outline"},id:String,optionType:{type:String,default:"default"},onChange:Function,"onUpdate:value":Function}};const rE=lt({compatConfig:{MODE:3},name:"ARadioGroup",props:Nme(),setup:function(e,n){var r=n.slots,i=n.emit,o=_a(),l=fn("radio",e),a=l.prefixCls,f=l.direction,p=l.size,v=ke(e.value),g=ke(!1);Lt(function(){return e.value},function(b){v.value=b,g.value=!1});var _=function(S){var E=v.value,P=S.target.value;"value"in e||(v.value=P),!g.value&&P!==E&&(g.value=!0,i("update:value",P),i("change",S),o.onFieldChange()),Yn(function(){g.value=!1})};return Xn("radioGroupContext",{onRadioChange:_,stateValue:v,props:e}),function(){var b,S=e.options,E=e.optionType,P=e.buttonStyle,k=e.id,I=k===void 0?o.id.value:k,D="".concat(a.value,"-group"),L=mt(D,"".concat(D,"-").concat(P),(b={},J(b,"".concat(D,"-").concat(p.value),p.value),J(b,"".concat(D,"-rtl"),f.value==="rtl"),b)),B=null;if(S&&S.length>0){var N=E==="button"?"".concat(a.value,"-button"):a.value;B=S.map(function(H){if(typeof H=="string"||typeof H=="number")return M(Mo,{key:H,prefixCls:N,disabled:e.disabled,value:H,checked:v.value===H},{default:function(){return[H]}});var V=H.value,Z=H.disabled,re=H.label;return M(Mo,{key:"radio-group-value-options-".concat(V),prefixCls:N,disabled:Z||e.disabled,value:V,checked:v.value===V},{default:function(){return[re]}})})}else{var j;B=(j=r.default)===null||j===void 0?void 0:j.call(r)}return M("div",{class:L,id:I},[B])}}}),xx=lt({compatConfig:{MODE:3},name:"ARadioButton",props:Oj(),setup:function(e,n){var r=n.slots,i=fn("radio-button",e),o=i.prefixCls,l=Hn("radioGroupContext",void 0);return function(){var a,f=R(R({},e),{},{prefixCls:o.value});return l&&(f.onChange=l.onRadioChange,f.checked=f.value===l.stateValue.value,f.disabled=f.disabled||l.props.disabled),M(Mo,f,{default:function(){return[(a=r.default)===null||a===void 0?void 0:a.call(r)]}})}}});Mo.Group=rE;Mo.Button=xx;Mo.install=function(t){return t.component(Mo.name,Mo),t.component(Mo.Group.name,Mo.Group),t.component(Mo.Button.name,Mo.Button),t};var Bme=10,zme=20;function Dj(t){var e=t.fullscreen,n=t.validRange,r=t.generateConfig,i=t.locale,o=t.prefixCls,l=t.value,a=t.onChange,f=t.divRef,p=r.getYear(l||r.getNow()),v=p-Bme,g=v+zme;n&&(v=r.getYear(n[0]),g=r.getYear(n[1])+1);for(var _=i&&i.year===""?"":"",b=[],S=v;S<g;S++)b.push({label:"".concat(S).concat(_),value:S});return M(Od,{size:e?void 0:"small",options:b,value:p,class:"".concat(o,"-year-select"),onChange:function(P){var k=r.setYear(l,P);if(n){var I=Wt(n,2),D=I[0],L=I[1],B=r.getYear(k),N=r.getMonth(k);B===r.getYear(L)&&N>r.getMonth(L)&&(k=r.setMonth(k,r.getMonth(L))),B===r.getYear(D)&&N<r.getMonth(D)&&(k=r.setMonth(k,r.getMonth(D)))}a(k)},getPopupContainer:function(){return f.value}},null)}Dj.inheritAttrs=!1;function Rj(t){var e=t.prefixCls,n=t.fullscreen,r=t.validRange,i=t.value,o=t.generateConfig,l=t.locale,a=t.onChange,f=t.divRef,p=o.getMonth(i||o.getNow()),v=0,g=11;if(r){var _=Wt(r,2),b=_[0],S=_[1],E=o.getYear(i);o.getYear(S)===E&&(g=o.getMonth(S)),o.getYear(b)===E&&(v=o.getMonth(b))}for(var P=l.shortMonths||o.locale.getShortMonths(l.locale),k=[],I=v;I<=g;I+=1)k.push({label:P[I],value:I});return M(Od,{size:n?void 0:"small",class:"".concat(e,"-month-select"),value:p,options:k,onChange:function(L){a(o.setMonth(i,L))},getPopupContainer:function(){return f.value}},null)}Rj.inheritAttrs=!1;function Lj(t){var e=t.prefixCls,n=t.locale,r=t.mode,i=t.fullscreen,o=t.onModeChange;return M(rE,{onChange:function(a){var f=a.target.value;o(f)},value:r,size:i?void 0:"small",class:"".concat(e,"-mode-switch")},{default:function(){return[M(xx,{value:"month"},{default:function(){return[n.month]}}),M(xx,{value:"year"},{default:function(){return[n.year]}})]}})}Lj.inheritAttrs=!1;const $me=lt({name:"CalendarHeader",inheritAttrs:!1,props:["mode","prefixCls","value","validRange","generateConfig","locale","mode","fullscreen"],setup:function(e,n){var r=n.attrs,i=ke(null);return function(){var o=R(R({},e),r),l=o.prefixCls,a=o.fullscreen,f=o.mode,p=o.onChange,v=o.onModeChange,g=R(R({},o),{},{onChange:p,fullscreen:a,divRef:i});return M("div",{class:"".concat(l,"-header"),ref:i},[M(Dj,g,null),f==="month"&&M(Rj,g,null),M(Lj,R(R({},g),{},{onModeChange:v}),null)])}}});function jme(t){function e(o,l){return o&&l&&t.getYear(o)===t.getYear(l)}function n(o,l){return e(o,l)&&t.getMonth(o)===t.getMonth(l)}function r(o,l){return n(o,l)&&t.getDate(o)===t.getDate(l)}var i=lt({name:"ACalendar",inheritAttrs:!1,props:["prefixCls","locale","validRange","disabledDate","dateFullCellRender","dateCellRender","monthFullCellRender","monthCellRender","headerRender","value","defaultValue","mode","fullscreen","onChange","onPanelChange","onSelect","valueFormat"],slots:["dateFullCellRender","dateCellRender","monthFullCellRender","monthCellRender","headerRender"],setup:function(l,a){var f=a.emit,p=a.slots,v=a.attrs,g=fn("picker",l),_=g.prefixCls,b=g.direction,S=le(function(){return"".concat(_.value,"-calendar")}),E=function(ce){return l.valueFormat?t.toString(ce,l.valueFormat):ce},P=le(function(){return l.value?l.valueFormat?t.toDate(l.value,l.valueFormat):l.value:l.value===""?void 0:l.value}),k=le(function(){return l.defaultValue?l.valueFormat?t.toDate(l.defaultValue,l.valueFormat):l.defaultValue:l.defaultValue===""?void 0:l.defaultValue}),I=Ii(function(){return P.value||t.getNow()},{defaultValue:k.value,value:P}),D=Wt(I,2),L=D[0],B=D[1],N=Ii("month",{value:An(l,"mode")}),j=Wt(N,2),H=j[0],V=j[1],Z=le(function(){return H.value==="year"?"month":"date"}),re=le(function(){return function(he){var ce,we=l.validRange?t.isAfter(l.validRange[0],he)||t.isAfter(he,l.validRange[1]):!1;return we||!!((ce=l.disabledDate)!==null&&ce!==void 0&&ce.call(l,he))}}),q=function(ce,we){f("panelChange",E(ce),we)},G=function(ce){if(B(ce),!r(ce,L.value)){(Z.value==="date"&&!n(ce,L.value)||Z.value==="month"&&!e(ce,L.value))&&q(ce,H.value);var we=E(ce);f("update:value",we),f("change",we)}},ae=function(ce){V(ce),q(L.value,ce)},te=function(ce){G(ce),f("select",E(ce))},Q=le(function(){var he=l.locale,ce=R(R({},A1),he);return ce.lang=R(R({},ce.lang),(he||{}).lang),ce}),Y=vu("Calendar",Q),X=Wt(Y,1),ie=X[0];return function(){var he,ce=t.getNow(),we=l.dateFullCellRender,be=we===void 0?p==null?void 0:p.dateFullCellRender:we,ve=l.dateCellRender,ge=ve===void 0?p==null?void 0:p.dateCellRender:ve,Pe=l.monthFullCellRender,ye=Pe===void 0?p==null?void 0:p.monthFullCellRender:Pe,Ne=l.monthCellRender,Re=Ne===void 0?p==null?void 0:p.monthCellRender:Ne,Ge=l.headerRender,He=Ge===void 0?p==null?void 0:p.headerRender:Ge,Ee=l.fullscreen,pe=Ee===void 0?!0:Ee,Ie=l.validRange,We=function(xt){var ot=xt.current;return be?be({current:ot}):M("div",{class:mt("".concat(_.value,"-cell-inner"),"".concat(S.value,"-date"),J({},"".concat(S.value,"-date-today"),r(ce,ot)))},[M("div",{class:"".concat(S.value,"-date-value")},[fj(String(t.getDate(ot)),2,"0")]),M("div",{class:"".concat(S.value,"-date-content")},[ge&&ge({current:ot})])])},Qe=function(xt,ot){var nt=xt.current;if(ye)return ye({current:nt});var Ze=ot.shortMonths||t.locale.getShortMonths(ot.locale);return M("div",{class:mt("".concat(_.value,"-cell-inner"),"".concat(S.value,"-date"),J({},"".concat(S.value,"-date-today"),n(ce,nt)))},[M("div",{class:"".concat(S.value,"-date-value")},[Ze[t.getMonth(nt)]]),M("div",{class:"".concat(S.value,"-date-content")},[Re&&Re({current:nt})])])};return M("div",R(R({},v),{},{class:mt(S.value,(he={},J(he,"".concat(S.value,"-full"),pe),J(he,"".concat(S.value,"-mini"),!pe),J(he,"".concat(S.value,"-rtl"),b.value==="rtl"),he),v.class)}),[He?He({value:L.value,type:H.value,onChange:te,onTypeChange:ae}):M($me,{prefixCls:S.value,value:L.value,generateConfig:t,mode:H.value,fullscreen:pe,locale:ie.value.lang,validRange:Ie,onChange:te,onModeChange:ae},null),M(nE,{value:L.value,prefixCls:_.value,locale:ie.value.lang,generateConfig:t,dateRender:We,monthCellRender:function(xt){return Qe(xt,ie.value.lang)},onSelect:te,mode:Z.value,picker:Z.value,disabledDate:re.value,hideHeader:!0},null)])}}});return i.install=function(o){return o.component(i.name,i),o},i}var Vme=jme(OT);const Ume=Ki(Vme);function Hme(t){var e=ke(),n=ke(!1);function r(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];n.value||($n.cancel(e.value),e.value=$n(function(){t.apply(void 0,o)}))}return tr(function(){n.value=!0,$n.cancel(e.value)}),r}function Kme(t){var e=ke([]),n=ke(typeof t=="function"?t():t),r=Hme(function(){var o=n.value;e.value.forEach(function(l){o=l(o)}),e.value=[],n.value=o});function i(o){e.value.push(o),r()}return[n,i]}const Wme=lt({compatConfig:{MODE:3},name:"TabNode",props:{id:{type:String},prefixCls:{type:String},tab:{type:Object},active:{type:Boolean},closable:{type:Boolean},editable:{type:Object},onClick:{type:Function},onResize:{type:Function},renderWrapper:{type:Function},removeAriaLabel:{type:String},onFocus:{type:Function}},emits:["click","resize","remove","focus"],setup:function(e,n){var r=n.expose,i=n.attrs,o=ke();function l(p){var v;(v=e.tab)!==null&&v!==void 0&&v.disabled||e.onClick(p)}r({domRef:o});function a(p){var v;p.preventDefault(),p.stopPropagation(),e.editable.onEdit("remove",{key:(v=e.tab)===null||v===void 0?void 0:v.key,event:p})}var f=le(function(){var p;return e.editable&&e.closable!==!1&&!((p=e.tab)!==null&&p!==void 0&&p.disabled)});return function(){var p,v,g=e.prefixCls,_=e.id,b=e.active,S=e.tab,E=S.key,P=S.tab,k=S.disabled,I=S.closeIcon,D=e.renderWrapper,L=e.removeAriaLabel,B=e.editable,N=e.onFocus,j="".concat(g,"-tab"),H=M("div",{key:E,ref:o,class:mt(j,(p={},J(p,"".concat(j,"-with-remove"),f.value),J(p,"".concat(j,"-active"),b),J(p,"".concat(j,"-disabled"),k),p)),style:i.style,onClick:l},[M("div",{role:"tab","aria-selected":b,id:_&&"".concat(_,"-tab-").concat(E),class:"".concat(j,"-btn"),"aria-controls":_&&"".concat(_,"-panel-").concat(E),"aria-disabled":k,tabindex:k?null:0,onClick:function(Z){Z.stopPropagation(),l(Z)},onKeydown:function(Z){[qt.SPACE,qt.ENTER].includes(Z.which)&&(Z.preventDefault(),l(Z))},onFocus:N},[typeof P=="function"?P():P]),f.value&&M("button",{type:"button","aria-label":L||"remove",tabindex:0,class:"".concat(j,"-remove"),onClick:function(Z){Z.stopPropagation(),a(Z)}},[(I==null?void 0:I())||((v=B.removeIcon)===null||v===void 0?void 0:v.call(B))||""])]);return D?D(H):H}}});var yO={width:0,height:0,left:0,top:0};function Gme(t,e){var n=ke(new Map);return Un(function(){for(var r,i=new Map,o=t.value,l=e.value.get((r=o[0])===null||r===void 0?void 0:r.key)||yO,a=l.left+l.width,f=0;f<o.length;f+=1){var p=o[f].key,v=e.value.get(p);if(!v){var g;v=e.value.get((g=o[f-1])===null||g===void 0?void 0:g.key)||yO}var _=i.get(p)||R({},v);_.right=a-_.left-_.width,i.set(p,_)}n.value=new Map(i)}),n}const Fj=lt({compatConfig:{MODE:3},name:"AddButton",inheritAttrs:!1,props:{prefixCls:String,editable:{type:Object},locale:{type:Object,default:void 0}},setup:function(e,n){var r=n.expose,i=n.attrs,o=ke();return r({domRef:o}),function(){var l=e.prefixCls,a=e.editable,f=e.locale;return!a||a.showAdd===!1?null:M("button",{ref:o,type:"button",class:"".concat(l,"-nav-add"),style:i.style,"aria-label":(f==null?void 0:f.addAriaLabel)||"Add tab",onClick:function(v){a.onEdit("add",{event:v})}},[a.addIcon?a.addIcon():"+"])}}});var qme={prefixCls:{type:String},id:{type:String},tabs:{type:Object},rtl:{type:Boolean},tabBarGutter:{type:Number},activeKey:{type:[String,Number]},mobile:{type:Boolean},moreIcon:Te.any,moreTransitionName:{type:String},editable:{type:Object},locale:{type:Object,default:void 0},removeAriaLabel:String,onTabClick:{type:Function}};const Yme=lt({compatConfig:{MODE:3},name:"OperationNode",inheritAttrs:!1,props:qme,emits:["tabClick"],slots:["moreIcon"],setup:function(e,n){var r=n.attrs,i=n.slots,o=yi(!1),l=Wt(o,2),a=l[0],f=l[1],p=yi(null),v=Wt(p,2),g=v[0],_=v[1],b=function(D){for(var L=e.tabs.filter(function(V){return!V.disabled}),B=L.findIndex(function(V){return V.key===g.value})||0,N=L.length,j=0;j<N;j+=1){B=(B+D+N)%N;var H=L[B];if(!H.disabled){_(H.key);return}}},S=function(D){var L=D.which;if(!a.value){[qt.DOWN,qt.SPACE,qt.ENTER].includes(L)&&(f(!0),D.preventDefault());return}switch(L){case qt.UP:b(-1),D.preventDefault();break;case qt.DOWN:b(1),D.preventDefault();break;case qt.ESC:f(!1);break;case qt.SPACE:case qt.ENTER:g.value!==null&&e.onTabClick(g.value,D);break}},E=le(function(){return"".concat(e.id,"-more-popup")}),P=le(function(){return g.value!==null?"".concat(E.value,"-").concat(g.value):null}),k=function(D,L){D.preventDefault(),D.stopPropagation(),e.editable.onEdit("remove",{key:L,event:D})};return zn(function(){Lt(g,function(){var I=document.getElementById(P.value);I&&I.scrollIntoView&&I.scrollIntoView(!1)},{flush:"post",immediate:!0})}),Lt(a,function(){a.value||_(null)}),function(){var I,D=e.prefixCls,L=e.id,B=e.tabs,N=e.locale,j=e.mobile,H=e.moreIcon,V=H===void 0?((I=i.moreIcon)===null||I===void 0?void 0:I.call(i))||M(Z5,null,null):H,Z=e.moreTransitionName,re=e.editable,q=e.tabBarGutter,G=e.rtl,ae=e.onTabClick,te="".concat(D,"-dropdown"),Q=N==null?void 0:N.dropdownAriaLabel,Y=J({},G?"marginRight":"marginLeft",q);B.length||(Y.visibility="hidden",Y.order=1);var X=mt(J({},"".concat(te,"-rtl"),G)),ie=j?null:M(w$,{prefixCls:te,trigger:["hover"],visible:a.value,transitionName:Z,onVisibleChange:f,overlayClassName:X,mouseEnterDelay:.1,mouseLeaveDelay:.1},{overlay:function(){return M(Ui,{onClick:function(we){var be=we.key,ve=we.domEvent;ae(be,ve),f(!1)},id:E.value,tabindex:-1,role:"listbox","aria-activedescendant":P.value,selectedKeys:[g.value],"aria-label":Q!==void 0?Q:"expanded dropdown"},{default:function(){return[B.map(function(we){var be,ve,ge=re&&we.closable!==!1&&!we.disabled;return M(sc,{key:we.key,id:"".concat(E.value,"-").concat(we.key),role:"option","aria-controls":L&&"".concat(L,"-panel-").concat(we.key),disabled:we.disabled},{default:function(){return[M("span",null,[typeof we.tab=="function"?we.tab():we.tab]),ge&&M("button",{type:"button","aria-label":e.removeAriaLabel||"remove",tabindex:0,class:"".concat(te,"-menu-item-remove"),onClick:function(Ne){Ne.stopPropagation(),k(Ne,we.key)}},[((be=we.closeIcon)===null||be===void 0?void 0:be.call(we))||((ve=re.removeIcon)===null||ve===void 0?void 0:ve.call(re))||""])]}})})]}})},default:function(){return M("button",{type:"button",class:"".concat(D,"-nav-more"),style:Y,tabindex:-1,"aria-hidden":"true","aria-haspopup":"listbox","aria-controls":E.value,id:"".concat(L,"-more"),"aria-expanded":a.value,onKeydown:S},[V])}});return M("div",{class:mt("".concat(D,"-nav-operations"),r.class),style:r.style},[ie,M(Fj,{prefixCls:D,locale:N,editable:re},null)])}}});var Nj=Symbol("tabsContextKey"),Xme=function(e){Xn(Nj,e)},Bj=function(){return Hn(Nj,{tabs:ke([]),prefixCls:ke()})},Zme=.1,_O=.01,rb=20,bO=Math.pow(.995,rb);function Qme(t,e){var n=yi(),r=Wt(n,2),i=r[0],o=r[1],l=yi(0),a=Wt(l,2),f=a[0],p=a[1],v=yi(0),g=Wt(v,2),_=g[0],b=g[1],S=yi(),E=Wt(S,2),P=E[0],k=E[1],I=ke();function D(G){var ae=G.touches[0],te=ae.screenX,Q=ae.screenY;o({x:te,y:Q}),clearInterval(I.value)}function L(G){if(i.value){G.preventDefault();var ae=G.touches[0],te=ae.screenX,Q=ae.screenY,Y=te-i.value.x,X=Q-i.value.y;e(Y,X),o({x:te,y:Q});var ie=Date.now();b(ie-f.value),p(ie),k({x:Y,y:X})}}function B(){if(i.value){var G=P.value;if(o(null),k(null),G){var ae=G.x/_.value,te=G.y/_.value,Q=Math.abs(ae),Y=Math.abs(te);if(Math.max(Q,Y)<Zme)return;var X=ae,ie=te;I.value=setInterval(function(){if(Math.abs(X)<_O&&Math.abs(ie)<_O){clearInterval(I.value);return}X*=bO,ie*=bO,e(X*rb,ie*rb)},rb)}}}var N=ke();function j(G){var ae=G.deltaX,te=G.deltaY,Q=0,Y=Math.abs(ae),X=Math.abs(te);Y===X?Q=N.value==="x"?ae:te:Y>X?(Q=ae,N.value="x"):(Q=te,N.value="y"),e(-Q,-Q)&&G.preventDefault()}var H=ke({onTouchStart:D,onTouchMove:L,onTouchEnd:B,onWheel:j});function V(G){H.value.onTouchStart(G)}function Z(G){H.value.onTouchMove(G)}function re(G){H.value.onTouchEnd(G)}function q(G){H.value.onWheel(G)}zn(function(){var G,ae;document.addEventListener("touchmove",Z,{passive:!1}),document.addEventListener("touchend",re,{passive:!1}),(G=t.value)===null||G===void 0||G.addEventListener("touchstart",V,{passive:!1}),(ae=t.value)===null||ae===void 0||ae.addEventListener("wheel",q,{passive:!1})}),tr(function(){document.removeEventListener("touchmove",Z),document.removeEventListener("touchend",re)})}function xO(t,e){var n=ke(t);function r(i){var o=typeof i=="function"?i(n.value):i;o!==n.value&&e(o,n.value),n.value=o}return[n,r]}var Jme=function(){var e=ke(new Map),n=function(i){return function(o){e.value.set(i,o)}};return p5(function(){e.value=new Map}),[n,e]};const iE=Jme;var ege=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tge=/^\w*$/;function aE(t,e){if(qs(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||I2(t)?!0:tge.test(t)||!ege.test(t)||e!=null&&t in Object(e)}var nge="Expected a function";function oE(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(nge);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var l=t.apply(this,r);return n.cache=o.set(i,l)||o,l};return n.cache=new(oE.Cache||pc),n}oE.Cache=pc;var rge=500;function ige(t){var e=oE(t,function(r){return n.size===rge&&n.clear(),r}),n=e.cache;return e}var age=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,oge=/\\(\\)?/g,sge=ige(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(age,function(n,r,i,o){e.push(i?o.replace(oge,"$1"):r||n)}),e});const lge=sge;function qv(t,e){return qs(t)?t:aE(t,e)?[t]:lge(NT(t))}var uge=1/0;function Yv(t){if(typeof t=="string"||I2(t))return t;var e=t+"";return e=="0"&&1/t==-uge?"-0":e}function F2(t,e){e=qv(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Yv(e[n++])];return n&&n==r?t:void 0}var cge=function(){try{var t=Ph(Object,"defineProperty");return t({},"",{}),t}catch{}}();const wx=cge;function zj(t,e,n){e=="__proto__"&&wx?wx(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var dge=Object.prototype,fge=dge.hasOwnProperty;function sE(t,e,n){var r=t[e];(!(fge.call(t,e)&&sT(r,n))||n===void 0&&!(e in t))&&zj(t,e,n)}function hge(t,e,n,r){if(!El(t))return t;e=qv(e,t);for(var i=-1,o=e.length,l=o-1,a=t;a!=null&&++i<o;){var f=Yv(e[i]),p=n;if(f==="__proto__"||f==="constructor"||f==="prototype")return t;if(i!=l){var v=a[f];p=r?r(v,f,a):void 0,p===void 0&&(p=El(v)?v:fT(e[i+1])?[]:{})}sE(a,f,p),a=a[f]}return t}function pge(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var l=e[r],a=F2(t,l);n(a,l)&&hge(o,qv(l,t),a)}return o}function vge(t,e){return t!=null&&e in Object(t)}function mge(t,e,n){e=qv(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var l=Yv(e[r]);if(!(o=t!=null&&n(t,l)))break;t=t[l]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&hT(i)&&fT(l,i)&&(qs(t)||dT(t)))}function $j(t,e){return t!=null&&mge(t,e,vge)}function gge(t,e){return pge(t,e,function(n,r){return $j(t,r)})}var wO=Ws?Ws.isConcatSpreadable:void 0;function yge(t){return qs(t)||dT(t)||!!(wO&&t&&t[wO])}function jj(t,e,n,r,i){var o=-1,l=t.length;for(n||(n=yge),i||(i=[]);++o<l;){var a=t[o];e>0&&n(a)?e>1?jj(a,e-1,n,r,i):uT(i,a):r||(i[i.length]=a)}return i}function _ge(t){var e=t==null?0:t.length;return e?jj(t,1):[]}function bge(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var CO=Math.max;function Vj(t,e,n){return e=CO(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=CO(r.length-e,0),l=Array(o);++i<o;)l[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(l),bge(t,this,a)}}function xge(t){return function(){return t}}function lE(t){return t}var wge=wx?function(t,e){return wx(t,"toString",{configurable:!0,enumerable:!1,value:xge(e),writable:!0})}:lE;const Cge=wge;var Sge=800,Tge=16,Ege=Date.now;function Pge(t){var e=0,n=0;return function(){var r=Ege(),i=Tge-(r-n);if(n=r,i>0){if(++e>=Sge)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Mge=Pge(Cge);const Uj=Mge;function Hj(t){return Uj(Vj(t,void 0,_ge),t+"")}var kge=Hj(function(t,e){return t==null?{}:gge(t,e)});const Kj=kge;var SO={width:0,height:0,left:0,top:0,right:0},Age=function(){return{id:{type:String},tabPosition:{type:String},activeKey:{type:[String,Number]},rtl:{type:Boolean},animated:{type:Object,default:void 0},editable:{type:Object},moreIcon:Te.any,moreTransitionName:{type:String},mobile:{type:Boolean},tabBarGutter:{type:Number},renderTabBar:{type:Function},locale:{type:Object,default:void 0},onTabClick:{type:Function},onTabScroll:{type:Function}}};const TO=lt({compatConfig:{MODE:3},name:"TabNavList",inheritAttrs:!1,props:Age(),slots:["moreIcon","leftExtra","rightExtra","tabBarExtraContent"],emits:["tabClick","tabScroll"],setup:function(e,n){var r=n.attrs,i=n.slots,o=Bj(),l=o.tabs,a=o.prefixCls,f=ke(),p=ke(),v=ke(),g=ke(),_=iE(),b=Wt(_,2),S=b[0],E=b[1],P=le(function(){return e.tabPosition==="top"||e.tabPosition==="bottom"}),k=xO(0,function($e,Ke){P.value&&e.onTabScroll&&e.onTabScroll({direction:$e>Ke?"left":"right"})}),I=Wt(k,2),D=I[0],L=I[1],B=xO(0,function($e,Ke){!P.value&&e.onTabScroll&&e.onTabScroll({direction:$e>Ke?"top":"bottom"})}),N=Wt(B,2),j=N[0],H=N[1],V=yi(0),Z=Wt(V,2),re=Z[0],q=Z[1],G=yi(0),ae=Wt(G,2),te=ae[0],Q=ae[1],Y=yi(null),X=Wt(Y,2),ie=X[0],he=X[1],ce=yi(null),we=Wt(ce,2),be=we[0],ve=we[1],ge=yi(0),Pe=Wt(ge,2),ye=Pe[0],Ne=Pe[1],Re=yi(0),Ge=Wt(Re,2),He=Ge[0],Ee=Ge[1],pe=Kme(new Map),Ie=Wt(pe,2),We=Ie[0],Qe=Ie[1],at=Gme(l,We),xt=le(function(){return"".concat(a.value,"-nav-operations-hidden")}),ot=ke(0),nt=ke(0);Un(function(){P.value?e.rtl?(ot.value=0,nt.value=Math.max(0,re.value-ie.value)):(ot.value=Math.min(0,ie.value-re.value),nt.value=0):(ot.value=Math.min(0,be.value-te.value),nt.value=0)});var Ze=function(Ke){return Ke<ot.value?ot.value:Ke>nt.value?nt.value:Ke},ht=ke(),vt=yi(),Ct=Wt(vt,2),Nt=Ct[0],tn=Ct[1],rn=function(){tn(Date.now())},Pt=function(){clearTimeout(ht.value)},yt=function(Ke,et){Ke(function(rt){var Ye=Ze(rt+et);return Ye})};Qme(f,function($e,Ke){if(P.value){if(ie.value>=re.value)return!1;yt(L,$e)}else{if(be.value>=te.value)return!1;yt(H,Ke)}return Pt(),rn(),!0}),Lt(Nt,function(){Pt(),Nt.value&&(ht.value=setTimeout(function(){tn(0)},100))});var Bt=function(){var Ke=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activeKey,et=at.value.get(Ke)||{width:0,height:0,left:0,right:0,top:0};if(P.value){var rt=D.value;e.rtl?et.right<D.value?rt=et.right:et.right+et.width>D.value+ie.value&&(rt=et.right+et.width-ie.value):et.left<-D.value?rt=-et.left:et.left+et.width>-D.value+ie.value&&(rt=-(et.left+et.width-ie.value)),H(0),L(Ze(rt))}else{var Ye=j.value;et.top<-j.value?Ye=-et.top:et.top+et.height>-j.value+be.value&&(Ye=-(et.top+et.height-be.value)),L(0),H(Ze(Ye))}},Ut=ke(0),St=ke(0);Un(function(){var $e,Ke,et,rt,Ye,pt,kt,Ht=at.value;["top","bottom"].includes(e.tabPosition)?(Ke="width",Ye=ie.value,pt=re.value,kt=ye.value,et=e.rtl?"right":"left",rt=Math.abs(D.value)):(Ke="height",Ye=be.value,pt=re.value,kt=He.value,et="top",rt=-j.value);var Ot=Ye;pt+kt>Ye&&pt<Ye&&(Ot=Ye-kt);var hn=l.value;if(!hn.length){var pn;return pn=[0,0],Ut.value=pn[0],St.value=pn[1],pn}for(var En=hn.length,Cn=En,Nn=0;Nn<En;Nn+=1){var nr=Ht.get(hn[Nn].key)||SO;if(nr[et]+nr[Ke]>rt+Ot){Cn=Nn-1;break}}for(var qn=0,rr=En-1;rr>=0;rr-=1){var ur=Ht.get(hn[rr].key)||SO;if(ur[et]<rt){qn=rr+1;break}}return $e=[qn,Cn],Ut.value=$e[0],St.value=$e[1],$e});var ft=function(){var Ke,et,rt,Ye,pt,kt=((Ke=f.value)===null||Ke===void 0?void 0:Ke.offsetWidth)||0,Ht=((et=f.value)===null||et===void 0?void 0:et.offsetHeight)||0,Ot=((rt=g.value)===null||rt===void 0?void 0:rt.$el)||{},hn=Ot.offsetWidth||0,pn=Ot.offsetHeight||0;he(kt),ve(Ht),Ne(hn),Ee(pn);var En=(((Ye=p.value)===null||Ye===void 0?void 0:Ye.offsetWidth)||0)-hn,Cn=(((pt=p.value)===null||pt===void 0?void 0:pt.offsetHeight)||0)-pn;q(En),Q(Cn),Qe(function(){var Nn=new Map;return l.value.forEach(function(nr){var qn=nr.key,rr=E.value.get(qn),ur=(rr==null?void 0:rr.$el)||rr;ur&&Nn.set(qn,{width:ur.offsetWidth,height:ur.offsetHeight,left:ur.offsetLeft,top:ur.offsetTop})}),Nn})},gt=le(function(){return[].concat(Jt(l.value.slice(0,Ut.value)),Jt(l.value.slice(St.value+1)))}),_t=yi(),Ft=Wt(_t,2),Gt=Ft[0],Zt=Ft[1],Me=le(function(){return at.value.get(e.activeKey)}),de=ke(),_e=function(){$n.cancel(de.value)};Lt([Me,P,function(){return e.rtl}],function(){var $e={};Me.value&&(P.value?(e.rtl?$e.right=Xf(Me.value.right):$e.left=Xf(Me.value.left),$e.width=Xf(Me.value.width)):($e.top=Xf(Me.value.top),$e.height=Xf(Me.value.height))),_e(),de.value=$n(function(){Zt($e)})}),Lt([function(){return e.activeKey},Me,at,P],function(){Bt()},{flush:"post"}),Lt([function(){return e.rtl},function(){return e.tabBarGutter},function(){return e.activeKey},function(){return l.value}],function(){ft()},{flush:"post"});var De=function(Ke){var et=Ke.position,rt=Ke.prefixCls,Ye=Ke.extra;if(!Ye)return null;var pt=Ye==null?void 0:Ye({position:et});return pt?M("div",{class:"".concat(rt,"-extra-content")},[pt]):null};return tr(function(){Pt(),_e()}),function(){var $e,Ke=e.id,et=e.animated,rt=e.activeKey,Ye=e.rtl,pt=e.editable,kt=e.locale,Ht=e.tabPosition,Ot=e.tabBarGutter,hn=e.onTabClick,pn=r.class,En=r.style,Cn=a.value,Nn=!!gt.value.length,nr="".concat(Cn,"-nav-wrap"),qn,rr,ur,Si;P.value?Ye?(rr=D.value>0,qn=D.value+ie.value<re.value):(qn=D.value<0,rr=-D.value+ie.value<re.value):(ur=j.value<0,Si=-j.value+be.value<te.value);var hr={};Ht==="top"||Ht==="bottom"?hr[Ye?"marginRight":"marginLeft"]=typeof Ot=="number"?"".concat(Ot,"px"):Ot:hr.marginTop=typeof Ot=="number"?"".concat(Ot,"px"):Ot;var Yr=l.value.map(function(da,Oo){var ba=da.key;return M(Wme,{id:Ke,prefixCls:Cn,key:ba,tab:da,style:Oo===0?void 0:hr,closable:da.closable,editable:pt,active:ba===rt,removeAriaLabel:kt==null?void 0:kt.removeAriaLabel,ref:S(ba),onClick:function(ci){hn(ba,ci)},onFocus:function(){Bt(ba),rn(),f.value&&(Ye||(f.value.scrollLeft=0),f.value.scrollTop=0)}},i)});return M("div",{role:"tablist",class:mt("".concat(Cn,"-nav"),pn),style:En,onKeydown:function(){rn()}},[M(De,{position:"left",prefixCls:Cn,extra:i.leftExtra},null),M(Gs,{onResize:ft},{default:function(){return[M("div",{class:mt(nr,($e={},J($e,"".concat(nr,"-ping-left"),qn),J($e,"".concat(nr,"-ping-right"),rr),J($e,"".concat(nr,"-ping-top"),ur),J($e,"".concat(nr,"-ping-bottom"),Si),$e)),ref:f},[M(Gs,{onResize:ft},{default:function(){return[M("div",{ref:p,class:"".concat(Cn,"-nav-list"),style:{transform:"translate(".concat(D.value,"px, ").concat(j.value,"px)"),transition:Nt.value?"none":void 0}},[Yr,M(Fj,{ref:g,prefixCls:Cn,locale:kt,editable:pt,style:R(R({},Yr.length===0?void 0:hr),{},{visibility:Nn?"hidden":null})},null),M("div",{class:mt("".concat(Cn,"-ink-bar"),J({},"".concat(Cn,"-ink-bar-animated"),et.inkBar)),style:Gt.value},null)])]}})])]}}),M(Yme,R(R({},e),{},{removeAriaLabel:kt==null?void 0:kt.removeAriaLabel,ref:v,prefixCls:Cn,tabs:gt.value,class:!Nn&&xt.value}),Kj(i,["moreIcon"])),M(De,{position:"right",prefixCls:Cn,extra:i.rightExtra},null),M(De,{position:"right",prefixCls:Cn,extra:i.tabBarExtraContent},null)])}}}),Ige=lt({compatConfig:{MODE:3},name:"TabPanelList",inheritAttrs:!1,props:{activeKey:{type:[String,Number]},id:{type:String},rtl:{type:Boolean},animated:{type:Object,default:void 0},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean}},setup:function(e){var n=Bj(),r=n.tabs,i=n.prefixCls;return function(){var o=e.id,l=e.activeKey,a=e.animated,f=e.tabPosition,p=e.rtl,v=e.destroyInactiveTabPane,g=a.tabPane,_=i.value,b=r.value.findIndex(function(S){return S.key===l});return M("div",{class:"".concat(_,"-content-holder")},[M("div",{class:["".concat(_,"-content"),"".concat(_,"-content-").concat(f),J({},"".concat(_,"-content-animated"),g)],style:b&&g?J({},p?"marginRight":"marginLeft","-".concat(b,"00%")):null},[r.value.map(function(S){return Pr(S.node,{key:S.key,prefixCls:_,tabKey:S.key,id:o,animated:g,active:S.key===l,destroyInactiveTabPane:v})})])])}}});var EO=0,Wj=function(){return{prefixCls:{type:String},id:{type:String},activeKey:{type:[String,Number]},defaultActiveKey:{type:[String,Number]},direction:{type:String},animated:{type:[Boolean,Object]},renderTabBar:{type:Function},tabBarGutter:{type:Number},tabBarStyle:{type:Object},tabPosition:{type:String},destroyInactiveTabPane:{type:Boolean},hideAdd:Boolean,type:{type:String},size:{type:String},centered:Boolean,onEdit:{type:Function},onChange:{type:Function},onTabClick:{type:Function},onTabScroll:{type:Function},"onUpdate:activeKey":{type:Function},locale:{type:Object,default:void 0},onPrevClick:Function,onNextClick:Function,tabBarExtraContent:Te.any}};function Oge(t){return t.map(function(e){if(la(e)){for(var n=R({},e.props||{}),r=0,i=Object.entries(n);r<i.length;r++){var o=Wt(i[r],2),l=o[0],a=o[1];delete n[l],n[Qo(l)]=a}var f=e.children||{},p=e.key!==void 0?e.key:void 0,v=n.tab,g=v===void 0?f.tab:v,_=n.disabled,b=n.forceRender,S=n.closable,E=n.animated,P=n.active,k=n.destroyInactiveTabPane;return R(R({key:p},n),{},{node:e,closeIcon:f.closeIcon,tab:g,disabled:_===""||_,forceRender:b===""||b,closable:S===""||S,animated:E===""||E,active:P===""||P,destroyInactiveTabPane:k===""||k})}return null}).filter(function(e){return e})}var Dge=lt({compatConfig:{MODE:3},name:"InternalTabs",inheritAttrs:!1,props:R(R({},lr(Wj(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}})),{},{tabs:{type:Array}}),slots:["tabBarExtraContent","leftExtra","rightExtra","moreIcon","addIcon","removeIcon","renderTabBar"],setup:function(e,n){var r=n.attrs,i=n.slots;Br(e.onPrevClick===void 0&&e.onNextClick===void 0,"Tabs","`onPrevClick / @prevClick` and `onNextClick / @nextClick` has been removed. Please use `onTabScroll / @tabScroll` instead."),Br(e.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` prop has been removed. Please use `rightExtra` slot instead."),Br(i.tabBarExtraContent===void 0,"Tabs","`tabBarExtraContent` slot is deprecated. Please use `rightExtra` slot instead.");var o=fn("tabs",e),l=o.prefixCls,a=o.direction,f=o.size,p=o.rootPrefixCls,v=le(function(){return a.value==="rtl"}),g=le(function(){var ae=e.animated,te=e.tabPosition;return ae===!1||["left","right"].includes(te)?{inkBar:!1,tabPane:!1}:ae===!0?{inkBar:!0,tabPane:!0}:R({inkBar:!0,tabPane:!1},dn(ae)==="object"?ae:{})}),_=yi(!1),b=Wt(_,2),S=b[0],E=b[1];zn(function(){E(gT())});var P=Ii(function(){var ae;return(ae=e.tabs[0])===null||ae===void 0?void 0:ae.key},{value:le(function(){return e.activeKey}),defaultValue:e.defaultActiveKey}),k=Wt(P,2),I=k[0],D=k[1],L=yi(function(){return e.tabs.findIndex(function(ae){return ae.key===I.value})}),B=Wt(L,2),N=B[0],j=B[1];Un(function(){var ae=e.tabs.findIndex(function(Q){return Q.key===I.value});if(ae===-1){var te;ae=Math.max(0,Math.min(N.value,e.tabs.length-1)),D((te=e.tabs[ae])===null||te===void 0?void 0:te.key)}j(ae)});var H=Ii(null,{value:le(function(){return e.id})}),V=Wt(H,2),Z=V[0],re=V[1],q=le(function(){return S.value&&!["left","right"].includes(e.tabPosition)?"top":e.tabPosition});zn(function(){e.id||(re("rc-tabs-".concat(EO)),EO+=1)});var G=function(te,Q){var Y;(Y=e.onTabClick)===null||Y===void 0||Y.call(e,te,Q);var X=te!==I.value;if(D(te),X){var ie;(ie=e.onChange)===null||ie===void 0||ie.call(e,te)}};return Xme({tabs:le(function(){return e.tabs}),prefixCls:l}),function(){var ae,te=e.id,Q=e.type,Y=e.tabBarGutter,X=e.tabBarStyle,ie=e.locale,he=e.destroyInactiveTabPane,ce=e.renderTabBar,we=ce===void 0?i.renderTabBar:ce,be=e.onTabScroll,ve=e.hideAdd,ge=e.centered,Pe={id:Z.value,activeKey:I.value,animated:g.value,tabPosition:q.value,rtl:v.value,mobile:S.value},ye;Q==="editable-card"&&(ye={onEdit:function(Ee,pe){var Ie,We=pe.key,Qe=pe.event;(Ie=e.onEdit)===null||Ie===void 0||Ie.call(e,Ee==="add"?Qe:We,Ee)},removeIcon:function(){return M(pu,null,null)},addIcon:i.addIcon?i.addIcon:function(){return M(zte,null,null)},showAdd:ve!==!0});var Ne,Re=R(R({},Pe),{},{moreTransitionName:"".concat(p.value,"-slide-up"),editable:ye,locale:ie,tabBarGutter:Y,onTabClick:G,onTabScroll:be,style:X});we?Ne=we(R(R({},Re),{},{DefaultTabBar:TO})):Ne=M(TO,Re,Kj(i,["moreIcon","leftExtra","rightExtra","tabBarExtraContent"]));var Ge=l.value;return M("div",R(R({},r),{},{id:te,class:mt(Ge,"".concat(Ge,"-").concat(q.value),(ae={},J(ae,"".concat(Ge,"-").concat(f.value),f.value),J(ae,"".concat(Ge,"-card"),["card","editable-card"].includes(Q)),J(ae,"".concat(Ge,"-editable-card"),Q==="editable-card"),J(ae,"".concat(Ge,"-centered"),ge),J(ae,"".concat(Ge,"-mobile"),S.value),J(ae,"".concat(Ge,"-editable"),Q==="editable-card"),J(ae,"".concat(Ge,"-rtl"),v.value),ae),r.class)}),[Ne,M(Ige,R(R({destroyInactiveTabPane:he},Pe),{},{animated:g.value}),null)])}}});const uh=lt({compatConfig:{MODE:3},name:"ATabs",inheritAttrs:!1,props:lr(Wj(),{tabPosition:"top",animated:{inkBar:!0,tabPane:!1}}),slots:["tabBarExtraContent","leftExtra","rightExtra","moreIcon","addIcon","removeIcon","renderTabBar"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.emit,l=function(f){o("update:activeKey",f),o("change",f)};return function(){var a,f=Oge(Wr((a=i.default)===null||a===void 0?void 0:a.call(i)));return M(Dge,R(R(R({},Qn(e,["onUpdate:activeKey"])),r),{},{onChange:l,tabs:f}),i)}}});var Rge=function(){return{tab:Te.any,disabled:{type:Boolean},forceRender:{type:Boolean},closable:{type:Boolean},animated:{type:Boolean},active:{type:Boolean},destroyInactiveTabPane:{type:Boolean},prefixCls:{type:String},tabKey:{type:[String,Number]},id:{type:String}}};const Cx=lt({compatConfig:{MODE:3},name:"ATabPane",inheritAttrs:!1,__ANT_TAB_PANE:!0,props:Rge(),slots:["closeIcon","tab"],setup:function(e,n){var r=n.attrs,i=n.slots,o=ke(e.forceRender);Lt([function(){return e.active},function(){return e.destroyInactiveTabPane}],function(){e.active?o.value=!0:e.destroyInactiveTabPane&&(o.value=!1)},{immediate:!0});var l=le(function(){return e.active?{}:e.animated?{visibility:"hidden",height:0,overflowY:"hidden"}:{display:"none"}});return function(){var a,f=e.prefixCls,p=e.forceRender,v=e.id,g=e.active,_=e.tabKey;return M("div",{id:v&&"".concat(v,"-panel-").concat(_),role:"tabpanel",tabindex:g?0:-1,"aria-labelledby":v&&"".concat(v,"-tab-").concat(_),"aria-hidden":!g,style:[l.value,r.style],class:["".concat(f,"-tabpane"),g&&"".concat(f,"-tabpane-active"),r.class]},[(g||o.value||p)&&((a=i.default)===null||a===void 0?void 0:a.call(i))])}}});uh.TabPane=Cx;uh.install=function(t){return t.component(uh.name,uh),t.component(Cx.name,Cx),t};var Gj=function(){return Th()&&window.document.documentElement},qj=function(e){if(Th()&&window.document.documentElement){var n=Array.isArray(e)?e:[e],r=window.document.documentElement;return n.some(function(i){return i in r.style})}return!1},Lge=function(e,n){if(!qj(e))return!1;var r=document.createElement("div"),i=r.style[e];return r.style[e]=n,r.style[e]!==i};function uE(t,e){return!Array.isArray(t)&&e!==void 0?Lge(t,e):qj(t)}var __,Fge=function(){if(!Gj())return!1;if(__!==void 0)return __;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),__=e.scrollHeight===1,document.body.removeChild(e),__};const Yj=function(){var t=ke(!1);return zn(function(){t.value=Fge()}),t};var Xj=Symbol("rowContextKey"),Nge=function(e){Xn(Xj,e)},Bge=function(){return Hn(Xj,{gutter:le(function(){}),wrap:le(function(){}),supportFlexGap:le(function(){})})};Di("top","middle","bottom","stretch");Di("start","end","center","space-around","space-between");var zge=function(){return{align:String,justify:String,prefixCls:String,gutter:{type:[Number,Array,Object],default:0},wrap:{type:Boolean,default:void 0}}},$ge=lt({compatConfig:{MODE:3},name:"ARow",props:zge(),setup:function(e,n){var r=n.slots,i=fn("row",e),o=i.prefixCls,l=i.direction,a,f=ke({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0,xxxl:!0}),p=Yj();zn(function(){a=Sv.subscribe(function(b){var S=e.gutter||0;(!Array.isArray(S)&&dn(S)==="object"||Array.isArray(S)&&(dn(S[0])==="object"||dn(S[1])==="object"))&&(f.value=b)})}),tr(function(){Sv.unsubscribe(a)});var v=le(function(){var b=[0,0],S=e.gutter,E=S===void 0?0:S,P=Array.isArray(E)?E:[E,0];return P.forEach(function(k,I){if(dn(k)==="object")for(var D=0;D<yh.length;D++){var L=yh[D];if(f.value[L]&&k[L]!==void 0){b[I]=k[L];break}}else b[I]=k||0}),b});Nge({gutter:v,supportFlexGap:p,wrap:le(function(){return e.wrap})});var g=le(function(){var b;return mt(o.value,(b={},J(b,"".concat(o.value,"-no-wrap"),e.wrap===!1),J(b,"".concat(o.value,"-").concat(e.justify),e.justify),J(b,"".concat(o.value,"-").concat(e.align),e.align),J(b,"".concat(o.value,"-rtl"),l.value==="rtl"),b))}),_=le(function(){var b=v.value,S={},E=b[0]>0?"".concat(b[0]/-2,"px"):void 0,P=b[1]>0?"".concat(b[1]/-2,"px"):void 0;return E&&(S.marginLeft=E,S.marginRight=E),p.value?S.rowGap="".concat(b[1],"px"):P&&(S.marginTop=P,S.marginBottom=P),S});return function(){var b;return M("div",{class:g.value,style:_.value},[(b=r.default)===null||b===void 0?void 0:b.call(r)])}}});const cE=$ge;function jge(t){return typeof t=="number"?"".concat(t," ").concat(t," auto"):/^\d+(\.\d+)?(px|em|rem|%)$/.test(t)?"0 0 ".concat(t):t}var Vge=function(){return{span:[String,Number],order:[String,Number],offset:[String,Number],push:[String,Number],pull:[String,Number],xs:{type:[String,Number,Object],default:void 0},sm:{type:[String,Number,Object],default:void 0},md:{type:[String,Number,Object],default:void 0},lg:{type:[String,Number,Object],default:void 0},xl:{type:[String,Number,Object],default:void 0},xxl:{type:[String,Number,Object],default:void 0},xxxl:{type:[String,Number,Object],default:void 0},prefixCls:String,flex:[String,Number]}};const N2=lt({compatConfig:{MODE:3},name:"ACol",props:Vge(),setup:function(e,n){var r=n.slots,i=Bge(),o=i.gutter,l=i.supportFlexGap,a=i.wrap,f=fn("col",e),p=f.prefixCls,v=f.direction,g=le(function(){var b,S=e.span,E=e.order,P=e.offset,k=e.push,I=e.pull,D=p.value,L={};return["xs","sm","md","lg","xl","xxl","xxxl"].forEach(function(B){var N,j={},H=e[B];typeof H=="number"?j.span=H:dn(H)==="object"&&(j=H||{}),L=R(R({},L),{},(N={},J(N,"".concat(D,"-").concat(B,"-").concat(j.span),j.span!==void 0),J(N,"".concat(D,"-").concat(B,"-order-").concat(j.order),j.order||j.order===0),J(N,"".concat(D,"-").concat(B,"-offset-").concat(j.offset),j.offset||j.offset===0),J(N,"".concat(D,"-").concat(B,"-push-").concat(j.push),j.push||j.push===0),J(N,"".concat(D,"-").concat(B,"-pull-").concat(j.pull),j.pull||j.pull===0),J(N,"".concat(D,"-rtl"),v.value==="rtl"),N))}),mt(D,(b={},J(b,"".concat(D,"-").concat(S),S!==void 0),J(b,"".concat(D,"-order-").concat(E),E),J(b,"".concat(D,"-offset-").concat(P),P),J(b,"".concat(D,"-push-").concat(k),k),J(b,"".concat(D,"-pull-").concat(I),I),b),L)}),_=le(function(){var b=e.flex,S=o.value,E={};if(S&&S[0]>0){var P="".concat(S[0]/2,"px");E.paddingLeft=P,E.paddingRight=P}if(S&&S[1]>0&&!l.value){var k="".concat(S[1]/2,"px");E.paddingTop=k,E.paddingBottom=k}return b&&(E.flex=jge(b),a.value===!1&&!E.minWidth&&(E.minWidth=0)),E});return function(){var b;return M("div",{class:g.value,style:_.value},[(b=r.default)===null||b===void 0?void 0:b.call(r)])}}}),Uge={useBreakpoint:Wv},Hp=Ki(cE),fl=Ki(N2);var Hge=uh.TabPane,Kge=function(){return{prefixCls:String,title:Te.any,extra:Te.any,bordered:{type:Boolean,default:!0},bodyStyle:{type:Object,default:void 0},headStyle:{type:Object,default:void 0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},type:{type:String},size:{type:String},actions:Te.any,tabList:{type:Array},tabBarExtraContent:Te.any,activeTabKey:String,defaultActiveTabKey:String,cover:Te.any,onTabChange:{type:Function}}},Wge=lt({compatConfig:{MODE:3},name:"ACard",props:Kge(),slots:["title","extra","tabBarExtraContent","actions","cover","customTab"],setup:function(e,n){var r=n.slots,i=fn("card",e),o=i.prefixCls,l=i.direction,a=i.size,f=function(_){var b=_.map(function(S,E){return Ga(S)&&!a0(S)||!Ga(S)?M("li",{style:{width:"".concat(100/_.length,"%")},key:"action-".concat(E)},[M("span",null,[S])]):null});return b},p=function(_){var b;(b=e.onTabChange)===null||b===void 0||b.call(e,_)},v=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b;return _.forEach(function(S){S&&z8(S.type)&&S.type.__ANT_CARD_GRID&&(b=!0)}),b};return function(){var g,_,b,S,E,P,k,I,D=e.headStyle,L=D===void 0?{}:D,B=e.bodyStyle,N=B===void 0?{}:B,j=e.loading,H=e.bordered,V=H===void 0?!0:H,Z=e.type,re=e.tabList,q=e.hoverable,G=e.activeTabKey,ae=e.defaultActiveTabKey,te=e.tabBarExtraContent,Q=te===void 0?mg((g=r.tabBarExtraContent)===null||g===void 0?void 0:g.call(r)):te,Y=e.title,X=Y===void 0?mg((_=r.title)===null||_===void 0?void 0:_.call(r)):Y,ie=e.extra,he=ie===void 0?mg((b=r.extra)===null||b===void 0?void 0:b.call(r)):ie,ce=e.actions,we=ce===void 0?mg((S=r.actions)===null||S===void 0?void 0:S.call(r)):ce,be=e.cover,ve=be===void 0?mg((E=r.cover)===null||E===void 0?void 0:E.call(r)):be,ge=Wr((P=r.default)===null||P===void 0?void 0:P.call(r)),Pe=o.value,ye=(k={},J(k,"".concat(Pe),!0),J(k,"".concat(Pe,"-loading"),j),J(k,"".concat(Pe,"-bordered"),V),J(k,"".concat(Pe,"-hoverable"),!!q),J(k,"".concat(Pe,"-contain-grid"),v(ge)),J(k,"".concat(Pe,"-contain-tabs"),re&&re.length),J(k,"".concat(Pe,"-").concat(a.value),a.value),J(k,"".concat(Pe,"-type-").concat(Z),!!Z),J(k,"".concat(Pe,"-rtl"),l.value==="rtl"),k),Ne=N.padding===0||N.padding==="0px"?{padding:"24px"}:void 0,Re=M("div",{class:"".concat(Pe,"-loading-block")},null),Ge=M("div",{class:"".concat(Pe,"-loading-content"),style:Ne},[M(Hp,{gutter:8},{default:function(){return[M(fl,{span:22},{default:function(){return[Re]}})]}}),M(Hp,{gutter:8},{default:function(){return[M(fl,{span:8},{default:function(){return[Re]}}),M(fl,{span:15},{default:function(){return[Re]}})]}}),M(Hp,{gutter:8},{default:function(){return[M(fl,{span:6},{default:function(){return[Re]}}),M(fl,{span:18},{default:function(){return[Re]}})]}}),M(Hp,{gutter:8},{default:function(){return[M(fl,{span:13},{default:function(){return[Re]}}),M(fl,{span:9},{default:function(){return[Re]}})]}}),M(Hp,{gutter:8},{default:function(){return[M(fl,{span:4},{default:function(){return[Re]}}),M(fl,{span:3},{default:function(){return[Re]}}),M(fl,{span:16},{default:function(){return[Re]}})]}})]),He=G!==void 0,Ee=(I={size:"large"},J(I,He?"activeKey":"defaultActiveKey",He?G:ae),J(I,"onChange",p),J(I,"class","".concat(Pe,"-head-tabs")),I),pe,Ie=re&&re.length?M(uh,Ee,{default:function(){return[re.map(function(ot){var nt=ot.tab,Ze=ot.slots,ht=Ze==null?void 0:Ze.tab;Br(!Ze,"Card","tabList slots is deprecated, Please use `customTab` instead.");var vt=nt!==void 0?nt:r[ht]?r[ht](ot):null;return vt=v5(r,"customTab",ot,function(){return[vt]}),M(Hge,{tab:vt,key:ot.key,disabled:ot.disabled},null)})]},rightExtra:Q?function(){return Q}:null}):null;(X||he||Ie)&&(pe=M("div",{class:"".concat(Pe,"-head"),style:L},[M("div",{class:"".concat(Pe,"-head-wrapper")},[X&&M("div",{class:"".concat(Pe,"-head-title")},[X]),he&&M("div",{class:"".concat(Pe,"-extra")},[he])]),Ie]));var We=ve?M("div",{class:"".concat(Pe,"-cover")},[ve]):null,Qe=M("div",{class:"".concat(Pe,"-body"),style:N},[j?Ge:ge]),at=we&&we.length?M("ul",{class:"".concat(Pe,"-actions")},[f(we)]):null;return M("div",{class:ye,ref:"cardContainerRef"},[pe,We,ge&&ge.length?Qe:null,at])}}});const uv=Wge;var Gge=function(){return{prefixCls:String,title:Te.any,description:Te.any,avatar:Te.any}};const Sx=lt({compatConfig:{MODE:3},name:"ACardMeta",props:Gge(),slots:["title","description","avatar"],setup:function(e,n){var r=n.slots,i=fn("card",e),o=i.prefixCls;return function(){var l=J({},"".concat(o.value,"-meta"),!0),a=vi(r,e,"avatar"),f=vi(r,e,"title"),p=vi(r,e,"description"),v=a?M("div",{class:"".concat(o.value,"-meta-avatar")},[a]):null,g=f?M("div",{class:"".concat(o.value,"-meta-title")},[f]):null,_=p?M("div",{class:"".concat(o.value,"-meta-description")},[p]):null,b=g||_?M("div",{class:"".concat(o.value,"-meta-detail")},[g,_]):null;return M("div",{class:l},[v,b])}}});var qge=function(){return{prefixCls:String,hoverable:{type:Boolean,default:!0}}};const Tx=lt({compatConfig:{MODE:3},name:"ACardGrid",__ANT_CARD_GRID:!0,props:qge(),setup:function(e,n){var r=n.slots,i=fn("card",e),o=i.prefixCls,l=le(function(){var a;return a={},J(a,"".concat(o.value,"-grid"),!0),J(a,"".concat(o.value,"-grid-hoverable"),e.hoverable),a});return function(){var a;return M("div",{class:l.value},[(a=r.default)===null||a===void 0?void 0:a.call(r)])}}});uv.Meta=Sx;uv.Grid=Tx;uv.install=function(t){return t.component(uv.name,uv),t.component(Sx.name,Sx),t.component(Tx.name,Tx),t};var Yge=function(){return{prefixCls:String,activeKey:{type:[Array,Number,String]},defaultActiveKey:{type:[Array,Number,String]},accordion:{type:Boolean,default:void 0},destroyInactivePanel:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},expandIcon:Function,openAnimation:Te.object,expandIconPosition:Te.oneOf(Di("left","right")),collapsible:{type:String},ghost:{type:Boolean,default:void 0},onChange:Function,"onUpdate:activeKey":Function}},Zj=function(){return{openAnimation:Te.object,prefixCls:String,header:Te.any,headerClass:String,showArrow:{type:Boolean,default:void 0},isActive:{type:Boolean,default:void 0},destroyInactivePanel:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},accordion:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},expandIcon:Function,extra:Te.any,panelKey:Te.oneOfType([Te.string,Te.number]),collapsible:{type:String},role:String,onItemClick:{type:Function}}};function PO(t){var e=t;if(!Array.isArray(e)){var n=dn(e);e=n==="number"||n==="string"?[e]:[]}return e.map(function(r){return String(r)})}const i1=lt({compatConfig:{MODE:3},name:"ACollapse",inheritAttrs:!1,props:lr(Yge(),{accordion:!1,destroyInactivePanel:!1,bordered:!0,openAnimation:u0("ant-motion-collapse",!1),expandIconPosition:"left"}),slots:["expandIcon"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.emit,l=ke(PO(cx([e.activeKey,e.defaultActiveKey])));Lt(function(){return e.activeKey},function(){l.value=PO(e.activeKey)},{deep:!0});var a=fn("collapse",e),f=a.prefixCls,p=a.direction,v=le(function(){var P=e.expandIconPosition;return P!==void 0?P:p.value==="rtl"?"right":"left"}),g=function(k){var I=e.expandIcon,D=I===void 0?i.expandIcon:I,L=D?D(k):M(uc,{rotate:k.isActive?90:void 0},null);return M("div",null,[la(Array.isArray(D)?L[0]:L)?Pr(L,{class:"".concat(f.value,"-arrow")},!1):L])},_=function(k){e.activeKey===void 0&&(l.value=k);var I=e.accordion?k[0]:k;o("update:activeKey",I),o("change",I)},b=function(k){var I=l.value;if(e.accordion)I=I[0]===k?[]:[k];else{I=Jt(I);var D=I.indexOf(k),L=D>-1;L?I.splice(D,1):I.push(k)}_(I)},S=function(k,I){var D,L,B;if(!a0(k)){var N=l.value,j=e.accordion,H=e.destroyInactivePanel,V=e.collapsible,Z=e.openAnimation,re=String((D=k.key)!==null&&D!==void 0?D:I),q=k.props||{},G=q.header,ae=G===void 0?(L=k.children)===null||L===void 0||(B=L.header)===null||B===void 0?void 0:B.call(L):G,te=q.headerClass,Q=q.collapsible,Y=q.disabled,X=!1;j?X=N[0]===re:X=N.indexOf(re)>-1;var ie=Q??V;(Y||Y==="")&&(ie="disabled");var he={key:re,panelKey:re,header:ae,headerClass:te,isActive:X,prefixCls:f.value,destroyInactivePanel:H,openAnimation:Z,accordion:j,onItemClick:ie==="disabled"?null:b,expandIcon:g,collapsible:ie};return Pr(k,he)}},E=function(){var k;return Wr((k=i.default)===null||k===void 0?void 0:k.call(i)).map(S)};return function(){var P,k=e.accordion,I=e.bordered,D=e.ghost,L=mt((P={},J(P,f.value,!0),J(P,"".concat(f.value,"-borderless"),!I),J(P,"".concat(f.value,"-icon-position-").concat(v.value),!0),J(P,"".concat(f.value,"-rtl"),p.value==="rtl"),J(P,"".concat(f.value,"-ghost"),!!D),J(P,r.class,!!r.class),P));return M("div",R(R({class:L},Bae(r)),{},{style:r.style,role:k?"tablist":null}),[E()])}}}),Xge=lt({compatConfig:{MODE:3},name:"PanelContent",props:Zj(),setup:function(e,n){var r=n.slots,i=ke(!1);return Un(function(){(e.isActive||e.forceRender)&&(i.value=!0)}),function(){var o,l;if(!i.value)return null;var a=e.prefixCls,f=e.isActive,p=e.role;return M("div",{ref:ke,class:mt("".concat(a,"-content"),(o={},J(o,"".concat(a,"-content-active"),f),J(o,"".concat(a,"-content-inactive"),!f),o)),role:p},[M("div",{class:"".concat(a,"-content-box")},[(l=r.default)===null||l===void 0?void 0:l.call(r)])])}}}),Ex=lt({compatConfig:{MODE:3},name:"ACollapsePanel",inheritAttrs:!1,props:lr(Zj(),{showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1}),slots:["expandIcon","extra","header"],setup:function(e,n){var r=n.slots,i=n.emit,o=n.attrs;Br(e.disabled===void 0,"Collapse.Panel",'`disabled` is deprecated. Please use `collapsible="disabled"` instead.');var l=fn("collapse",e),a=l.prefixCls,f=function(){i("itemClick",e.panelKey)},p=function(g){(g.key==="Enter"||g.keyCode===13||g.which===13)&&f()};return function(){var v,g,_,b,S=e.header,E=S===void 0?(v=r.header)===null||v===void 0?void 0:v.call(r):S,P=e.headerClass,k=e.isActive,I=e.showArrow,D=e.destroyInactivePanel,L=e.accordion,B=e.forceRender,N=e.openAnimation,j=e.expandIcon,H=j===void 0?r.expandIcon:j,V=e.extra,Z=V===void 0?(g=r.extra)===null||g===void 0?void 0:g.call(r):V,re=e.collapsible,q=re==="disabled",G=a.value,ae=mt("".concat(G,"-header"),(_={},J(_,P,P),J(_,"".concat(G,"-header-collapsible-only"),re==="header"),_)),te=mt((b={},J(b,"".concat(G,"-item"),!0),J(b,"".concat(G,"-item-active"),k),J(b,"".concat(G,"-item-disabled"),q),J(b,"".concat(G,"-no-arrow"),!I),J(b,"".concat(o.class),!!o.class),b)),Q=M("i",{class:"arrow"},null);I&&typeof H=="function"&&(Q=H(e));var Y=qa(M(Xge,{prefixCls:G,isActive:k,forceRender:B,role:L?"tabpanel":null},{default:r.default}),[[Pl,k]]),X=R({appear:!1,css:!1},N);return M("div",R(R({},o),{},{class:te}),[M("div",{class:ae,onClick:function(){return re!=="header"&&f()},role:L?"tab":"button",tabindex:q?-1:0,"aria-expanded":k,onKeypress:p},[I&&Q,re==="header"?M("span",{onClick:f,class:"".concat(G,"-header-text")},[E]):E,Z&&M("div",{class:"".concat(G,"-extra")},[Z])]),M(Io,X,{default:function(){return[!D||k?Y:null]}})])}}});i1.Panel=Ex;i1.install=function(t){return t.component(i1.name,i1),t.component(Ex.name,Ex),t};var Zge=function(e){return e.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()},Qge=function(e){var n=/[height|width]$/;return n.test(e)},MO=function(e){var n="",r=Object.keys(e);return r.forEach(function(i,o){var l=e[i];i=Zge(i),Qge(i)&&typeof l=="number"&&(l=l+"px"),l===!0?n+=i:l===!1?n+="not "+i:n+="("+i+": "+l+")",o<r.length-1&&(n+=" and ")}),n};function zC(t){var e="";return typeof t=="string"?t:t instanceof Array?(t.forEach(function(n,r){e+=MO(n),r<t.length-1&&(e+=", ")}),e):MO(t)}var Jge=function(){return kl.Date.now()};const $C=Jge;var e1e="Expected a function",t1e=Math.max,n1e=Math.min;function B2(t,e,n){var r,i,o,l,a,f,p=0,v=!1,g=!1,_=!0;if(typeof t!="function")throw new TypeError(e1e);e=FS(e)||0,El(n)&&(v=!!n.leading,g="maxWait"in n,o=g?t1e(FS(n.maxWait)||0,e):o,_="trailing"in n?!!n.trailing:_);function b(N){var j=r,H=i;return r=i=void 0,p=N,l=t.apply(H,j),l}function S(N){return p=N,a=setTimeout(k,e),v?b(N):l}function E(N){var j=N-f,H=N-p,V=e-j;return g?n1e(V,o-H):V}function P(N){var j=N-f,H=N-p;return f===void 0||j>=e||j<0||g&&H>=o}function k(){var N=$C();if(P(N))return I(N);a=setTimeout(k,E(N))}function I(N){return a=void 0,_&&r?b(N):(r=i=void 0,l)}function D(){a!==void 0&&clearTimeout(a),p=0,r=f=i=a=void 0}function L(){return a===void 0?l:I($C())}function B(){var N=$C(),j=P(N);if(r=arguments,i=this,f=N,j){if(a===void 0)return S(f);if(g)return clearTimeout(a),a=setTimeout(k,e),b(f)}return a===void 0&&(a=setTimeout(k,e)),l}return B.cancel=D,B.flush=L,B}var r1e={accessibility:{type:Boolean,default:!0},adaptiveHeight:{type:Boolean,default:!1},afterChange:Te.any.def(null),arrows:{type:Boolean,default:!0},autoplay:{type:Boolean,default:!1},autoplaySpeed:Te.number.def(3e3),beforeChange:Te.any.def(null),centerMode:{type:Boolean,default:!1},centerPadding:Te.string.def("50px"),cssEase:Te.string.def("ease"),dots:{type:Boolean,default:!1},dotsClass:Te.string.def("slick-dots"),draggable:{type:Boolean,default:!0},unslick:{type:Boolean,default:!1},easing:Te.string.def("linear"),edgeFriction:Te.number.def(.35),fade:{type:Boolean,default:!1},focusOnSelect:{type:Boolean,default:!1},infinite:{type:Boolean,default:!0},initialSlide:Te.number.def(0),lazyLoad:Te.any.def(null),verticalSwiping:{type:Boolean,default:!1},asNavFor:Te.any.def(null),pauseOnDotsHover:{type:Boolean,default:!1},pauseOnFocus:{type:Boolean,default:!1},pauseOnHover:{type:Boolean,default:!0},responsive:Te.array,rows:Te.number.def(1),rtl:{type:Boolean,default:!1},slide:Te.string.def("div"),slidesPerRow:Te.number.def(1),slidesToScroll:Te.number.def(1),slidesToShow:Te.number.def(1),speed:Te.number.def(500),swipe:{type:Boolean,default:!0},swipeEvent:Te.any.def(null),swipeToSlide:{type:Boolean,default:!1},touchMove:{type:Boolean,default:!0},touchThreshold:Te.number.def(5),useCSS:{type:Boolean,default:!0},useTransform:{type:Boolean,default:!0},variableWidth:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},waitForAnimate:{type:Boolean,default:!0},children:Te.array,__propsSymbol__:Te.any};const Qj=r1e;var i1e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};const a1e=i1e;function KS(t,e,n){return Math.max(e,Math.min(t,n))}var cv=function(e){var n=["touchstart","touchmove","wheel"];n.includes(e.type)||e.preventDefault()},Px=function(e){for(var n=[],r=Jj(e),i=eV(e),o=r;o<i;o++)e.lazyLoadedList.indexOf(o)<0&&n.push(o);return n},Jj=function(e){return e.currentSlide-o1e(e)},eV=function(e){return e.currentSlide+s1e(e)},o1e=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},s1e=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},WS=function(e){return e&&e.offsetWidth||0},dE=function(e){return e&&e.offsetHeight||0},tV=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i=e.startX-e.curX,o=e.startY-e.curY,l=Math.atan2(o,i);return r=Math.round(l*180/Math.PI),r<0&&(r=360-Math.abs(r)),r<=45&&r>=0||r<=360&&r>=315?"left":r>=135&&r<=225?"right":n===!0?r>=35&&r<=135?"up":"down":"vertical"},z2=function(e){var n=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(n=!1),n},jC=function(e,n){var r={};return n.forEach(function(i){return r[i]=e[i]}),r},l1e=function(e){var n=e.children.length,r=e.listRef,i=Math.ceil(WS(r)),o=e.trackRef,l=Math.ceil(WS(o)),a;if(e.vertical)a=i;else{var f=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(f*=i/100),a=Math.ceil((i-f)/e.slidesToShow)}var p=r&&dE(r.querySelector('[data-index="0"]')),v=p*e.slidesToShow,g=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(g=n-1-e.initialSlide);var _=e.lazyLoadedList||[],b=Px(R(R({},e),{},{currentSlide:g,lazyLoadedList:_}));_=_.concat(b);var S={slideCount:n,slideWidth:a,listWidth:i,trackWidth:l,currentSlide:g,slideHeight:p,listHeight:v,lazyLoadedList:_};return e.autoplaying===null&&e.autoplay&&(S.autoplaying="playing"),S},u1e=function(e){var n=e.waitForAnimate,r=e.animating,i=e.fade,o=e.infinite,l=e.index,a=e.slideCount,f=e.lazyLoad,p=e.currentSlide,v=e.centerMode,g=e.slidesToScroll,_=e.slidesToShow,b=e.useCSS,S=e.lazyLoadedList;if(n&&r)return{};var E=l,P,k,I,D={},L={},B=o?l:KS(l,0,a-1);if(i){if(!o&&(l<0||l>=a))return{};l<0?E=l+a:l>=a&&(E=l-a),f&&S.indexOf(E)<0&&(S=S.concat(E)),D={animating:!0,currentSlide:E,lazyLoadedList:S,targetSlide:E},L={animating:!1,targetSlide:E}}else P=E,E<0?(P=E+a,o?a%g!==0&&(P=a-a%g):P=0):!z2(e)&&E>p?E=P=p:v&&E>=a?(E=o?a:a-1,P=o?0:a-1):E>=a&&(P=E-a,o?a%g!==0&&(P=0):P=a-_),!o&&E+_>=a&&(P=a-_),k=j1(R(R({},e),{},{slideIndex:E})),I=j1(R(R({},e),{},{slideIndex:P})),o||(k===I&&(E=P),k=I),f&&(S=S.concat(Px(R(R({},e),{},{currentSlide:E})))),b?(D={animating:!0,currentSlide:P,trackStyle:nV(R(R({},e),{},{left:k})),lazyLoadedList:S,targetSlide:B},L={animating:!1,currentSlide:P,trackStyle:$1(R(R({},e),{},{left:I})),swipeLeft:null,targetSlide:B}):D={currentSlide:P,trackStyle:$1(R(R({},e),{},{left:I})),lazyLoadedList:S,targetSlide:B};return{state:D,nextState:L}},c1e=function(e,n){var r,i,o,l=e.slidesToScroll,a=e.slidesToShow,f=e.slideCount,p=e.currentSlide,v=e.targetSlide,g=e.lazyLoad,_=e.infinite,b=f%l!==0,S=b?0:(f-p)%l;if(n.message==="previous")i=S===0?l:a-S,o=p-i,g&&!_&&(r=p-i,o=r===-1?f-1:r),_||(o=v-l);else if(n.message==="next")i=S===0?l:S,o=p+i,g&&!_&&(o=(p+l)%f+S),_||(o=v+l);else if(n.message==="dots")o=n.index*n.slidesToScroll;else if(n.message==="children"){if(o=n.index,_){var E=g1e(R(R({},e),{},{targetSlide:o}));o>n.currentSlide&&E==="left"?o=o-f:o<n.currentSlide&&E==="right"&&(o=o+f)}}else n.message==="index"&&(o=Number(n.index));return o},d1e=function(e,n,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!n?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""},f1e=function(e,n,r){return e.target.tagName==="IMG"&&cv(e),!n||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}},h1e=function(e,n){var r=n.scrolling,i=n.animating,o=n.vertical,l=n.swipeToSlide,a=n.verticalSwiping,f=n.rtl,p=n.currentSlide,v=n.edgeFriction,g=n.edgeDragged,_=n.onEdge,b=n.swiped,S=n.swiping,E=n.slideCount,P=n.slidesToScroll,k=n.infinite,I=n.touchObject,D=n.swipeEvent,L=n.listHeight,B=n.listWidth;if(!r){if(i)return cv(e);o&&l&&a&&cv(e);var N,j={},H=j1(n);I.curX=e.touches?e.touches[0].pageX:e.clientX,I.curY=e.touches?e.touches[0].pageY:e.clientY,I.swipeLength=Math.round(Math.sqrt(Math.pow(I.curX-I.startX,2)));var V=Math.round(Math.sqrt(Math.pow(I.curY-I.startY,2)));if(!a&&!S&&V>10)return{scrolling:!0};a&&(I.swipeLength=V);var Z=(f?-1:1)*(I.curX>I.startX?1:-1);a&&(Z=I.curY>I.startY?1:-1);var re=Math.ceil(E/P),q=tV(n.touchObject,a),G=I.swipeLength;return k||(p===0&&(q==="right"||q==="down")||p+1>=re&&(q==="left"||q==="up")||!z2(n)&&(q==="left"||q==="up"))&&(G=I.swipeLength*v,g===!1&&_&&(_(q),j.edgeDragged=!0)),!b&&D&&(D(q),j.swiped=!0),o?N=H+G*(L/B)*Z:f?N=H-G*Z:N=H+G*Z,a&&(N=H+G*Z),j=R(R({},j),{},{touchObject:I,swipeLeft:N,trackStyle:$1(R(R({},n),{},{left:N}))}),Math.abs(I.curX-I.startX)<Math.abs(I.curY-I.startY)*.8||I.swipeLength>10&&(j.swiping=!0,cv(e)),j}},p1e=function(e,n){var r=n.dragging,i=n.swipe,o=n.touchObject,l=n.listWidth,a=n.touchThreshold,f=n.verticalSwiping,p=n.listHeight,v=n.swipeToSlide,g=n.scrolling,_=n.onSwipe,b=n.targetSlide,S=n.currentSlide,E=n.infinite;if(!r)return i&&cv(e),{};var P=f?p/a:l/a,k=tV(o,f),I={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(g||!o.swipeLength)return I;if(o.swipeLength>P){cv(e),_&&_(k);var D,L,B=E?S:b;switch(k){case"left":case"up":L=B+AO(n),D=v?kO(n,L):L,I.currentDirection=0;break;case"right":case"down":L=B-AO(n),D=v?kO(n,L):L,I.currentDirection=1;break;default:D=B}I.triggerSlideHandler=D}else{var N=j1(n);I.trackStyle=nV(R(R({},n),{},{left:N}))}return I},v1e=function(e){for(var n=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,o=[];r<n;)o.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return o},kO=function(e,n){var r=v1e(e),i=0;if(n>r[r.length-1])n=r[r.length-1];else for(var o in r){if(n<r[o]){n=i;break}i=r[o]}return n},AO=function(e){var n=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,o=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(o).every(function(f){if(e.vertical){if(f.offsetTop+dE(f)/2>e.swipeLeft*-1)return r=f,!1}else if(f.offsetLeft-n+WS(f)/2>e.swipeLeft*-1)return r=f,!1;return!0}),!r)return 0;var l=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-l)||1;return a}else return e.slidesToScroll},fE=function(e,n){return n.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},$1=function(e){fE(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var n,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:n=m1e(e)*e.slideWidth;var o={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var l=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",f=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";o=R(R({},o),{},{WebkitTransform:l,transform:a,msTransform:f})}else e.vertical?o.top=e.left:o.left=e.left;return e.fade&&(o={opacity:1}),n&&(o.width=n+"px"),r&&(o.height=r+"px"),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?o.marginTop=e.left+"px":o.marginLeft=e.left+"px"),o},nV=function(e){fE(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var n=$1(e);return e.useTransform?(n.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,n.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?n.transition="top "+e.speed+"ms "+e.cssEase:n.transition="left "+e.speed+"ms "+e.cssEase,n},j1=function(e){if(e.unslick)return 0;fE(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var n=e.slideIndex,r=e.trackRef,i=e.infinite,o=e.centerMode,l=e.slideCount,a=e.slidesToShow,f=e.slidesToScroll,p=e.slideWidth,v=e.listWidth,g=e.variableWidth,_=e.slideHeight,b=e.fade,S=e.vertical,E=0,P,k,I=0;if(b||e.slideCount===1)return 0;var D=0;if(i?(D=-rc(e),l%f!==0&&n+f>l&&(D=-(n>l?a-(n-l):l%f)),o&&(D+=parseInt(a/2))):(l%f!==0&&n+f>l&&(D=a-l%f),o&&(D=parseInt(a/2))),E=D*p,I=D*_,S?P=n*_*-1+I:P=n*p*-1+E,g===!0){var L,B=r;if(L=n+rc(e),k=B&&B.childNodes[L],P=k?k.offsetLeft*-1:0,o===!0){L=i?n+rc(e):n,k=B&&B.children[L],P=0;for(var N=0;N<L;N++)P-=B&&B.children[N]&&B.children[N].offsetWidth;P-=parseInt(e.centerPadding),P+=k&&(v-k.offsetWidth)/2}}return P},rc=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},ib=function(e){return e.unslick||!e.infinite?0:e.slideCount},m1e=function(e){return e.slideCount===1?1:rc(e)+e.slideCount+ib(e)},g1e=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+y1e(e)?"left":"right":e.targetSlide<e.currentSlide-_1e(e)?"right":"left"},y1e=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var l=(n-1)/2+1;return parseInt(o)>0&&(l+=1),i&&n%2===0&&(l+=1),l}return i?0:n-1},_1e=function(e){var n=e.slidesToShow,r=e.centerMode,i=e.rtl,o=e.centerPadding;if(r){var l=(n-1)/2+1;return parseInt(o)>0&&(l+=1),!i&&n%2===0&&(l+=1),l}return i?n-1:0},IO=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)},VC=function(e){var n,r,i,o;e.rtl?o=e.slideCount-1-e.index:o=e.index;var l=o<0||o>=e.slideCount;e.centerMode?(i=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-i-1&&o<=e.currentSlide+i&&(n=!0)):n=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var f=o===a;return{"slick-slide":!0,"slick-active":n,"slick-center":r,"slick-cloned":l,"slick-current":f}},b1e=function(e){var n={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(n.width=e.slideWidth+(typeof e.slideWidth=="number"?"px":"")),e.fade&&(n.position="relative",e.vertical?n.top=-e.index*parseInt(e.slideHeight)+"px":n.left=-e.index*parseInt(e.slideWidth)+"px",n.opacity=e.currentSlide===e.index?1:0,e.useCSS&&(n.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),n},UC=function(e,n){return e.key+"-"+n},x1e=function(e,n){var r,i=[],o=[],l=[],a=n.length,f=Jj(e),p=eV(e);return n.forEach(function(v,g){var _,b={message:"children",index:g,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(g)>=0?_=v:_=M("div");var S=b1e(R(R({},e),{},{index:g})),E=_.props.class||"",P=VC(R(R({},e),{},{index:g}));if(i.push(t1(_,{key:"original"+UC(_,g),tabindex:"-1","data-index":g,"aria-hidden":!P["slick-active"],class:mt(P,E),style:R(R({outline:"none"},_.props.style||{}),S),onClick:function(){e.focusOnSelect&&e.focusOnSelect(b)}})),e.infinite&&e.fade===!1){var k=a-g;k<=rc(e)&&a!==e.slidesToShow&&(r=-k,r>=f&&(_=v),P=VC(R(R({},e),{},{index:r})),o.push(t1(_,{key:"precloned"+UC(_,r),class:mt(P,E),tabindex:"-1","data-index":r,"aria-hidden":!P["slick-active"],style:R(R({},_.props.style||{}),S),onClick:function(){e.focusOnSelect&&e.focusOnSelect(b)}}))),a!==e.slidesToShow&&(r=a+g,r<p&&(_=v),P=VC(R(R({},e),{},{index:r})),l.push(t1(_,{key:"postcloned"+UC(_,r),tabindex:"-1","data-index":r,"aria-hidden":!P["slick-active"],class:mt(P,E),style:R(R({},_.props.style||{}),S),onClick:function(){e.focusOnSelect&&e.focusOnSelect(b)}})))}}),e.rtl?o.concat(i,l).reverse():o.concat(i,l)},rV=function(e,n){var r=n.attrs,i=n.slots,o=x1e(r,Wr(i==null?void 0:i.default())),l=r.onMouseenter,a=r.onMouseover,f=r.onMouseleave,p={onMouseenter:l,onMouseover:a,onMouseleave:f},v=R({class:"slick-track",style:r.trackStyle},p);return M("div",v,[o])};rV.inheritAttrs=!1;const w1e=rV;var C1e=function(e){var n;return e.infinite?n=Math.ceil(e.slideCount/e.slidesToScroll):n=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,n},iV=function(e,n){for(var r=n.attrs,i=r.slideCount,o=r.slidesToScroll,l=r.slidesToShow,a=r.infinite,f=r.currentSlide,p=r.appendDots,v=r.customPaging,g=r.clickHandler,_=r.dotsClass,b=r.onMouseenter,S=r.onMouseover,E=r.onMouseleave,P=C1e({slideCount:i,slidesToScroll:o,slidesToShow:l,infinite:a}),k={onMouseenter:b,onMouseover:S,onMouseleave:E},I=[],D=function(){var N=(L+1)*o-1,j=a?N:KS(N,0,i-1),H=j-(o-1),V=a?H:KS(H,0,i-1),Z=mt({"slick-active":a?f>=V&&f<=j:f===V}),re={message:"dots",index:L,slidesToScroll:o,currentSlide:f};function q(G){G&&G.preventDefault(),g(re)}I=I.concat(M("li",{key:L,class:Z},[Pr(v({i:L}),{onClick:q})]))},L=0;L<P;L++)D();return Pr(p({dots:I}),R({class:_},k))};iV.inheritAttrs=!1;const S1e=iV;function aV(){}function oV(t,e,n){n&&n.preventDefault(),e(t,n)}var sV=function(e,n){var r=n.attrs,i=r.clickHandler,o=r.infinite,l=r.currentSlide,a=r.slideCount,f=r.slidesToShow,p={"slick-arrow":!0,"slick-prev":!0},v=function(E){oV({message:"previous"},i,E)};!o&&(l===0||a<=f)&&(p["slick-disabled"]=!0,v=aV);var g={key:"0","data-role":"none",class:p,style:{display:"block"},onClick:v},_={currentSlide:l,slideCount:a},b;return r.prevArrow?b=Pr(r.prevArrow(R(R({},g),_)),{key:"0",class:p,style:{display:"block"},onClick:v},!1):b=M("button",R({key:"0",type:"button"},g),[" ",vo("Previous")]),b};sV.inheritAttrs=!1;var lV=function(e,n){var r=n.attrs,i=r.clickHandler,o=r.currentSlide,l=r.slideCount,a={"slick-arrow":!0,"slick-next":!0},f=function(b){oV({message:"next"},i,b)};z2(r)||(a["slick-disabled"]=!0,f=aV);var p={key:"1","data-role":"none",class:mt(a),style:{display:"block"},onClick:f},v={currentSlide:o,slideCount:l},g;return r.nextArrow?g=Pr(r.nextArrow(R(R({},p),v)),{key:"1",class:mt(a),style:{display:"block"},onClick:f},!1):g=M("button",R({key:"1",type:"button"},p),[" ",vo("Next")]),g};lV.inheritAttrs=!1;var T1e=["animating"];function hs(){}const E1e={name:"InnerSlider",mixins:[Mh],inheritAttrs:!1,props:R({},Qj),data:function(){this.preProps=R({},this.$props),this.list=null,this.track=null,this.callbackTimers=[],this.clickable=!0,this.debouncedResize=null;var e=this.ssrInit();return R(R({},a1e),{},{currentSlide:this.initialSlide,slideCount:this.children.length},e)},watch:{__propsSymbol__:function(){for(var e=this,n=this.$props,r=R(R({listRef:this.list,trackRef:this.track},n),this.$data),i=!1,o=0,l=Object.keys(this.preProps);o<l.length;o++){var a=l[o];if(!n.hasOwnProperty(a)){i=!0;break}if(!(dn(n[a])==="object"||typeof n[a]=="function"||dn(n[a])==="symbol")&&n[a]!==this.preProps[a]){i=!0;break}}this.updateState(r,i,function(){e.currentSlide>=n.children.length&&e.changeSlide({message:"index",index:n.children.length-n.slidesToShow,currentSlide:e.currentSlide}),!e.preProps.autoplay&&n.autoplay?e.handleAutoPlay("playing"):n.autoplay?e.handleAutoPlay("update"):e.pause("paused")}),this.preProps=R({},n)}},mounted:function(){var e=this;if(this.__emit("init"),this.lazyLoad){var n=Px(R(R({},this.$props),this.$data));n.length>0&&(this.setState(function(r){return{lazyLoadedList:r.lazyLoadedList.concat(n)}}),this.__emit("lazyLoad",n))}this.$nextTick(function(){var r=R({listRef:e.list,trackRef:e.track,children:e.children},e.$props);e.updateState(r,!0,function(){e.adaptHeight(),e.autoplay&&e.handleAutoPlay("playing")}),e.lazyLoad==="progressive"&&(e.lazyLoadTimer=setInterval(e.progressiveLazyLoad,1e3)),e.ro=new N8(function(){e.animating?(e.onWindowResized(!1),e.callbackTimers.push(setTimeout(function(){return e.onWindowResized()},e.speed))):e.onWindowResized()}),e.ro.observe(e.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(i){i.onfocus=e.$props.pauseOnFocus?e.onSlideFocus:null,i.onblur=e.$props.pauseOnFocus?e.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",e.onWindowResized):window.attachEvent("onresize",e.onWindowResized)})},beforeUnmount:function(){var e;this.animationEndCallback&&clearTimeout(this.animationEndCallback),this.lazyLoadTimer&&clearInterval(this.lazyLoadTimer),this.callbackTimers.length&&(this.callbackTimers.forEach(function(n){return clearTimeout(n)}),this.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",this.onWindowResized):window.detachEvent("onresize",this.onWindowResized),this.autoplayTimer&&clearInterval(this.autoplayTimer),(e=this.ro)===null||e===void 0||e.disconnect()},updated:function(){if(this.checkImagesLoad(),this.__emit("reInit"),this.lazyLoad){var e=Px(R(R({},this.$props),this.$data));e.length>0&&(this.setState(function(n){return{lazyLoadedList:n.lazyLoadedList.concat(e)}}),this.__emit("lazyLoad"))}this.adaptHeight()},methods:{listRefHandler:function(e){this.list=e},trackRefHandler:function(e){this.track=e},adaptHeight:function(){if(this.adaptiveHeight&&this.list){var e=this.list.querySelector('[data-index="'.concat(this.currentSlide,'"]'));this.list.style.height=dE(e)+"px"}},onWindowResized:function(e){var n=this;this.debouncedResize&&this.debouncedResize.cancel(),this.debouncedResize=B2(function(){return n.resizeWindow(e)},50),this.debouncedResize()},resizeWindow:function(){var e=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,r=!!this.track;if(r){var i=R(R({listRef:this.list,trackRef:this.track,children:this.children},this.$props),this.$data);this.updateState(i,n,function(){e.autoplay?e.handleAutoPlay("update"):e.pause("paused")}),this.setState({animating:!1}),clearTimeout(this.animationEndCallback),delete this.animationEndCallback}},updateState:function(e,n,r){var i=l1e(e);e=R(R(R({},e),i),{},{slideIndex:i.currentSlide});var o=j1(e);e=R(R({},e),{},{left:o});var l=$1(e);(n||this.children.length!==e.children.length)&&(i.trackStyle=l),this.setState(i,r)},ssrInit:function(){var e=this.children;if(this.variableWidth){var n=0,r=0,i=[],o=rc(R(R(R({},this.$props),this.$data),{},{slideCount:e.length})),l=ib(R(R(R({},this.$props),this.$data),{},{slideCount:e.length}));e.forEach(function(D){var L,B,N=((L=D.props.style)===null||L===void 0||(B=L.width)===null||B===void 0?void 0:B.split("px")[0])||0;i.push(N),n+=N});for(var a=0;a<o;a++)r+=i[i.length-1-a],n+=i[i.length-1-a];for(var f=0;f<l;f++)n+=i[f];for(var p=0;p<this.currentSlide;p++)r+=i[p];var v={width:n+"px",left:-r+"px"};if(this.centerMode){var g="".concat(i[this.currentSlide],"px");v.left="calc(".concat(v.left," + (100% - ").concat(g,") / 2 ) ")}return{trackStyle:v}}var _=e.length,b=R(R(R({},this.$props),this.$data),{},{slideCount:_}),S=rc(b)+ib(b)+_,E=100/this.slidesToShow*S,P=100/S,k=-P*(rc(b)+this.currentSlide)*E/100;this.centerMode&&(k+=(100-P*E/100)/2);var I={width:E+"%",left:k+"%"};return{slideWidth:P+"%",trackStyle:I}},checkImagesLoad:function(){var e=this,n=this.list&&this.list.querySelectorAll&&this.list.querySelectorAll(".slick-slide img")||[],r=n.length,i=0;Array.prototype.forEach.call(n,function(o){var l=function(){return++i&&i>=r&&e.onWindowResized()};if(!o.onclick)o.onclick=function(){return o.parentNode.focus()};else{var a=o.onclick;o.onclick=function(){a(),o.parentNode.focus()}}o.onload||(e.$props.lazyLoad?o.onload=function(){e.adaptHeight(),e.callbackTimers.push(setTimeout(e.onWindowResized,e.speed))}:(o.onload=l,o.onerror=function(){l(),e.__emit("lazyLoadError")}))})},progressiveLazyLoad:function(){for(var e=[],n=R(R({},this.$props),this.$data),r=this.currentSlide;r<this.slideCount+ib(n);r++)if(this.lazyLoadedList.indexOf(r)<0){e.push(r);break}for(var i=this.currentSlide-1;i>=-rc(n);i--)if(this.lazyLoadedList.indexOf(i)<0){e.push(i);break}e.length>0?(this.setState(function(o){return{lazyLoadedList:o.lazyLoadedList.concat(e)}}),this.__emit("lazyLoad",e)):this.lazyLoadTimer&&(clearInterval(this.lazyLoadTimer),delete this.lazyLoadTimer)},slideHandler:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=this.$props,o=i.asNavFor,l=i.currentSlide,a=i.beforeChange,f=i.speed,p=i.afterChange,v=u1e(R(R(R({index:e},this.$props),this.$data),{},{trackRef:this.track,useCSS:this.useCSS&&!r})),g=v.state,_=v.nextState;if(g){a&&a(l,g.currentSlide);var b=g.lazyLoadedList.filter(function(S){return n.lazyLoadedList.indexOf(S)<0});this.$attrs.onLazyLoad&&b.length>0&&this.__emit("lazyLoad",b),!this.$props.waitForAnimate&&this.animationEndCallback&&(clearTimeout(this.animationEndCallback),p&&p(l),delete this.animationEndCallback),this.setState(g,function(){o&&n.asNavForIndex!==e&&(n.asNavForIndex=e,o.innerSlider.slideHandler(e)),_&&(n.animationEndCallback=setTimeout(function(){var S=_.animating,E=kn(_,T1e);n.setState(E,function(){n.callbackTimers.push(setTimeout(function(){return n.setState({animating:S})},10)),p&&p(g.currentSlide),delete n.animationEndCallback})},f))})}},changeSlide:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=R(R({},this.$props),this.$data),i=c1e(r,e);if(!(i!==0&&!i)&&(n===!0?this.slideHandler(i,n):this.slideHandler(i),this.$props.autoplay&&this.handleAutoPlay("update"),this.$props.focusOnSelect)){var o=this.list.querySelectorAll(".slick-current");o[0]&&o[0].focus()}},clickHandler:function(e){this.clickable===!1&&(e.stopPropagation(),e.preventDefault()),this.clickable=!0},keyHandler:function(e){var n=d1e(e,this.accessibility,this.rtl);n!==""&&this.changeSlide({message:n})},selectHandler:function(e){this.changeSlide(e)},disableBodyScroll:function(){var e=function(r){r=r||window.event,r.preventDefault&&r.preventDefault(),r.returnValue=!1};window.ontouchmove=e},enableBodyScroll:function(){window.ontouchmove=null},swipeStart:function(e){this.verticalSwiping&&this.disableBodyScroll();var n=f1e(e,this.swipe,this.draggable);n!==""&&this.setState(n)},swipeMove:function(e){var n=h1e(e,R(R(R({},this.$props),this.$data),{},{trackRef:this.track,listRef:this.list,slideIndex:this.currentSlide}));n&&(n.swiping&&(this.clickable=!1),this.setState(n))},swipeEnd:function(e){var n=p1e(e,R(R(R({},this.$props),this.$data),{},{trackRef:this.track,listRef:this.list,slideIndex:this.currentSlide}));if(n){var r=n.triggerSlideHandler;delete n.triggerSlideHandler,this.setState(n),r!==void 0&&(this.slideHandler(r),this.$props.verticalSwiping&&this.enableBodyScroll())}},touchEnd:function(e){this.swipeEnd(e),this.clickable=!0},slickPrev:function(){var e=this;this.callbackTimers.push(setTimeout(function(){return e.changeSlide({message:"previous"})},0))},slickNext:function(){var e=this;this.callbackTimers.push(setTimeout(function(){return e.changeSlide({message:"next"})},0))},slickGoTo:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e=Number(e),isNaN(e))return"";this.callbackTimers.push(setTimeout(function(){return n.changeSlide({message:"index",index:e,currentSlide:n.currentSlide},r)},0))},play:function(){var e;if(this.rtl)e=this.currentSlide-this.slidesToScroll;else if(z2(R(R({},this.$props),this.$data)))e=this.currentSlide+this.slidesToScroll;else return!1;this.slideHandler(e)},handleAutoPlay:function(e){this.autoplayTimer&&clearInterval(this.autoplayTimer);var n=this.autoplaying;if(e==="update"){if(n==="hovered"||n==="focused"||n==="paused")return}else if(e==="leave"){if(n==="paused"||n==="focused")return}else if(e==="blur"&&(n==="paused"||n==="hovered"))return;this.autoplayTimer=setInterval(this.play,this.autoplaySpeed+50),this.setState({autoplaying:"playing"})},pause:function(e){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null);var n=this.autoplaying;e==="paused"?this.setState({autoplaying:"paused"}):e==="focused"?(n==="hovered"||n==="playing")&&this.setState({autoplaying:"focused"}):n==="playing"&&this.setState({autoplaying:"hovered"})},onDotsOver:function(){this.autoplay&&this.pause("hovered")},onDotsLeave:function(){this.autoplay&&this.autoplaying==="hovered"&&this.handleAutoPlay("leave")},onTrackOver:function(){this.autoplay&&this.pause("hovered")},onTrackLeave:function(){this.autoplay&&this.autoplaying==="hovered"&&this.handleAutoPlay("leave")},onSlideFocus:function(){this.autoplay&&this.pause("focused")},onSlideBlur:function(){this.autoplay&&this.autoplaying==="focused"&&this.handleAutoPlay("blur")},customPaging:function(e){var n=e.i;return M("button",null,[n+1])},appendDots:function(e){var n=e.dots;return M("ul",{style:{display:"block"}},[n])}},render:function(){var e,n=this,r=mt("slick-slider",this.$attrs.class,{"slick-vertical":this.vertical,"slick-initialized":!0}),i=R(R({},this.$props),this.$data),o=jC(i,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),l=this.$props.pauseOnHover;o=R(R({},o),{},{focusOnSelect:this.focusOnSelect&&this.clickable?this.selectHandler:null,ref:this.trackRefHandler,onMouseleave:l?this.onTrackLeave:hs,onMouseover:l?this.onTrackOver:hs});var a;if(this.dots===!0&&this.slideCount>=this.slidesToShow){var f=jC(i,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","infinite","appendDots"]);f.customPaging=this.customPaging,f.appendDots=this.appendDots;var p=this.$slots,v=p.customPaging,g=p.appendDots;v&&(f.customPaging=v),g&&(f.appendDots=g);var _=this.$props.pauseOnDotsHover;f=R(R({},f),{},{clickHandler:this.changeSlide,onMouseover:_?this.onDotsOver:hs,onMouseleave:_?this.onDotsLeave:hs}),a=M(S1e,f,null)}var b,S,E=jC(i,["infinite","centerMode","currentSlide","slideCount","slidesToShow"]);E.clickHandler=this.changeSlide;var P=this.$slots,k=P.prevArrow,I=P.nextArrow;k&&(E.prevArrow=k),I&&(E.nextArrow=I),this.arrows&&(b=M(sV,E,null),S=M(lV,E,null));var D=null;this.vertical&&(D={height:typeof this.listHeight=="number"?"".concat(this.listHeight,"px"):this.listHeight});var L=null;this.vertical===!1?this.centerMode===!0&&(L={padding:"0px "+this.centerPadding}):this.centerMode===!0&&(L={padding:this.centerPadding+" 0px"});var B=R(R({},D),L),N=this.touchMove,j=(e={ref:this.listRefHandler,class:"slick-list",style:B,onClick:this.clickHandler,onMousedown:N?this.swipeStart:hs,onMousemove:this.dragging&&N?this.swipeMove:hs,onMouseup:N?this.swipeEnd:hs,onMouseleave:this.dragging&&N?this.swipeEnd:hs},J(e,va?"onTouchstartPassive":"onTouchstart",N?this.swipeStart:hs),J(e,va?"onTouchmovePassive":"onTouchmove",this.dragging&&N?this.swipeMove:hs),J(e,"onTouchend",N?this.touchEnd:hs),J(e,"onTouchcancel",this.dragging&&N?this.swipeEnd:hs),J(e,"onKeydown",this.accessibility?this.keyHandler:hs),e),H={class:r,dir:"ltr",style:this.$attrs.style};return this.unslick&&(j={class:"slick-list",ref:this.listRefHandler},H={class:r}),M("div",H,[this.unslick?"":b,M("div",j,[M(w1e,o,{default:function(){return[n.children]}})]),this.unslick?"":S,this.unslick?"":a])}},P1e=lt({name:"Slider",mixins:[Mh],inheritAttrs:!1,props:R({},Qj),data:function(){return this._responsiveMediaHandlers=[],{breakpoint:null}},mounted:function(){var e=this;if(this.responsive){var n=this.responsive.map(function(i){return i.breakpoint});n.sort(function(i,o){return i-o}),n.forEach(function(i,o){var l;o===0?l=zC({minWidth:0,maxWidth:i}):l=zC({minWidth:n[o-1]+1,maxWidth:i}),IO()&&e.media(l,function(){e.setState({breakpoint:i})})});var r=zC({minWidth:n.slice(-1)[0]});IO()&&this.media(r,function(){e.setState({breakpoint:null})})}},beforeUnmount:function(){this._responsiveMediaHandlers.forEach(function(e){e.mql.removeListener(e.listener)})},methods:{innerSliderRefHandler:function(e){this.innerSlider=e},media:function(e,n){var r=window.matchMedia(e),i=function(l){var a=l.matches;a&&n()};r.addListener(i),i(r),this._responsiveMediaHandlers.push({mql:r,query:e,listener:i})},slickPrev:function(){var e;(e=this.innerSlider)===null||e===void 0||e.slickPrev()},slickNext:function(){var e;(e=this.innerSlider)===null||e===void 0||e.slickNext()},slickGoTo:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(n=this.innerSlider)===null||n===void 0||n.slickGoTo(e,r)},slickPause:function(){var e;(e=this.innerSlider)===null||e===void 0||e.pause("paused")},slickPlay:function(){var e;(e=this.innerSlider)===null||e===void 0||e.handleAutoPlay("play")}},render:function(){var e=this,n,r;this.breakpoint?(r=this.responsive.filter(function(E){return E.breakpoint===e.breakpoint}),n=r[0].settings==="unslick"?"unslick":R(R({},this.$props),r[0].settings)):n=R({},this.$props),n.centerMode&&(n.slidesToScroll>1,n.slidesToScroll=1),n.fade&&(n.slidesToShow>1,n.slidesToScroll>1,n.slidesToShow=1,n.slidesToScroll=1);var i=i0(this)||[];i=i.filter(function(E){return typeof E=="string"?!!E.trim():!!E}),n.variableWidth&&(n.rows>1||n.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),n.variableWidth=!1);for(var o=[],l=null,a=0;a<i.length;a+=n.rows*n.slidesPerRow){for(var f=[],p=a;p<a+n.rows*n.slidesPerRow;p+=n.slidesPerRow){for(var v=[],g=p;g<p+n.slidesPerRow;g+=1){var _;if(n.variableWidth&&(_=i[g].props)!==null&&_!==void 0&&_.style&&(l=i[g].props.style.width),g>=i.length)break;v.push(Pr(i[g],{key:100*a+10*p+g,tabindex:-1,style:{width:"".concat(100/n.slidesPerRow,"%"),display:"inline-block"}}))}f.push(M("div",{key:10*a+p},[v]))}n.variableWidth?o.push(M("div",{key:a,style:{width:l}},[f])):o.push(M("div",{key:a},[f]))}if(n==="unslick"){var b="regular slider "+(this.className||"");return M("div",{class:b},[i])}else o.length<=n.slidesToShow&&(n.unslick=!0);var S=R(R(R({},this.$attrs),n),{},{children:o,ref:this.innerSliderRefHandler});return M(E1e,R(R({},S),{},{__propsSymbol__:[]}),this.$slots)}});var M1e=["class","style"],k1e=function(){return{effect:String,dots:{type:Boolean,default:!0},vertical:{type:Boolean,default:void 0},autoplay:{type:Boolean,default:void 0},easing:String,beforeChange:Function,afterChange:Function,prefixCls:String,accessibility:{type:Boolean,default:void 0},nextArrow:Te.any,prevArrow:Te.any,pauseOnHover:{type:Boolean,default:void 0},adaptiveHeight:{type:Boolean,default:void 0},arrows:{type:Boolean,default:!1},autoplaySpeed:Number,centerMode:{type:Boolean,default:void 0},centerPadding:String,cssEase:String,dotsClass:String,draggable:{type:Boolean,default:!1},fade:{type:Boolean,default:void 0},focusOnSelect:{type:Boolean,default:void 0},infinite:{type:Boolean,default:void 0},initialSlide:Number,lazyLoad:String,rtl:{type:Boolean,default:void 0},slide:String,slidesToShow:Number,slidesToScroll:Number,speed:Number,swipe:{type:Boolean,default:void 0},swipeToSlide:{type:Boolean,default:void 0},swipeEvent:Function,touchMove:{type:Boolean,default:void 0},touchThreshold:Number,variableWidth:{type:Boolean,default:void 0},useCSS:{type:Boolean,default:void 0},slickGoTo:Number,responsive:Array,dotPosition:{type:String,default:void 0},verticalSwiping:{type:Boolean,default:!1}}},A1e=lt({compatConfig:{MODE:3},name:"ACarousel",inheritAttrs:!1,props:k1e(),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=ke(),a=function(E){var P,k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;(P=l.value)===null||P===void 0||P.slickGoTo(E,k)};o({goTo:a,autoplay:function(E){var P,k;(P=l.value)===null||P===void 0||(k=P.innerSlider)===null||k===void 0||k.handleAutoPlay(E)},prev:function(){var E;(E=l.value)===null||E===void 0||E.slickPrev()},next:function(){var E;(E=l.value)===null||E===void 0||E.slickNext()},innerSlider:le(function(){var S;return(S=l.value)===null||S===void 0?void 0:S.innerSlider})}),Un(function(){sa(e.vertical===void 0,"Carousel","`vertical` is deprecated, please use `dotPosition` instead.")});var f=fn("carousel",e),p=f.prefixCls,v=f.direction,g=le(function(){return e.dotPosition?e.dotPosition:e.vertical!==void 0&&e.vertical?"right":"bottom"}),_=le(function(){return g.value==="left"||g.value==="right"}),b=le(function(){var S,E="slick-dots";return mt((S={},J(S,E,!0),J(S,"".concat(E,"-").concat(g.value),!0),J(S,"".concat(e.dotsClass),!!e.dotsClass),S))});return function(){var S,E=e.dots,P=e.arrows,k=e.draggable,I=e.effect,D=i.class,L=i.style,B=kn(i,M1e),N=I==="fade"?!0:e.fade,j=mt(p.value,(S={},J(S,"".concat(p.value,"-rtl"),v.value==="rtl"),J(S,"".concat(p.value,"-vertical"),_.value),J(S,"".concat(D),!!D),S));return M("div",{class:j,style:L},[M(P1e,R(R(R({ref:l},e),B),{},{dots:!!E,dotsClass:b.value,arrows:P,draggable:k,fade:N,vertical:_.value}),r)])}}});const I1e=Ki(A1e);var hE="__RC_CASCADER_SPLIT__",O1e="SHOW_PARENT",D1e="SHOW_CHILD";function Sd(t){return t.join(hE)}function Gp(t){return t.map(Sd)}function R1e(t){return t.split(hE)}function L1e(t){var e=t||{},n=e.label,r=e.value,i=e.children,o=r||"value";return{label:n||"label",value:o,key:o,children:i||"children"}}function Fg(t,e){var n,r;return(n=t.isLeaf)!==null&&n!==void 0?n:!((r=t[e.children])!==null&&r!==void 0&&r.length)}function F1e(t){var e=t.parentElement;if(e){var n=t.offsetTop-e.offsetTop;n-e.scrollTop<0?e.scrollTo({top:n}):n+t.offsetHeight-e.scrollTop>e.offsetHeight&&e.scrollTo({top:n+t.offsetHeight-e.offsetHeight})}}var uV=Symbol("TreeContextKey"),N1e=lt({compatConfig:{MODE:3},name:"TreeContext",props:{value:{type:Object}},setup:function(e,n){var r=n.slots;return Xn(uV,le(function(){return e.value})),function(){var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}}),pE=function(){return Hn(uV,le(function(){return{}}))},cV=Symbol("KeysStateKey"),B1e=function(e){Xn(cV,e)},dV=function(){return Hn(cV,{expandedKeys:fr([]),selectedKeys:fr([]),loadedKeys:fr([]),loadingKeys:fr([]),checkedKeys:fr([]),halfCheckedKeys:fr([]),expandedKeysSet:le(function(){return new Set}),selectedKeysSet:le(function(){return new Set}),loadedKeysSet:le(function(){return new Set}),loadingKeysSet:le(function(){return new Set}),checkedKeysSet:le(function(){return new Set}),halfCheckedKeysSet:le(function(){return new Set}),flattenNodes:fr([])})},z1e=function(e){for(var n=e.prefixCls,r=e.level,i=e.isStart,o=e.isEnd,l="".concat(n,"-indent-unit"),a=[],f=0;f<r;f+=1){var p;a.push(M("span",{key:f,class:(p={},J(p,l,!0),J(p,"".concat(l,"-start"),i[f]),J(p,"".concat(l,"-end"),o[f]),p)},null))}return M("span",{"aria-hidden":"true",class:"".concat(n,"-indent")},[a])};const $1e=z1e;var fV={eventKey:[String,Number],prefixCls:String,title:Te.any,data:{type:Object,default:void 0},parent:{type:Object,default:void 0},isStart:{type:Array},isEnd:{type:Array},active:{type:Boolean,default:void 0},onMousemove:{type:Function},isLeaf:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},disableCheckbox:{type:Boolean,default:void 0},icon:Te.any,switcherIcon:Te.any,domRef:{type:Function}},j1e={prefixCls:{type:String},motion:{type:Object},focusable:{type:Boolean},activeItem:{type:Object},focused:{type:Boolean},tabindex:{type:Number},checkable:{type:Boolean},selectable:{type:Boolean},disabled:{type:Boolean},height:{type:Number},itemHeight:{type:Number},virtual:{type:Boolean},onScroll:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onActiveChange:{type:Function},onContextmenu:{type:Function},onListChangeStart:{type:Function},onListChangeEnd:{type:Function}},hV=function(){return{prefixCls:String,focusable:{type:Boolean,default:void 0},activeKey:[Number,String],tabindex:Number,children:Te.any,treeData:{type:Array},fieldNames:{type:Object},showLine:{type:[Boolean,Object],default:void 0},showIcon:{type:Boolean,default:void 0},icon:Te.any,selectable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},multiple:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},draggable:{type:[Function,Boolean]},defaultExpandParent:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:[Object,Array]},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},allowDrop:{type:Function},dropIndicatorRender:{type:Function},onFocus:{type:Function},onBlur:{type:Function},onKeydown:{type:Function},onContextmenu:{type:Function},onClick:{type:Function},onDblclick:{type:Function},onScroll:{type:Function},onExpand:{type:Function},onCheck:{type:Function},onSelect:{type:Function},onLoad:{type:Function},loadData:{type:Function},loadedKeys:{type:Array},onMouseenter:{type:Function},onMouseleave:{type:Function},onRightClick:{type:Function},onDragstart:{type:Function},onDragenter:{type:Function},onDragover:{type:Function},onDragleave:{type:Function},onDragend:{type:Function},onDrop:{type:Function},onActiveChange:{type:Function},filterTreeNode:{type:Function},motion:Te.any,switcherIcon:Te.any,height:Number,itemHeight:Number,virtual:{type:Boolean,default:void 0},direction:{type:String}}},V1e=["eventKey","isLeaf","isStart","isEnd","domRef","active","data","onMousemove","selectable"],OO="open",DO="close",U1e="---";const GS=lt({compatConfig:{MODE:3},name:"ATreeNode",inheritAttrs:!1,props:fV,isTreeNode:1,slots:["title","icon","switcherIcon"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.expose;"slots"in e.data,"treeData slots is deprecated, please use ".concat(Object.keys(e.data.slots||{}).map(function(Pt){return"`v-slot:"+Pt+"` "}),"instead");var l=ke(!1),a=pE(),f=dV(),p=f.expandedKeysSet,v=f.selectedKeysSet,g=f.loadedKeysSet,_=f.loadingKeysSet,b=f.checkedKeysSet,S=f.halfCheckedKeysSet,E=a.value,P=E.dragOverNodeKey,k=E.dropPosition,I=E.keyEntities,D=le(function(){return XS(e.eventKey,{expandedKeysSet:p.value,selectedKeysSet:v.value,loadedKeysSet:g.value,loadingKeysSet:_.value,checkedKeysSet:b.value,halfCheckedKeysSet:S.value,dragOverNodeKey:P,dropPosition:k,keyEntities:I})}),L=ms(function(){return D.value.expanded}),B=ms(function(){return D.value.selected}),N=ms(function(){return D.value.checked}),j=ms(function(){return D.value.loaded}),H=ms(function(){return D.value.loading}),V=ms(function(){return D.value.halfChecked}),Z=ms(function(){return D.value.dragOver}),re=ms(function(){return D.value.dragOverGapTop}),q=ms(function(){return D.value.dragOverGapBottom}),G=ms(function(){return D.value.pos}),ae=ke(),te=le(function(){var Pt=e.eventKey,yt=a.value.keyEntities,Bt=yt[Pt]||{},Ut=Bt.children;return!!(Ut||[]).length}),Q=le(function(){var Pt=e.isLeaf,yt=a.value.loadData,Bt=te.value;return Pt===!1?!1:Pt||!yt&&!Bt||yt&&j.value&&!Bt}),Y=le(function(){return Q.value?null:L.value?OO:DO}),X=le(function(){var Pt=e.disabled,yt=a.value.disabled;return!!(yt||Pt)}),ie=le(function(){var Pt=e.checkable,yt=a.value.checkable;return!yt||Pt===!1?!1:yt}),he=le(function(){var Pt=e.selectable,yt=a.value.selectable;return typeof Pt=="boolean"?Pt:yt}),ce=le(function(){var Pt=e.data,yt=e.active,Bt=e.checkable,Ut=e.disableCheckbox,St=e.disabled,ft=e.selectable;return R(R({active:yt,checkable:Bt,disableCheckbox:Ut,disabled:St,selectable:ft},Pt),{},{dataRef:Pt,data:Pt,isLeaf:Q.value,checked:N.value,expanded:L.value,loading:H.value,selected:B.value,halfChecked:V.value})}),we=Ba(),be=le(function(){var Pt=e.eventKey,yt=a.value.keyEntities,Bt=yt[Pt]||{},Ut=Bt.parent;return R(R({},ZS(yr({},e,D.value))),{},{parent:Ut})}),ve=Mr({eventData:be,eventKey:le(function(){return e.eventKey}),selectHandle:ae,pos:G,key:we.vnode.key});o(ve);var ge=function(yt){var Bt=a.value.onNodeDoubleClick;Bt(yt,be.value)},Pe=function(yt){if(!X.value){var Bt=a.value.onNodeSelect;yt.preventDefault(),Bt(yt,be.value)}},ye=function(yt){if(!X.value){var Bt=e.disableCheckbox,Ut=a.value.onNodeCheck;if(!(!ie.value||Bt)){yt.preventDefault();var St=!N.value;Ut(yt,be.value,St)}}},Ne=function(yt){var Bt=a.value.onNodeClick;Bt(yt,be.value),he.value?Pe(yt):ye(yt)},Re=function(yt){var Bt=a.value.onNodeMouseEnter;Bt(yt,be.value)},Ge=function(yt){var Bt=a.value.onNodeMouseLeave;Bt(yt,be.value)},He=function(yt){var Bt=a.value.onNodeContextMenu;Bt(yt,be.value)},Ee=function(yt){var Bt=a.value.onNodeDragStart;yt.stopPropagation(),l.value=!0,Bt(yt,ve);try{yt.dataTransfer.setData("text/plain","")}catch{}},pe=function(yt){var Bt=a.value.onNodeDragEnter;yt.preventDefault(),yt.stopPropagation(),Bt(yt,ve)},Ie=function(yt){var Bt=a.value.onNodeDragOver;yt.preventDefault(),yt.stopPropagation(),Bt(yt,ve)},We=function(yt){var Bt=a.value.onNodeDragLeave;yt.stopPropagation(),Bt(yt,ve)},Qe=function(yt){var Bt=a.value.onNodeDragEnd;yt.stopPropagation(),l.value=!1,Bt(yt,ve)},at=function(yt){var Bt=a.value.onNodeDrop;yt.preventDefault(),yt.stopPropagation(),l.value=!1,Bt(yt,ve)},xt=function(yt){var Bt=a.value.onNodeExpand;H.value||Bt(yt,be.value)},ot=function(){var yt=e.data,Bt=a.value.draggable;return!!(Bt&&(!Bt.nodeDraggable||Bt.nodeDraggable(yt)))},nt=function(){var yt=a.value,Bt=yt.draggable,Ut=yt.prefixCls;return Bt&&Bt!==null&&Bt!==void 0&&Bt.icon?M("span",{class:"".concat(Ut,"-draggable-icon")},[Bt.icon]):null},Ze=function(){var yt,Bt,Ut,St=e.switcherIcon,ft=St===void 0?i.switcherIcon||((yt=a.value.slots)===null||yt===void 0?void 0:yt[(Bt=e.data)===null||Bt===void 0||(Ut=Bt.slots)===null||Ut===void 0?void 0:Ut.switcherIcon]):St,gt=a.value.switcherIcon,_t=ft||gt;return typeof _t=="function"?_t(ce.value):_t},ht=function(){var yt=a.value,Bt=yt.loadData,Ut=yt.onNodeLoad;H.value||Bt&&L.value&&!Q.value&&!te.value&&!j.value&&Ut(be.value)};zn(function(){ht()}),yo(function(){ht()});var vt=function(){var yt=a.value.prefixCls,Bt=Ze();if(Q.value)return Bt!==!1?M("span",{class:mt("".concat(yt,"-switcher"),"".concat(yt,"-switcher-noop"))},[Bt]):null;var Ut=mt("".concat(yt,"-switcher"),"".concat(yt,"-switcher_").concat(L.value?OO:DO));return Bt!==!1?M("span",{onClick:xt,class:Ut},[Bt]):null},Ct=function(){var yt,Bt,Ut=e.disableCheckbox,St=a.value.prefixCls,ft=X.value,gt=ie.value;return gt?M("span",{class:mt("".concat(St,"-checkbox"),N.value&&"".concat(St,"-checkbox-checked"),!N.value&&V.value&&"".concat(St,"-checkbox-indeterminate"),(ft||Ut)&&"".concat(St,"-checkbox-disabled")),onClick:ye},[(yt=(Bt=a.value).customCheckable)===null||yt===void 0?void 0:yt.call(Bt)]):null},Nt=function(){var yt=a.value.prefixCls;return M("span",{class:mt("".concat(yt,"-iconEle"),"".concat(yt,"-icon__").concat(Y.value||"docu"),H.value&&"".concat(yt,"-icon_loading"))},null)},tn=function(){var yt=e.disabled,Bt=e.eventKey,Ut=a.value,St=Ut.draggable,ft=Ut.dropLevelOffset,gt=Ut.dropPosition,_t=Ut.prefixCls,Ft=Ut.indent,Gt=Ut.dropIndicatorRender,Zt=Ut.dragOverNodeKey,Me=Ut.direction,de=St!==!1,_e=!yt&&de&&Zt===Bt;return _e?Gt({dropPosition:gt,dropLevelOffset:ft,indent:Ft,prefixCls:_t,direction:Me}):null},rn=function(){var yt,Bt,Ut,St,ft=e.icon,gt=ft===void 0?i.icon:ft,_t=e.data,Ft=i.title||((yt=a.value.slots)===null||yt===void 0?void 0:yt[(Bt=e.data)===null||Bt===void 0||(Ut=Bt.slots)===null||Ut===void 0?void 0:Ut.title])||((St=a.value.slots)===null||St===void 0?void 0:St.title)||e.title,Gt=a.value,Zt=Gt.prefixCls,Me=Gt.showIcon,de=Gt.icon,_e=Gt.loadData,De=X.value,$e="".concat(Zt,"-node-content-wrapper"),Ke;if(Me){var et,rt,Ye=gt||((et=a.value.slots)===null||et===void 0?void 0:et[_t==null||(rt=_t.slots)===null||rt===void 0?void 0:rt.icon])||de;Ke=Ye?M("span",{class:mt("".concat(Zt,"-iconEle"),"".concat(Zt,"-icon__customize"))},[typeof Ye=="function"?Ye(ce.value):Ye]):Nt()}else _e&&H.value&&(Ke=Nt());var pt;typeof Ft=="function"?pt=Ft(ce.value):pt=Ft,pt=pt===void 0?U1e:pt;var kt=M("span",{class:"".concat(Zt,"-title")},[pt]);return M("span",{ref:ae,title:typeof Ft=="string"?Ft:"",class:mt("".concat($e),"".concat($e,"-").concat(Y.value||"normal"),!De&&(B.value||l.value)&&"".concat(Zt,"-node-selected")),onMouseenter:Re,onMouseleave:Ge,onContextmenu:He,onClick:Ne,onDblclick:ge},[Ke,kt,tn()])};return function(){var Pt,yt=R(R({},e),r),Bt=yt.eventKey,Ut=yt.isLeaf,St=yt.isStart,ft=yt.isEnd,gt=yt.domRef,_t=yt.active;yt.data;var Ft=yt.onMousemove,Gt=yt.selectable,Zt=kn(yt,V1e),Me=a.value,de=Me.prefixCls,_e=Me.filterTreeNode,De=Me.keyEntities,$e=Me.dropContainerKey,Ke=Me.dropTargetKey,et=Me.draggingNodeKey,rt=X.value,Ye=Bd(Zt,{aria:!0,data:!0}),pt=De[Bt]||{},kt=pt.level,Ht=ft[ft.length-1],Ot=ot(),hn=!rt&&Ot,pn=et===Bt,En=Gt!==void 0?{"aria-selected":!!Gt}:void 0;return M("div",R(R({ref:gt,class:mt(r.class,"".concat(de,"-treenode"),(Pt={},J(Pt,"".concat(de,"-treenode-disabled"),rt),J(Pt,"".concat(de,"-treenode-switcher-").concat(L.value?"open":"close"),!Ut),J(Pt,"".concat(de,"-treenode-checkbox-checked"),N.value),J(Pt,"".concat(de,"-treenode-checkbox-indeterminate"),V.value),J(Pt,"".concat(de,"-treenode-selected"),B.value),J(Pt,"".concat(de,"-treenode-loading"),H.value),J(Pt,"".concat(de,"-treenode-active"),_t),J(Pt,"".concat(de,"-treenode-leaf-last"),Ht),J(Pt,"".concat(de,"-treenode-draggable"),hn),J(Pt,"dragging",pn),J(Pt,"drop-target",Ke===Bt),J(Pt,"drop-container",$e===Bt),J(Pt,"drag-over",!rt&&Z.value),J(Pt,"drag-over-gap-top",!rt&&re.value),J(Pt,"drag-over-gap-bottom",!rt&&q.value),J(Pt,"filter-node",_e&&_e(be.value)),Pt)),style:r.style,draggable:hn,"aria-grabbed":pn,onDragstart:hn?Ee:void 0,onDragenter:Ot?pe:void 0,onDragover:Ot?Ie:void 0,onDragleave:Ot?We:void 0,onDrop:Ot?at:void 0,onDragend:Ot?Qe:void 0,onMousemove:Ft},En),Ye),[M($1e,{prefixCls:de,level:kt,isStart:St,isEnd:ft},null),nt(),vt(),Ct(),rn()])}}});function Ku(t,e){if(!t)return[];var n=t.slice(),r=n.indexOf(e);return r>=0&&n.splice(r,1),n}function ad(t,e){var n=(t||[]).slice();return n.indexOf(e)===-1&&n.push(e),n}function vE(t){return t.split("-")}function pV(t,e){return"".concat(t,"-").concat(e)}function H1e(t){return t&&t.type&&t.type.isTreeNode}function K1e(t,e){var n=[],r=e[t];function i(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];o.forEach(function(l){var a=l.key,f=l.children;n.push(a),i(f)})}return i(r.children),n}function W1e(t){if(t.parent){var e=vE(t.pos);return Number(e[e.length-1])===t.parent.children.length-1}return!1}function G1e(t){var e=vE(t.pos);return Number(e[e.length-1])===0}function RO(t,e,n,r,i,o,l,a,f,p){var v,g=t.clientX,_=t.clientY,b=t.target.getBoundingClientRect(),S=b.top,E=b.height,P=(p==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-g),k=(P-12)/r,I=a[n.eventKey];if(_<S+E/2){var D=l.findIndex(function(te){return te.key===I.key}),L=D<=0?0:D-1,B=l[L].key;I=a[B]}var N=I.key,j=I,H=I.key,V=0,Z=0;if(!f.has(N))for(var re=0;re<k&&W1e(I);re+=1)I=I.parent,Z+=1;var q=e.eventData,G=I.node,ae=!0;return G1e(I)&&I.level===0&&_<S+E/2&&o({dragNode:q,dropNode:G,dropPosition:-1})&&I.key===n.eventKey?V=-1:(j.children||[]).length&&f.has(H)?o({dragNode:q,dropNode:G,dropPosition:0})?V=0:ae=!1:Z===0?k>-1.5?o({dragNode:q,dropNode:G,dropPosition:1})?V=1:ae=!1:o({dragNode:q,dropNode:G,dropPosition:0})?V=0:o({dragNode:q,dropNode:G,dropPosition:1})?V=1:ae=!1:o({dragNode:q,dropNode:G,dropPosition:1})?V=1:ae=!1,{dropPosition:V,dropLevelOffset:Z,dropTargetKey:I.key,dropTargetPos:I.pos,dragOverNodeKey:H,dropContainerKey:V===0?null:((v=I.parent)===null||v===void 0?void 0:v.key)||null,dropAllowed:ae}}function LO(t,e){if(t){var n=e.multiple;return n?t.slice():t.length?[t[0]]:t}}function HC(t){if(!t)return null;var e;if(Array.isArray(t))e={checkedKeys:t,halfCheckedKeys:void 0};else if(dn(t)==="object")e={checkedKeys:t.checked||void 0,halfCheckedKeys:t.halfChecked||void 0};else return null;return e}function qS(t,e){var n=new Set;function r(i){if(!n.has(i)){var o=e[i];if(o){n.add(i);var l=o.parent,a=o.node;a.disabled||l&&r(l.key)}}}return(t||[]).forEach(function(i){r(i)}),Jt(n)}var q1e=["title","icon","switcherIcon"];function f0(t,e){return t??e}function $2(t){var e=t||{},n=e.title,r=e._title,i=e.key,o=e.children,l=n||"title";return{title:l,_title:r||[l],key:i||"key",children:o||"children"}}function YS(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=ta(n);return r.map(function(i){var o,l,a,f;if(!H1e(i))return null;for(var p=i.children||{},v=i.key,g={},_=0,b=Object.entries(i.props);_<b.length;_++){var S=Wt(b[_],2),E=S[0],P=S[1];g[Qo(E)]=P}var k=g.isLeaf,I=g.checkable,D=g.selectable,L=g.disabled,B=g.disableCheckbox,N={isLeaf:k||k===""||void 0,checkable:I||I===""||void 0,selectable:D||D===""||void 0,disabled:L||L===""||void 0,disableCheckbox:B||B===""||void 0},j=R(R({},g),N),H=g.title,V=H===void 0?(o=p.title)===null||o===void 0?void 0:o.call(p,j):H,Z=g.icon,re=Z===void 0?(l=p.icon)===null||l===void 0?void 0:l.call(p,j):Z,q=g.switcherIcon,G=q===void 0?(a=p.switcherIcon)===null||a===void 0?void 0:a.call(p,j):q,ae=kn(g,q1e),te=(f=p.default)===null||f===void 0?void 0:f.call(p),Q=R(R({},ae),{},{title:V,icon:re,switcherIcon:G,key:v,isLeaf:k},N),Y=e(te);return Y.length&&(Q.children=Y),Q})}return e(t)}function Y1e(t,e,n){var r=$2(n),i=r._title,o=r.key,l=r.children,a=new Set(e===!0?[]:e),f=[];function p(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return v.map(function(_,b){for(var S=pV(g?g.pos:"0",b),E=f0(_[o],S),P,k=0;k<i.length;k+=1){var I=i[k];if(_[I]!==void 0){P=_[I];break}}var D=R(R({},Qn(_,[].concat(Jt(i),[o,l]))),{},{title:P,key:E,parent:g,pos:S,children:null,data:_,isStart:[].concat(Jt(g?g.isStart:[]),[b===0]),isEnd:[].concat(Jt(g?g.isEnd:[]),[b===v.length-1])});return f.push(D),e===!0||a.has(E)?D.children=p(_[l]||[],D):D.children=[],D})}return p(t),f}function X1e(t,e,n){var r={};dn(n)==="object"?r=n:r={externalGetKey:n},r=r||{};var i=r,o=i.childrenPropName,l=i.externalGetKey,a=i.fieldNames,f=$2(a),p=f.key,v=f.children,g=o||v,_;l?typeof l=="string"?_=function(E){return E[l]}:typeof l=="function"&&(_=function(E){return l(E)}):_=function(E,P){return f0(E[p],P)};function b(S,E,P,k){var I=S?S[g]:t,D=S?pV(P.pos,E):"0",L=S?[].concat(Jt(k),[S]):[];if(S){var B=_(S,D),N={node:S,index:E,pos:D,key:B,parentPos:P.node?P.pos:null,level:P.level+1,nodes:L};e(N)}I&&I.forEach(function(j,H){b(j,H,{node:S,pos:D,level:P?P.level+1:-1},L)})}b(null)}function h0(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.initWrapper,r=e.processEntity,i=e.onProcessFinished,o=e.externalGetKey,l=e.childrenPropName,a=e.fieldNames,f=arguments.length>2?arguments[2]:void 0,p=o||f,v={},g={},_={posEntities:v,keyEntities:g};return n&&(_=n(_)||_),X1e(t,function(b){var S=b.node,E=b.index,P=b.pos,k=b.key,I=b.parentPos,D=b.level,L=b.nodes,B={node:S,nodes:L,index:E,key:k,pos:P,level:D},N=f0(k,P);v[P]=B,g[N]=B,B.parent=v[I],B.parent&&(B.parent.children=B.parent.children||[],B.parent.children.push(B)),r&&r(B,_)},{externalGetKey:p,childrenPropName:l,fieldNames:a}),i&&i(_),_}function XS(t,e){var n=e.expandedKeysSet,r=e.selectedKeysSet,i=e.loadedKeysSet,o=e.loadingKeysSet,l=e.checkedKeysSet,a=e.halfCheckedKeysSet,f=e.dragOverNodeKey,p=e.dropPosition,v=e.keyEntities,g=v[t],_={eventKey:t,expanded:n.has(t),selected:r.has(t),loaded:i.has(t),loading:o.has(t),checked:l.has(t),halfChecked:a.has(t),pos:String(g?g.pos:""),parent:g.parent,dragOver:f===t&&p===0,dragOverGapTop:f===t&&p===-1,dragOverGapBottom:f===t&&p===1};return _}function ZS(t){var e=t.data,n=t.expanded,r=t.selected,i=t.checked,o=t.loaded,l=t.loading,a=t.halfChecked,f=t.dragOver,p=t.dragOverGapTop,v=t.dragOverGapBottom,g=t.pos,_=t.active,b=t.eventKey,S=R(R({dataRef:e},e),{},{expanded:n,selected:r,checked:i,loaded:o,loading:l,halfChecked:a,dragOver:f,dragOverGapTop:p,dragOverGapBottom:v,pos:g,active:_,eventKey:b,key:b});return"props"in S||Object.defineProperty(S,"props",{get:function(){return t}}),S}const Z1e=function(t,e){var n=le(function(){return h0(t.value,{fieldNames:e.value,initWrapper:function(i){return R(R({},i),{},{pathKeyEntities:{}})},processEntity:function(i,o){var l=i.nodes.map(function(a){return a[e.value.value]}).join(hE);o.pathKeyEntities[l]=i,i.key=l}}).pathKeyEntities});return n};function Q1e(t){var e=ke(!1),n=ke({});return Un(function(){if(!t.value){e.value=!1,n.value={};return}var r={matchInputWidth:!0,limit:50};t.value&&dn(t.value)==="object"&&(r=R(R({},r),t.value)),r.limit<=0&&delete r.limit,e.value=!0,n.value=r}),{showSearch:e,searchConfig:n}}var a1="__rc_cascader_search_mark__",J1e=function(e,n,r){var i=r.label;return n.some(function(o){return String(o[i]).toLowerCase().includes(e.toLowerCase())})},e0e=function(e){var n=e.path,r=e.fieldNames;return n.map(function(i){return i[r.label]}).join(" / ")};const t0e=function(t,e,n,r,i,o){return le(function(){var l=i.value,a=l.filter,f=a===void 0?J1e:a,p=l.render,v=p===void 0?e0e:p,g=l.limit,_=g===void 0?50:g,b=l.sort,S=[];if(!t.value)return[];function E(P,k){P.forEach(function(I){if(!(!b&&_>0&&S.length>=_)){var D=[].concat(Jt(k),[I]),L=I[n.value.children];if((!L||L.length===0||o.value)&&f(t.value,D,{label:n.value.label})){var B;S.push(R(R({},I),{},(B={},J(B,n.value.label,v({inputValue:t.value,path:D,prefixCls:r.value,fieldNames:n.value})),J(B,a1,D),B)))}L&&E(I[n.value.children],D)}})}return E(e.value,[]),b&&S.sort(function(P,k){return b(P[a1],k[a1],t.value,n.value)}),_>0?S.slice(0,_):S})};function FO(t,e,n){var r=new Set(t);return t.filter(function(i){var o=e[i],l=o?o.parent:null,a=o?o.children:null;return n===D1e?!(a&&a.some(function(f){return f.key&&r.has(f.key)})):!(l&&!l.node.disabled&&r.has(l.key))})}function V1(t,e,n){for(var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=e,o=[],l=function(){var p,v,g,_=t[a],b=(p=i)===null||p===void 0?void 0:p.findIndex(function(E){var P=E[n.value];return r?String(P)===String(_):P===_}),S=b!==-1?(v=i)===null||v===void 0?void 0:v[b]:null;o.push({value:(g=S==null?void 0:S[n.value])!==null&&g!==void 0?g:_,index:b,option:S}),i=S==null?void 0:S[n.children]},a=0;a<t.length;a+=1)l();return o}const n0e=function(t,e,n){return le(function(){var r=[],i=[];return n.value.forEach(function(o){var l=V1(o,t.value,e.value);l.every(function(a){return a.option})?i.push(o):r.push(o)}),[i,r]})};function vV(t,e){var n=new Set;return t.forEach(function(r){e.has(r)||n.add(r)}),n}function r0e(t){var e=t||{},n=e.disabled,r=e.disableCheckbox,i=e.checkable;return!!(n||r)||i===!1}function i0e(t,e,n,r){for(var i=new Set(t),o=new Set,l=0;l<=n;l+=1){var a=e.get(l)||new Set;a.forEach(function(g){var _=g.key,b=g.node,S=g.children,E=S===void 0?[]:S;i.has(_)&&!r(b)&&E.filter(function(P){return!r(P.node)}).forEach(function(P){i.add(P.key)})})}for(var f=new Set,p=n;p>=0;p-=1){var v=e.get(p)||new Set;v.forEach(function(g){var _=g.parent,b=g.node;if(!(r(b)||!g.parent||f.has(g.parent.key))){if(r(g.parent.node)){f.add(_.key);return}var S=!0,E=!1;(_.children||[]).filter(function(P){return!r(P.node)}).forEach(function(P){var k=P.key,I=i.has(k);S&&!I&&(S=!1),!E&&(I||o.has(k))&&(E=!0)}),S&&i.add(_.key),E&&o.add(_.key),f.add(_.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(vV(o,i))}}function a0e(t,e,n,r,i){for(var o=new Set(t),l=new Set(e),a=0;a<=r;a+=1){var f=n.get(a)||new Set;f.forEach(function(_){var b=_.key,S=_.node,E=_.children,P=E===void 0?[]:E;!o.has(b)&&!l.has(b)&&!i(S)&&P.filter(function(k){return!i(k.node)}).forEach(function(k){o.delete(k.key)})})}l=new Set;for(var p=new Set,v=r;v>=0;v-=1){var g=n.get(v)||new Set;g.forEach(function(_){var b=_.parent,S=_.node;if(!(i(S)||!_.parent||p.has(_.parent.key))){if(i(_.parent.node)){p.add(b.key);return}var E=!0,P=!1;(b.children||[]).filter(function(k){return!i(k.node)}).forEach(function(k){var I=k.key,D=o.has(I);E&&!D&&(E=!1),!P&&(D||l.has(I))&&(P=!0)}),E||o.delete(b.key),P&&l.add(b.key),p.add(b.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(vV(l,o))}}function Hs(t,e,n,r,i,o){var l;o?l=o:l=r0e;var a=new Set(t.filter(function(p){var v=!!n[p];return v})),f;return e===!0?f=i0e(a,i,r,l):f=a0e(a,e.halfCheckedKeys,i,r,l),f}const o0e=function(t,e,n,r,i){return le(function(){var o=i.value||function(l){var a=l.labels,f=r.value?a.slice(-1):a,p=" / ";return f.every(function(v){return["string","number"].includes(dn(v))})?f.join(p):f.reduce(function(v,g,_){var b=la(g)?Pr(g,{key:_}):g;return _===0?[b]:[].concat(Jt(v),[p,b])},[])};return t.value.map(function(l){var a=V1(l,e.value,n.value),f=o({labels:a.map(function(v){var g,_=v.option,b=v.value;return(g=_==null?void 0:_[n.value.label])!==null&&g!==void 0?g:b}),selectedOptions:a.map(function(v){var g=v.option;return g})}),p=Sd(l);return{label:f,value:p,key:p,valueCells:l}})})};var mV=Symbol("CascaderContextKey"),s0e=function(e){Xn(mV,e)},j2=function(){return Hn(mV)};const l0e=function(){var t=l0(),e=j2(),n=e.values,r=yi([]),i=Wt(r,2),o=i[0],l=i[1];return Lt(function(){return t.open},function(){if(t.open&&!t.multiple){var a=n.value[0];l(a||[])}},{immediate:!0}),[o,l]},u0e=function(t,e,n,r,i,o){var l=l0(),a=le(function(){return l.direction==="rtl"}),f=[ke([]),ke(),ke([])],p=f[0],v=f[1],g=f[2];Un(function(){for(var P=-1,k=e.value,I=[],D=[],L=r.value.length,B=function(q){var G=k.findIndex(function(ae){return ae[n.value.value]===r.value[q]});if(G===-1)return"break";P=G,I.push(P),D.push(r.value[q]),k=k[P][n.value.children]},N=0;N<L&&k;N+=1){var j=B(N);if(j==="break")break}for(var H=e.value,V=0;V<I.length-1;V+=1)H=H[I[V]][n.value.children];var Z=[D,P,H];p.value=Z[0],v.value=Z[1],g.value=Z[2]});var _=function(k){i(k)},b=function(k){var I=g.value.length,D=v.value;D===-1&&k<0&&(D=I);for(var L=0;L<I;L+=1){D=(D+k+I)%I;var B=g.value[D];if(B&&!B.disabled){var N=B[n.value.value],j=p.value.slice(0,-1).concat(N);_(j);return}}},S=function(){if(p.value.length>1){var k=p.value.slice(0,-1);_(k)}else l.toggleOpen(!1)},E=function(){var k,I=((k=g.value[v.value])===null||k===void 0?void 0:k[n.value.children])||[],D=I.find(function(B){return!B.disabled});if(D){var L=[].concat(Jt(p.value),[D[n.value.value]]);_(L)}};t.expose({onKeydown:function(k){var I=k.which;switch(I){case qt.UP:case qt.DOWN:{var D=0;I===qt.UP?D=-1:I===qt.DOWN&&(D=1),D!==0&&b(D);break}case qt.LEFT:{a.value?E():S();break}case qt.RIGHT:{a.value?S():E();break}case qt.BACKSPACE:{l.searchValue||S();break}case qt.ENTER:{if(p.value.length){var L=g.value[v.value],B=(L==null?void 0:L[a1])||[];B.length?o(B.map(function(N){return N[n.value.value]}),B[B.length-1]):o(p.value,L)}break}case qt.ESC:l.toggleOpen(!1),open&&k.stopPropagation()}},onKeyup:function(){}})};function V2(t){var e,n=t.prefixCls,r=t.checked,i=t.halfChecked,o=t.disabled,l=t.onClick,a=j2(),f=a.customSlots,p=a.checkable,v=p.value!==!1?f.value.checkable:p.value,g=typeof v=="function"?v():typeof v=="boolean"?null:v;return M("span",{class:(e={},J(e,n,!0),J(e,"".concat(n,"-checked"),r),J(e,"".concat(n,"-indeterminate"),!r&&i),J(e,"".concat(n,"-disabled"),o),e),onClick:l},[g])}V2.props=["prefixCls","checked","halfChecked","disabled","onClick"];V2.displayName="Checkbox";V2.inheritAttrs=!1;var gV="__cascader_fix_label__";function U2(t){var e,n,r,i,o,l,a=t.prefixCls,f=t.multiple,p=t.options,v=t.activeValue,g=t.prevValuePath,_=t.onToggleOpen,b=t.onSelect,S=t.onActive,E=t.checkedSet,P=t.halfCheckedSet,k=t.loadingKeys,I=t.isSelectable,D="".concat(a,"-menu"),L="".concat(a,"-menu-item"),B=j2(),N=B.fieldNames,j=B.changeOnSelect,H=B.expandTrigger,V=B.expandIcon,Z=B.loadingIcon,re=B.dropdownMenuColumnStyle,q=B.customSlots,G=(e=V.value)!==null&&e!==void 0?e:(n=(r=q.value).expandIcon)===null||n===void 0?void 0:n.call(r),ae=(i=Z.value)!==null&&i!==void 0?i:(o=(l=q.value).loadingIcon)===null||o===void 0?void 0:o.call(l),te=H.value==="hover";return M("ul",{class:D,role:"menu"},[p.map(function(Q){var Y,X,ie=Q.disabled,he=Q[a1],ce=(Y=Q[gV])!==null&&Y!==void 0?Y:Q[N.value.label],we=Q[N.value.value],be=Fg(Q,N.value),ve=he?he.map(function(Ee){return Ee[N.value.value]}):[].concat(Jt(g),[we]),ge=Sd(ve),Pe=k.includes(ge),ye=E.has(ge),Ne=P.has(ge),Re=function(){!ie&&(!te||!be)&&S(ve)},Ge=function(){I(Q)&&b(ve,be)},He;return typeof Q.title=="string"?He=Q.title:typeof ce=="string"&&(He=ce),M("li",{key:ge,class:[L,(X={},J(X,"".concat(L,"-expand"),!be),J(X,"".concat(L,"-active"),v===we),J(X,"".concat(L,"-disabled"),ie),J(X,"".concat(L,"-loading"),Pe),X)],style:re.value,role:"menuitemcheckbox",title:He,"aria-checked":ye,"data-path-key":ge,onClick:function(){Re(),(!f||be)&&Ge()},onDblclick:function(){j.value&&_(!1)},onMouseenter:function(){te&&Re()},onMousedown:function(pe){pe.preventDefault()}},[f&&M(V2,{prefixCls:"".concat(a,"-checkbox"),checked:ye,halfChecked:Ne,disabled:ie,onClick:function(pe){pe.stopPropagation(),Ge()}},null),M("div",{class:"".concat(L,"-content")},[ce]),!Pe&&G&&!be&&M("div",{class:"".concat(L,"-expand-icon")},[G]),Pe&&ae&&M("div",{class:"".concat(L,"-loading-icon")},[ae])])})])}U2.props=["prefixCls","multiple","options","activeValue","prevValuePath","onToggleOpen","onSelect","onActive","checkedSet","halfCheckedSet","loadingKeys","isSelectable"];U2.displayName="Column";U2.inheritAttrs=!1;const c0e=lt({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup:function(e,n){var r=n.attrs,i=n.slots,o=l0(),l=ke(),a=le(function(){return o.direction==="rtl"}),f=j2(),p=f.options,v=f.values,g=f.halfValues,_=f.fieldNames,b=f.changeOnSelect,S=f.onSelect,E=f.searchOptions,P=f.dropdownPrefixCls,k=f.loadData,I=f.expandTrigger,D=f.customSlots,L=le(function(){return P.value||o.prefixCls}),B=fr([]),N=function(ce){if(!(!k.value||o.searchValue)){var we=V1(ce,p.value,_.value),be=we.map(function(Pe){var ye=Pe.option;return ye}),ve=be[be.length-1];if(ve&&!Fg(ve,_.value)){var ge=Sd(ce);B.value=[].concat(Jt(B.value),[ge]),k.value(be)}}};Un(function(){B.value.length&&B.value.forEach(function(he){var ce=R1e(he),we=V1(ce,p.value,_.value,!0).map(function(ve){var ge=ve.option;return ge}),be=we[we.length-1];(!be||be[_.value.children]||Fg(be,_.value))&&(B.value=B.value.filter(function(ve){return ve!==he}))})});var j=le(function(){return new Set(Gp(v.value))}),H=le(function(){return new Set(Gp(g.value))}),V=l0e(),Z=Wt(V,2),re=Z[0],q=Z[1],G=function(ce){q(ce),N(ce)},ae=function(ce){var we=ce.disabled,be=Fg(ce,_.value);return!we&&(be||b.value||o.multiple)},te=function(ce,we){var be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;S(ce),!o.multiple&&(we||b.value&&(I.value==="hover"||be))&&o.toggleOpen(!1)},Q=le(function(){return o.searchValue?E.value:p.value}),Y=le(function(){for(var he=[{options:Q.value}],ce=Q.value,we=function(){var Pe=re.value[be],ye=ce.find(function(Re){return Re[_.value.value]===Pe}),Ne=ye==null?void 0:ye[_.value.children];if(!(Ne!=null&&Ne.length))return"break";ce=Ne,he.push({options:Ne})},be=0;be<re.value.length;be+=1){var ve=we();if(ve==="break")break}return he}),X=function(ce,we){ae(we)&&te(ce,Fg(we,_.value),!0)};u0e(n,Q,_,re,G,X);var ie=function(ce){ce.preventDefault()};return zn(function(){Lt(re,function(he){for(var ce=0;ce<he.length;ce+=1){var we,be=he.slice(0,ce+1),ve=Sd(be),ge=(we=l.value)===null||we===void 0?void 0:we.querySelector('li[data-path-key="'.concat(ve.replace(/\\{0,2}"/g,'\\"'),'"]'));ge&&F1e(ge)}},{flush:"post",immediate:!0})}),function(){var he,ce,we,be,ve,ge,Pe,ye=o.notFoundContent,Ne=ye===void 0?((he=i.notFoundContent)===null||he===void 0?void 0:he.call(i))||((ce=(we=D.value).notFoundContent)===null||ce===void 0?void 0:ce.call(we)):ye,Re=o.multiple,Ge=o.toggleOpen,He=!((be=Y.value[0])!==null&&be!==void 0&&(ve=be.options)!==null&&ve!==void 0&&ve.length),Ee=[(ge={},J(ge,_.value.value,"__EMPTY__"),J(ge,gV,Ne),J(ge,"disabled",!0),ge)],pe=R(R({},r),{},{multiple:!He&&Re,onSelect:te,onActive:G,onToggleOpen:Ge,checkedSet:j.value,halfCheckedSet:H.value,loadingKeys:B.value,isSelectable:ae}),Ie=He?[{options:Ee}]:Y.value,We=Ie.map(function(Qe,at){var xt=re.value.slice(0,at),ot=re.value[at];return M(U2,R(R({key:at},pe),{},{prefixCls:L.value,options:Qe.options,prevValuePath:xt,activeValue:ot}),null)});return M("div",{class:["".concat(L.value,"-menus"),(Pe={},J(Pe,"".concat(L.value,"-menu-empty"),He),J(Pe,"".concat(L.value,"-rtl"),a.value),Pe)],onMousedown:ie,ref:l},[We])}}});function H2(t){var e=ke(0),n=fr();return Un(function(){var r=new Map,i=0,o=t.value||{};for(var l in o)if(Object.prototype.hasOwnProperty.call(o,l)){var a=o[l],f=a.level,p=r.get(f);p||(p=new Set,r.set(f,p)),p.add(a),i=Math.max(i,f)}e.value=i,n.value=r}),{maxLevel:e,levelEntities:n}}function d0e(){return R(R({},Qn(M2(),["tokenSeparators","mode","showSearch"])),{},{id:String,prefixCls:String,fieldNames:Object,children:Array,value:{type:[String,Number,Array]},defaultValue:{type:[String,Number,Array]},changeOnSelect:{type:Boolean,default:void 0},displayRender:Function,checkable:{type:Boolean,default:void 0},showCheckedStrategy:{type:String,default:O1e},showSearch:{type:[Boolean,Object],default:void 0},searchValue:String,onSearch:Function,expandTrigger:String,options:Array,dropdownPrefixCls:String,loadData:Function,popupVisible:{type:Boolean,default:void 0},popupClassName:String,dropdownClassName:String,dropdownMenuColumnStyle:{type:Object,default:void 0},popupStyle:{type:Object,default:void 0},dropdownStyle:{type:Object,default:void 0},popupPlacement:String,placement:String,onPopupVisibleChange:Function,onDropdownVisibleChange:Function,expandIcon:Te.any,loadingIcon:Te.any})}function yV(){return R(R({},d0e()),{},{onChange:Function,customSlots:Object})}function f0e(t){return Array.isArray(t)&&Array.isArray(t[0])}function NO(t){return t?f0e(t)?t:(t.length===0?[]:[t]).map(function(e){return Array.isArray(e)?e:[e]}):[]}const h0e=lt({compatConfig:{MODE:3},name:"Cascader",inheritAttrs:!1,props:lr(yV(),{}),setup:function(e,n){var r=n.attrs,i=n.expose,o=n.slots,l=bT(An(e,"id")),a=le(function(){return!!e.checkable}),f=Ii(e.defaultValue,{value:le(function(){return e.value}),postState:NO}),p=Wt(f,2),v=p[0],g=p[1],_=le(function(){return L1e(e.fieldNames)}),b=le(function(){return e.options||[]}),S=Z1e(b,_),E=function(nt){var Ze=S.value;return nt.map(function(ht){var vt=Ze[ht].nodes;return vt.map(function(Ct){return Ct[_.value.value]})})},P=Ii("",{value:le(function(){return e.searchValue}),postState:function(nt){return nt||""}}),k=Wt(P,2),I=k[0],D=k[1],L=function(nt,Ze){D(nt),Ze.source!=="blur"&&e.onSearch&&e.onSearch(nt)},B=Q1e(An(e,"showSearch")),N=B.showSearch,j=B.searchConfig,H=t0e(I,b,_,le(function(){return e.dropdownPrefixCls||e.prefixCls}),j,An(e,"changeOnSelect")),V=n0e(b,_,v),Z=[ke([]),ke([]),ke([])],re=Z[0],q=Z[1],G=Z[2],ae=H2(S),te=ae.maxLevel,Q=ae.levelEntities;Un(function(){var ot=Wt(V.value,2),nt=ot[0],Ze=ot[1];if(!a.value||!v.value.length){var ht=[nt,[],Ze];re.value=ht[0],q.value=ht[1],G.value=ht[2];return}var vt=Gp(nt),Ct=S.value,Nt=Hs(vt,!0,Ct,te.value,Q.value),tn=Nt.checkedKeys,rn=Nt.halfCheckedKeys,Pt=[E(tn),E(rn),Ze];re.value=Pt[0],q.value=Pt[1],G.value=Pt[2]});var Y=le(function(){var ot=Gp(re.value),nt=FO(ot,S.value,e.showCheckedStrategy);return[].concat(Jt(G.value),Jt(E(nt)))}),X=o0e(Y,b,_,a,An(e,"displayRender")),ie=function(nt){if(g(nt),e.onChange){var Ze=NO(nt),ht=Ze.map(function(Nt){return V1(Nt,b.value,_.value).map(function(tn){return tn.option})}),vt=a.value?Ze:Ze[0],Ct=a.value?ht:ht[0];e.onChange(vt,Ct)}},he=function(nt){if(D(""),!a.value)ie(nt);else{var Ze=Sd(nt),ht=Gp(re.value),vt=Gp(q.value),Ct=ht.includes(Ze),Nt=G.value.some(function(ft){return Sd(ft)===Ze}),tn=re.value,rn=G.value;if(Nt&&!Ct)rn=G.value.filter(function(ft){return Sd(ft)!==Ze});else{var Pt=Ct?ht.filter(function(ft){return ft!==Ze}):[].concat(Jt(ht),[Ze]),yt;if(Ct){var Bt=Hs(Pt,{checked:!1,halfCheckedKeys:vt},S.value,te.value,Q.value);yt=Bt.checkedKeys}else{var Ut=Hs(Pt,!0,S.value,te.value,Q.value);yt=Ut.checkedKeys}var St=FO(yt,S.value,e.showCheckedStrategy);tn=E(St)}ie([].concat(Jt(rn),Jt(tn)))}},ce=function(nt,Ze){if(Ze.type==="clear"){ie([]);return}var ht=Ze.values[0].valueCells;he(ht)},we=le(function(){return e.open!==void 0?e.open:e.popupVisible}),be=le(function(){return e.dropdownClassName||e.popupClassName}),ve=le(function(){return e.dropdownStyle||e.popupStyle||{}}),ge=le(function(){return e.placement||e.popupPlacement}),Pe=function(nt){var Ze,ht;(Ze=e.onDropdownVisibleChange)===null||Ze===void 0||Ze.call(e,nt),(ht=e.onPopupVisibleChange)===null||ht===void 0||ht.call(e,nt)},ye=Qp(e),Ne=ye.changeOnSelect,Re=ye.checkable,Ge=ye.dropdownPrefixCls,He=ye.loadData,Ee=ye.expandTrigger,pe=ye.expandIcon,Ie=ye.loadingIcon,We=ye.dropdownMenuColumnStyle,Qe=ye.customSlots;s0e({options:b,fieldNames:_,values:re,halfValues:q,changeOnSelect:Ne,onSelect:he,checkable:Re,searchOptions:H,dropdownPrefixCls:Ge,loadData:He,expandTrigger:Ee,expandIcon:pe,loadingIcon:Ie,dropdownMenuColumnStyle:We,customSlots:Qe});var at=ke();i({focus:function(){var nt;(nt=at.value)===null||nt===void 0||nt.focus()},blur:function(){var nt;(nt=at.value)===null||nt===void 0||nt.blur()},scrollTo:function(nt){var Ze;(Ze=at.value)===null||Ze===void 0||Ze.scrollTo(nt)}});var xt=le(function(){return Qn(e,["id","prefixCls","fieldNames","defaultValue","value","changeOnSelect","onChange","displayRender","checkable","searchValue","onSearch","showSearch","expandTrigger","options","dropdownPrefixCls","loadData","popupVisible","open","popupClassName","dropdownClassName","dropdownMenuColumnStyle","popupPlacement","placement","onDropdownVisibleChange","onPopupVisibleChange","expandIcon","loadingIcon","customSlots","showCheckedStrategy","children"])});return function(){var ot=!(I.value?H.value:b.value).length,nt=e.dropdownMatchSelectWidth,Ze=nt===void 0?!1:nt,ht=I.value&&j.value.matchInputWidth||ot?{}:{minWidth:"auto"};return M(yT,R(R(R({},xt.value),r),{},{ref:at,id:l,prefixCls:e.prefixCls,dropdownMatchSelectWidth:Ze,dropdownStyle:R(R({},ve.value),ht),displayValues:X.value,onDisplayValuesChange:ce,mode:a.value?"multiple":void 0,searchValue:I.value,onSearch:L,showSearch:N.value,OptionList:c0e,emptyOptions:ot,open:we.value,dropdownClassName:be.value,placement:ge.value,onDropdownVisibleChange:Pe,getRawInputElement:function(){var Ct;return(Ct=o.default)===null||Ct===void 0?void 0:Ct.call(o)}}),o)}}});function p0e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function p0(t,e,n,r){var i=!n;n||(n={});for(var o=-1,l=e.length;++o<l;){var a=e[o],f=r?r(n[a],t[a],a,n,t):void 0;f===void 0&&(f=t[a]),i?zj(n,a,f):sE(n,a,f)}return n}function v0e(t,e){return t&&p0(e,Uv(e),t)}function m0e(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var g0e=Object.prototype,y0e=g0e.hasOwnProperty;function _0e(t){if(!El(t))return m0e(t);var e=pT(t),n=[];for(var r in t)r=="constructor"&&(e||!y0e.call(t,r))||n.push(r);return n}function mE(t){return s0(t)?Yz(t,!0):_0e(t)}function b0e(t,e){return t&&p0(e,mE(e),t)}var _V=typeof xs=="object"&&xs&&!xs.nodeType&&xs,BO=_V&&typeof ws=="object"&&ws&&!ws.nodeType&&ws,x0e=BO&&BO.exports===_V,zO=x0e?kl.Buffer:void 0,$O=zO?zO.allocUnsafe:void 0;function w0e(t,e){if(e)return t.slice();var n=t.length,r=$O?$O(n):new t.constructor(n);return t.copy(r),r}function C0e(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}function S0e(t,e){return p0(t,cT(t),e)}var T0e=Object.getOwnPropertySymbols,E0e=T0e?function(t){for(var e=[];t;)uT(e,cT(t)),t=B8(t);return e}:Hz;const bV=E0e;function P0e(t,e){return p0(t,bV(t),e)}function xV(t){return Uz(t,mE,bV)}var M0e=Object.prototype,k0e=M0e.hasOwnProperty;function A0e(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&k0e.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function gE(t){var e=new t.constructor(t.byteLength);return new rx(e).set(new rx(t)),e}function I0e(t,e){var n=e?gE(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var O0e=/\w*$/;function D0e(t){var e=new t.constructor(t.source,O0e.exec(t));return e.lastIndex=t.lastIndex,e}var jO=Ws?Ws.prototype:void 0,VO=jO?jO.valueOf:void 0;function R0e(t){return VO?Object(VO.call(t)):{}}function L0e(t,e){var n=e?gE(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var F0e="[object Boolean]",N0e="[object Date]",B0e="[object Map]",z0e="[object Number]",$0e="[object RegExp]",j0e="[object Set]",V0e="[object String]",U0e="[object Symbol]",H0e="[object ArrayBuffer]",K0e="[object DataView]",W0e="[object Float32Array]",G0e="[object Float64Array]",q0e="[object Int8Array]",Y0e="[object Int16Array]",X0e="[object Int32Array]",Z0e="[object Uint8Array]",Q0e="[object Uint8ClampedArray]",J0e="[object Uint16Array]",eye="[object Uint32Array]";function tye(t,e,n){var r=t.constructor;switch(e){case H0e:return gE(t);case F0e:case N0e:return new r(+t);case K0e:return I0e(t,n);case W0e:case G0e:case q0e:case Y0e:case X0e:case Z0e:case Q0e:case J0e:case eye:return L0e(t,n);case B0e:return new r;case z0e:case V0e:return new r(t);case $0e:return D0e(t);case j0e:return new r;case U0e:return R0e(t)}}var UO=Object.create,nye=function(){function t(){}return function(e){if(!El(e))return{};if(UO)return UO(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();const rye=nye;function iye(t){return typeof t.constructor=="function"&&!pT(t)?rye(B8(t)):{}}var aye="[object Map]";function oye(t){return Cl(t)&&F1(t)==aye}var HO=Cv&&Cv.isMap,sye=HO?w2(HO):oye;const lye=sye;var uye="[object Set]";function cye(t){return Cl(t)&&F1(t)==uye}var KO=Cv&&Cv.isSet,dye=KO?w2(KO):cye;const fye=dye;var hye=1,pye=2,vye=4,wV="[object Arguments]",mye="[object Array]",gye="[object Boolean]",yye="[object Date]",_ye="[object Error]",CV="[object Function]",bye="[object GeneratorFunction]",xye="[object Map]",wye="[object Number]",SV="[object Object]",Cye="[object RegExp]",Sye="[object Set]",Tye="[object String]",Eye="[object Symbol]",Pye="[object WeakMap]",Mye="[object ArrayBuffer]",kye="[object DataView]",Aye="[object Float32Array]",Iye="[object Float64Array]",Oye="[object Int8Array]",Dye="[object Int16Array]",Rye="[object Int32Array]",Lye="[object Uint8Array]",Fye="[object Uint8ClampedArray]",Nye="[object Uint16Array]",Bye="[object Uint32Array]",Mi={};Mi[wV]=Mi[mye]=Mi[Mye]=Mi[kye]=Mi[gye]=Mi[yye]=Mi[Aye]=Mi[Iye]=Mi[Oye]=Mi[Dye]=Mi[Rye]=Mi[xye]=Mi[wye]=Mi[SV]=Mi[Cye]=Mi[Sye]=Mi[Tye]=Mi[Eye]=Mi[Lye]=Mi[Fye]=Mi[Nye]=Mi[Bye]=!0;Mi[_ye]=Mi[CV]=Mi[Pye]=!1;function o1(t,e,n,r,i,o){var l,a=e&hye,f=e&pye,p=e&vye;if(n&&(l=i?n(t,r,i,o):n(t)),l!==void 0)return l;if(!El(t))return t;var v=qs(t);if(v){if(l=A0e(t),!a)return C0e(t,l)}else{var g=F1(t),_=g==CV||g==bye;if(ix(t))return w0e(t,a);if(g==SV||g==wV||_&&!i){if(l=f||_?{}:iye(t),!a)return f?P0e(t,b0e(l,t)):S0e(t,v0e(l,t))}else{if(!Mi[g])return i?t:{};l=tye(t,g,a)}}o||(o=new uu);var b=o.get(t);if(b)return b;o.set(t,l),fye(t)?t.forEach(function(P){l.add(o1(P,e,n,P,t,o))}):lye(t)&&t.forEach(function(P,k){l.set(k,o1(P,e,n,k,t,o))});var S=p?f?xV:SS:f?mE:Uv,E=v?void 0:S(t);return p0e(E||t,function(P,k){E&&(k=P,P=t[k]),sE(l,k,o1(P,e,n,k,t,o))}),l}var zye=1,$ye=4;function ab(t){return o1(t,zye|$ye)}function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rh.apply(this,arguments)}function jye(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,U1(t,e)}function QS(t){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QS(t)}function U1(t,e){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},U1(t,e)}function Vye(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ob(t,e,n){return Vye()?ob=Reflect.construct.bind():ob=function(i,o,l){var a=[null];a.push.apply(a,o);var f=Function.bind.apply(i,a),p=new f;return l&&U1(p,l.prototype),p},ob.apply(null,arguments)}function Uye(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function JS(t){var e=typeof Map=="function"?new Map:void 0;return JS=function(r){if(r===null||!Uye(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return ob(r,arguments,QS(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),U1(i,r)},JS(t)}var Hye=/%[sdj%]/g,Kye=function(){};typeof process<"u"&&process.env;function e6(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var r=n.field;e[r]=e[r]||[],e[r].push(n)}),e}function bs(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var i=0,o=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var l=t.replace(Hye,function(a){if(a==="%%")return"%";if(i>=o)return a;switch(a){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch{return"[Circular]"}break;default:return a}});return l}return t}function Wye(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Na(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||Wye(e)&&typeof t=="string"&&!t)}function Gye(t,e,n){var r=[],i=0,o=t.length;function l(a){r.push.apply(r,a||[]),i++,i===o&&n(r)}t.forEach(function(a){e(a,l)})}function WO(t,e,n){var r=0,i=t.length;function o(l){if(l&&l.length){n(l);return}var a=r;r=r+1,a<i?e(t[a],o):n([])}o([])}function qye(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var GO=function(t){jye(e,t);function e(n,r){var i;return i=t.call(this,"Async Validation Error")||this,i.errors=n,i.fields=r,i}return e}(JS(Error));function Yye(t,e,n,r,i){if(e.first){var o=new Promise(function(_,b){var S=function(k){return r(k),k.length?b(new GO(k,e6(k))):_(i)},E=qye(t);WO(E,n,S)});return o.catch(function(_){return _}),o}var l=e.firstFields===!0?Object.keys(t):e.firstFields||[],a=Object.keys(t),f=a.length,p=0,v=[],g=new Promise(function(_,b){var S=function(P){if(v.push.apply(v,P),p++,p===f)return r(v),v.length?b(new GO(v,e6(v))):_(i)};a.length||(r(v),_(i)),a.forEach(function(E){var P=t[E];l.indexOf(E)!==-1?WO(P,n,S):Gye(P,n,S)})});return g.catch(function(_){return _}),g}function Xye(t){return!!(t&&t.message!==void 0)}function Zye(t,e){for(var n=t,r=0;r<e.length;r++){if(n==null)return n;n=n[e[r]]}return n}function qO(t,e){return function(n){var r;return t.fullFields?r=Zye(e,t.fullFields):r=e[n.field||t.fullField],Xye(n)?(n.field=n.field||t.fullField,n.fieldValue=r,n):{message:typeof n=="function"?n():n,fieldValue:r,field:n.field||t.fullField}}}function YO(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];typeof r=="object"&&typeof t[n]=="object"?t[n]=rh({},t[n],r):t[n]=r}}return t}var TV=function(e,n,r,i,o,l){e.required&&(!r.hasOwnProperty(e.field)||Na(n,l||e.type))&&i.push(bs(o.messages.required,e.fullField))},Qye=function(e,n,r,i,o){(/^\s+$/.test(n)||n==="")&&i.push(bs(o.messages.whitespace,e.fullField))},b_,Jye=function(){if(b_)return b_;var t="[a-fA-F\\d:]",e=function(L){return L&&L.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",r="[a-fA-F\\d]{1,4}",i=(`
(?:
(?:`+r+":){7}(?:"+r+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+r+":){6}(?:"+n+"|:"+r+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+r+":){5}(?::"+n+"|(?::"+r+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+r+":){4}(?:(?::"+r+"){0,1}:"+n+"|(?::"+r+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+r+":){3}(?:(?::"+r+"){0,2}:"+n+"|(?::"+r+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+r+":){2}(?:(?::"+r+"){0,3}:"+n+"|(?::"+r+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+r+":){1}(?:(?::"+r+"){0,4}:"+n+"|(?::"+r+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+r+"){0,5}:"+n+"|(?::"+r+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),o=new RegExp("(?:^"+n+"$)|(?:^"+i+"$)"),l=new RegExp("^"+n+"$"),a=new RegExp("^"+i+"$"),f=function(L){return L&&L.exact?o:new RegExp("(?:"+e(L)+n+e(L)+")|(?:"+e(L)+i+e(L)+")","g")};f.v4=function(D){return D&&D.exact?l:new RegExp(""+e(D)+n+e(D),"g")},f.v6=function(D){return D&&D.exact?a:new RegExp(""+e(D)+i+e(D),"g")};var p="(?:(?:[a-z]+:)?//)",v="(?:\\S+(?::\\S*)?@)?",g=f.v4().source,_=f.v6().source,b="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",S="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",E="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",P="(?::\\d{2,5})?",k='(?:[/?#][^\\s"]*)?',I="(?:"+p+"|www\\.)"+v+"(?:localhost|"+g+"|"+_+"|"+b+S+E+")"+P+k;return b_=new RegExp("(?:^"+I+"$)","i"),b_},XO={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Ng={integer:function(e){return Ng.number(e)&&parseInt(e,10)===e},float:function(e){return Ng.number(e)&&!Ng.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Ng.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(XO.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(Jye())},hex:function(e){return typeof e=="string"&&!!e.match(XO.hex)}},e_e=function(e,n,r,i,o){if(e.required&&n===void 0){TV(e,n,r,i,o);return}var l=["integer","float","array","regexp","object","method","email","number","date","url","hex"],a=e.type;l.indexOf(a)>-1?Ng[a](n)||i.push(bs(o.messages.types[a],e.fullField,e.type)):a&&typeof n!==e.type&&i.push(bs(o.messages.types[a],e.fullField,e.type))},t_e=function(e,n,r,i,o){var l=typeof e.len=="number",a=typeof e.min=="number",f=typeof e.max=="number",p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,v=n,g=null,_=typeof n=="number",b=typeof n=="string",S=Array.isArray(n);if(_?g="number":b?g="string":S&&(g="array"),!g)return!1;S&&(v=n.length),b&&(v=n.replace(p,"_").length),l?v!==e.len&&i.push(bs(o.messages[g].len,e.fullField,e.len)):a&&!f&&v<e.min?i.push(bs(o.messages[g].min,e.fullField,e.min)):f&&!a&&v>e.max?i.push(bs(o.messages[g].max,e.fullField,e.max)):a&&f&&(v<e.min||v>e.max)&&i.push(bs(o.messages[g].range,e.fullField,e.min,e.max))},Op="enum",n_e=function(e,n,r,i,o){e[Op]=Array.isArray(e[Op])?e[Op]:[],e[Op].indexOf(n)===-1&&i.push(bs(o.messages[Op],e.fullField,e[Op].join(", ")))},r_e=function(e,n,r,i,o){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||i.push(bs(o.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var l=new RegExp(e.pattern);l.test(n)||i.push(bs(o.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},$r={required:TV,whitespace:Qye,type:e_e,range:t_e,enum:n_e,pattern:r_e},i_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n,"string")&&!e.required)return r();$r.required(e,n,i,l,o,"string"),Na(n,"string")||($r.type(e,n,i,l,o),$r.range(e,n,i,l,o),$r.pattern(e,n,i,l,o),e.whitespace===!0&&$r.whitespace(e,n,i,l,o))}r(l)},a_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();$r.required(e,n,i,l,o),n!==void 0&&$r.type(e,n,i,l,o)}r(l)},o_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n===""&&(n=void 0),Na(n)&&!e.required)return r();$r.required(e,n,i,l,o),n!==void 0&&($r.type(e,n,i,l,o),$r.range(e,n,i,l,o))}r(l)},s_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();$r.required(e,n,i,l,o),n!==void 0&&$r.type(e,n,i,l,o)}r(l)},l_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();$r.required(e,n,i,l,o),Na(n)||$r.type(e,n,i,l,o)}r(l)},u_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();$r.required(e,n,i,l,o),n!==void 0&&($r.type(e,n,i,l,o),$r.range(e,n,i,l,o))}r(l)},c_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();$r.required(e,n,i,l,o),n!==void 0&&($r.type(e,n,i,l,o),$r.range(e,n,i,l,o))}r(l)},d_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(n==null&&!e.required)return r();$r.required(e,n,i,l,o,"array"),n!=null&&($r.type(e,n,i,l,o),$r.range(e,n,i,l,o))}r(l)},f_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();$r.required(e,n,i,l,o),n!==void 0&&$r.type(e,n,i,l,o)}r(l)},h_e="enum",p_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();$r.required(e,n,i,l,o),n!==void 0&&$r[h_e](e,n,i,l,o)}r(l)},v_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n,"string")&&!e.required)return r();$r.required(e,n,i,l,o),Na(n,"string")||$r.pattern(e,n,i,l,o)}r(l)},m_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n,"date")&&!e.required)return r();if($r.required(e,n,i,l,o),!Na(n,"date")){var f;n instanceof Date?f=n:f=new Date(n),$r.type(e,f,i,l,o),f&&$r.range(e,f.getTime(),i,l,o)}}r(l)},g_e=function(e,n,r,i,o){var l=[],a=Array.isArray(n)?"array":typeof n;$r.required(e,n,i,l,o,a),r(l)},KC=function(e,n,r,i,o){var l=e.type,a=[],f=e.required||!e.required&&i.hasOwnProperty(e.field);if(f){if(Na(n,l)&&!e.required)return r();$r.required(e,n,i,a,o,l),Na(n,l)||$r.type(e,n,i,a,o)}r(a)},y_e=function(e,n,r,i,o){var l=[],a=e.required||!e.required&&i.hasOwnProperty(e.field);if(a){if(Na(n)&&!e.required)return r();$r.required(e,n,i,l,o)}r(l)},s1={string:i_e,method:a_e,number:o_e,boolean:s_e,regexp:l_e,integer:u_e,float:c_e,array:d_e,object:f_e,enum:p_e,pattern:v_e,date:m_e,url:KC,hex:KC,email:KC,required:g_e,any:y_e};function t6(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var n6=t6(),v0=function(){function t(n){this.rules=null,this._messages=n6,this.define(n)}var e=t.prototype;return e.define=function(r){var i=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(typeof r!="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(o){var l=r[o];i.rules[o]=Array.isArray(l)?l:[l]})},e.messages=function(r){return r&&(this._messages=YO(t6(),r)),this._messages},e.validate=function(r,i,o){var l=this;i===void 0&&(i={}),o===void 0&&(o=function(){});var a=r,f=i,p=o;if(typeof f=="function"&&(p=f,f={}),!this.rules||Object.keys(this.rules).length===0)return p&&p(null,a),Promise.resolve(a);function v(E){var P=[],k={};function I(L){if(Array.isArray(L)){var B;P=(B=P).concat.apply(B,L)}else P.push(L)}for(var D=0;D<E.length;D++)I(E[D]);P.length?(k=e6(P),p(P,k)):p(null,a)}if(f.messages){var g=this.messages();g===n6&&(g=t6()),YO(g,f.messages),f.messages=g}else f.messages=this.messages();var _={},b=f.keys||Object.keys(this.rules);b.forEach(function(E){var P=l.rules[E],k=a[E];P.forEach(function(I){var D=I;typeof D.transform=="function"&&(a===r&&(a=rh({},a)),k=a[E]=D.transform(k)),typeof D=="function"?D={validator:D}:D=rh({},D),D.validator=l.getValidationMethod(D),D.validator&&(D.field=E,D.fullField=D.fullField||E,D.type=l.getType(D),_[E]=_[E]||[],_[E].push({rule:D,value:k,source:a,field:E}))})});var S={};return Yye(_,f,function(E,P){var k=E.rule,I=(k.type==="object"||k.type==="array")&&(typeof k.fields=="object"||typeof k.defaultField=="object");I=I&&(k.required||!k.required&&E.value),k.field=E.field;function D(N,j){return rh({},j,{fullField:k.fullField+"."+N,fullFields:k.fullFields?[].concat(k.fullFields,[N]):[N]})}function L(N){N===void 0&&(N=[]);var j=Array.isArray(N)?N:[N];!f.suppressWarning&&j.length&&t.warning("async-validator:",j),j.length&&k.message!==void 0&&(j=[].concat(k.message));var H=j.map(qO(k,a));if(f.first&&H.length)return S[k.field]=1,P(H);if(!I)P(H);else{if(k.required&&!E.value)return k.message!==void 0?H=[].concat(k.message).map(qO(k,a)):f.error&&(H=[f.error(k,bs(f.messages.required,k.field))]),P(H);var V={};k.defaultField&&Object.keys(E.value).map(function(q){V[q]=k.defaultField}),V=rh({},V,E.rule.fields);var Z={};Object.keys(V).forEach(function(q){var G=V[q],ae=Array.isArray(G)?G:[G];Z[q]=ae.map(D.bind(null,q))});var re=new t(Z);re.messages(f.messages),E.rule.options&&(E.rule.options.messages=f.messages,E.rule.options.error=f.error),re.validate(E.value,E.rule.options||f,function(q){var G=[];H&&H.length&&G.push.apply(G,H),q&&q.length&&G.push.apply(G,q),P(G.length?G:null)})}}var B;if(k.asyncValidator)B=k.asyncValidator(k,E.value,L,E.source,f);else if(k.validator){try{B=k.validator(k,E.value,L,E.source,f)}catch(N){console.error==null||console.error(N),f.suppressValidatorError||setTimeout(function(){throw N},0),L(N.message)}B===!0?L():B===!1?L(typeof k.message=="function"?k.message(k.fullField||k.field):k.message||(k.fullField||k.field)+" fails"):B instanceof Array?L(B):B instanceof Error&&L(B.message)}B&&B.then&&B.then(function(){return L()},function(N){return L(N)})},function(E){v(E)},a)},e.getType=function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!s1.hasOwnProperty(r.type))throw new Error(bs("Unknown rule type %s",r.type));return r.type||"string"},e.getValidationMethod=function(r){if(typeof r.validator=="function")return r.validator;var i=Object.keys(r),o=i.indexOf("message");return o!==-1&&i.splice(o,1),i.length===1&&i[0]==="required"?s1.required:s1[this.getType(r)]||void 0},t}();v0.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");s1[e]=n};v0.warning=Kye;v0.messages=n6;v0.validators=s1;function Td(t){return t==null?[]:Array.isArray(t)?t:[t]}function EV(t,e){for(var n=t,r=0;r<e.length;r+=1){if(n==null)return;n=n[e[r]]}return n}function PV(t,e,n,r){if(!e.length)return n;var i=J8(e),o=i[0],l=i.slice(1),a;return!t&&typeof o=="number"?a=[]:Array.isArray(t)?a=Jt(t):a=R({},t),r&&n===void 0&&l.length===1?delete a[o][l[0]]:a[o]=PV(a[o],l,n,r),a}function __e(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return e.length&&r&&n===void 0&&!EV(t,e.slice(0,-1))?t:PV(t,e,n,r)}function r6(t){return Td(t)}function b_e(t,e){var n=EV(t,e);return n}function x_e(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=__e(t,e,n,r);return i}function w_e(t,e){return t&&t.some(function(n){return S_e(n,e)})}function ZO(t){return dn(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function MV(t,e){var n=Array.isArray(t)?Jt(t):R({},t);return e&&Object.keys(e).forEach(function(r){var i=n[r],o=e[r],l=ZO(i)&&ZO(o);n[r]=l?MV(i,o||{}):o}),n}function C_e(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(function(i,o){return MV(i,o)},t)}function QO(t,e){var n={};return e.forEach(function(r){var i=b_e(t,r);n=x_e(n,r,i)}),n}function S_e(t,e){return!t||!e||t.length!==e.length?!1:t.every(function(n,r){return e[r]===n})}var ps="'${name}' is not a valid ${type}",K2={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:ps,method:ps,array:ps,object:ps,number:ps,date:ps,boolean:ps,integer:ps,float:ps,regexp:ps,email:ps,url:ps,hex:ps},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},T_e=v0;function E_e(t,e){return t.replace(/\$\{\w+\}/g,function(n){var r=n.slice(2,-1);return e[r]})}function i6(t,e,n,r,i){return a6.apply(this,arguments)}function a6(){return a6=Sh(es.mark(function t(e,n,r,i,o){var l,a,f,p,v,g,_,b;return es.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return l=R({},r),delete l.ruleIndex,delete l.trigger,a=null,l&&l.type==="array"&&l.defaultField&&(a=l.defaultField,delete l.defaultField),f=new T_e(J({},e,[l])),p=C_e({},K2,i.validateMessages),f.messages(p),v=[],E.prev=9,E.next=12,Promise.resolve(f.validate(J({},e,n),R({},i)));case 12:E.next=17;break;case 14:E.prev=14,E.t0=E.catch(9),E.t0.errors?v=E.t0.errors.map(function(P,k){var I=P.message;return la(I)?io(I,{key:"error_".concat(k)}):I}):(console.error(E.t0),v=[p.default()]);case 17:if(!(!v.length&&a)){E.next=22;break}return E.next=20,Promise.all(n.map(function(P,k){return i6("".concat(e,".").concat(k),P,a,i,o)}));case 20:return g=E.sent,E.abrupt("return",g.reduce(function(P,k){return[].concat(Jt(P),Jt(k))},[]));case 22:return _=R(R({},r),{},{name:e,enum:(r.enum||[]).join(", ")},o),b=v.map(function(P){return typeof P=="string"?E_e(P,_):P}),E.abrupt("return",b);case 25:case"end":return E.stop()}},t,null,[[9,14]])})),a6.apply(this,arguments)}function kV(t,e,n,r,i,o){var l=t.join("."),a=n.map(function(v,g){var _=v.validator,b=R(R({},v),{},{ruleIndex:g});return _&&(b.validator=function(S,E,P){var k=!1,I=function(){for(var B=arguments.length,N=new Array(B),j=0;j<B;j++)N[j]=arguments[j];Promise.resolve().then(function(){k||P.apply(void 0,N)})},D=_(S,E,I);k=D&&typeof D.then=="function"&&typeof D.catch=="function",k&&D.then(function(){P()}).catch(function(L){P(L||" ")})}),b}).sort(function(v,g){var _=v.warningOnly,b=v.ruleIndex,S=g.warningOnly,E=g.ruleIndex;return!!_==!!S?b-E:_?1:-1}),f;if(i===!0)f=new Promise(function(){var v=Sh(es.mark(function g(_,b){var S,E,P;return es.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:S=0;case 1:if(!(S<a.length)){I.next=12;break}return E=a[S],I.next=5,i6(l,e,E,r,o);case 5:if(P=I.sent,!P.length){I.next=9;break}return b([{errors:P,rule:E}]),I.abrupt("return");case 9:S+=1,I.next=1;break;case 12:_([]);case 13:case"end":return I.stop()}},g)}));return function(g,_){return v.apply(this,arguments)}}());else{var p=a.map(function(v){return i6(l,e,v,r,o).then(function(g){return{errors:g,rule:v}})});f=(i?M_e(p):P_e(p)).then(function(v){return Promise.reject(v)})}return f.catch(function(v){return v}),f}function P_e(t){return o6.apply(this,arguments)}function o6(){return o6=Sh(es.mark(function t(e){return es.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Promise.all(e).then(function(i){var o,l=(o=[]).concat.apply(o,Jt(i));return l}));case 1:case"end":return r.stop()}},t)})),o6.apply(this,arguments)}function M_e(t){return s6.apply(this,arguments)}function s6(){return s6=Sh(es.mark(function t(e){var n;return es.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=0,i.abrupt("return",new Promise(function(o){e.forEach(function(l){l.then(function(a){a.errors.length&&o([a]),n+=1,n===e.length&&o([])})})}));case 2:case"end":return i.stop()}},t)})),s6.apply(this,arguments)}var k_e=1,A_e=2;function I_e(t,e,n,r){var i=n.length,o=i,l=!r;if(t==null)return!o;for(t=Object(t);i--;){var a=n[i];if(l&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){a=n[i];var f=a[0],p=t[f],v=a[1];if(l&&a[2]){if(p===void 0&&!(f in t))return!1}else{var g=new uu;if(r)var _=r(p,v,f,t,e,g);if(!(_===void 0?C2(v,p,k_e|A_e,r,g):_))return!1}}return!0}function AV(t){return t===t&&!El(t)}function O_e(t){for(var e=Uv(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,AV(i)]}return e}function IV(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function D_e(t){var e=O_e(t);return e.length==1&&e[0][2]?IV(e[0][0],e[0][1]):function(n){return n===t||I_e(n,t,e)}}function R_e(t,e,n){var r=t==null?void 0:F2(t,e);return r===void 0?n:r}var L_e=1,F_e=2;function N_e(t,e){return aE(t)&&AV(e)?IV(Yv(t),e):function(n){var r=R_e(n,t);return r===void 0&&r===e?$j(n,t):C2(e,r,L_e|F_e)}}function B_e(t){return function(e){return F2(e,t)}}function z_e(t){return aE(t)?Q$(Yv(t)):B_e(t)}function yE(t){return typeof t=="function"?t:t==null?lE:typeof t=="object"?qs(t)?N_e(t[0],t[1]):D_e(t):z_e(t)}function $_e(t){return function(e,n,r){var i=Object(e);if(!s0(e)){var o=yE(n);e=Uv(e),n=function(a){return o(i[a],a,i)}}var l=t(e,n,r);return l>-1?i[o?e[l]:l]:void 0}}var j_e=Math.max;function V_e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:FT(n);return i<0&&(i=j_e(r+i,0)),O$(t,yE(e),i)}var U_e=$_e(V_e);const H_e=U_e;var OV=Symbol("formContextKey"),DV=function(e){Xn(OV,e)},_E=function(){return Hn(OV,{name:le(function(){}),labelAlign:le(function(){return"right"}),vertical:le(function(){return!1}),addField:function(n,r){},removeField:function(n){},model:le(function(){}),rules:le(function(){}),colon:le(function(){}),labelWrap:le(function(){}),labelCol:le(function(){}),requiredMark:le(function(){return!1}),validateTrigger:le(function(){}),onValidate:function(){},validateMessages:le(function(){return K2})})},RV=Symbol("formItemPrefixContextKey"),K_e=function(e){Xn(RV,e)},W_e=function(){return Hn(RV,{prefixCls:le(function(){return""})})},bE=function(e,n){var r,i,o,l,a=n.slots,f=n.emit,p=n.attrs,v=R(R({},e),p),g=v.prefixCls,_=v.htmlFor,b=v.labelCol,S=v.labelAlign,E=v.colon,P=v.required,k=v.requiredMark,I=vu("Form"),D=Wt(I,1),L=D[0],B=(r=e.label)!==null&&r!==void 0?r:(i=a.label)===null||i===void 0?void 0:i.call(a);if(!B)return null;var N=_E(),j=N.vertical,H=N.labelAlign,V=N.labelCol,Z=N.labelWrap,re=N.colon,q=b||(V==null?void 0:V.value)||{},G=S||(H==null?void 0:H.value),ae="".concat(g,"-item-label"),te=mt(ae,G==="left"&&"".concat(ae,"-left"),q.class,J({},"".concat(ae,"-wrap"),!!Z.value)),Q=B,Y=E===!0||(re==null?void 0:re.value)!==!1&&E!==!1,X=Y&&!j.value;if(X&&typeof B=="string"&&B.trim()!==""&&(Q=B.replace(/[:|]\s*$/,"")),Q=M(Kn,null,[Q,(o=a.tooltip)===null||o===void 0?void 0:o.call(a,{class:"".concat(g,"-item-tooltip")})]),k==="optional"&&!P){var ie,he;Q=M(Kn,null,[Q,M("span",{class:"".concat(g,"-item-optional")},[((ie=L.value)===null||ie===void 0?void 0:ie.optional)||((he=Sl.Form)===null||he===void 0?void 0:he.optional)])])}var ce=mt((l={},J(l,"".concat(g,"-item-required"),P),J(l,"".concat(g,"-item-required-mark-optional"),k==="optional"),J(l,"".concat(g,"-item-no-colon"),!Y),l));return M(N2,R(R({},q),{},{class:te}),{default:function(){return[M("label",{for:_,class:ce,title:typeof B=="string"?B:"",onClick:function(ve){return f("click",ve)}},[Q])]}})};bE.displayName="FormItemLabel";bE.inheritAttrs=!1;const G_e=bE,q_e=lt({compatConfig:{MODE:3},name:"ErrorList",props:["errors","help","onDomErrorVisibleChange","helpStatus","warnings"],setup:function(e){var n=fn("",e),r=n.prefixCls,i=W_e(),o=i.prefixCls,l=i.status,a=le(function(){return"".concat(o.value,"-item-explain")}),f=le(function(){return!!(e.errors&&e.errors.length)}),p=ke(l.value);return Lt([f,l],function(){f.value&&(p.value=l.value)}),function(){var v,g,_=u0("".concat(r.value,"-show-help-item")),b=K8("".concat(r.value,"-show-help-item"),_);return b.class=a.value,(v=e.errors)!==null&&v!==void 0&&v.length?M(w5,R(R({},b),{},{tag:"div"}),{default:function(){return[(g=e.errors)===null||g===void 0?void 0:g.map(function(E,P){return M("div",{key:P,role:"alert",class:p.value?"".concat(a.value,"-").concat(p.value):""},[E])})]}}):null}}});var Y_e={success:t0,warning:r0,error:fc,validating:wl},X_e=lt({compatConfig:{MODE:3},slots:["help","extra","errors"],inheritAttrs:!1,props:["prefixCls","errors","hasFeedback","onDomErrorVisibleChange","wrapperCol","help","extra","status"],setup:function(e,n){var r=n.slots,i=_E(),o=i.wrapperCol,l=R({},i);return delete l.labelCol,delete l.wrapperCol,DV(l),K_e({prefixCls:le(function(){return e.prefixCls}),status:le(function(){return e.status})}),function(){var a,f,p,v=e.prefixCls,g=e.wrapperCol,_=e.help,b=_===void 0?(a=r.help)===null||a===void 0?void 0:a.call(r):_,S=e.errors,E=S===void 0?(f=r.errors)===null||f===void 0?void 0:f.call(r):S,P=e.hasFeedback,k=e.status,I=e.extra,D=I===void 0?(p=r.extra)===null||p===void 0?void 0:p.call(r):I,L="".concat(v,"-item"),B=g||(o==null?void 0:o.value)||{},N=mt("".concat(L,"-control"),B.class),j=k&&Y_e[k];return M(N2,R(R({},B),{},{class:N}),{default:function(){var V;return M(Kn,null,[M("div",{class:"".concat(L,"-control-input")},[M("div",{class:"".concat(L,"-control-input-content")},[(V=r.default)===null||V===void 0?void 0:V.call(r)]),P&&j?M("span",{class:"".concat(L,"-children-icon")},[M(j,null,null)]):null]),M(q_e,{errors:E,help:b,class:"".concat(L,"-explain-connected")},null),D?M("div",{class:"".concat(L,"-extra")},[D]):null])}})}}});const Z_e=X_e;function Q_e(t){var e=fr(t.value.slice()),n=null;return Un(function(){clearTimeout(n),n=setTimeout(function(){e.value=t.value},t.value.length?0:10)}),e}Di("success","warning","error","validating","");function WC(t,e,n){var r=t,i=e,o=0;try{for(var l=i.length;o<l-1&&!(!r&&!n);++o){var a=i[o];if(a in r)r=r[a];else{if(n)throw Error("please transfer a valid name path to form item!");break}}if(n&&!r)throw Error("please transfer a valid name path to form item!")}catch{console.error("please transfer a valid name path to form item!")}return{o:r,k:i[o],v:r?r[i[o]]:void 0}}var J_e=function(){return{htmlFor:String,prefixCls:String,label:Te.any,help:Te.any,extra:Te.any,labelCol:{type:Object},wrapperCol:{type:Object},hasFeedback:{type:Boolean,default:!1},colon:{type:Boolean,default:void 0},labelAlign:String,prop:{type:[String,Number,Array]},name:{type:[String,Number,Array]},rules:[Array,Object],autoLink:{type:Boolean,default:!0},required:{type:Boolean,default:void 0},validateFirst:{type:Boolean,default:void 0},validateStatus:Te.oneOf(Di("","success","warning","error","validating")),validateTrigger:{type:[String,Array]},messageVariables:{type:Object},hidden:Boolean,noStyle:Boolean}},ebe=0,tbe="form_item";const LV=lt({compatConfig:{MODE:3},name:"AFormItem",inheritAttrs:!1,__ANT_NEW_FORM_ITEM:!0,props:J_e(),slots:["help","label","extra"],setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose;e.prop;var l="form-item-".concat(++ebe),a=fn("form",e),f=a.prefixCls,p=_E(),v=le(function(){return e.name||e.prop}),g=ke([]),_=ke(!1),b=ke(),S=le(function(){var ie=v.value;return r6(ie)}),E=le(function(){if(S.value.length){var ie=p.name.value,he=S.value.join("_");return ie?"".concat(ie,"_").concat(he):"".concat(tbe,"_").concat(he)}else return}),P=function(){var he=p.model.value;if(!(!he||!v.value))return WC(he,S.value,!0).v},k=le(function(){return P()}),I=ke(ab(k.value)),D=le(function(){var ie=e.validateTrigger!==void 0?e.validateTrigger:p.validateTrigger.value;return ie=ie===void 0?"change":ie,Td(ie)}),L=le(function(){var ie=p.rules.value,he=e.rules,ce=e.required!==void 0?{required:!!e.required,trigger:D.value}:[],we=WC(ie,S.value);ie=ie?we.o[we.k]||we.v:[];var be=[].concat(he||ie||[]);return H_e(be,function(ve){return ve.required})?be:be.concat(ce)}),B=le(function(){var ie=L.value,he=!1;return ie&&ie.length&&ie.every(function(ce){return ce.required?(he=!0,!1):!0}),he||e.required}),N=ke();Un(function(){N.value=e.validateStatus});var j=le(function(){var ie={};return typeof e.label=="string"?ie.label=e.label:e.name&&(ie.label=String(e.name)),e.messageVariables&&(ie=R(R({},ie),e.messageVariables)),ie}),H=function(he){if(S.value.length!==0){var ce=e.validateFirst,we=ce===void 0?!1:ce,be=he||{},ve=be.triggerName,ge=L.value;if(ve&&(ge=ge.filter(function(ye){var Ne=ye.trigger;if(!Ne&&!D.value.length)return!0;var Re=Td(Ne||D.value);return Re.includes(ve)})),!ge.length)return Promise.resolve();var Pe=kV(S.value,k.value,ge,R({validateMessages:p.validateMessages.value},he),we,j.value);return N.value="validating",g.value=[],Pe.catch(function(ye){return ye}).then(function(){var ye=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(N.value==="validating"){var Ne=ye.filter(function(Re){return Re&&Re.errors.length});N.value=Ne.length?"error":"success",g.value=Ne.map(function(Re){return Re.errors}),p.onValidate(v.value,!g.value.length,g.value.length?Gn(g.value[0]):null)}}),Pe}},V=function(){H({triggerName:"blur"})},Z=function(){if(_.value){_.value=!1;return}H({triggerName:"change"})},re=function(){N.value=e.validateStatus,_.value=!1,g.value=[]},q=function(){N.value=e.validateStatus,_.value=!0,g.value=[];var he=p.model.value||{},ce=k.value,we=WC(he,S.value,!0);Array.isArray(ce)?we.o[we.k]=[].concat(I.value):we.o[we.k]=I.value,Yn(function(){_.value=!1})},G=le(function(){return e.htmlFor===void 0?E.value:e.htmlFor}),ae=function(){var he=G.value;if(!(!he||!b.value)){var ce=b.value.$el.querySelector('[id="'.concat(he,'"]'));ce&&ce.focus&&ce.focus()}};o({onFieldBlur:V,onFieldChange:Z,clearValidate:re,resetField:q}),Gfe({id:E,onFieldBlur:function(){e.autoLink&&V()},onFieldChange:function(){e.autoLink&&Z()},clearValidate:re},le(function(){return!!(e.autoLink&&p.model.value&&v.value)}));var te=!1;Lt(v,function(ie){ie?te||(te=!0,p.addField(l,{fieldValue:k,fieldId:E,fieldName:v,resetField:q,clearValidate:re,namePath:S,validateRules:H,rules:L})):(te=!1,p.removeField(l))},{immediate:!0}),tr(function(){p.removeField(l)});var Q=Q_e(g),Y=le(function(){return e.validateStatus!==void 0?e.validateStatus:Q.value.length?"error":N.value}),X=le(function(){var ie;return ie={},J(ie,"".concat(f.value,"-item"),!0),J(ie,"".concat(f.value,"-item-has-feedback"),Y.value&&e.hasFeedback),J(ie,"".concat(f.value,"-item-has-success"),Y.value==="success"),J(ie,"".concat(f.value,"-item-has-warning"),Y.value==="warning"),J(ie,"".concat(f.value,"-item-has-error"),Y.value==="error"),J(ie,"".concat(f.value,"-item-is-validating"),Y.value==="validating"),J(ie,"".concat(f.value,"-item-hidden"),e.hidden),ie});return function(){var ie,he;if(e.noStyle)return(ie=r.default)===null||ie===void 0?void 0:ie.call(r);var ce=(he=e.help)!==null&&he!==void 0?he:r.help?ta(r.help()):null;return M(cE,R(R({},i),{},{class:[X.value,ce!=null||Q.value.length?"".concat(f.value,"-item-with-help"):"",i.class],key:"row"}),{default:function(){var be,ve,ge,Pe;return M(Kn,null,[M(G_e,R(R({},e),{},{htmlFor:G.value,required:B.value,requiredMark:p.requiredMark.value,prefixCls:f.value,onClick:ae,label:(be=e.label)!==null&&be!==void 0?be:(ve=r.label)===null||ve===void 0?void 0:ve.call(r)}),null),M(Z_e,R(R({},e),{},{errors:ce!=null?Td(ce):Q.value,prefixCls:f.value,status:Y.value,ref:b,help:ce,extra:(ge=e.extra)!==null&&ge!==void 0?ge:(Pe=r.extra)===null||Pe===void 0?void 0:Pe.call(r)}),{default:r.default})])}})}}});function FV(t){var e=!1,n=t.length,r=[];return t.length?new Promise(function(i,o){t.forEach(function(l,a){l.catch(function(f){return e=!0,f}).then(function(f){n-=1,r[a]=f,!(n>0)&&(e&&o(r),i(r))})})}):Promise.resolve([])}function JO(t){return typeof t=="object"&&t!=null&&t.nodeType===1}function eD(t,e){return(!e||t!=="hidden")&&t!=="visible"&&t!=="clip"}function GC(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return eD(n.overflowY,e)||eD(n.overflowX,e)||function(r){var i=function(o){if(!o.ownerDocument||!o.ownerDocument.defaultView)return null;try{return o.ownerDocument.defaultView.frameElement}catch{return null}}(r);return!!i&&(i.clientHeight<r.scrollHeight||i.clientWidth<r.scrollWidth)}(t)}return!1}function x_(t,e,n,r,i,o,l,a){return o<t&&l>e||o>t&&l<e?0:o<=t&&a<=n||l>=e&&a>=n?o-t-r:l>e&&a<n||o<t&&a>n?l-e+i:0}var tD=function(t,e){var n=window,r=e.scrollMode,i=e.block,o=e.inline,l=e.boundary,a=e.skipOverflowHiddenElements,f=typeof l=="function"?l:function(Ie){return Ie!==l};if(!JO(t))throw new TypeError("Invalid target");for(var p,v,g=document.scrollingElement||document.documentElement,_=[],b=t;JO(b)&&f(b);){if((b=(v=(p=b).parentElement)==null?p.getRootNode().host||null:v)===g){_.push(b);break}b!=null&&b===document.body&&GC(b)&&!GC(document.documentElement)||b!=null&&GC(b,a)&&_.push(b)}for(var S=n.visualViewport?n.visualViewport.width:innerWidth,E=n.visualViewport?n.visualViewport.height:innerHeight,P=window.scrollX||pageXOffset,k=window.scrollY||pageYOffset,I=t.getBoundingClientRect(),D=I.height,L=I.width,B=I.top,N=I.right,j=I.bottom,H=I.left,V=i==="start"||i==="nearest"?B:i==="end"?j:B+D/2,Z=o==="center"?H+L/2:o==="end"?N:H,re=[],q=0;q<_.length;q++){var G=_[q],ae=G.getBoundingClientRect(),te=ae.height,Q=ae.width,Y=ae.top,X=ae.right,ie=ae.bottom,he=ae.left;if(r==="if-needed"&&B>=0&&H>=0&&j<=E&&N<=S&&B>=Y&&j<=ie&&H>=he&&N<=X)return re;var ce=getComputedStyle(G),we=parseInt(ce.borderLeftWidth,10),be=parseInt(ce.borderTopWidth,10),ve=parseInt(ce.borderRightWidth,10),ge=parseInt(ce.borderBottomWidth,10),Pe=0,ye=0,Ne="offsetWidth"in G?G.offsetWidth-G.clientWidth-we-ve:0,Re="offsetHeight"in G?G.offsetHeight-G.clientHeight-be-ge:0,Ge="offsetWidth"in G?G.offsetWidth===0?0:Q/G.offsetWidth:0,He="offsetHeight"in G?G.offsetHeight===0?0:te/G.offsetHeight:0;if(g===G)Pe=i==="start"?V:i==="end"?V-E:i==="nearest"?x_(k,k+E,E,be,ge,k+V,k+V+D,D):V-E/2,ye=o==="start"?Z:o==="center"?Z-S/2:o==="end"?Z-S:x_(P,P+S,S,we,ve,P+Z,P+Z+L,L),Pe=Math.max(0,Pe+k),ye=Math.max(0,ye+P);else{Pe=i==="start"?V-Y-be:i==="end"?V-ie+ge+Re:i==="nearest"?x_(Y,ie,te,be,ge+Re,V,V+D,D):V-(Y+te/2)+Re/2,ye=o==="start"?Z-he-we:o==="center"?Z-(he+Q/2)+Ne/2:o==="end"?Z-X+ve+Ne:x_(he,X,Q,we,ve+Ne,Z,Z+L,L);var Ee=G.scrollLeft,pe=G.scrollTop;V+=pe-(Pe=Math.max(0,Math.min(pe+Pe/He,G.scrollHeight-te/He+Re))),Z+=Ee-(ye=Math.max(0,Math.min(Ee+ye/Ge,G.scrollWidth-Q/Ge+Ne)))}re.push({el:G,top:Pe,left:ye})}return re};function NV(t){return t===Object(t)&&Object.keys(t).length!==0}function nbe(t,e){e===void 0&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach(function(r){var i=r.el,o=r.top,l=r.left;i.scroll&&n?i.scroll({top:o,left:l,behavior:e}):(i.scrollTop=o,i.scrollLeft=l)})}function rbe(t){return t===!1?{block:"end",inline:"nearest"}:NV(t)?t:{block:"start",inline:"nearest"}}function ibe(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(NV(e)&&typeof e.behavior=="function")return e.behavior(n?tD(t,e):[]);if(n){var r=rbe(e);return nbe(tD(t,r),r.behavior)}}var abe=Math.min;function obe(t,e,n){for(var r=n?R$:D$,i=t[0].length,o=t.length,l=o,a=Array(o),f=1/0,p=[];l--;){var v=t[l];l&&e&&(v=A2(v,w2(e))),f=abe(v.length,f),a[l]=!n&&(e||i>=120&&v.length>=120)?new wv(l&&v):void 0}v=t[0];var g=-1,_=a[0];e:for(;++g<i&&p.length<f;){var b=v[g],S=e?e(b):b;if(b=n||b!==0?b:0,!(_?nx(_,S):r(p,S,n))){for(l=o;--l;){var E=a[l];if(!(E?nx(E,S):r(t[l],S,n)))continue e}_&&_.push(S),p.push(b)}}return p}function sbe(t,e){return Uj(Vj(t,e,lE),t+"")}function lbe(t){return Cl(t)&&s0(t)}function ube(t){return lbe(t)?t:[]}var cbe=sbe(function(t){var e=A2(t,ube);return e.length&&e[0]===t[0]?obe(e):[]});const dbe=cbe;function fbe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function hbe(t,e){return e.length<2?t:F2(t,Z$(e,0,-1))}function pbe(t,e){return e=qv(e,t),t=hbe(t,e),t==null||delete t[Yv(fbe(e))]}function vbe(t){return z8(t)?void 0:t}var mbe=1,gbe=2,ybe=4,_be=Hj(function(t,e){var n={};if(t==null)return n;var r=!1;e=A2(e,function(o){return o=qv(o,t),r||(r=o.length>1),o}),p0(t,xV(t),n),r&&(n=o1(n,mbe|gbe|ybe,vbe));for(var i=e.length;i--;)pbe(n,e[i]);return n});const bbe=_be;function nD(t){var e=!1;return t&&t.length&&t.every(function(n){return n.required?(e=!0,!1):!0}),e}function rD(t){return t==null?[]:Array.isArray(t)?t:[t]}function qC(t,e,n){var r=t;e=e.replace(/\[(\w+)\]/g,".$1"),e=e.replace(/^\./,"");for(var i=e.split("."),o=0,l=i.length;o<l-1&&!(!r&&!n);++o){var a=i[o];if(a in r)r=r[a];else{if(n)throw new Error("please transfer a valid name path to validate!");break}}return{o:r,k:i[o],v:r?r[i[o]]:null,isValid:r&&i[o]in r}}function xbe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ke({}),n=arguments.length>2?arguments[2]:void 0,r=ab(pa(t)),i=Mr({}),o=fr([]),l=function(L){yr(pa(t),R(R({},ab(r)),L)),Yn(function(){Object.keys(i).forEach(function(B){i[B]={autoLink:!1,required:nD(pa(e)[B])}})})},a=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=arguments.length>1?arguments[1]:void 0;return B.length?L.filter(function(N){var j=rD(N.trigger||"change");return dbe(j,B).length}):L},f=null,p=function(L){for(var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=arguments.length>2?arguments[2]:void 0,j=[],H={},V=function(){var te=L[Z],Q=qC(pa(t),te,N);if(!Q.isValid)return"continue";H[te]=Q.v;var Y=a(pa(e)[te],rD(B&&B.trigger));Y.length&&j.push(v(te,Q.v,Y,B||{}).then(function(){return{name:te,errors:[],warnings:[]}}).catch(function(X){var ie=[],he=[];return X.forEach(function(ce){var we=ce.rule.warningOnly,be=ce.errors;we?he.push.apply(he,Jt(be)):ie.push.apply(ie,Jt(be))}),ie.length?Promise.reject({name:te,errors:ie,warnings:he}):{name:te,errors:ie,warnings:he}}))},Z=0;Z<L.length;Z++)var re=V();var q=FV(j);f=q;var G=q.then(function(){return f===q?Promise.resolve(H):Promise.reject([])}).catch(function(ae){var te=ae.filter(function(Q){return Q&&Q.errors.length});return Promise.reject({values:H,errorFields:te,outOfDate:f!==q})});return G.catch(function(ae){return ae}),G},v=function(L,B,N){var j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},H=kV([L],B,N,R({validateMessages:K2},j),!!j.validateFirst);return i[L]?(i[L].validateStatus="validating",H.catch(function(V){return V}).then(function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(i[L].validateStatus==="validating"){var Z,re=V.filter(function(q){return q&&q.errors.length});i[L].validateStatus=re.length?"error":"success",i[L].help=re.length?re.map(function(q){return q.errors}):null,n==null||(Z=n.onValidate)===null||Z===void 0||Z.call(n,L,!re.length,re.length?Gn(i[L].help[0]):null)}}),H):H.catch(function(V){return V})},g=function(L,B){var N=[],j=!0;L?Array.isArray(L)?N=L:N=[L]:(j=!1,N=o.value);var H=p(N,B||{},j);return H.catch(function(V){return V}),H},_=function(L){var B=[];L?Array.isArray(L)?B=L:B=[L]:B=o.value,B.forEach(function(N){i[N]&&yr(i[N],{validateStatus:"",help:null})})},b=function(L){for(var B={autoLink:!1},N=[],j=Array.isArray(L)?L:[L],H=0;H<j.length;H++){var V=j[H];(V==null?void 0:V.validateStatus)==="error"&&(B.validateStatus="error",V.help&&N.push(V.help)),B.required=B.required||(V==null?void 0:V.required)}return B.help=N,B},S=r,E=!0,P=function(L){var B=[];o.value.forEach(function(N){var j=qC(L,N,!1),H=qC(S,N,!1),V=E&&(n==null?void 0:n.immediate)&&j.isValid;(V||!S2(j.v,H.v))&&B.push(N)}),g(B,{trigger:"change"}),E=!1,S=ab(Gn(L))},k=n==null?void 0:n.debounce,I=!0;return Lt(e,function(){o.value=e?Object.keys(pa(e)):[],!I&&n&&n.validateOnRuleChange&&g(),I=!1},{deep:!0,immediate:!0}),Lt(o,function(){var D={};o.value.forEach(function(B){D[B]=yr({},i[B],{autoLink:!1,required:nD(pa(e)[B])}),delete i[B]});for(var L in i)Object.prototype.hasOwnProperty.call(i,L)&&delete i[L];yr(i,D)},{immediate:!0}),Lt(t,k&&k.wait?B2(P,k.wait,bbe(k,["wait"])):P,{immediate:n&&!!n.immediate,deep:!0}),{modelRef:t,rulesRef:e,initialModel:r,validateInfos:i,resetFields:l,validate:g,validateField:v,mergeValidateInfo:b,clearValidate:_}}var wbe=function(){return{layout:Te.oneOf(Di("horizontal","inline","vertical")),labelCol:{type:Object},wrapperCol:{type:Object},colon:{type:Boolean,default:void 0},labelAlign:Te.oneOf(Di("left","right")),labelWrap:{type:Boolean,default:void 0},prefixCls:String,requiredMark:{type:[String,Boolean],default:void 0},hideRequiredMark:{type:Boolean,default:void 0},model:Te.object,rules:{type:Object},validateMessages:{type:Object,default:void 0},validateOnRuleChange:{type:Boolean,default:void 0},scrollToFirstError:{type:[Boolean,Object]},onSubmit:Function,name:String,validateTrigger:{type:[String,Array]},size:{type:String},onValuesChange:{type:Function},onFieldsChange:{type:Function},onFinish:{type:Function},onFinishFailed:{type:Function},onValidate:{type:Function}}};function Cbe(t,e){return S2(Td(t),Td(e))}var Sbe=lt({compatConfig:{MODE:3},name:"AForm",inheritAttrs:!1,props:lr(wbe(),{layout:"horizontal",hideRequiredMark:!1,colon:!0}),Item:LV,useForm:xbe,setup:function(e,n){var r=n.emit,i=n.slots,o=n.expose,l=n.attrs,a=v$(e),f=fn("form",e),p=f.prefixCls,v=f.direction,g=f.form,_=le(function(){return e.requiredMark===""||e.requiredMark}),b=le(function(){var Y;return _.value!==void 0?_.value:g&&((Y=g.value)===null||Y===void 0?void 0:Y.requiredMark)!==void 0?g.value.requiredMark:!e.hideRequiredMark}),S=le(function(){var Y,X;return(Y=e.colon)!==null&&Y!==void 0?Y:(X=g.value)===null||X===void 0?void 0:X.colon}),E=Lse(),P=E.validateMessages,k=le(function(){return R(R(R({},K2),P.value),e.validateMessages)}),I=le(function(){var Y;return mt(p.value,(Y={},J(Y,"".concat(p.value,"-").concat(e.layout),!0),J(Y,"".concat(p.value,"-hide-required-mark"),b.value===!1),J(Y,"".concat(p.value,"-rtl"),v.value==="rtl"),J(Y,"".concat(p.value,"-").concat(a.value),a.value),Y))}),D=ke(),L={},B=function(X,ie){L[X]=ie},N=function(X){delete L[X]},j=function(X){var ie=!!X,he=ie?Td(X).map(r6):[];return ie?Object.values(L).filter(function(ce){return he.findIndex(function(we){return Cbe(we,ce.fieldName.value)})>-1}):Object.values(L)},H=function(X){if(!e.model){sa(!1,"Form","model is required for resetFields to work.");return}j(X).forEach(function(ie){ie.resetField()})},V=function(X){j(X).forEach(function(ie){ie.clearValidate()})},Z=function(X){var ie=e.scrollToFirstError;if(r("finishFailed",X),ie&&X.errorFields.length){var he={};dn(ie)==="object"&&(he=ie),q(X.errorFields[0].name,he)}},re=function(){return te.apply(void 0,arguments)},q=function(X){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},he=j(X?[X]:void 0);if(he.length){var ce=he[0].fieldId.value,we=ce?document.getElementById(ce):null;we&&ibe(we,R({scrollMode:"if-needed",block:"nearest"},ie))}},G=function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(X===!0){var ie=[];return Object.values(L).forEach(function(he){var ce=he.namePath;ie.push(ce.value)}),QO(e.model,ie)}else return QO(e.model,X)},ae=function(X,ie){if(sa(!(X instanceof Function),"Form","validateFields/validateField/validate not support callback, please use promise instead"),!e.model)return sa(!1,"Form","model is required for validateFields to work."),Promise.reject("Form `model` is required for validateFields to work.");var he=!!X,ce=he?Td(X).map(r6):[],we=[];Object.values(L).forEach(function(ge){var Pe;if(he||ce.push(ge.namePath.value),!!((Pe=ge.rules)!==null&&Pe!==void 0&&Pe.value.length)){var ye=ge.namePath.value;if(!he||w_e(ce,ye)){var Ne=ge.validateRules(R({validateMessages:k.value},ie));we.push(Ne.then(function(){return{name:ye,errors:[],warnings:[]}}).catch(function(Re){var Ge=[],He=[];return Re.forEach(function(Ee){var pe=Ee.rule.warningOnly,Ie=Ee.errors;pe?He.push.apply(He,Jt(Ie)):Ge.push.apply(Ge,Jt(Ie))}),Ge.length?Promise.reject({name:ye,errors:Ge,warnings:He}):{name:ye,errors:Ge,warnings:He}}))}}});var be=FV(we);D.value=be;var ve=be.then(function(){return D.value===be?Promise.resolve(G(ce)):Promise.reject([])}).catch(function(ge){var Pe=ge.filter(function(ye){return ye&&ye.errors.length});return Promise.reject({values:G(ce),errorFields:Pe,outOfDate:D.value!==be})});return ve.catch(function(ge){return ge}),ve},te=function(){return ae.apply(void 0,arguments)},Q=function(X){if(X.preventDefault(),X.stopPropagation(),r("submit",X),e.model){var ie=ae();ie.then(function(he){r("finish",he)}).catch(function(he){Z(he)})}};return o({resetFields:H,clearValidate:V,validateFields:ae,getFieldsValue:G,validate:re,scrollToField:q}),DV({model:le(function(){return e.model}),name:le(function(){return e.name}),labelAlign:le(function(){return e.labelAlign}),labelCol:le(function(){return e.labelCol}),labelWrap:le(function(){return e.labelWrap}),wrapperCol:le(function(){return e.wrapperCol}),vertical:le(function(){return e.layout==="vertical"}),colon:S,requiredMark:b,validateTrigger:le(function(){return e.validateTrigger}),rules:le(function(){return e.rules}),addField:B,removeField:N,onValidate:function(X,ie,he){r("validate",X,ie,he)},validateMessages:k}),Lt(function(){return e.rules},function(){e.validateOnRuleChange&&ae()}),function(){var Y;return M("form",R(R({},l),{},{onSubmit:Q,class:[I.value,l.class]}),[(Y=i.default)===null||Y===void 0?void 0:Y.call(i)])}}});const hd=Sbe;hd.useInjectFormItemContext=_a;hd.ItemRest=ux;hd.install=function(t){return t.component(hd.name,hd),t.component(hd.Item.name,hd.Item),t.component(ux.name,ux),t};var Tbe=["notFoundContent","expandIcon","multiple","bordered","allowClear","choiceTransitionName","transitionName","id"];function Ebe(t,e,n){var r=t.toLowerCase().split(e).reduce(function(l,a,f){return f===0?[a]:[].concat(Jt(l),[e,a])},[]),i=[],o=0;return r.forEach(function(l,a){var f=o+l.length,p=t.slice(o,f);o=f,a%2===1&&(p=M("span",{class:"".concat(n,"-menu-item-keyword"),key:"seperator"},[p])),i.push(p)}),i}var Pbe=function(e){var n=e.inputValue,r=e.path,i=e.prefixCls,o=e.fieldNames,l=[],a=n.toLowerCase();return r.forEach(function(f,p){p!==0&&l.push(" / ");var v=f[o.label],g=dn(v);(g==="string"||g==="number")&&(v=Ebe(String(v),a,i)),l.push(v)}),l};function Mbe(){return R(R({},Qn(yV(),["customSlots","checkable","options"])),{},{multiple:{type:Boolean,default:void 0},size:String,bordered:{type:Boolean,default:void 0},placement:{type:String},suffixIcon:Te.any,options:Array,"onUpdate:value":Function})}var kbe=lt({compatConfig:{MODE:3},name:"ACascader",inheritAttrs:!1,props:lr(Mbe(),{bordered:!0,choiceTransitionName:"",allowClear:!0}),setup:function(e,n){var r=n.attrs,i=n.expose,o=n.slots,l=n.emit,a=_a(),f=fn("cascader",e),p=f.prefixCls,v=f.rootPrefixCls,g=f.getPrefixCls,_=f.direction,b=f.getPopupContainer,S=f.renderEmpty,E=f.size,P=le(function(){return g("select",e.prefixCls)}),k=le(function(){return _.value==="rtl"}),I=le(function(){if(!e.showSearch)return e.showSearch;var V={render:Pbe};return dn(e.showSearch)==="object"&&(V=R(R({},V),e.showSearch)),V}),D=le(function(){return mt(e.dropdownClassName||e.popupClassName,"".concat(p.value,"-dropdown"),J({},"".concat(p.value,"-dropdown-rtl"),k.value))}),L=ke();i({focus:function(){var Z;(Z=L.value)===null||Z===void 0||Z.focus()},blur:function(){var Z;(Z=L.value)===null||Z===void 0||Z.blur()}});var B=function(){for(var Z=arguments.length,re=new Array(Z),q=0;q<Z;q++)re[q]=arguments[q];l("update:value",re[0]),l.apply(void 0,["change"].concat(re)),a.onFieldChange()},N=function(){for(var Z=arguments.length,re=new Array(Z),q=0;q<Z;q++)re[q]=arguments[q];l.apply(void 0,["blur"].concat(re)),a.onFieldBlur()},j=le(function(){return e.showArrow!==void 0?e.showArrow:e.loading||!e.multiple}),H=le(function(){return e.placement!==void 0?e.placement:_.value==="rtl"?"bottomRight":"bottomLeft"});return function(){var V,Z,re,q=e.notFoundContent,G=q===void 0?(V=o.notFoundContent)===null||V===void 0?void 0:V.call(o):q,ae=e.expandIcon,te=ae===void 0?(Z=o.expandIcon)===null||Z===void 0?void 0:Z.call(o):ae,Q=e.multiple,Y=e.bordered,X=e.allowClear,ie=e.choiceTransitionName,he=e.transitionName,ce=e.id,we=ce===void 0?a.id.value:ce,be=kn(e,Tbe),ve=G||S.value("Cascader"),ge=te;te||(ge=k.value?M(vh,null,null):M(uc,null,null));var Pe=M("span",{class:"".concat(P.value,"-menu-item-loading-icon")},[M(wl,{spin:!0},null)]),ye=CT(R(R({},e),{},{multiple:Q,prefixCls:P.value,showArrow:j.value}),o),Ne=ye.suffixIcon,Re=ye.removeIcon,Ge=ye.clearIcon;return M(h0e,R(R(R({},be),r),{},{id:we,prefixCls:P.value,class:[p.value,(re={},J(re,"".concat(P.value,"-lg"),E.value==="large"),J(re,"".concat(P.value,"-sm"),E.value==="small"),J(re,"".concat(P.value,"-rtl"),k.value),J(re,"".concat(P.value,"-borderless"),!Y),re),r.class],direction:_.value,placement:H.value,notFoundContent:ve,allowClear:X,showSearch:I.value,expandIcon:ge,inputIcon:Ne,removeIcon:Re,clearIcon:Ge,loadingIcon:Pe,checkable:!!Q,dropdownClassName:D.value,dropdownPrefixCls:p.value,choiceTransitionName:Tl(v.value,"",ie),transitionName:Tl(v.value,lse(H.value),he),getPopupContainer:b.value,customSlots:R(R({},o),{},{checkable:function(){return M("span",{class:"".concat(p.value,"-checkbox-inner")},null)}}),tagRender:e.tagRender||o.tagRender,displayRender:e.displayRender||o.displayRender,maxTagPlaceholder:e.maxTagPlaceholder||o.maxTagPlaceholder,showArrow:e.showArrow,onChange:B,onBlur:N,ref:L}),o)}}});const Abe=Ki(kbe);var Ibe=function(){return{name:String,prefixCls:String,options:{type:Array,default:function(){return[]}},disabled:Boolean,id:String}},Obe=function(){return R(R({},Ibe()),{},{defaultValue:{type:Array},value:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function}})},Dbe=function(){return{prefixCls:String,defaultChecked:{type:Boolean,default:void 0},checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:Te.any,name:String,id:String,indeterminate:{type:Boolean,default:void 0},type:{type:String,default:"checkbox"},autofocus:{type:Boolean,default:void 0},onChange:Function,"onUpdate:checked":Function,onClick:Function,skipGroup:{type:Boolean,default:!1}}},Rbe=function(){return R(R({},Dbe()),{},{indeterminate:{type:Boolean,default:!1}})},BV=Symbol("CheckboxGroupContext"),Lbe=["indeterminate","skipGroup","id"],Fbe=["onMouseenter","onMouseleave","onInput","class","style"];const Ks=lt({compatConfig:{MODE:3},name:"ACheckbox",inheritAttrs:!1,__ANT_CHECKBOX:!0,props:Rbe(),setup:function(e,n){var r=n.emit,i=n.attrs,o=n.slots,l=n.expose,a=_a(),f=fn("checkbox",e),p=f.prefixCls,v=f.direction,g=Hn(BV,void 0),_=Symbol("checkboxUniId");Un(function(){!e.skipGroup&&g&&g.registerValue(_,e.value)}),tr(function(){g&&g.cancelValue(_)}),zn(function(){sa(e.checked!==void 0||g||e.value===void 0,"Checkbox","`value` is not validate prop, do you mean `checked`?")});var b=function(I){var D=I.target.checked;r("update:checked",D),r("change",I)},S=ke(),E=function(){var I;(I=S.value)===null||I===void 0||I.focus()},P=function(){var I;(I=S.value)===null||I===void 0||I.blur()};return l({focus:E,blur:P}),function(){var k,I,D=Wr((k=o.default)===null||k===void 0?void 0:k.call(o)),L=e.indeterminate,B=e.skipGroup,N=e.id,j=N===void 0?a.id.value:N,H=kn(e,Lbe),V=i.onMouseenter,Z=i.onMouseleave;i.onInput;var re=i.class,q=i.style,G=kn(i,Fbe),ae=R(R({},H),{},{id:j,prefixCls:p.value},G);g&&!B?(ae.onChange=function(){for(var Y=arguments.length,X=new Array(Y),ie=0;ie<Y;ie++)X[ie]=arguments[ie];r.apply(void 0,["change"].concat(X)),g.toggleOption({label:D,value:e.value})},ae.name=g.name.value,ae.checked=g.mergedValue.value.indexOf(e.value)!==-1,ae.disabled=e.disabled||g.disabled.value,ae.indeterminate=L):ae.onChange=b;var te=mt((I={},J(I,"".concat(p.value,"-wrapper"),!0),J(I,"".concat(p.value,"-rtl"),v.value==="rtl"),J(I,"".concat(p.value,"-wrapper-checked"),ae.checked),J(I,"".concat(p.value,"-wrapper-disabled"),ae.disabled),I),re),Q=mt(J({},"".concat(p.value,"-indeterminate"),L));return M("label",{class:te,style:q,onMouseenter:V,onMouseleave:Z},[M(Ij,R(R({},ae),{},{class:Q,ref:S}),null),D.length?M("span",null,[D]):null])}}}),Mx=lt({compatConfig:{MODE:3},name:"ACheckboxGroup",props:Obe(),setup:function(e,n){var r=n.slots,i=n.emit,o=n.expose,l=_a(),a=fn("checkbox",e),f=a.prefixCls,p=a.direction,v=ke((e.value===void 0?e.defaultValue:e.value)||[]);Lt(function(){return e.value},function(){v.value=e.value||[]});var g=le(function(){return e.options.map(function(I){return typeof I=="string"||typeof I=="number"?{label:I,value:I}:I})}),_=ke(Symbol()),b=ke(new Map),S=function(D){b.value.delete(D),_.value=Symbol()},E=function(D,L){b.value.set(D,L),_.value=Symbol()},P=ke(new Map);Lt(_,function(){var I=new Map,D=_x(b.value.values()),L;try{for(D.s();!(L=D.n()).done;){var B=L.value;I.set(B,!0)}}catch(N){D.e(N)}finally{D.f()}P.value=I});var k=function(D){var L=v.value.indexOf(D.value),B=Jt(v.value);L===-1?B.push(D.value):B.splice(L,1),e.value===void 0&&(v.value=B);var N=B.filter(function(j){return P.value.has(j)}).sort(function(j,H){var V=g.value.findIndex(function(re){return re.value===j}),Z=g.value.findIndex(function(re){return re.value===H});return V-Z});i("update:value",N),i("change",N),l.onFieldChange()};return Xn(BV,{cancelValue:S,registerValue:E,toggleOption:k,mergedValue:v,name:le(function(){return e.name}),disabled:le(function(){return e.disabled})}),o({mergedValue:v}),function(){var I,D=e.id,L=D===void 0?l.id.value:D,B=null,N="".concat(f.value,"-group");return g.value&&g.value.length>0&&(B=g.value.map(function(j){var H;return M(Ks,{prefixCls:f.value,key:j.value.toString(),disabled:"disabled"in j?j.disabled:e.disabled,indeterminate:j.indeterminate,value:j.value,checked:v.value.indexOf(j.value)!==-1,onChange:j.onChange,class:"".concat(N,"-item")},{default:function(){return[j.label===void 0?(H=r.label)===null||H===void 0?void 0:H.call(r,j):j.label]}})})),M("div",{class:[N,J({},"".concat(N,"-rtl"),p.value==="rtl")],id:L},[B||((I=r.default)===null||I===void 0?void 0:I.call(r))])}}});Ks.Group=Mx;Ks.install=function(t){return t.component(Ks.name,Ks),t.component(Mx.name,Mx),t};var Nbe=function(){return{actions:Array,author:Te.any,avatar:Te.any,content:Te.any,prefixCls:String,datetime:Te.any}},Bbe=lt({compatConfig:{MODE:3},name:"AComment",props:Nbe(),slots:["actions","author","avatar","content","datetime"],setup:function(e,n){var r=n.slots,i=fn("comment",e),o=i.prefixCls,l=i.direction,a=function(v,g){return M("div",{class:"".concat(v,"-nested")},[g])},f=function(v){if(!v||!v.length)return null;var g=v.map(function(_,b){return M("li",{key:"action-".concat(b)},[_])});return g};return function(){var p,v,g,_,b,S,E,P,k,I,D,L=o.value,B=(p=e.actions)!==null&&p!==void 0?p:(v=r.actions)===null||v===void 0?void 0:v.call(r),N=(g=e.author)!==null&&g!==void 0?g:(_=r.author)===null||_===void 0?void 0:_.call(r),j=(b=e.avatar)!==null&&b!==void 0?b:(S=r.avatar)===null||S===void 0?void 0:S.call(r),H=(E=e.content)!==null&&E!==void 0?E:(P=r.content)===null||P===void 0?void 0:P.call(r),V=(k=e.datetime)!==null&&k!==void 0?k:(I=r.datetime)===null||I===void 0?void 0:I.call(r),Z=M("div",{class:"".concat(L,"-avatar")},[typeof j=="string"?M("img",{src:j,alt:"comment-avatar"},null):j]),re=B?M("ul",{class:"".concat(L,"-actions")},[f(Array.isArray(B)?B:[B])]):null,q=M("div",{class:"".concat(L,"-content-author")},[N&&M("span",{class:"".concat(L,"-content-author-name")},[N]),V&&M("span",{class:"".concat(L,"-content-author-time")},[V])]),G=M("div",{class:"".concat(L,"-content")},[q,M("div",{class:"".concat(L,"-content-detail")},[H]),re]),ae=M("div",{class:"".concat(L,"-inner")},[Z,G]),te=Wr((D=r.default)===null||D===void 0?void 0:D.call(r));return M("div",{class:[L,J({},"".concat(L,"-rtl"),l.value==="rtl")]},[ae,te&&te.length?a(L,te):null])}}});const zbe=Ki(Bbe);var $be=function(e,n){var r=n.attrs,i=n.slots;return M(Ma,R(R({size:"small",type:"primary"},e),r),i)};const jbe=$be;var Vbe=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},onChange:{type:Function},onClick:{type:Function},"onUpdate:checked":Function}},Ube=lt({compatConfig:{MODE:3},name:"ACheckableTag",props:Vbe(),setup:function(e,n){var r=n.slots,i=n.emit,o=fn("tag",e),l=o.prefixCls,a=function(v){var g=e.checked;i("update:checked",!g),i("change",!g),i("click",v)},f=le(function(){var p;return mt(l.value,(p={},J(p,"".concat(l.value,"-checkable"),!0),J(p,"".concat(l.value,"-checkable-checked"),e.checked),p))});return function(){var p;return M("span",{class:f.value,onClick:a},[(p=r.default)===null||p===void 0?void 0:p.call(r)])}}});const kx=Ube;var Hbe=new RegExp("^(".concat(PT.join("|"),")(-inverse)?$")),Kbe=new RegExp("^(".concat(mhe.join("|"),")$")),Wbe=function(){return{prefixCls:String,color:{type:String},closable:{type:Boolean,default:!1},closeIcon:Te.any,visible:{type:Boolean,default:void 0},onClose:{type:Function},"onUpdate:visible":Function,icon:Te.any}},l1=lt({compatConfig:{MODE:3},name:"ATag",props:Wbe(),slots:["closeIcon","icon"],setup:function(e,n){var r=n.slots,i=n.emit,o=n.attrs,l=fn("tag",e),a=l.prefixCls,f=l.direction,p=ke(!0);Un(function(){e.visible!==void 0&&(p.value=e.visible)});var v=function(S){S.stopPropagation(),i("update:visible",!1),i("close",S),!S.defaultPrevented&&e.visible===void 0&&(p.value=!1)},g=le(function(){var b=e.color;return b?Hbe.test(b)||Kbe.test(b):!1}),_=le(function(){var b;return mt(a.value,(b={},J(b,"".concat(a.value,"-").concat(e.color),g.value),J(b,"".concat(a.value,"-has-color"),e.color&&!g.value),J(b,"".concat(a.value,"-hidden"),!p.value),J(b,"".concat(a.value,"-rtl"),f.value==="rtl"),b))});return function(){var b,S,E,P=e.icon,k=P===void 0?(b=r.icon)===null||b===void 0?void 0:b.call(r):P,I=e.color,D=e.closeIcon,L=D===void 0?(S=r.closeIcon)===null||S===void 0?void 0:S.call(r):D,B=e.closable,N=B===void 0?!1:B,j=function(){return N?L?M("span",{class:"".concat(a.value,"-close-icon"),onClick:v},[L]):M(pu,{class:"".concat(a.value,"-close-icon"),onClick:v},null):null},H={backgroundColor:I&&!g.value?I:void 0},V=k||null,Z=(E=r.default)===null||E===void 0?void 0:E.call(r),re=V?M(Kn,null,[V,M("span",null,[Z])]):Z,q="onClick"in o,G=M("span",{class:_.value,style:H},[re,j()]);return q?M(kT,null,{default:function(){return[G]}}):G}}});l1.CheckableTag=kx;l1.install=function(t){return t.component(l1.name,l1),t.component(kx.name,kx),t};const zV=l1;function Gbe(t,e){var n=e.slots,r=e.attrs;return M(zV,R(R({color:"blue"},t),r),n)}function qbe(t,e,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.yearPlaceholder:t==="quarter"&&e.lang.quarterPlaceholder?e.lang.quarterPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.monthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.weekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.placeholder:e.lang.placeholder}function Ybe(t,e,n){return n!==void 0?n:t==="year"&&e.lang.yearPlaceholder?e.lang.rangeYearPlaceholder:t==="month"&&e.lang.monthPlaceholder?e.lang.rangeMonthPlaceholder:t==="week"&&e.lang.weekPlaceholder?e.lang.rangeWeekPlaceholder:t==="time"&&e.timePickerLocale.placeholder?e.timePickerLocale.rangePlaceholder:e.lang.rangePlaceholder}function Ax(){return{id:String,dropdownClassName:String,dropdownAlign:{type:Object},popupStyle:{type:Object},transitionName:String,placeholder:String,allowClear:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},tabindex:Number,open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},inputReadOnly:{type:Boolean,default:void 0},format:{type:[String,Function,Array]},getPopupContainer:{type:Function},panelRender:{type:Function},onChange:{type:Function},"onUpdate:value":{type:Function},onOk:{type:Function},onOpenChange:{type:Function},"onUpdate:open":{type:Function},onFocus:{type:Function},onBlur:{type:Function},onMousedown:{type:Function},onMouseup:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onContextmenu:{type:Function},onKeydown:{type:Function},role:String,name:String,autocomplete:String,direction:{type:String},showToday:{type:Boolean,default:void 0},showTime:{type:[Boolean,Object],default:void 0},locale:{type:Object},size:{type:String},bordered:{type:Boolean,default:void 0},dateRender:{type:Function},disabledDate:{type:Function},mode:{type:String},picker:{type:String},valueFormat:String,disabledHours:Function,disabledMinutes:Function,disabledSeconds:Function}}function $V(){return{defaultPickerValue:{type:[String,Object]},defaultValue:{type:[String,Object]},value:{type:[String,Object]},disabledTime:{type:Function},renderExtraFooter:{type:Function},showNow:{type:Boolean,default:void 0},monthCellRender:{type:Function},monthCellContentRender:{type:Function}}}function jV(){return{allowEmpty:{type:Array},dateRender:{type:Function},defaultPickerValue:{type:Array},defaultValue:{type:Array},value:{type:Array},disabledTime:{type:Function},disabled:{type:[Boolean,Array]},renderExtraFooter:{type:Function},separator:{type:String},ranges:{type:Object},placeholder:Array,mode:{type:Array},onChange:{type:Function},"onUpdate:value":{type:Function},onCalendarChange:{type:Function},onPanelChange:{type:Function},onOk:{type:Function}}}var Xbe=["bordered","placeholder","suffixIcon","showToday","transitionName","allowClear","dateRender","renderExtraFooter","monthCellRender","clearIcon","id"];function Zbe(t,e){function n(p,v){var g=R(R(R({},Ax()),$V()),e);return lt({compatConfig:{MODE:3},name:v,inheritAttrs:!1,props:g,slots:["suffixIcon","prevIcon","nextIcon","superPrevIcon","superNextIcon","dateRender","renderExtraFooter","monthCellRender"],setup:function(b,S){var E=S.slots,P=S.expose,k=S.attrs,I=S.emit,D=b,L=_a();Br(!(D.monthCellContentRender||E.monthCellContentRender),"DatePicker",'`monthCellContentRender` is deprecated. Please use `monthCellRender"` instead.'),Br(!k.getCalendarContainer,"DatePicker",'`getCalendarContainer` is deprecated. Please use `getPopupContainer"` instead.');var B=fn("picker",D),N=B.prefixCls,j=B.direction,H=B.getPopupContainer,V=B.size,Z=B.rootPrefixCls,re=ke();P({focus:function(){var Pe;(Pe=re.value)===null||Pe===void 0||Pe.focus()},blur:function(){var Pe;(Pe=re.value)===null||Pe===void 0||Pe.blur()}});var q=function(Pe){return D.valueFormat?t.toString(Pe,D.valueFormat):Pe},G=function(Pe,ye){var Ne=q(Pe);I("update:value",Ne),I("change",Ne,ye),L.onFieldChange()},ae=function(Pe){I("update:open",Pe),I("openChange",Pe)},te=function(Pe){I("focus",Pe)},Q=function(Pe){I("blur",Pe),L.onFieldBlur()},Y=function(Pe,ye){var Ne=q(Pe);I("panelChange",Ne,ye)},X=function(Pe){var ye=q(Pe);I("ok",ye)},ie=vu("DatePicker",A1),he=Wt(ie,1),ce=he[0],we=le(function(){return D.value?D.valueFormat?t.toDate(D.value,D.valueFormat):D.value:D.value===""?void 0:D.value}),be=le(function(){return D.defaultValue?D.valueFormat?t.toDate(D.defaultValue,D.valueFormat):D.defaultValue:D.defaultValue===""?void 0:D.defaultValue}),ve=le(function(){return D.defaultPickerValue?D.valueFormat?t.toDate(D.defaultPickerValue,D.valueFormat):D.defaultPickerValue:D.defaultPickerValue===""?void 0:D.defaultPickerValue});return function(){var ge,Pe,ye,Ne,Re,Ge,He,Ee=R(R({},ce.value),D.locale),pe=R(R({},D),k),Ie=pe.bordered,We=Ie===void 0?!0:Ie,Qe=pe.placeholder,at=pe.suffixIcon,xt=at===void 0?(ge=E.suffixIcon)===null||ge===void 0?void 0:ge.call(E):at,ot=pe.showToday,nt=ot===void 0?!0:ot,Ze=pe.transitionName,ht=pe.allowClear,vt=ht===void 0?!0:ht,Ct=pe.dateRender,Nt=Ct===void 0?E.dateRender:Ct,tn=pe.renderExtraFooter,rn=tn===void 0?E.renderExtraFooter:tn,Pt=pe.monthCellRender,yt=Pt===void 0?E.monthCellRender||D.monthCellContentRender||E.monthCellContentRender:Pt,Bt=pe.clearIcon,Ut=Bt===void 0?(Pe=E.clearIcon)===null||Pe===void 0?void 0:Pe.call(E):Bt,St=pe.id,ft=St===void 0?L.id.value:St,gt=kn(pe,Xbe),_t=pe.showTime===""?!0:pe.showTime,Ft=pe.format,Gt={};p&&(Gt.picker=p);var Zt=p||pe.picker||"date";Gt=R(R(R({},Gt),_t?Ix(R({format:Ft,picker:Zt},dn(_t)==="object"?_t:{})):{}),Zt==="time"?Ix(R(R({format:Ft},gt),{},{picker:Zt})):{});var Me=N.value;return M(yme,R(R(R({monthCellRender:yt,dateRender:Nt,renderExtraFooter:rn,ref:re,placeholder:qbe(Zt,Ee,Qe),suffixIcon:xt||M(Zt==="time"?AN:kN,null,null),clearIcon:Ut||M(fc,null,null),allowClear:vt,transitionName:Ze||"".concat(Z.value,"-slide-up")},gt),Gt),{},{id:ft,picker:Zt,value:we.value,defaultValue:be.value,defaultPickerValue:ve.value,showToday:nt,locale:Ee.lang,class:mt((ye={},J(ye,"".concat(Me,"-").concat(V.value),V.value),J(ye,"".concat(Me,"-borderless"),!We),ye),k.class),prefixCls:Me,getPopupContainer:k.getCalendarContainer||H.value,generateConfig:t,prevIcon:((Ne=E.prevIcon)===null||Ne===void 0?void 0:Ne.call(E))||M("span",{class:"".concat(Me,"-prev-icon")},null),nextIcon:((Re=E.nextIcon)===null||Re===void 0?void 0:Re.call(E))||M("span",{class:"".concat(Me,"-next-icon")},null),superPrevIcon:((Ge=E.superPrevIcon)===null||Ge===void 0?void 0:Ge.call(E))||M("span",{class:"".concat(Me,"-super-prev-icon")},null),superNextIcon:((He=E.superNextIcon)===null||He===void 0?void 0:He.call(E))||M("span",{class:"".concat(Me,"-super-next-icon")},null),components:VV,direction:j.value,onChange:G,onOpenChange:ae,onFocus:te,onBlur:Q,onPanelChange:Y,onOk:X}),null)}}})}var r=n(void 0,"ADatePicker"),i=n("week","AWeekPicker"),o=n("month","AMonthPicker"),l=n("year","AYearPicker"),a=n("time","TimePicker"),f=n("quarter","AQuarterPicker");return{DatePicker:r,WeekPicker:i,MonthPicker:o,YearPicker:l,TimePicker:a,QuarterPicker:f}}var Qbe=["prefixCls","bordered","placeholder","suffixIcon","picker","transitionName","allowClear","dateRender","renderExtraFooter","separator","clearIcon","id"];function Jbe(t,e){var n=lt({compatConfig:{MODE:3},name:"ARangePicker",inheritAttrs:!1,props:R(R(R({},Ax()),jV()),e),slots:["suffixIcon","prevIcon","nextIcon","superPrevIcon","superNextIcon","dateRender","renderExtraFooter"],setup:function(i,o){var l=o.expose,a=o.slots,f=o.attrs,p=o.emit,v=i,g=_a();Br(!f.getCalendarContainer,"DatePicker",'`getCalendarContainer` is deprecated. Please use `getPopupContainer"` instead.');var _=fn("picker",v),b=_.prefixCls,S=_.direction,E=_.getPopupContainer,P=_.size,k=_.rootPrefixCls,I=ke();l({focus:function(){var X;(X=I.value)===null||X===void 0||X.focus()},blur:function(){var X;(X=I.value)===null||X===void 0||X.blur()}});var D=function(X){return v.valueFormat?t.toString(X,v.valueFormat):X},L=function(X,ie){var he=D(X);p("update:value",he),p("change",he,ie),g.onFieldChange()},B=function(X){p("update:open",X),p("openChange",X)},N=function(X){p("focus",X)},j=function(X){p("blur",X),g.onFieldBlur()},H=function(X,ie){var he=D(X);p("panelChange",he,ie)},V=function(X){var ie=D(X);p("ok",ie)},Z=function(X,ie,he){var ce=D(X);p("calendarChange",ce,ie,he)},re=vu("DatePicker",A1),q=Wt(re,1),G=q[0],ae=le(function(){return v.value&&v.valueFormat?t.toDate(v.value,v.valueFormat):v.value}),te=le(function(){return v.defaultValue&&v.valueFormat?t.toDate(v.defaultValue,v.valueFormat):v.defaultValue}),Q=le(function(){return v.defaultPickerValue&&v.valueFormat?t.toDate(v.defaultPickerValue,v.valueFormat):v.defaultPickerValue});return function(){var Y,X,ie,he,ce,we,be,ve,ge=R(R({},G.value),v.locale),Pe=R(R({},v),f);Pe.prefixCls;var ye=Pe.bordered,Ne=ye===void 0?!0:ye,Re=Pe.placeholder,Ge=Pe.suffixIcon,He=Ge===void 0?(Y=a.suffixIcon)===null||Y===void 0?void 0:Y.call(a):Ge,Ee=Pe.picker,pe=Ee===void 0?"date":Ee,Ie=Pe.transitionName,We=Pe.allowClear,Qe=We===void 0?!0:We,at=Pe.dateRender,xt=at===void 0?a.dateRender:at,ot=Pe.renderExtraFooter,nt=ot===void 0?a.renderExtraFooter:ot,Ze=Pe.separator,ht=Ze===void 0?(X=a.separator)===null||X===void 0?void 0:X.call(a):Ze,vt=Pe.clearIcon,Ct=vt===void 0?(ie=a.clearIcon)===null||ie===void 0?void 0:ie.call(a):vt,Nt=Pe.id,tn=Nt===void 0?g.id.value:Nt,rn=kn(Pe,Qbe);delete rn["onUpdate:value"],delete rn["onUpdate:open"];var Pt=Pe.format,yt=Pe.showTime,Bt={};Bt=R(R(R({},Bt),yt?Ix(R({format:Pt,picker:pe},yt)):{}),pe==="time"?Ix(R(R({format:Pt},Qn(rn,["disabledTime"])),{},{picker:pe})):{});var Ut=b.value;return M(Ome,R(R(R({dateRender:xt,renderExtraFooter:nt,separator:ht||M("span",{"aria-label":"to",class:"".concat(Ut,"-separator")},[M(vne,null,null)]),ref:I,placeholder:Ybe(pe,ge,Re),suffixIcon:He||M(pe==="time"?AN:kN,null,null),clearIcon:Ct||M(fc,null,null),allowClear:Qe,transitionName:Ie||"".concat(k.value,"-slide-up")},rn),Bt),{},{id:tn,value:ae.value,defaultValue:te.value,defaultPickerValue:Q.value,picker:pe,class:mt((he={},J(he,"".concat(Ut,"-").concat(P.value),P.value),J(he,"".concat(Ut,"-borderless"),!Ne),he),f.class),locale:ge.lang,prefixCls:Ut,getPopupContainer:f.getCalendarContainer||E.value,generateConfig:t,prevIcon:((ce=a.prevIcon)===null||ce===void 0?void 0:ce.call(a))||M("span",{class:"".concat(Ut,"-prev-icon")},null),nextIcon:((we=a.nextIcon)===null||we===void 0?void 0:we.call(a))||M("span",{class:"".concat(Ut,"-next-icon")},null),superPrevIcon:((be=a.superPrevIcon)===null||be===void 0?void 0:be.call(a))||M("span",{class:"".concat(Ut,"-super-prev-icon")},null),superNextIcon:((ve=a.superNextIcon)===null||ve===void 0?void 0:ve.call(a))||M("span",{class:"".concat(Ut,"-super-next-icon")},null),components:VV,direction:S.value,onChange:L,onOpenChange:B,onFocus:N,onBlur:j,onPanelChange:H,onOk:V,onCalendarChange:Z}),null)}}});return n}var VV={button:jbe,rangeItem:Gbe};function exe(t){return t?Array.isArray(t)?t:[t]:[]}function Ix(t){var e=t.format,n=t.picker,r=t.showHour,i=t.showMinute,o=t.showSecond,l=t.use12Hours,a=exe(e)[0],f=R({},t);return a&&typeof a=="string"&&(!a.includes("s")&&o===void 0&&(f.showSecond=!1),!a.includes("m")&&i===void 0&&(f.showMinute=!1),!a.includes("H")&&!a.includes("h")&&r===void 0&&(f.showHour=!1),(a.includes("a")||a.includes("A"))&&l===void 0&&(f.use12Hours=!0)),n==="time"?f:(typeof a=="function"&&delete f.format,{showTime:f})}function UV(t,e){var n=Zbe(t,e),r=n.DatePicker,i=n.WeekPicker,o=n.MonthPicker,l=n.YearPicker,a=n.TimePicker,f=n.QuarterPicker,p=Jbe(t,e);return{DatePicker:r,WeekPicker:i,MonthPicker:o,YearPicker:l,TimePicker:a,QuarterPicker:f,RangePicker:p}}var Ih=UV(OT),YC=Ih.DatePicker,sb=Ih.WeekPicker,lb=Ih.MonthPicker,txe=Ih.YearPicker,nxe=Ih.TimePicker,ub=Ih.QuarterPicker,cb=Ih.RangePicker;const rxe=yr(YC,{WeekPicker:sb,MonthPicker:lb,YearPicker:txe,RangePicker:cb,TimePicker:nxe,QuarterPicker:ub,install:function(e){return e.component(YC.name,YC),e.component(cb.name,cb),e.component(lb.name,lb),e.component(sb.name,sb),e.component(ub.name,ub),e}});function w_(t){return t!=null}var ixe=function(e){var n=e.itemPrefixCls,r=e.component,i=e.span,o=e.labelStyle,l=e.contentStyle,a=e.bordered,f=e.label,p=e.content,v=e.colon,g=r;if(a){var _;return M(g,{class:[(_={},J(_,"".concat(n,"-item-label"),w_(f)),J(_,"".concat(n,"-item-content"),w_(p)),_)],colSpan:i},{default:function(){return[w_(f)&&M("span",{style:o},[f]),w_(p)&&M("span",{style:l},[p])]}})}return M(g,{class:["".concat(n,"-item")],colSpan:i},{default:function(){return[M("div",{class:"".concat(n,"-item-container")},[f&&M("span",{class:["".concat(n,"-item-label"),J({},"".concat(n,"-item-no-colon"),!v)],style:o},[f]),p&&M("span",{class:"".concat(n,"-item-content"),style:l},[p])])]}})};const XC=ixe;var axe=function(e){var n=function(_,b,S){var E=b.colon,P=b.prefixCls,k=b.bordered,I=S.component,D=S.type,L=S.showLabel,B=S.showContent,N=S.labelStyle,j=S.contentStyle;return _.map(function(H,V){var Z,re,q=H.props||{},G=q.prefixCls,ae=G===void 0?P:G,te=q.span,Q=te===void 0?1:te,Y=q.labelStyle,X=Y===void 0?q["label-style"]:Y,ie=q.contentStyle,he=ie===void 0?q["content-style"]:ie,ce=q.label,we=ce===void 0?(Z=H.children)===null||Z===void 0||(re=Z.label)===null||re===void 0?void 0:re.call(Z):ce,be=i0(H),ve=Eoe(H),ge=DB(H),Pe=H.key;return typeof I=="string"?M(XC,{key:"".concat(D,"-").concat(String(Pe)||V),class:ve,style:ge,labelStyle:R(R({},N),X),contentStyle:R(R({},j),he),span:Q,colon:E,component:I,itemPrefixCls:ae,bordered:k,label:L?we:null,content:B?be:null},null):[M(XC,{key:"label-".concat(String(Pe)||V),class:ve,style:R(R(R({},N),ge),X),span:1,colon:E,component:I[0],itemPrefixCls:ae,bordered:k,label:we},null),M(XC,{key:"content-".concat(String(Pe)||V),class:ve,style:R(R(R({},j),ge),he),span:Q*2-1,component:I[1],itemPrefixCls:ae,bordered:k,content:be},null)]})},r=e.prefixCls,i=e.vertical,o=e.row,l=e.index,a=e.bordered,f=Hn(WV,{labelStyle:ke({}),contentStyle:ke({})}),p=f.labelStyle,v=f.contentStyle;return i?M(Kn,null,[M("tr",{key:"label-".concat(l),class:"".concat(r,"-row")},[n(o,e,{component:"th",type:"label",showLabel:!0,labelStyle:p.value,contentStyle:v.value})]),M("tr",{key:"content-".concat(l),class:"".concat(r,"-row")},[n(o,e,{component:"td",type:"content",showContent:!0,labelStyle:p.value,contentStyle:v.value})])]):M("tr",{key:l,class:"".concat(r,"-row")},[n(o,e,{component:a?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0,labelStyle:p.value,contentStyle:v.value})])};const oxe=axe;Te.any;var sxe=function(){return{prefixCls:String,label:Te.any,labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0},span:{type:Number,default:1}}},HV=lt({compatConfig:{MODE:3},name:"ADescriptionsItem",props:sxe(),slots:["label"],setup:function(e,n){var r=n.slots;return function(){var i;return(i=r.default)===null||i===void 0?void 0:i.call(r)}}}),KV={xxxl:3,xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function lxe(t,e){if(typeof t=="number")return t;if(dn(t)==="object")for(var n=0;n<yh.length;n++){var r=yh[n];if(e[r]&&t[r]!==void 0)return t[r]||KV[r]}return 3}function iD(t,e,n){var r=t;return(e===void 0||e>n)&&(r=Pr(t,{span:n}),sa(e===void 0,"Descriptions","Sum of column `span` in a line not match `column` of Descriptions.")),r}function uxe(t,e){var n=Wr(t),r=[],i=[],o=e;return n.forEach(function(l,a){var f,p=(f=l.props)===null||f===void 0?void 0:f.span,v=p||1;if(a===n.length-1){i.push(iD(l,p,o)),r.push(i);return}v<o?(o-=v,i.push(l)):(i.push(iD(l,v,o)),r.push(i),o=e,i=[])}),r}var cxe=function(){return{prefixCls:String,bordered:{type:Boolean,default:void 0},size:{type:String,default:"default"},title:Te.any,extra:Te.any,column:{type:[Number,Object],default:function(){return KV}},layout:String,colon:{type:Boolean,default:void 0},labelStyle:{type:Object,default:void 0},contentStyle:{type:Object,default:void 0}}},WV=Symbol("descriptionsContext"),Kp=lt({compatConfig:{MODE:3},name:"ADescriptions",props:cxe(),slots:["title","extra"],Item:HV,setup:function(e,n){var r=n.slots,i=fn("descriptions",e),o=i.prefixCls,l=i.direction,a,f=ke({});s2(function(){a=Sv.subscribe(function(v){dn(e.column)==="object"&&(f.value=v)})}),tr(function(){Sv.unsubscribe(a)}),Xn(WV,{labelStyle:An(e,"labelStyle"),contentStyle:An(e,"contentStyle")});var p=le(function(){return lxe(e.column,f.value)});return function(){var v,g,_,b,S=e.size,E=e.bordered,P=E===void 0?!1:E,k=e.layout,I=k===void 0?"horizontal":k,D=e.colon,L=D===void 0?!0:D,B=e.title,N=B===void 0?(v=r.title)===null||v===void 0?void 0:v.call(r):B,j=e.extra,H=j===void 0?(g=r.extra)===null||g===void 0?void 0:g.call(r):j,V=(_=r.default)===null||_===void 0?void 0:_.call(r),Z=uxe(V,p.value);return M("div",{class:[o.value,(b={},J(b,"".concat(o.value,"-").concat(S),S!=="default"),J(b,"".concat(o.value,"-bordered"),!!P),J(b,"".concat(o.value,"-rtl"),l.value==="rtl"),b)]},[(N||H)&&M("div",{class:"".concat(o.value,"-header")},[N&&M("div",{class:"".concat(o.value,"-title")},[N]),H&&M("div",{class:"".concat(o.value,"-extra")},[H])]),M("div",{class:"".concat(o.value,"-view")},[M("table",null,[M("tbody",null,[Z.map(function(re,q){return M(oxe,{key:q,index:q,colon:L,prefixCls:o.value,vertical:I==="vertical",bordered:P,row:re},null)})])])])])}}});Kp.install=function(t){return t.component(Kp.name,Kp),t.component(Kp.Item.name,Kp.Item),t};const dxe=Kp;var fxe=function(){return{prefixCls:String,type:{type:String,default:"horizontal"},dashed:{type:Boolean,default:!1},orientation:{type:String,default:"center"},plain:{type:Boolean,default:!1},orientationMargin:[String,Number]}},hxe=lt({compatConfig:{MODE:3},name:"ADivider",props:fxe(),setup:function(e,n){var r=n.slots,i=fn("divider",e),o=i.prefixCls,l=i.direction,a=le(function(){return e.orientation==="left"&&e.orientationMargin!=null}),f=le(function(){return e.orientation==="right"&&e.orientationMargin!=null}),p=le(function(){var _,b=e.type,S=e.dashed,E=e.plain,P=o.value;return _={},J(_,P,!0),J(_,"".concat(P,"-").concat(b),!0),J(_,"".concat(P,"-dashed"),!!S),J(_,"".concat(P,"-plain"),!!E),J(_,"".concat(P,"-rtl"),l.value==="rtl"),J(_,"".concat(P,"-no-default-orientation-margin-left"),a.value),J(_,"".concat(P,"-no-default-orientation-margin-right"),f.value),_}),v=le(function(){var _=typeof e.orientationMargin=="number"?"".concat(e.orientationMargin,"px"):e.orientationMargin;return R(R({},a.value&&{marginLeft:_}),f.value&&{marginRight:_})}),g=le(function(){return e.orientation.length>0?"-"+e.orientation:e.orientation});return function(){var _,b=Wr((_=r.default)===null||_===void 0?void 0:_.call(r));return M("div",{class:[p.value,b.length?"".concat(o.value,"-with-text ").concat(o.value,"-with-text").concat(g.value):""],role:"separator"},[b.length?M("span",{class:"".concat(o.value,"-inner-text"),style:v.value},[b]):null])}}});const pxe=Ki(hxe);cu.Button=B1;cu.install=function(t){return t.component(cu.name,cu),t.component(B1.name,B1),t};var ZC;function Ev(t){if(typeof document>"u")return 0;if(t||ZC===void 0){var e=document.createElement("div");e.style.width="100%",e.style.height="200px";var n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),ZC=i-o}return ZC}function aD(t){var e=t.match(/^(.*)px$/),n=Number(e==null?void 0:e[1]);return Number.isNaN(n)?Ev():n}function vxe(t){if(typeof document>"u"||!t||!(t instanceof Element))return{width:0,height:0};var e=getComputedStyle(t,"::-webkit-scrollbar"),n=e.width,r=e.height;return{width:aD(n),height:aD(r)}}var GV=function(){return{prefixCls:String,width:Te.oneOfType([Te.string,Te.number]),height:Te.oneOfType([Te.string,Te.number]),style:{type:Object,default:void 0},class:String,placement:{type:String},wrapperClassName:String,level:{type:[String,Array]},levelMove:{type:[Number,Function,Array]},duration:String,ease:String,showMask:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},afterVisibleChange:Function,keyboard:{type:Boolean,default:void 0},contentWrapperStyle:{type:Object,default:void 0},autofocus:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0}}},mxe=function(){return R(R({},GV()),{},{forceRender:{type:Boolean,default:void 0},getContainer:Te.oneOfType([Te.string,Te.func,Te.object,Te.looseBool])})},gxe=function(){return R(R({},GV()),{},{getContainer:Function,getOpenCount:Function,scrollLocker:Te.any,switchScrollingEffect:Function})};function yxe(t){return Array.isArray(t)?t:[t]}var qV={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend"},_xe=Object.keys(qV).filter(function(t){if(typeof document>"u")return!1;var e=document.getElementsByTagName("html")[0];return t in(e?e.style:{})})[0],oD=qV[_xe];function sD(t,e,n,r){t.addEventListener?t.addEventListener(e,n,r):t.attachEvent&&t.attachEvent("on".concat(e),n)}function lD(t,e,n,r){t.removeEventListener?t.removeEventListener(e,n,r):t.attachEvent&&t.detachEvent("on".concat(e),n)}function bxe(t,e){var n=typeof t=="function"?t(e):t;return Array.isArray(n)?n.length===2?n:[n[0],n[1]]:[n]}var uD=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},QC=!(typeof window<"u"&&window.document&&window.document.createElement),xxe=function t(e,n,r,i){if(!n||n===document||n instanceof Document)return!1;if(n===e.parentNode)return!0;var o=Math.max(Math.abs(r),Math.abs(i))===Math.abs(i),l=Math.max(Math.abs(r),Math.abs(i))===Math.abs(r),a=n.scrollHeight-n.clientHeight,f=n.scrollWidth-n.clientWidth,p=document.defaultView.getComputedStyle(n),v=p.overflowY==="auto"||p.overflowY==="scroll",g=p.overflowX==="auto"||p.overflowX==="scroll",_=a&&v,b=f&&g;return o&&(!_||_&&(n.scrollTop>=a&&i<0||n.scrollTop<=0&&i>0))||l&&(!b||b&&(n.scrollLeft>=f&&r<0||n.scrollLeft<=0&&r>0))?t(e,n.parentNode,r,i):!1},wxe=["width","height","open","prefixCls","placement","level","levelMove","ease","duration","getContainer","onChange","afterVisibleChange","showMask","maskClosable","maskStyle","keyboard","getOpenCount","scrollLocker","contentWrapperStyle","style","class"],bg={},Cxe=lt({compatConfig:{MODE:3},inheritAttrs:!1,props:gxe(),emits:["close","handleClick","change"],setup:function(e,n){var r=n.emit,i=n.slots,o=Mr({startPos:{x:null,y:null}}),l,a=ke(),f=ke(),p=ke(),v=ke(),g=ke(),_=[],b="drawer_id_".concat(Number((Date.now()+Math.random()).toString().replace(".",Math.round(Math.random()*9).toString())).toString(16)),S=!QC&&va?{passive:!1}:!1;zn(function(){Yn(function(){var Y=e.open,X=e.getContainer,ie=e.showMask,he=e.autofocus,ce=X==null?void 0:X();if(ae(e),Y&&(ce&&ce.parentNode===document.body&&(bg[b]=Y),j(),Yn(function(){he&&E()}),ie)){var we;(we=e.scrollLocker)===null||we===void 0||we.lock()}})}),Lt(function(){return e.level},function(){ae(e)},{flush:"post"}),Lt(function(){return e.open},function(){var Y=e.open,X=e.getContainer,ie=e.scrollLocker,he=e.showMask,ce=e.autofocus,we=X==null?void 0:X();we&&we.parentNode===document.body&&(bg[b]=!!Y),j(),Y?(ce&&E(),he&&(ie==null||ie.lock())):ie==null||ie.unLock()},{flush:"post"}),_o(function(){var Y,X=e.open;delete bg[b],X&&(H(!1),document.body.style.touchAction=""),(Y=e.scrollLocker)===null||Y===void 0||Y.unLock()}),Lt(function(){return e.placement},function(Y){Y&&(g.value=null)});var E=function(){var X,ie;(X=f.value)===null||X===void 0||(ie=X.focus)===null||ie===void 0||ie.call(X)},P=function(X){X.touches.length>1||(o.startPos={x:X.touches[0].clientX,y:X.touches[0].clientY})},k=function(X){if(!(X.changedTouches.length>1)){var ie=X.currentTarget,he=X.changedTouches[0].clientX-o.startPos.x,ce=X.changedTouches[0].clientY-o.startPos.y;(ie===p.value||ie===v.value||ie===g.value&&xxe(ie,X.target,he,ce))&&X.cancelable&&X.preventDefault()}},I=function Y(X){var ie=X.target;lD(ie,oD,Y),ie.style.transition=""},D=function(X){r("close",X)},L=function(X){X.keyCode===qt.ESC&&(X.stopPropagation(),D(X))},B=function(X){var ie=e.open,he=e.afterVisibleChange;X.target===a.value&&X.propertyName.match(/transform$/)&&(f.value.style.transition="",!ie&&G()&&(document.body.style.overflowX="",p.value&&(p.value.style.left="",p.value.style.width="")),he&&he(!!ie))},N=le(function(){var Y=e.placement,X=Y==="left"||Y==="right",ie="translate".concat(X?"X":"Y");return{isHorizontal:X,placementName:ie}}),j=function(){var X=e.open,ie=e.width,he=e.height,ce=N.value,we=ce.isHorizontal,be=ce.placementName,ve=g.value?g.value.getBoundingClientRect()[we?"width":"height"]:0,ge=(we?ie:he)||ve;V(X,be,ge)},H=function(X,ie,he,ce){var we=e.placement,be=e.levelMove,ve=e.duration,ge=e.ease,Pe=e.showMask;_.forEach(function(ye){ye.style.transition="transform ".concat(ve," ").concat(ge),sD(ye,oD,I);var Ne=X?he:0;if(be){var Re=bxe(be,{target:ye,open:X});Ne=X?Re[0]:Re[1]||0}var Ge=typeof Ne=="number"?"".concat(Ne,"px"):Ne,He=we==="left"||we==="top"?Ge:"-".concat(Ge);He=Pe&&we==="right"&&ce?"calc(".concat(He," + ").concat(ce,"px)"):He,ye.style.transform=Ne?"".concat(ie,"(").concat(He,")"):""})},V=function(X,ie,he){if(!QC){var ce=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth?Ev(!0):0;H(X,ie,he,ce),Z(ce)}r("change",X)},Z=function(X){var ie=e.getContainer,he=e.showMask,ce=e.open,we=ie==null?void 0:ie();if(we&&we.parentNode===document.body&&he){var be=["touchstart"],ve=[document.body,p.value,v.value,g.value];ce&&document.body.style.overflow!=="hidden"?(X&&re(X),document.body.style.touchAction="none",ve.forEach(function(ge,Pe){ge&&sD(ge,be[Pe]||"touchmove",Pe?k:P,S)})):G()&&(document.body.style.touchAction="",X&&q(X),ve.forEach(function(ge,Pe){ge&&lD(ge,be[Pe]||"touchmove",Pe?k:P,S)}))}},re=function(X){var ie=e.placement,he=e.duration,ce=e.ease,we="width ".concat(he," ").concat(ce),be="transform ".concat(he," ").concat(ce);switch(f.value.style.transition="none",ie){case"right":f.value.style.transform="translateX(-".concat(X,"px)");break;case"top":case"bottom":f.value.style.width="calc(100% - ".concat(X,"px)"),f.value.style.transform="translateZ(0)";break}clearTimeout(l),l=setTimeout(function(){f.value&&(f.value.style.transition="".concat(be,",").concat(we),f.value.style.width="",f.value.style.transform="")})},q=function(X){var ie=e.placement,he=e.duration,ce=e.ease;f.value.style.transition="none";var we,be="width ".concat(he," ").concat(ce),ve="transform ".concat(he," ").concat(ce);switch(ie){case"left":{f.value.style.width="100%",be="width 0s ".concat(ce," ").concat(he);break}case"right":{f.value.style.transform="translateX(".concat(X,"px)"),f.value.style.width="100%",be="width 0s ".concat(ce," ").concat(he),p.value&&(p.value.style.left="-".concat(X,"px"),p.value.style.width="calc(100% + ".concat(X,"px)"));break}case"top":case"bottom":{f.value.style.width="calc(100% + ".concat(X,"px)"),f.value.style.height="100%",f.value.style.transform="translateZ(0)",we="height 0s ".concat(ce," ").concat(he);break}}clearTimeout(l),l=setTimeout(function(){f.value&&(f.value.style.transition="".concat(ve,",").concat(we?"".concat(we,","):"").concat(be),f.value.style.transform="",f.value.style.width="",f.value.style.height="")})},G=function(){return!Object.keys(bg).some(function(X){return bg[X]})},ae=function(X){var ie=X.level,he=X.getContainer;if(!QC){var ce=he==null?void 0:he(),we=ce?ce.parentNode:null;if(_=[],ie==="all"){var be=we?Array.prototype.slice.call(we.children):[];be.forEach(function(ve){ve.nodeName!=="SCRIPT"&&ve.nodeName!=="STYLE"&&ve.nodeName!=="LINK"&&ve!==ce&&_.push(ve)})}else ie&&yxe(ie).forEach(function(ve){document.querySelectorAll(ve).forEach(function(ge){_.push(ge)})})}},te=function(X){r("handleClick",X)},Q=ke(!1);return Lt(f,function(){Yn(function(){Q.value=!0})}),function(){var Y,X,ie,he=e.width,ce=e.height,we=e.open,be=e.prefixCls,ve=e.placement;e.level,e.levelMove,e.ease,e.duration,e.getContainer,e.onChange,e.afterVisibleChange;var ge=e.showMask,Pe=e.maskClosable,ye=e.maskStyle,Ne=e.keyboard;e.getOpenCount,e.scrollLocker;var Re=e.contentWrapperStyle,Ge=e.style,He=e.class,Ee=kn(e,wxe),pe=we&&Q.value,Ie=mt(be,(Y={},J(Y,"".concat(be,"-").concat(ve),!0),J(Y,"".concat(be,"-open"),pe),J(Y,He,!!He),J(Y,"no-mask",!ge),Y)),We=N.value.placementName,Qe=ve==="left"||ve==="top"?"-100%":"100%",at=pe?"":"".concat(We,"(").concat(Qe,")");return M("div",R(R({},Qn(Ee,["switchScrollingEffect","autofocus"])),{},{tabindex:-1,class:Ie,style:Ge,ref:f,onKeydown:pe&&Ne?L:void 0,onTransitionend:B}),[ge&&M("div",{class:"".concat(be,"-mask"),onClick:Pe?D:void 0,style:ye,ref:p},null),M("div",{class:"".concat(be,"-content-wrapper"),style:R({transform:at,msTransform:at,width:uD(he)?"".concat(he,"px"):he,height:uD(ce)?"".concat(ce,"px"):ce},Re),ref:a},[M("div",{class:"".concat(be,"-content"),ref:g},[(X=i.default)===null||X===void 0?void 0:X.call(i)]),i.handler?M("div",{onClick:te,ref:v},[(ie=i.handler)===null||ie===void 0?void 0:ie.call(i)]):null])])}}});const cD=Cxe;function Pv(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.element,r=n===void 0?document.body:n,i={},o=Object.keys(t);return o.forEach(function(l){i[l]=r.style[l]}),o.forEach(function(l){r.style[l]=t[l]}),i}function Sxe(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var JC={};const dD=function(t){if(!(!Sxe()&&!t)){var e="ant-scrolling-effect",n=new RegExp("".concat(e),"g"),r=document.body.className;if(t){if(!n.test(r))return;Pv(JC),JC={},document.body.className=r.replace(n,"").trim();return}var i=Ev();if(i&&(JC=Pv({position:"relative",width:"calc(100% - ".concat(i,"px)")}),!n.test(r))){var o="".concat(r," ").concat(e);document.body.className=o.trim()}}};var zs=[],YV="ant-scrolling-effect",e4=new RegExp("".concat(YV),"g"),Txe=0,t4=new Map,Exe=Ir(function t(e){var n=this;Or(this,t),J(this,"getContainer",function(){var r;return(r=n.options)===null||r===void 0?void 0:r.container}),J(this,"reLock",function(r){var i=zs.find(function(o){var l=o.target;return l===n.lockTarget});i&&n.unLock(),n.options=r,i&&(i.options=r,n.lock())}),J(this,"lock",function(){var r;if(!zs.some(function(f){var p=f.target;return p===n.lockTarget})){if(zs.some(function(f){var p,v=f.options;return(v==null?void 0:v.container)===((p=n.options)===null||p===void 0?void 0:p.container)})){zs=[].concat(Jt(zs),[{target:n.lockTarget,options:n.options}]);return}var i=0,o=((r=n.options)===null||r===void 0?void 0:r.container)||document.body;(o===document.body&&window.innerWidth-document.documentElement.clientWidth>0||o.scrollHeight>o.clientHeight)&&(i=Ev());var l=o.className;if(zs.filter(function(f){var p,v=f.options;return(v==null?void 0:v.container)===((p=n.options)===null||p===void 0?void 0:p.container)}).length===0&&t4.set(o,Pv({width:i!==0?"calc(100% - ".concat(i,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:o})),!e4.test(l)){var a="".concat(l," ").concat(YV);o.className=a.trim()}zs=[].concat(Jt(zs),[{target:n.lockTarget,options:n.options}])}}),J(this,"unLock",function(){var r,i=zs.find(function(a){var f=a.target;return f===n.lockTarget});if(zs=zs.filter(function(a){var f=a.target;return f!==n.lockTarget}),!(!i||zs.some(function(a){var f,p=a.options;return(p==null?void 0:p.container)===((f=i.options)===null||f===void 0?void 0:f.container)}))){var o=((r=n.options)===null||r===void 0?void 0:r.container)||document.body,l=o.className;e4.test(l)&&(Pv(t4.get(o),{element:o}),t4.delete(o),o.className=o.className.replace(e4,"").trim())}}),this.lockTarget=Txe++,this.options=e}),zu=0,Bg=Th(),C_={},Dp=function(e){if(!Bg)return null;if(e){if(typeof e=="string")return document.querySelectorAll(e)[0];if(typeof e=="function")return e();if(dn(e)==="object"&&e instanceof window.HTMLElement)return e}return document.body};const XV=lt({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:Te.any,visible:{type:Boolean,default:void 0}},setup:function(e,n){var r=n.slots,i=ke(),o=ke(),l=ke(),a=new Exe({container:Dp(e.getContainer)}),f=function(){var E,P;(E=i.value)===null||E===void 0||(P=E.parentNode)===null||P===void 0||P.removeChild(i.value)},p=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(E||i.value&&!i.value.parentNode){var P=Dp(e.getContainer);return P?(P.appendChild(i.value),!0):!1}return!0},v=function(){return Bg?(i.value||(i.value=document.createElement("div"),p(!0)),g(),i.value):null},g=function(){var E=e.wrapperClassName;i.value&&E&&E!==i.value.className&&(i.value.className=E)};yo(function(){g(),p()});var _=function(){zu===1&&!Object.keys(C_).length?(dD(),C_=Pv({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):zu||(Pv(C_),C_={},dD(!0))},b=Ba();return zn(function(){var S=!1;Lt([function(){return e.visible},function(){return e.getContainer}],function(E,P){var k=Wt(E,2),I=k[0],D=k[1],L=Wt(P,2),B=L[0],N=L[1];if(Bg&&Dp(e.getContainer)===document.body&&(I&&!B?zu+=1:S&&(zu-=1)),S){var j=typeof D=="function"&&typeof N=="function";(j?D.toString()!==N.toString():D!==N)&&f(),I&&I!==B&&Bg&&Dp(D)!==a.getContainer()&&a.reLock({container:Dp(D)})}S=!0},{immediate:!0,flush:"post"}),Yn(function(){p()||(l.value=$n(function(){b.update()}))})}),tr(function(){var S=e.visible,E=e.getContainer;Bg&&Dp(E)===document.body&&(zu=S&&zu?zu-1:zu),f(),$n.cancel(l.value)}),function(){var S=e.forceRender,E=e.visible,P=null,k={getOpenCount:function(){return zu},getContainer:v,switchScrollingEffect:_,scrollLocker:a};return(S||E||o.value)&&(P=M(MS,{getContainer:v,ref:o},{default:function(){var D;return(D=r.default)===null||D===void 0?void 0:D.call(r,k)}})),P}}});var Pxe=["afterVisibleChange","getContainer","wrapperClassName","forceRender"],Mxe=["visible","afterClose"],kxe=lt({compatConfig:{MODE:3},inheritAttrs:!1,props:lr(mxe(),{prefixCls:"drawer",placement:"left",getContainer:"body",level:"all",duration:".3s",ease:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",afterVisibleChange:function(){},showMask:!0,maskClosable:!0,maskStyle:{},wrapperClassName:"",keyboard:!0,forceRender:!1,autofocus:!0}),emits:["handleClick","close"],slots:["handler"],setup:function(e,n){var r=n.emit,i=n.slots,o=ke(null),l=function(p){r("handleClick",p)},a=function(p){r("close",p)};return function(){e.afterVisibleChange;var f=e.getContainer,p=e.wrapperClassName,v=e.forceRender,g=kn(e,Pxe),_=null;if(!f)return M("div",{class:p,ref:o},[M(cD,R(R({},g),{},{open:e.open,getContainer:function(){return o.value},onClose:a,onHandleClick:l}),i)]);var b=!!i.handler||v;return(b||e.open||o.value)&&(_=M(XV,{visible:e.open,forceRender:b,getContainer:f,wrapperClassName:p},{default:function(E){var P=E.visible,k=E.afterClose,I=kn(E,Mxe);return M(cD,R(R(R({ref:o},g),I),{},{open:P!==void 0?P:e.open,afterVisibleChange:k!==void 0?k:e.afterVisibleChange,onClose:a,onHandleClick:l}),i)}})),_}}});const Axe=kxe;var Ixe=["width","height","visible","placement","mask","wrapClassName","class"],Oxe=Di("top","right","bottom","left");Di("default","large");var fD={distance:180},Dxe=function(){return{autofocus:{type:Boolean,default:void 0},closable:{type:Boolean,default:void 0},closeIcon:Te.any,destroyOnClose:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},getContainer:Te.any,maskClosable:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},maskStyle:{type:Object,default:void 0},wrapStyle:{type:Object,default:void 0},style:{type:Object,default:void 0},class:Te.any,wrapClassName:String,size:{type:String},drawerStyle:{type:Object,default:void 0},headerStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},contentWrapperStyle:{type:Object,default:void 0},title:Te.any,visible:{type:Boolean,default:void 0},width:Te.oneOfType([Te.string,Te.number]),height:Te.oneOfType([Te.string,Te.number]),zIndex:Number,prefixCls:String,push:Te.oneOfType([Te.looseBool,{type:Object}]),placement:Te.oneOf(Oxe),keyboard:{type:Boolean,default:void 0},extra:Te.any,footer:Te.any,footerStyle:{type:Object,default:void 0},level:Te.any,levelMove:{type:[Number,Array,Function]},handle:Te.any,afterVisibleChange:Function,onAfterVisibleChange:Function,"onUpdate:visible":Function,onClose:Function}},Rxe=lt({compatConfig:{MODE:3},name:"ADrawer",inheritAttrs:!1,props:lr(Dxe(),{closable:!0,placement:"right",maskClosable:!0,mask:!0,level:null,keyboard:!0,push:fD}),slots:["closeIcon","title","extra","footer","handle"],setup:function(e,n){var r=n.emit,i=n.slots,o=n.attrs,l=ke(!1),a=ke(!1),f=ke(null),p=Hn("parentDrawerOpts",null),v=fn("drawer",e),g=v.prefixCls;Br(!e.afterVisibleChange,"Drawer","`afterVisibleChange` prop is deprecated, please use `@afterVisibleChange` event instead"),Br(e.wrapStyle===void 0,"Drawer","`wrapStyle` prop is deprecated, please use `style` instead"),Br(e.wrapClassName===void 0,"Drawer","`wrapClassName` prop is deprecated, please use `class` instead");var _=function(){l.value=!0},b=function(){l.value=!1,Yn(function(){S()})};Xn("parentDrawerOpts",{setPush:_,setPull:b}),zn(function(){var Z=e.visible;Z&&p&&p.setPush()}),_o(function(){p&&p.setPull()}),Lt(function(){return e.visible},function(Z){p&&(Z?p.setPush():p.setPull())},{flush:"post"});var S=function(){var re,q;(re=f.value)===null||re===void 0||(q=re.domFocus)===null||q===void 0||q.call(re)},E=function(re){r("update:visible",!1),r("close",re)},P=function(re){var q;(q=e.afterVisibleChange)===null||q===void 0||q.call(e,re),r("afterVisibleChange",re)},k=le(function(){return e.destroyOnClose&&!e.visible}),I=function(){var re=k.value;re&&(e.visible||(a.value=!0))},D=le(function(){var Z=e.push,re=e.placement,q;return typeof Z=="boolean"?q=Z?fD.distance:0:q=Z.distance,q=parseFloat(String(q||0)),re==="left"||re==="right"?"translateX(".concat(re==="left"?q:-q,"px)"):re==="top"||re==="bottom"?"translateY(".concat(re==="top"?q:-q,"px)"):null}),L=le(function(){var Z=e.visible,re=e.mask,q=e.placement,G=e.size,ae=G===void 0?"default":G,te=e.width,Q=e.height;if(!Z&&!re)return{};var Y={};if(q==="left"||q==="right"){var X=ae==="large"?736:378;Y.width=typeof te>"u"?X:te,Y.width=typeof Y.width=="string"?Y.width:"".concat(Y.width,"px")}else{var ie=ae==="large"?736:378;Y.height=typeof Q>"u"?ie:Q,Y.height=typeof Y.height=="string"?Y.height:"".concat(Y.height,"px")}return Y}),B=le(function(){var Z=e.zIndex,re=e.wrapStyle,q=e.mask,G=e.style,ae=q?{}:L.value;return R(R(R({zIndex:Z,transform:l.value?D.value:void 0},ae),re),G)}),N=function(re){var q=e.closable,G=e.headerStyle,ae=vi(i,e,"extra"),te=vi(i,e,"title");return!te&&!q?null:M("div",{class:mt("".concat(re,"-header"),J({},"".concat(re,"-header-close-only"),q&&!te&&!ae)),style:G},[M("div",{class:"".concat(re,"-header-title")},[j(re),te&&M("div",{class:"".concat(re,"-title")},[te])]),ae&&M("div",{class:"".concat(re,"-extra")},[ae])])},j=function(re){var q,G=e.closable,ae=i.closeIcon?(q=i.closeIcon)===null||q===void 0?void 0:q.call(i):e.closeIcon;return G&&M("button",{key:"closer",onClick:E,"aria-label":"Close",class:"".concat(re,"-close")},[ae===void 0?M(pu,null,null):ae])},H=function(re){var q;if(a.value&&!e.visible)return null;a.value=!1;var G=e.bodyStyle,ae=e.drawerStyle,te={},Q=k.value;return Q&&(te.opacity=0,te.transition="opacity .3s"),M("div",{class:"".concat(re,"-wrapper-body"),style:R(R({},te),ae),onTransitionend:I},[N(re),M("div",{key:"body",class:"".concat(re,"-body"),style:G},[(q=i.default)===null||q===void 0?void 0:q.call(i)]),V(re)])},V=function(re){var q=vi(i,e,"footer");if(!q)return null;var G="".concat(re,"-footer");return M("div",{class:G,style:e.footerStyle},[q])};return function(){var Z;e.width,e.height;var re=e.visible,q=e.placement,G=e.mask,ae=e.wrapClassName,te=e.class,Q=kn(e,Ixe),Y=G?L.value:{},X=G?"":"no-mask",ie=R(R(R(R({},o),Qn(Q,["size","closeIcon","closable","destroyOnClose","drawerStyle","headerStyle","bodyStyle","title","push","wrapStyle","onAfterVisibleChange","onClose","onUpdate:visible"])),Y),{},{onClose:E,afterVisibleChange:P,handler:!1,prefixCls:g.value,open:re,showMask:G,placement:q,class:mt((Z={},J(Z,te,te),J(Z,ae,!!ae),J(Z,X,!!X),Z)),style:B.value,ref:f});return M(Axe,ie,{handler:e.handle?function(){return e.handle}:i.handle,default:function(){return H(g.value)}})}}});const Lxe=Ki(Rxe);var ZV=function(){return{id:String,prefixCls:String,inputPrefixCls:String,defaultValue:Te.oneOfType([Te.string,Te.number]),value:{type:[String,Number,Symbol],default:void 0},placeholder:{type:[String,Number]},autocomplete:String,type:{type:String,default:"text"},name:String,size:{type:String},disabled:{type:Boolean,default:void 0},readonly:{type:Boolean,default:void 0},addonBefore:Te.any,addonAfter:Te.any,prefix:Te.any,suffix:Te.any,autofocus:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,valueModifiers:Object,hidden:Boolean}};const xE=ZV;var QV=function(){return R(R({},Qn(ZV(),["prefix","addonBefore","addonAfter","suffix"])),{},{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object})};function JV(t,e,n,r,i){var o;return mt(t,(o={},J(o,"".concat(t,"-sm"),n==="small"),J(o,"".concat(t,"-lg"),n==="large"),J(o,"".concat(t,"-disabled"),r),J(o,"".concat(t,"-rtl"),i==="rtl"),J(o,"".concat(t,"-borderless"),!e),o))}var u1=function(e){return e!=null&&(Array.isArray(e)?ta(e).length:!0)};function Fxe(t){return u1(t.prefix)||u1(t.suffix)||u1(t.allowClear)}function n4(t){return u1(t.addonBefore)||u1(t.addonAfter)}var Nxe=["text","input"];const eU=lt({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:Te.oneOf(Di("text","input")),value:Te.any,defaultValue:Te.any,allowClear:{type:Boolean,default:void 0},element:Te.any,handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:Te.any,prefix:Te.any,addonBefore:Te.any,addonAfter:Te.any,readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean},setup:function(e,n){var r=n.slots,i=n.attrs,o=ke(),l=function(b){var S;if((S=o.value)!==null&&S!==void 0&&S.contains(b.target)){var E=e.triggerFocus;E==null||E()}},a=function(b){var S,E=e.allowClear,P=e.value,k=e.disabled,I=e.readonly,D=e.handleReset,L=e.suffix,B=L===void 0?r.suffix:L;if(!E)return null;var N=!k&&!I&&P,j="".concat(b,"-clear-icon");return M(fc,{onClick:D,onMousedown:function(V){return V.preventDefault()},class:mt((S={},J(S,"".concat(j,"-hidden"),!N),J(S,"".concat(j,"-has-suffix"),!!B),S),j),role:"button"},null)},f=function(b){var S,E=e.suffix,P=E===void 0?(S=r.suffix)===null||S===void 0?void 0:S.call(r):E,k=e.allowClear;return P||k?M("span",{class:"".concat(b,"-suffix")},[a(b),P]):null},p=function(b,S){var E,P,k,I=e.focused,D=e.value,L=e.prefix,B=L===void 0?(E=r.prefix)===null||E===void 0?void 0:E.call(r):L,N=e.size,j=e.suffix,H=j===void 0?(P=r.suffix)===null||P===void 0?void 0:P.call(r):j,V=e.disabled,Z=e.allowClear,re=e.direction,q=e.readonly,G=e.bordered,ae=e.hidden,te=e.addonAfter,Q=te===void 0?r.addonAfter:te,Y=e.addonBefore,X=Y===void 0?r.addonBefore:Y,ie=f(b);if(!Fxe({prefix:B,suffix:H,allowClear:Z}))return Pr(S,{value:D});var he=B?M("span",{class:"".concat(b,"-prefix")},[B]):null,ce=mt("".concat(b,"-affix-wrapper"),(k={},J(k,"".concat(b,"-affix-wrapper-focused"),I),J(k,"".concat(b,"-affix-wrapper-disabled"),V),J(k,"".concat(b,"-affix-wrapper-sm"),N==="small"),J(k,"".concat(b,"-affix-wrapper-lg"),N==="large"),J(k,"".concat(b,"-affix-wrapper-input-with-clear-btn"),H&&Z&&D),J(k,"".concat(b,"-affix-wrapper-rtl"),re==="rtl"),J(k,"".concat(b,"-affix-wrapper-readonly"),q),J(k,"".concat(b,"-affix-wrapper-borderless"),!G),J(k,"".concat(i.class),!n4({addonAfter:Q,addonBefore:X})&&i.class),k));return M("span",{ref:o,class:ce,style:i.style,onMouseup:l,hidden:ae},[he,Pr(S,{style:null,value:D,class:JV(b,G,N,V)}),ie])},v=function(b,S){var E,P,k,I=e.addonBefore,D=I===void 0?(E=r.addonBefore)===null||E===void 0?void 0:E.call(r):I,L=e.addonAfter,B=L===void 0?(P=r.addonAfter)===null||P===void 0?void 0:P.call(r):L,N=e.size,j=e.direction,H=e.hidden,V=e.disabled;if(!n4({addonBefore:D,addonAfter:B}))return S;var Z="".concat(b,"-group"),re="".concat(Z,"-addon"),q=mt(re,J({},"".concat(re,"-disabled"),V)),G=D?M("span",{class:q},[D]):null,ae=B?M("span",{class:q},[B]):null,te=mt("".concat(b,"-wrapper"),Z,J({},"".concat(Z,"-rtl"),j==="rtl")),Q=mt("".concat(b,"-group-wrapper"),(k={},J(k,"".concat(b,"-group-wrapper-sm"),N==="small"),J(k,"".concat(b,"-group-wrapper-lg"),N==="large"),J(k,"".concat(b,"-group-wrapper-rtl"),j==="rtl"),k),i.class);return M("span",{class:Q,style:i.style,hidden:H},[M("span",{class:te},[G,Pr(S,{style:null}),ae])])},g=function(b,S){var E,P=e.value,k=e.allowClear,I=e.direction,D=e.bordered,L=e.hidden,B=e.addonAfter,N=B===void 0?r.addonAfter:B,j=e.addonBefore,H=j===void 0?r.addonBefore:j;if(!k)return Pr(S,{value:P});var V=mt("".concat(b,"-affix-wrapper"),"".concat(b,"-affix-wrapper-textarea-with-clear-btn"),(E={},J(E,"".concat(b,"-affix-wrapper-rtl"),I==="rtl"),J(E,"".concat(b,"-affix-wrapper-borderless"),!D),J(E,"".concat(i.class),!n4({addonAfter:N,addonBefore:H})&&i.class),E));return M("span",{class:V,style:i.style,hidden:L},[Pr(S,{style:null,value:P}),a(b)])};return function(){var _,b=e.prefixCls,S=e.inputType,E=e.element,P=E===void 0?(_=r.element)===null||_===void 0?void 0:_.call(r):E;return S===Nxe[0]?g(b,P):v(b,p(b,P))}}});function l6(t){return typeof t>"u"||t===null?"":String(t)}function c1(t,e,n,r){if(n){var i=e;if(e.type==="click"){Object.defineProperty(i,"target",{writable:!0}),Object.defineProperty(i,"currentTarget",{writable:!0});var o=t.cloneNode(!0);i.target=o,i.currentTarget=o,o.value="",n(i);return}if(r!==void 0){Object.defineProperty(i,"target",{writable:!0}),Object.defineProperty(i,"currentTarget",{writable:!0}),i.target=t,i.currentTarget=t,t.value=r,n(i);return}n(i)}}function tU(t,e){if(t){t.focus(e);var n=e||{},r=n.cursor;if(r){var i=t.value.length;switch(r){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(i,i);break;default:t.setSelectionRange(0,i)}}}}const Pa=lt({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:xE(),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=n.emit,a=ke(),f=ke(),p,v=_a(),g=fn("input",e),_=g.direction,b=g.prefixCls,S=g.size,E=g.autocomplete,P=ke(e.value===void 0?e.defaultValue:e.value),k=ke(!1);Lt(function(){return e.value},function(){P.value=e.value}),Lt(function(){return e.disabled},function(){e.value!==void 0&&(P.value=e.value),e.disabled&&(k.value=!1)});var I=function(){p=setTimeout(function(){var X;((X=a.value)===null||X===void 0?void 0:X.getAttribute("type"))==="password"&&a.value.hasAttribute("value")&&a.value.removeAttribute("value")})},D=function(X){tU(a.value,X)},L=function(){var X;(X=a.value)===null||X===void 0||X.blur()},B=function(X,ie,he){var ce;(ce=a.value)===null||ce===void 0||ce.setSelectionRange(X,ie,he)},N=function(){var X;(X=a.value)===null||X===void 0||X.select()};o({focus:D,blur:L,input:a,stateValue:P,setSelectionRange:B,select:N});var j=function(X){var ie=e.onFocus;k.value=!0,ie==null||ie(X),Yn(function(){I()})},H=function(X){var ie=e.onBlur;k.value=!1,ie==null||ie(X),v.onFieldBlur(),Yn(function(){I()})},V=function(X){l("update:value",X.target.value),l("change",X),l("input",X),v.onFieldChange()},Z=Ba(),re=function(X,ie){P.value!==X&&(e.value===void 0?P.value=X:Yn(function(){a.value.value!==P.value&&Z.update()}),Yn(function(){ie&&ie()}))},q=function(X){c1(a.value,X,V),re("",function(){D()})},G=function(X){var ie=X.target,he=ie.value,ce=ie.composing;if(!((X.isComposing||ce)&&e.lazy||P.value===he)){var we=X.target.value;c1(a.value,X,V),re(we,function(){I()})}},ae=function(X){X.keyCode===13&&l("pressEnter",X),l("keydown",X)};zn(function(){I()}),tr(function(){clearTimeout(p)});var te=function(){var X,ie=e.addonBefore,he=ie===void 0?r.addonBefore:ie,ce=e.addonAfter,we=ce===void 0?r.addonAfter:ce,be=e.disabled,ve=e.bordered,ge=ve===void 0?!0:ve,Pe=e.valueModifiers,ye=Pe===void 0?{}:Pe,Ne=e.htmlSize,Re=Qn(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers"]),Ge=R(R(R({},Re),i),{},{autocomplete:E.value,onChange:G,onInput:G,onFocus:j,onBlur:H,onKeydown:ae,class:mt(JV(b.value,ge,S.value,be,_.value),J({},i.class,i.class&&!he&&!we)),ref:a,key:"ant-input",size:Ne,id:(X=Re.id)!==null&&X!==void 0?X:v.id.value});ye.lazy&&delete Ge.onInput,Ge.autofocus||delete Ge.autofocus;var He=M("input",Qn(Ge,["size"]),null);return qa(He,[[Kv]])},Q=function(){var X,ie=P.value,he=e.maxlength,ce=e.suffix,we=ce===void 0?(X=r.suffix)===null||X===void 0?void 0:X.call(r):ce,be=e.showCount,ve=Number(he)>0;if(we||be){var ge=Jt(l6(ie)).length,Pe=null;return dn(be)==="object"?Pe=be.formatter({count:ge,maxlength:he}):Pe="".concat(ge).concat(ve?" / ".concat(he):""),M(Kn,null,[!!be&&M("span",{class:mt("".concat(b.value,"-show-count-suffix"),J({},"".concat(b.value,"-show-count-has-suffix"),!!we))},[Pe]),we])}return null};return function(){var Y=R(R(R({},i),e),{},{prefixCls:b.value,inputType:"input",value:l6(P.value),handleReset:q,focused:k.value&&!e.disabled});return M(eU,R(R({},Qn(Y,["element","valueModifiers","suffix","showCount"])),{},{ref:f}),R(R({},r),{},{element:te,suffix:Q}))}}}),nU=lt({compatConfig:{MODE:3},name:"AInputGroup",props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0},onMouseenter:{type:Function},onMouseleave:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},setup:function(e,n){var r=n.slots,i=fn("input-group",e),o=i.prefixCls,l=i.direction,a=le(function(){var f,p=o.value;return f={},J(f,"".concat(p),!0),J(f,"".concat(p,"-lg"),e.size==="large"),J(f,"".concat(p,"-sm"),e.size==="small"),J(f,"".concat(p,"-compact"),e.compact),J(f,"".concat(p,"-rtl"),l.value==="rtl"),f});return function(){var f;return M("span",{class:a.value,onMouseenter:e.onMouseenter,onMouseleave:e.onMouseleave,onFocus:e.onFocus,onBlur:e.onBlur},[(f=r.default)===null||f===void 0?void 0:f.call(r)])}}});var r4=/iPhone/i,hD=/iPod/i,pD=/iPad/i,i4=/\bAndroid(?:.+)Mobile\b/i,vD=/Android/i,Rp=/\bAndroid(?:.+)SD4930UR\b/i,S_=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,$u=/Windows Phone/i,mD=/\bWindows(?:.+)ARM\b/i,gD=/BlackBerry/i,yD=/BB10/i,_D=/Opera Mini/i,bD=/\b(CriOS|Chrome)(?:.+)Mobile/i,xD=/Mobile(?:.+)Firefox\b/i;function wr(t,e){return t.test(e)}function wD(t){var e=t||(typeof navigator<"u"?navigator.userAgent:""),n=e.split("[FBAN");if(typeof n[1]<"u"){var r=n,i=Wt(r,1);e=i[0]}if(n=e.split("Twitter"),typeof n[1]<"u"){var o=n,l=Wt(o,1);e=l[0]}var a={apple:{phone:wr(r4,e)&&!wr($u,e),ipod:wr(hD,e),tablet:!wr(r4,e)&&wr(pD,e)&&!wr($u,e),device:(wr(r4,e)||wr(hD,e)||wr(pD,e))&&!wr($u,e)},amazon:{phone:wr(Rp,e),tablet:!wr(Rp,e)&&wr(S_,e),device:wr(Rp,e)||wr(S_,e)},android:{phone:!wr($u,e)&&wr(Rp,e)||!wr($u,e)&&wr(i4,e),tablet:!wr($u,e)&&!wr(Rp,e)&&!wr(i4,e)&&(wr(S_,e)||wr(vD,e)),device:!wr($u,e)&&(wr(Rp,e)||wr(S_,e)||wr(i4,e)||wr(vD,e))||wr(/\bokhttp\b/i,e)},windows:{phone:wr($u,e),tablet:wr(mD,e),device:wr($u,e)||wr(mD,e)},other:{blackberry:wr(gD,e),blackberry10:wr(yD,e),opera:wr(_D,e),firefox:wr(xD,e),chrome:wr(bD,e),device:wr(gD,e)||wr(yD,e)||wr(_D,e)||wr(xD,e)||wr(bD,e)},any:null,phone:null,tablet:null};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}var Bxe=R(R({},wD()),{},{isMobile:wD});const zxe=Bxe;var $xe=["disabled","loading","addonAfter","suffix"];const rU=lt({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:R(R({},xE()),{},{inputPrefixCls:String,enterButton:Te.any,onSearch:{type:Function}}),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=n.emit,a=ke(),f=function(){var L;(L=a.value)===null||L===void 0||L.focus()},p=function(){var L;(L=a.value)===null||L===void 0||L.blur()};o({focus:f,blur:p});var v=function(L){l("update:value",L.target.value),L&&L.target&&L.type==="click"&&l("search",L.target.value,L),l("change",L)},g=function(L){var B;document.activeElement===((B=a.value)===null||B===void 0?void 0:B.input)&&L.preventDefault()},_=function(L){var B;l("search",(B=a.value)===null||B===void 0?void 0:B.stateValue,L),zxe.tablet||a.value.focus()},b=fn("input-search",e),S=b.prefixCls,E=b.getPrefixCls,P=b.direction,k=b.size,I=le(function(){return E("input",e.inputPrefixCls)});return function(){var D,L,B,N,j,H=e.disabled,V=e.loading,Z=e.addonAfter,re=Z===void 0?(D=r.addonAfter)===null||D===void 0?void 0:D.call(r):Z,q=e.suffix,G=q===void 0?(L=r.suffix)===null||L===void 0?void 0:L.call(r):q,ae=kn(e,$xe),te=e.enterButton,Q=te===void 0?(B=(N=r.enterButton)===null||N===void 0?void 0:N.call(r))!==null&&B!==void 0?B:!1:te;Q=Q||Q==="";var Y=typeof Q=="boolean"?M(h2,null,null):null,X="".concat(S.value,"-button"),ie=Array.isArray(Q)?Q[0]:Q,he,ce=ie.type&&z8(ie.type)&&ie.type.__ANT_BUTTON;if(ce||ie.tagName==="button")he=Pr(ie,R({onMousedown:g,onClick:_,key:"enterButton"},ce?{class:X,size:k.value}:{}),!1);else{var we=Y&&!Q;he=M(Ma,{class:X,type:Q?"primary":void 0,size:k.value,disabled:H,key:"enterButton",onMousedown:g,onClick:_,loading:V,icon:we?Y:null},{default:function(){return[we?null:Y||Q]}})}re&&(he=[he,re]);var be=mt(S.value,(j={},J(j,"".concat(S.value,"-rtl"),P.value==="rtl"),J(j,"".concat(S.value,"-").concat(k.value),!!k.value),J(j,"".concat(S.value,"-with-button"),!!Q),j),i.class);return M(Pa,R(R(R({ref:a},Qn(ae,["onUpdate:value","onSearch","enterButton"])),i),{},{onPressEnter:_,size:k.value,prefixCls:I.value,addonAfter:he,suffix:G,onChange:v,class:be,disabled:H}),r)}}});var jxe=`
 min-height:0 !important;
 max-height:none !important;
 height:0 !important;
 visibility:hidden !important;
 overflow:hidden !important;
 position:absolute !important;
 z-index:-1000 !important;
 top:0 !important;
 right:0 !important
`,Vxe=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break"],a4={},$s;function Uxe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&a4[n])return a4[n];var r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),l=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),a=Vxe.map(function(p){return"".concat(p,":").concat(r.getPropertyValue(p))}).join(";"),f={sizingStyle:a,paddingSize:o,borderSize:l,boxSizing:i};return e&&n&&(a4[n]=f),f}function Hxe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;$s||($s=document.createElement("textarea"),$s.setAttribute("tab-index","-1"),$s.setAttribute("aria-hidden","true"),document.body.appendChild($s)),t.getAttribute("wrap")?$s.setAttribute("wrap",t.getAttribute("wrap")):$s.removeAttribute("wrap");var i=Uxe(t,e),o=i.paddingSize,l=i.borderSize,a=i.boxSizing,f=i.sizingStyle;$s.setAttribute("style","".concat(f,";").concat(jxe)),$s.value=t.value||t.placeholder||"";var p=Number.MIN_SAFE_INTEGER,v=Number.MAX_SAFE_INTEGER,g=$s.scrollHeight,_;if(a==="border-box"?g+=l:a==="content-box"&&(g-=o),n!==null||r!==null){$s.value=" ";var b=$s.scrollHeight-o;n!==null&&(p=b*n,a==="border-box"&&(p=p+o+l),g=Math.max(p,g)),r!==null&&(v=b*r,a==="border-box"&&(v=v+o+l),_=g>v?"":"hidden",g=Math.min(v,g))}return{height:"".concat(g,"px"),minHeight:"".concat(p,"px"),maxHeight:"".concat(v,"px"),overflowY:_,resize:"none"}}var o4=0,CD=1,Kxe=2,Wxe=lt({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:QV(),setup:function(e,n){var r=n.attrs,i=n.emit,o=n.expose,l,a,f=ke(),p=ke({}),v=ke(o4);tr(function(){$n.cancel(l),$n.cancel(a)});var g=function(){try{if(document.activeElement===f.value){var I=f.value.selectionStart,D=f.value.selectionEnd;f.value.setSelectionRange(I,D)}}catch{}},_=function(){var I=e.autoSize||e.autosize;if(!(!I||!f.value)){var D=I.minRows,L=I.maxRows;p.value=Hxe(f.value,!1,D,L),v.value=CD,$n.cancel(a),a=$n(function(){v.value=Kxe,a=$n(function(){v.value=o4,g()})})}},b=function(){$n.cancel(l),l=$n(_)},S=function(I){if(v.value===o4){i("resize",I);var D=e.autoSize||e.autosize;D&&b()}};sa(e.autosize===void 0,"Input.TextArea","autosize is deprecated, please use autoSize instead.");var E=function(){var I=e.prefixCls,D=e.autoSize,L=e.autosize,B=e.disabled,N=Qn(e,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","lazy","maxlength","valueModifiers"]),j=mt(I,r.class,J({},"".concat(I,"-disabled"),B)),H=[r.style,p.value,v.value===CD?{overflowX:"hidden",overflowY:"hidden"}:null],V=R(R(R({},N),r),{},{style:H,class:j});return V.autofocus||delete V.autofocus,V.rows===0&&delete V.rows,M(Gs,{onResize:S,disabled:!(D||L)},{default:function(){return[qa(M("textarea",R(R({},V),{},{ref:f}),null),[[Kv]])]}})};Lt(function(){return e.value},function(){Yn(function(){_()})}),zn(function(){Yn(function(){_()})});var P=Ba();return o({resizeTextarea:_,textArea:f,instance:P}),function(){return E()}}});const Gxe=Wxe;function iU(t,e){return Jt(t||"").slice(0,e).join("")}function SD(t,e,n,r){var i=n;return t?i=iU(n,r):Jt(e||"").length<n.length&&Jt(n||"").length>r&&(i=e),i}const wE=lt({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:QV(),setup:function(e,n){var r=n.attrs,i=n.expose,o=n.emit,l=_a(),a=ke(e.value===void 0?e.defaultValue:e.value),f=ke(),p=ke(""),v=fn("input",e),g=v.prefixCls,_=v.size,b=v.direction,S=le(function(){return e.showCount===""||e.showCount||!1}),E=le(function(){return Number(e.maxlength)>0}),P=ke(!1),k=ke(),I=ke(0),D=function(Q){P.value=!0,k.value=p.value,I.value=Q.currentTarget.selectionStart,o("compositionstart",Q)},L=function(Q){P.value=!1;var Y=Q.currentTarget.value;if(E.value){var X,ie=I.value>=e.maxlength+1||I.value===((X=k.value)===null||X===void 0?void 0:X.length);Y=SD(ie,k.value,Y,e.maxlength)}Y!==p.value&&(H(Y),c1(Q.currentTarget,Q,re,Y)),o("compositionend",Q)},B=Ba();Lt(function(){return e.value},function(){"value"in B.vnode.props;var te;a.value=(te=e.value)!==null&&te!==void 0?te:""});var N=function(Q){var Y;tU((Y=f.value)===null||Y===void 0?void 0:Y.textArea,Q)},j=function(){var Q,Y;(Q=f.value)===null||Q===void 0||(Y=Q.textArea)===null||Y===void 0||Y.blur()},H=function(Q,Y){a.value!==Q&&(e.value===void 0?a.value=Q:Yn(function(){if(f.value.textArea.value!==p.value){var X,ie,he;(X=f.value)===null||X===void 0||(ie=(he=X.instance).update)===null||ie===void 0||ie.call(he)}}),Yn(function(){Y&&Y()}))},V=function(Q){Q.keyCode===13&&o("pressEnter",Q),o("keydown",Q)},Z=function(Q){var Y=e.onBlur;Y==null||Y(Q),l.onFieldBlur()},re=function(Q){o("update:value",Q.target.value),o("change",Q),o("input",Q),l.onFieldChange()},q=function(Q){c1(f.value.textArea,Q,re),H("",function(){N()})},G=function(Q){var Y=Q.target.composing,X=Q.target.value;if(P.value=!!(Q.isComposing||Y),!(P.value&&e.lazy||a.value===X)){if(E.value){var ie=Q.target,he=ie.selectionStart>=e.maxlength+1||ie.selectionStart===X.length||!ie.selectionStart;X=SD(he,p.value,X,e.maxlength)}c1(Q.currentTarget,Q,re,X),H(X)}},ae=function(){var Q,Y,X,ie=r.style,he=r.class,ce=e.bordered,we=ce===void 0?!0:ce,be=R(R(R({},Qn(e,["allowClear"])),r),{},{style:S.value?{}:ie,class:(Q={},J(Q,"".concat(g.value,"-borderless"),!we),J(Q,"".concat(he),he&&!S.value),J(Q,"".concat(g.value,"-sm"),_.value==="small"),J(Q,"".concat(g.value,"-lg"),_.value==="large"),Q),showCount:null,prefixCls:g.value,onInput:G,onChange:G,onBlur:Z,onKeydown:V,onCompositionstart:D,onCompositionend:L});return(Y=e.valueModifiers)!==null&&Y!==void 0&&Y.lazy&&delete be.onInput,M(Gxe,R(R({},be),{},{id:(X=be.id)!==null&&X!==void 0?X:l.id.value,ref:f,maxlength:e.maxlength}),null)};return i({focus:N,blur:j,resizableTextArea:f}),Un(function(){var te=l6(a.value);!P.value&&E.value&&(e.value===null||e.value===void 0)&&(te=iU(te,e.maxlength)),p.value=te}),function(){var te=e.maxlength,Q=e.bordered,Y=Q===void 0?!0:Q,X=e.hidden,ie=r.style,he=r.class,ce=R(R(R({},e),r),{},{prefixCls:g.value,inputType:"text",handleReset:q,direction:b.value,bordered:Y,style:S.value?void 0:ie}),we=M(eU,R(R({},ce),{},{value:p.value}),{element:ae});if(S.value){var be=Jt(p.value).length,ve="";dn(S.value)==="object"?ve=S.value.formatter({count:be,maxlength:te}):ve="".concat(be).concat(E.value?" / ".concat(te):""),we=M("div",{hidden:X,class:mt("".concat(g.value,"-textarea"),J({},"".concat(g.value,"-textarea-rtl"),b.value==="rtl"),"".concat(g.value,"-textarea-show-count"),he),style:ie,"data-count":dn(ve)!=="object"?ve:void 0},[we])}return we}}});var qxe=["size","visibilityToggle"],Yxe={click:"onClick",hover:"onMouseover"},Xxe=function(e){return M(e?r8:Uee,null,null)};const aU=lt({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:R(R({},xE()),{},{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},iconRender:Function}),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=ke(!1),a=function(){var I=e.disabled;I||(l.value=!l.value)},f=ke(),p=function(){var I;(I=f.value)===null||I===void 0||I.focus()},v=function(){var I;(I=f.value)===null||I===void 0||I.blur()};o({focus:p,blur:v});var g=function(I){var D,L=e.action,B=e.iconRender,N=B===void 0?r.iconRender||Xxe:B,j=Yxe[L]||"",H=N(l.value),V=(D={},J(D,j,a),J(D,"class","".concat(I,"-icon")),J(D,"key","passwordIcon"),J(D,"onMousedown",function(re){re.preventDefault()}),J(D,"onMouseup",function(re){re.preventDefault()}),D);return Pr(la(H)?H:M("span",null,[H]),V)},_=fn("input-password",e),b=_.prefixCls,S=_.getPrefixCls,E=le(function(){return S("input",e.inputPrefixCls)}),P=function(){var I=e.size,D=e.visibilityToggle,L=kn(e,qxe),B=D&&g(b.value),N=mt(b.value,i.class,J({},"".concat(b.value,"-").concat(I),!!I)),j=R(R(R({},Qn(L,["suffix","iconRender","action"])),i),{},{type:l.value?"text":"password",class:N,prefixCls:E.value,suffix:B});return I&&(j.size=I),M(Pa,R({ref:f},j),r)};return function(){return P()}}});Pa.Group=nU;Pa.Search=rU;Pa.TextArea=wE;Pa.Password=aU;Pa.install=function(t){return t.component(Pa.name,Pa),t.component(Pa.Group.name,Pa.Group),t.component(Pa.Search.name,Pa.Search),t.component(Pa.TextArea.name,Pa.TextArea),t.component(Pa.Password.name,Pa.Password),t};var Zxe="[object Number]";function Qxe(t){return typeof t=="number"||Cl(t)&&Fd(t)==Zxe}function Jxe(){var t=document.documentElement.clientWidth,e=window.innerHeight||document.documentElement.clientHeight;return{width:t,height:e}}function Ox(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}function W2(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:Te.shape({x:Number,y:Number}).loose,title:Te.any,footer:Te.any,transitionName:String,maskTransitionName:String,animation:Te.any,maskAnimation:Te.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:Te.any,maskProps:Te.any,wrapProps:Te.any,getContainer:Te.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:Te.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function TD(t,e,n){var r=e;return!r&&n&&(r="".concat(t,"-").concat(n)),r}var ED=-1;function e2e(){return ED+=1,ED}function PD(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function t2e(t){var e=t.getBoundingClientRect(),n={left:e.left,top:e.top},r=t.ownerDocument,i=r.defaultView||r.parentWindow;return n.left+=PD(i),n.top+=PD(i,!0),n}var MD={width:0,height:0,overflow:"hidden",outline:"none"};const n2e=lt({compatConfig:{MODE:3},name:"Content",inheritAttrs:!1,props:R(R({},W2()),{},{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function(e,n){var r=n.expose,i=n.slots,o=n.attrs,l=ke(),a=ke(),f=ke();r({focus:function(){var S;(S=l.value)===null||S===void 0||S.focus()},changeActive:function(S){var E=document,P=E.activeElement;S&&P===a.value?l.value.focus():!S&&P===l.value&&a.value.focus()}});var p=ke(),v=le(function(){var b=e.width,S=e.height,E={};return b!==void 0&&(E.width=typeof b=="number"?"".concat(b,"px"):b),S!==void 0&&(E.height=typeof S=="number"?"".concat(S,"px"):S),p.value&&(E.transformOrigin=p.value),E}),g=function(){Yn(function(){if(f.value){var S=t2e(f.value);p.value=e.mousePosition?"".concat(e.mousePosition.x-S.left,"px ").concat(e.mousePosition.y-S.top,"px"):""}})},_=function(S){e.onVisibleChanged(S)};return function(){var b,S,E,P,k=e.prefixCls,I=e.footer,D=I===void 0?(b=i.footer)===null||b===void 0?void 0:b.call(i):I,L=e.title,B=L===void 0?(S=i.title)===null||S===void 0?void 0:S.call(i):L,N=e.ariaId,j=e.closable,H=e.closeIcon,V=H===void 0?(E=i.closeIcon)===null||E===void 0?void 0:E.call(i):H,Z=e.onClose,re=e.bodyStyle,q=e.bodyProps,G=e.onMousedown,ae=e.onMouseup,te=e.visible,Q=e.modalRender,Y=Q===void 0?i.modalRender:Q,X=e.destroyOnClose,ie=e.motionName,he;D&&(he=M("div",{class:"".concat(k,"-footer")},[D]));var ce;B&&(ce=M("div",{class:"".concat(k,"-header")},[M("div",{class:"".concat(k,"-title"),id:N},[B])]));var we;j&&(we=M("button",{type:"button",onClick:Z,"aria-label":"Close",class:"".concat(k,"-close")},[V||M("span",{class:"".concat(k,"-close-x")},null)]));var be=M("div",{class:"".concat(k,"-content")},[we,ce,M("div",R({class:"".concat(k,"-body"),style:re},q),[(P=i.default)===null||P===void 0?void 0:P.call(i)]),he]),ve=Nd(ie);return M(Io,R(R({},ve),{},{onBeforeEnter:g,onAfterEnter:function(){return _(!0)},onAfterLeave:function(){return _(!1)}}),{default:function(){return[te||!X?qa(M("div",R(R({},o),{},{ref:f,key:"dialog-element",role:"document",style:[v.value,o.style],class:[k,o.class],onMousedown:G,onMouseup:ae}),[M("div",{tabindex:0,ref:l,style:MD,"aria-hidden":"true"},null),Y?Y({originVNode:be}):be,M("div",{tabindex:0,ref:a,style:MD,"aria-hidden":"true"},null)]),[[Pl,te]]):null]}})}}});function G2(t){if(t==null)throw new TypeError("Cannot destructure "+t)}const r2e=lt({compatConfig:{MODE:3},name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function(e,n){return G2(n),function(){var r=e.prefixCls,i=e.visible,o=e.maskProps,l=e.motionName,a=Nd(l);return M(Io,a,{default:function(){return[qa(M("div",R({class:"".concat(r,"-mask")},o),null),[[Pl,i]])]}})}}}),kD=lt({compatConfig:{MODE:3},name:"Dialog",inheritAttrs:!1,props:lr(R(R({},W2()),{},{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function(){return null},focusTriggerAfterClose:!0}),setup:function(e,n){var r=n.attrs,i=n.slots,o=ke(),l=ke(),a=ke(),f=ke(e.visible),p=ke("vcDialogTitle".concat(e2e())),v=function(D){if(D){if(!Jf(l.value,document.activeElement)){var L;o.value=document.activeElement,(L=a.value)===null||L===void 0||L.focus()}}else{var B=f.value;if(f.value=!1,e.mask&&o.value&&e.focusTriggerAfterClose){try{o.value.focus({preventScroll:!0})}catch{}o.value=null}if(B){var N;(N=e.afterClose)===null||N===void 0||N.call(e)}}},g=function(D){var L;(L=e.onClose)===null||L===void 0||L.call(e,D)},_=ke(!1),b=ke(),S=function(){clearTimeout(b.value),_.value=!0},E=function(){b.value=setTimeout(function(){_.value=!1})},P=function(D){if(!e.maskClosable)return null;_.value?_.value=!1:l.value===D.target&&g(D)},k=function(D){if(e.keyboard&&D.keyCode===qt.ESC){D.stopPropagation(),g(D);return}e.visible&&D.keyCode===qt.TAB&&a.value.changeActive(!D.shiftKey)};return Lt(function(){return e.visible},function(){e.visible&&(f.value=!0)},{flush:"post"}),tr(function(){var I;clearTimeout(b.value),(I=e.scrollLocker)===null||I===void 0||I.unLock()}),Un(function(){var I;if((I=e.scrollLocker)===null||I===void 0||I.unLock(),f.value){var D;(D=e.scrollLocker)===null||D===void 0||D.lock()}}),function(){var I=e.prefixCls,D=e.mask,L=e.visible,B=e.maskTransitionName,N=e.maskAnimation,j=e.zIndex,H=e.wrapClassName,V=e.rootClassName,Z=e.wrapStyle,re=e.closable,q=e.maskProps,G=e.maskStyle,ae=e.transitionName,te=e.animation,Q=e.wrapProps,Y=e.title,X=Y===void 0?i.title:Y,ie=r.style,he=r.class;return M("div",R({class:["".concat(I,"-root"),V]},Bd(e,{data:!0})),[M(r2e,{prefixCls:I,visible:D&&L,motionName:TD(I,B,N),style:R({zIndex:j},G),maskProps:q},null),M("div",R({tabIndex:-1,onKeydown:k,class:mt("".concat(I,"-wrap"),H),ref:l,onClick:P,role:"dialog","aria-labelledby":X?p.value:null,style:R(R({zIndex:j},Z),{},{display:f.value?null:"none"})},Q),[M(n2e,R(R({},Qn(e,["scrollLocker"])),{},{style:ie,class:he,onMousedown:S,onMouseup:E,ref:a,closable:re,ariaId:p.value,prefixCls:I,visible:L,onClose:g,onVisibleChanged:v,motionName:TD(I,ae,te)}),i)])])}}});var i2e=W2(),a2e=lt({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:lr(i2e,{visible:!1}),setup:function(e,n){var r=n.attrs,i=n.slots,o=ke(e.visible);return vT({},{inTriggerContext:!1}),Lt(function(){return e.visible},function(){e.visible&&(o.value=!0)},{flush:"post"}),function(){var l=e.visible,a=e.getContainer,f=e.forceRender,p=e.destroyOnClose,v=p===void 0?!1:p,g=e.afterClose,_=R(R(R({},e),r),{},{ref:"_component",key:"dialog"});return a===!1?M(kD,R(R({},_),{},{getOpenCount:function(){return 2}}),i):!f&&v&&!o.value?null:M(XV,{visible:l,forceRender:f,getContainer:a},{default:function(S){return _=R(R(R({},_),S),{},{afterClose:function(){g==null||g(),o.value=!1}}),M(kD,_,i)}})}}});const oU=a2e;function o2e(t){var e=ke(null),n=Mr(R({},t)),r=ke([]),i=function(l){e.value===null&&(r.value=[],e.value=$n(function(){var a;r.value.forEach(function(f){a=R(R({},a),f)}),yr(n,a),e.value=null})),r.value.push(l)};return zn(function(){e.value&&$n.cancel(e.value)}),[n,i]}function AD(t,e,n,r){var i=e+n,o=(n-r)/2;if(n>r){if(e>0)return J({},t,o);if(e<0&&i<r)return J({},t,-o)}else if(e<0||i>r)return J({},t,e<0?o:-o);return{}}function s2e(t,e,n,r){var i=Jxe(),o=i.width,l=i.height,a=null;return t<=o&&e<=l?a={x:0,y:0}:(t>o||e>l)&&(a=R(R({},AD("x",n,t,o)),AD("y",r,e,l))),a}var ID=Symbol("previewGroupContext"),CE={provide:function(e){Xn(ID,e)},inject:function(){return Hn(ID,{isPreviewGroup:ke(!1),previewUrls:le(function(){return new Map}),setPreviewUrls:function(){},current:ke(null),setCurrent:function(){},setShowPreview:function(){},setMousePosition:function(){},registerImage:null,rootClassName:""})}},l2e=lt({compatConfig:{MODE:3},name:"PreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String,preview:{type:[Boolean,Object],default:!0},icons:{type:Object,default:function(){return{}}}},setup:function(e,n){var r=n.slots,i=le(function(){var H={visible:void 0,onVisibleChange:function(){},getContainer:void 0,current:0};return dn(e.preview)==="object"?cU(e.preview,H):H}),o=Mr(new Map),l=ke(),a=le(function(){return i.value.visible}),f=le(function(){return i.value.getContainer}),p=function(V,Z){var re,q;(re=(q=i.value).onVisibleChange)===null||re===void 0||re.call(q,V,Z)},v=Ii(!!a.value,{value:a,onChange:p}),g=Wt(v,2),_=g[0],b=g[1],S=ke(null),E=le(function(){return a.value!==void 0}),P=le(function(){return Array.from(o.keys())}),k=le(function(){return P.value[i.value.current]}),I=le(function(){return new Map(Array.from(o).filter(function(H){var V=Wt(H,2),Z=V[1].canPreview;return!!Z}).map(function(H){var V=Wt(H,2),Z=V[0],re=V[1].url;return[Z,re]}))}),D=function(V,Z){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;o.set(V,{url:Z,canPreview:re})},L=function(V){l.value=V},B=function(V){S.value=V},N=function(V,Z){var re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,q=function(){o.delete(V)};return o.set(V,{url:Z,canPreview:re}),q},j=function(V){V==null||V.stopPropagation(),b(!1),B(null)};return Lt(k,function(H){L(H)},{immediate:!0,flush:"post"}),Un(function(){_.value&&E.value&&L(k.value)},{flush:"post"}),CE.provide({isPreviewGroup:ke(!0),previewUrls:I,setPreviewUrls:D,current:l,setCurrent:L,setShowPreview:b,setMousePosition:B,registerImage:N}),function(){var H=yr({},(G2(i.value),i.value));return M(Kn,null,[r.default&&r.default(),M(lU,R(R({},H),{},{"ria-hidden":!_.value,visible:_.value,prefixCls:e.previewPrefixCls,onClose:j,mousePosition:S.value,src:I.value.get(l.value),icons:e.icons,getContainer:f.value}),null)])}}});const sU=l2e;var Rf={x:0,y:0},u2e=R(R({},W2()),{},{src:String,alt:String,rootClassName:String,icons:{type:Object,default:function(){return{}}}}),c2e=lt({compatConfig:{MODE:3},name:"Preview",inheritAttrs:!1,props:u2e,emits:["close","afterClose"],setup:function(e,n){var r=n.emit,i=n.attrs,o=Mr(e.icons),l=o.rotateLeft,a=o.rotateRight,f=o.zoomIn,p=o.zoomOut,v=o.close,g=o.left,_=o.right,b=ke(1),S=ke(0),E=o2e(Rf),P=Wt(E,2),k=P[0],I=P[1],D=function(){return r("close")},L=ke(),B=Mr({originX:0,originY:0,deltaX:0,deltaY:0}),N=ke(!1),j=CE.inject(),H=j.previewUrls,V=j.current,Z=j.isPreviewGroup,re=j.setCurrent,q=le(function(){return H.value.size}),G=le(function(){return Array.from(H.value.keys())}),ae=le(function(){return G.value.indexOf(V.value)}),te=le(function(){return Z.value?H.value.get(V.value):e.src}),Q=le(function(){return Z.value&&q.value>1}),Y=ke({wheelDirection:0}),X=function(){b.value=1,S.value=0,I(Rf),r("afterClose")},ie=function(){b.value++,I(Rf)},he=function(){b.value>1&&b.value--,I(Rf)},ce=function(){S.value+=90},we=function(){S.value-=90},be=function(at){at.preventDefault(),at.stopPropagation(),ae.value>0&&re(G.value[ae.value-1])},ve=function(at){at.preventDefault(),at.stopPropagation(),ae.value<q.value-1&&re(G.value[ae.value+1])},ge=mt(J({},"".concat(e.prefixCls,"-moving"),N.value)),Pe="".concat(e.prefixCls,"-operations-operation"),ye="".concat(e.prefixCls,"-operations-icon"),Ne=[{icon:v,onClick:D,type:"close"},{icon:f,onClick:ie,type:"zoomIn"},{icon:p,onClick:he,type:"zoomOut",disabled:le(function(){return b.value===1})},{icon:a,onClick:ce,type:"rotateRight"},{icon:l,onClick:we,type:"rotateLeft"}],Re=function(){if(e.visible&&N.value){var at=L.value.offsetWidth*b.value,xt=L.value.offsetHeight*b.value,ot=Ox(L.value),nt=ot.left,Ze=ot.top,ht=S.value%180!==0;N.value=!1;var vt=s2e(ht?xt:at,ht?at:xt,nt,Ze);vt&&I(R({},vt))}},Ge=function(at){at.button===0&&(at.preventDefault(),at.stopPropagation(),B.deltaX=at.pageX-k.x,B.deltaY=at.pageY-k.y,B.originX=k.x,B.originY=k.y,N.value=!0)},He=function(at){e.visible&&N.value&&I({x:at.pageX-B.deltaX,y:at.pageY-B.deltaY})},Ee=function(at){if(e.visible){at.preventDefault();var xt=at.deltaY;Y.value={wheelDirection:xt}}},pe=function(at){!e.visible||!Q.value||(at.preventDefault(),at.keyCode===qt.LEFT?ae.value>0&&re(G.value[ae.value-1]):at.keyCode===qt.RIGHT&&ae.value<q.value-1&&re(G.value[ae.value+1]))},Ie=function(){e.visible&&(b.value!==1&&(b.value=1),(k.x!==Rf.x||k.y!==Rf.y)&&I(Rf))},We=function(){};return zn(function(){Lt([function(){return e.visible},N],function(){We();var Qe,at,xt=_i(window,"mouseup",Re,!1),ot=_i(window,"mousemove",He,!1),nt=_i(window,"wheel",Ee,{passive:!1}),Ze=_i(window,"keydown",pe,!1);try{window.top!==window.self&&(Qe=_i(window.top,"mouseup",Re,!1),at=_i(window.top,"mousemove",He,!1))}catch{}We=function(){xt.remove(),ot.remove(),nt.remove(),Ze.remove(),Qe&&Qe.remove(),at&&at.remove()}},{flush:"post",immediate:!0}),Lt([Y],function(){var Qe=Y.value.wheelDirection;Qe>0?he():Qe<0&&ie()})}),_o(function(){We()}),function(){var Qe=e.visible,at=e.prefixCls,xt=e.rootClassName;return M(oU,R(R({},i),{},{transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:at,onClose:D,afterClose:X,visible:Qe,wrapClassName:ge,rootClassName:xt,getContainer:e.getContainer}),{default:function(){return[M("ul",{class:"".concat(e.prefixCls,"-operations")},[Ne.map(function(nt){var Ze=nt.icon,ht=nt.onClick,vt=nt.type,Ct=nt.disabled;return M("li",{class:mt(Pe,J({},"".concat(e.prefixCls,"-operations-operation-disabled"),Ct&&(Ct==null?void 0:Ct.value))),onClick:ht,key:vt},[io(Ze,{class:ye})])})]),M("div",{class:"".concat(e.prefixCls,"-img-wrapper"),style:{transform:"translate3d(".concat(k.x,"px, ").concat(k.y,"px, 0)")}},[M("img",{onMousedown:Ge,onDblclick:Ie,ref:L,class:"".concat(e.prefixCls,"-img"),src:te.value,alt:e.alt,style:{transform:"scale3d(".concat(b.value,", ").concat(b.value,", 1) rotate(").concat(S.value,"deg)")}},null)]),Q.value&&M("div",{class:mt("".concat(e.prefixCls,"-switch-left"),J({},"".concat(e.prefixCls,"-switch-left-disabled"),ae.value<=0)),onClick:be},[g]),Q.value&&M("div",{class:mt("".concat(e.prefixCls,"-switch-right"),J({},"".concat(e.prefixCls,"-switch-right-disabled"),ae.value>=q.value-1)),onClick:ve},[_])]}})}}});const lU=c2e;var d2e=["icons","maskClassName"],uU=function(){return{src:String,wrapperClassName:String,wrapperStyle:{type:Object,default:void 0},rootClassName:String,prefixCls:String,previewPrefixCls:String,previewMask:{type:[Boolean,Function],default:void 0},placeholder:Te.any,fallback:String,preview:{type:[Boolean,Object],default:!0},onClick:{type:Function},onError:{type:Function}}},cU=function(e,n){var r=R({},e);return Object.keys(n).forEach(function(i){e[i]===void 0&&(r[i]=n[i])}),r},f2e=0,dU=lt({compatConfig:{MODE:3},name:"Image",inheritAttrs:!1,props:uU(),emits:["click","error"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.emit,l=le(function(){return e.prefixCls}),a=le(function(){return"".concat(l.value,"-preview")}),f=le(function(){var ce={visible:void 0,onVisibleChange:function(){},getContainer:void 0};return dn(e.preview)==="object"?cU(e.preview,ce):ce}),p=le(function(){var ce;return(ce=f.value.src)!==null&&ce!==void 0?ce:e.src}),v=le(function(){return e.placeholder&&e.placeholder!==!0||i.placeholder}),g=le(function(){return f.value.visible}),_=le(function(){return f.value.getContainer}),b=le(function(){return g.value!==void 0}),S=function(we,be){var ve,ge;(ve=(ge=f.value).onVisibleChange)===null||ve===void 0||ve.call(ge,we,be)},E=Ii(!!g.value,{value:g,onChange:S}),P=Wt(E,2),k=P[0],I=P[1];Lt(k,function(ce,we){S(ce,we)});var D=ke(v.value?"loading":"normal");Lt(function(){return e.src},function(){D.value=v.value?"loading":"normal"});var L=ke(null),B=le(function(){return D.value==="error"}),N=CE.inject(),j=N.isPreviewGroup,H=N.setCurrent,V=N.setShowPreview,Z=N.setMousePosition,re=N.registerImage,q=ke(f2e++),G=le(function(){return e.preview&&!B.value}),ae=function(){D.value="normal"},te=function(we){D.value="error",o("error",we)},Q=function(we){if(!b.value){var be=Ox(we.target),ve=be.left,ge=be.top;j.value?(H(q.value),Z({x:ve,y:ge})):L.value={x:ve,y:ge}}j.value?V(!0):I(!0),o("click",we)},Y=function(){I(!1),b.value||(L.value=null)},X=ke(null);Lt(function(){return X},function(){D.value==="loading"&&X.value.complete&&(X.value.naturalWidth||X.value.naturalHeight)&&ae()});var ie=function(){};zn(function(){Lt([p,G],function(){if(ie(),!j.value)return function(){};ie=re(q.value,p.value,G.value),G.value||ie()},{flush:"post",immediate:!0})}),_o(function(){ie()});var he=function(we){return Qxe(we)?we+"px":we};return function(){var ce=e.prefixCls,we=e.wrapperClassName,be=e.fallback,ve=e.src,ge=e.placeholder,Pe=e.wrapperStyle,ye=e.rootClassName,Ne=r.width,Re=r.height,Ge=r.crossorigin,He=r.decoding,Ee=r.alt,pe=r.sizes,Ie=r.srcset,We=r.usemap,Qe=r.class,at=r.style,xt=f.value,ot=xt.icons,nt=xt.maskClassName,Ze=kn(xt,d2e),ht=mt(ce,we,ye,J({},"".concat(ce,"-error"),B.value)),vt=B.value&&be?be:p.value,Ct={crossorigin:Ge,decoding:He,alt:Ee,sizes:pe,srcset:Ie,usemap:We,class:mt("".concat(ce,"-img"),J({},"".concat(ce,"-img-placeholder"),ge===!0),Qe),style:R({height:Re},at)};return M(Kn,null,[M("div",{class:ht,onClick:G.value?Q:function(Nt){o("click",Nt)},style:R({width:he(Ne),height:he(Re)},Pe)},[M("img",R(R(R({},Ct),B.value&&be?{src:be}:{onLoad:ae,onError:te,src:ve}),{},{ref:X}),null),D.value==="loading"&&M("div",{"aria-hidden":"true",class:"".concat(ce,"-placeholder")},[ge||i.placeholder&&i.placeholder()]),i.previewMask&&G.value&&M("div",{class:["".concat(ce,"-mask"),nt]},[i.previewMask()])]),!j.value&&G.value&&M(lU,R(R({},Ze),{},{"aria-hidden":!k.value,visible:k.value,prefixCls:a.value,onClose:Y,mousePosition:L.value,src:vt,alt:Ee,getContainer:_.value,icons:ot,rootClassName:ye}),null)])}}});dU.PreviewGroup=sU;const h2e=dU;var fU={rotateLeft:M(Xte,null,null),rotateRight:M(ene,null,null),zoomIn:M(Ine,null,null),zoomOut:M(Lne,null,null),close:M(pu,null,null),left:M(vh,null,null),right:M(uc,null,null)},p2e=lt({compatConfig:{MODE:3},name:"AImagePreviewGroup",inheritAttrs:!1,props:{previewPrefixCls:String},setup:function(e,n){var r=n.attrs,i=n.slots,o=fn("image",e),l=o.getPrefixCls,a=le(function(){return l("image-preview",e.previewPrefixCls)});return function(){return M(sU,R(R({},R(R({},r),e)),{},{icons:fU,previewPrefixCls:a.value}),i)}}});const hU=p2e;var eh=lt({name:"AImage",inheritAttrs:!1,props:uU(),setup:function(e,n){var r=n.slots,i=n.attrs,o=fn("image",e),l=o.prefixCls,a=o.rootPrefixCls,f=o.configProvider,p=le(function(){var v=e.preview;if(v===!1)return v;var g=dn(v)==="object"?v:{};return R(R({icons:fU},g),{},{transitionName:Tl(a.value,"zoom",g.transitionName),maskTransitionName:Tl(a.value,"fade",g.maskTransitionName)})});return function(){var v,g=((v=f.locale)===null||v===void 0?void 0:v.Image)||Sl.Image,_=function(){return M("div",{class:"".concat(l.value,"-mask-info")},[M(r8,null,null),g==null?void 0:g.preview])},b=e.previewMask,S=b===void 0?r.previewMask||_:b;return M(h2e,R(R({},R(R(R({},i),e),{},{prefixCls:l.value})),{},{preview:p.value}),R(R({},r),{},{previewMask:typeof S=="function"?S:null}))}}});eh.PreviewGroup=hU;eh.install=function(t){return t.component(eh.name,eh),t.component(eh.PreviewGroup.name,eh.PreviewGroup),t};const v2e=eh;function u6(){return typeof BigInt=="function"}function d1(t){var e=t.trim(),n=e.startsWith("-");n&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var r=e||"0",i=r.split("."),o=i[0]||"0",l=i[1]||"0";o==="0"&&l==="0"&&(n=!1);var a=n?"-":"";return{negative:n,negativeStr:a,trimStr:r,integerStr:o,decimalStr:l,fullStr:"".concat(a).concat(r)}}function SE(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function H1(t){var e=String(t);if(SE(t)){var n=Number(e.slice(e.indexOf("e-")+2)),r=e.match(/\.(\d+)/);return r!=null&&r[1]&&(n+=r[1].length),n}return e.includes(".")&&EE(e)?e.length-e.indexOf(".")-1:0}function TE(t){var e=String(t);if(SE(t)){if(t>Number.MAX_SAFE_INTEGER)return String(u6()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(u6()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(H1(e))}return d1(e).fullStr}function EE(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}function pU(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}var m2e=function(){function t(e){if(Or(this,t),J(this,"origin",""),pU(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return Ir(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=Number(n);if(Number.isNaN(r))return this;var i=this.number+r;if(i>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(i<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var o=Math.max(H1(this.number),H1(r));return new t(i.toFixed(o))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toNumber()===(n==null?void 0:n.toNumber())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":TE(this.number):this.origin}}]),t}(),g2e=function(){function t(e){if(Or(this,t),J(this,"origin",""),pU(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var n=e;if(SE(n)&&(n=Number(n)),n=typeof n=="string"?n:TE(n),EE(n)){var r=d1(n);this.negative=r.negative;var i=r.trimStr.split(".");this.integer=BigInt(i[0]);var o=i[1]||"0";this.decimal=BigInt(o),this.decimalLen=o.length}else this.nan=!0}return Ir(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(n){var r="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(n,"0"));return BigInt(r)}},{key:"negate",value:function(){var n=new t(this.toString());return n.negative=!n.negative,n}},{key:"add",value:function(n){if(this.isInvalidate())return new t(n);var r=new t(n);if(r.isInvalidate())return this;var i=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),o=this.alignDecimal(i),l=r.alignDecimal(i),a=(o+l).toString(),f=d1(a),p=f.negativeStr,v=f.trimStr,g="".concat(p).concat(v.padStart(i+1,"0"));return new t("".concat(g.slice(0,-i),".").concat(g.slice(-i)))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(n){return this.toString()===(n==null?void 0:n.toString())}},{key:"lessEquals",value:function(n){return this.add(n.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return n?this.isInvalidate()?"":d1("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}();function Jl(t){return u6()?new g2e(t):new m2e(t)}function c6(t,e,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var i=d1(t),o=i.negativeStr,l=i.integerStr,a=i.decimalStr,f="".concat(e).concat(a),p="".concat(o).concat(l);if(n>=0){var v=Number(a[n]);if(v>=5&&!r){var g=Jl(t).add("".concat(o,"0.").concat("0".repeat(n)).concat(10-v));return c6(g.toString(),e,n,r)}return n===0?p:"".concat(p).concat(e).concat(a.padEnd(n,"0").slice(0,n))}return f===".0"?p:"".concat(p).concat(f)}var y2e=200,_2e=600;const b2e=lt({compatConfig:{MODE:3},name:"StepHandler",inheritAttrs:!1,props:{prefixCls:String,upDisabled:Boolean,downDisabled:Boolean,onStep:{type:Function}},slots:["upNode","downNode"],setup:function(e,n){var r=n.slots,i=n.emit,o=ke(),l=function(p,v){p.preventDefault(),i("step",v);function g(){i("step",v),o.value=setTimeout(g,y2e)}o.value=setTimeout(g,_2e)},a=function(){clearTimeout(o.value)};return tr(function(){a()}),function(){if(gT())return null;var f=e.prefixCls,p=e.upDisabled,v=e.downDisabled,g="".concat(f,"-handler"),_=mt(g,"".concat(g,"-up"),J({},"".concat(g,"-up-disabled"),p)),b=mt(g,"".concat(g,"-down"),J({},"".concat(g,"-down-disabled"),v)),S={unselectable:"on",role:"button",onMouseup:a,onMouseleave:a},E=r.upNode,P=r.downNode;return M("div",{class:"".concat(g,"-wrap")},[M("span",R(R({},S),{},{onMousedown:function(I){l(I,!0)},"aria-label":"Increase Value","aria-disabled":p,class:_}),[(E==null?void 0:E())||M("span",{unselectable:"on",class:"".concat(f,"-handler-up-inner")},null)]),M("span",R(R({},S),{},{onMousedown:function(I){l(I,!1)},"aria-label":"Decrease Value","aria-disabled":v,class:b}),[(P==null?void 0:P())||M("span",{unselectable:"on",class:"".concat(f,"-handler-down-inner")},null)])])}}});function x2e(t,e){var n=ke(null);function r(){try{var o=t.value,l=o.selectionStart,a=o.selectionEnd,f=o.value,p=f.substring(0,l),v=f.substring(a);n.value={start:l,end:a,value:f,beforeTxt:p,afterTxt:v}}catch{}}function i(){if(t.value&&n.value&&e.value)try{var o=t.value.value,l=n.value,a=l.beforeTxt,f=l.afterTxt,p=l.start,v=o.length;if(o.endsWith(f))v=o.length-n.value.afterTxt.length;else if(o.startsWith(a))v=a.length;else{var g=a[p-1],_=o.indexOf(g,p-1);_!==-1&&(v=_+1)}t.value.setSelectionRange(v,v)}catch(b){"Something warning of cursor restore. Please fire issue about this: ".concat(b.message)}}return[r,i]}const w2e=function(){var t=ke(0),e=function(){$n.cancel(t.value)};return tr(function(){e()}),function(n){e(),t.value=$n(function(){n()})}};var C2e=["prefixCls","min","max","step","defaultValue","value","disabled","readonly","keyboard","controls","autofocus","stringMode","parser","formatter","precision","decimalSeparator","onChange","onInput","onPressEnter","onStep","lazy","class","style"],OD=function(e,n){return e||n.isEmpty()?n.toString():n.toNumber()},DD=function(e){var n=Jl(e);return n.isInvalidate()?null:n},vU=function(){return{stringMode:{type:Boolean},defaultValue:{type:[String,Number]},value:{type:[String,Number]},prefixCls:{type:String},min:{type:[String,Number]},max:{type:[String,Number]},step:{type:[String,Number],default:1},tabindex:{type:Number},controls:{type:Boolean,default:!0},readonly:{type:Boolean},disabled:{type:Boolean},autofocus:{type:Boolean},keyboard:{type:Boolean,default:!0},parser:{type:Function},formatter:{type:Function},precision:{type:Number},decimalSeparator:{type:String},onInput:{type:Function},onChange:{type:Function},onPressEnter:{type:Function},onStep:{type:Function},onBlur:{type:Function},onFocus:{type:Function}}};const S2e=lt({compatConfig:{MODE:3},name:"InnerInputNumber",inheritAttrs:!1,props:R(R({},vU()),{},{lazy:Boolean}),slots:["upHandler","downHandler"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.emit,l=n.expose,a=ke(),f=ke(!1),p=ke(!1),v=ke(!1),g=ke(Jl(e.value));function _(ve){e.value===void 0&&(g.value=ve)}var b=function(ge,Pe){if(!Pe)return e.precision>=0?e.precision:Math.max(H1(ge),H1(e.step))},S=function(ge){var Pe=String(ge);if(e.parser)return e.parser(Pe);var ye=Pe;return e.decimalSeparator&&(ye=ye.replace(e.decimalSeparator,".")),ye.replace(/[^\w.-]+/g,"")},E=ke(""),P=function(ge,Pe){if(e.formatter)return e.formatter(ge,{userTyping:Pe,input:String(E.value)});var ye=typeof ge=="number"?TE(ge):ge;if(!Pe){var Ne=b(ye,Pe);if(EE(ye)&&(e.decimalSeparator||Ne>=0)){var Re=e.decimalSeparator||".";ye=c6(ye,Re,Ne)}}return ye},k=function(){var ve=e.value;return g.value.isInvalidate()&&["string","number"].includes(dn(ve))?Number.isNaN(ve)?"":ve:P(g.value.toString(),!1)}();E.value=k;function I(ve,ge){E.value=P(ve.isInvalidate()?ve.toString(!1):ve.toString(!ge),ge)}var D=le(function(){return DD(e.max)}),L=le(function(){return DD(e.min)}),B=le(function(){return!D.value||!g.value||g.value.isInvalidate()?!1:D.value.lessEquals(g.value)}),N=le(function(){return!L.value||!g.value||g.value.isInvalidate()?!1:g.value.lessEquals(L.value)}),j=x2e(a,f),H=Wt(j,2),V=H[0],Z=H[1],re=function(ge){return D.value&&!ge.lessEquals(D.value)?D.value:L.value&&!L.value.lessEquals(ge)?L.value:null},q=function(ge){return!re(ge)},G=function(ge,Pe){var ye=ge,Ne=q(ye)||ye.isEmpty();if(!ye.isEmpty()&&!Pe&&(ye=re(ye)||ye,Ne=!0),!e.readonly&&!e.disabled&&Ne){var Re=ye.toString(),Ge=b(Re,Pe);if(Ge>=0&&(ye=Jl(c6(Re,".",Ge))),!ye.equals(g.value)){var He;_(ye),(He=e.onChange)===null||He===void 0||He.call(e,ye.isEmpty()?null:OD(e.stringMode,ye)),e.value===void 0&&I(ye,Pe)}return ye}return g.value},ae=w2e(),te=function ve(ge){var Pe;if(V(),E.value=ge,!v.value){var ye=S(ge),Ne=Jl(ye);Ne.isNaN()||G(Ne,!0)}(Pe=e.onInput)===null||Pe===void 0||Pe.call(e,ge),ae(function(){var Re=ge;e.parser||(Re=ge.replace(//g,".")),Re!==ge&&ve(Re)})},Q=function(){v.value=!0},Y=function(){v.value=!1,te(a.value.value)},X=function(ge){te(ge.target.value)},ie=function(ge){var Pe,ye;if(!(ge&&B.value||!ge&&N.value)){p.value=!1;var Ne=Jl(e.step);ge||(Ne=Ne.negate());var Re=(g.value||Jl(0)).add(Ne.toString()),Ge=G(Re,!1);(Pe=e.onStep)===null||Pe===void 0||Pe.call(e,OD(e.stringMode,Ge),{offset:e.step,type:ge?"up":"down"}),(ye=a.value)===null||ye===void 0||ye.focus()}},he=function(ge){var Pe=Jl(S(E.value)),ye=Pe;Pe.isNaN()?ye=g.value:ye=G(Pe,ge),e.value!==void 0?I(g.value,!1):ye.isNaN()||I(ye,!1)},ce=function(ge){var Pe=ge.which;if(p.value=!0,Pe===qt.ENTER){var ye;v.value||(p.value=!1),he(!1),(ye=e.onPressEnter)===null||ye===void 0||ye.call(e,ge)}e.keyboard!==!1&&!v.value&&[qt.UP,qt.DOWN].includes(Pe)&&(ie(qt.UP===Pe),ge.preventDefault())},we=function(){p.value=!1},be=function(ge){he(!1),f.value=!1,p.value=!1,o("blur",ge)};return Lt(function(){return e.precision},function(){g.value.isInvalidate()||I(g.value,!1)},{flush:"post"}),Lt(function(){return e.value},function(){var ve=Jl(e.value);g.value=ve;var ge=Jl(S(E.value));(!ve.equals(ge)||!p.value||e.formatter)&&I(ve,p.value)},{flush:"post"}),Lt(E,function(){e.formatter&&Z()},{flush:"post"}),Lt(function(){return e.disabled},function(ve){ve&&(f.value=!1)}),l({focus:function(){var ge;(ge=a.value)===null||ge===void 0||ge.focus()},blur:function(){var ge;(ge=a.value)===null||ge===void 0||ge.blur()}}),function(){var ve,ge=R(R({},r),e),Pe=ge.prefixCls,ye=Pe===void 0?"rc-input-number":Pe,Ne=ge.min,Re=ge.max,Ge=ge.step,He=Ge===void 0?1:Ge;ge.defaultValue,ge.value;var Ee=ge.disabled,pe=ge.readonly;ge.keyboard;var Ie=ge.controls,We=Ie===void 0?!0:Ie,Qe=ge.autofocus;ge.stringMode,ge.parser,ge.formatter,ge.precision,ge.decimalSeparator,ge.onChange,ge.onInput,ge.onPressEnter,ge.onStep;var at=ge.lazy,xt=ge.class,ot=ge.style,nt=kn(ge,C2e),Ze=i.upHandler,ht=i.downHandler,vt="".concat(ye,"-input"),Ct={};return at?Ct.onChange=X:Ct.onInput=X,M("div",{class:mt(ye,xt,(ve={},J(ve,"".concat(ye,"-focused"),f.value),J(ve,"".concat(ye,"-disabled"),Ee),J(ve,"".concat(ye,"-readonly"),pe),J(ve,"".concat(ye,"-not-a-number"),g.value.isNaN()),J(ve,"".concat(ye,"-out-of-range"),!g.value.isInvalidate()&&!q(g.value)),ve)),style:ot,onKeydown:ce,onKeyup:we},[We&&M(b2e,{prefixCls:ye,upDisabled:B.value,downDisabled:N.value,onStep:ie},{upNode:Ze,downNode:ht}),M("div",{class:"".concat(vt,"-wrap")},[M("input",R(R(R({autofocus:Qe,autocomplete:"off",role:"spinbutton","aria-valuemin":Ne,"aria-valuemax":Re,"aria-valuenow":g.value.isInvalidate()?null:g.value.toString(),step:He},nt),{},{ref:a,class:vt,value:E.value,disabled:Ee,readonly:pe,onFocus:function(tn){f.value=!0,o("focus",tn)}},Ct),{},{onBlur:be,onCompositionstart:Q,onCompositionend:Y}),null)])])}}});function s4(t){return t!=null}var T2e=["class","bordered","readonly","style","addonBefore","addonAfter","prefix","valueModifiers"],RD=vU(),E2e=function(){return R(R({},RD),{},{size:{type:String},bordered:{type:Boolean,default:!0},placeholder:String,name:String,id:String,type:String,addonBefore:Te.any,addonAfter:Te.any,prefix:Te.any,"onUpdate:value":RD.onChange,valueModifiers:Object})},l4=lt({compatConfig:{MODE:3},name:"AInputNumber",inheritAttrs:!1,props:E2e(),slots:["addonBefore","addonAfter","prefix"],setup:function(e,n){var r=n.emit,i=n.expose,o=n.attrs,l=n.slots,a=_a(),f=fn("input-number",e),p=f.prefixCls,v=f.size,g=f.direction,_=ke(e.value===void 0?e.defaultValue:e.value),b=ke(!1);Lt(function(){return e.value},function(){_.value=e.value});var S=ke(null),E=function(){var B;(B=S.value)===null||B===void 0||B.focus()},P=function(){var B;(B=S.value)===null||B===void 0||B.blur()};i({focus:E,blur:P});var k=function(B){e.value===void 0&&(_.value=B),r("update:value",B),r("change",B),a.onFieldChange()},I=function(B){b.value=!1,r("blur",B),a.onFieldBlur()},D=function(B){b.value=!0,r("focus",B)};return function(){var L,B,N,j,H=R(R({},o),e),V=H.class,Z=H.bordered,re=H.readonly,q=H.style,G=H.addonBefore,ae=G===void 0?(L=l.addonBefore)===null||L===void 0?void 0:L.call(l):G,te=H.addonAfter,Q=te===void 0?(B=l.addonAfter)===null||B===void 0?void 0:B.call(l):te,Y=H.prefix,X=Y===void 0?(N=l.prefix)===null||N===void 0?void 0:N.call(l):Y,ie=H.valueModifiers,he=ie===void 0?{}:ie,ce=kn(H,T2e),we=p.value,be=v.value,ve=mt((j={},J(j,"".concat(we,"-lg"),be==="large"),J(j,"".concat(we,"-sm"),be==="small"),J(j,"".concat(we,"-rtl"),g.value==="rtl"),J(j,"".concat(we,"-readonly"),re),J(j,"".concat(we,"-borderless"),!Z),j),V),ge=M(S2e,R(R({},Qn(ce,["size","defaultValue"])),{},{ref:S,lazy:!!he.lazy,value:_.value,class:ve,prefixCls:we,readonly:re,onChange:k,onBlur:I,onFocus:D}),{upHandler:function(){return M(_ne,{class:"".concat(we,"-handler-up-inner")},null)},downHandler:function(){return M(n0,{class:"".concat(we,"-handler-down-inner")},null)}}),Pe=s4(ae)||s4(Q);if(s4(X)){var ye,Ne=mt("".concat(we,"-affix-wrapper"),(ye={},J(ye,"".concat(we,"-affix-wrapper-focused"),b.value),J(ye,"".concat(we,"-affix-wrapper-disabled"),e.disabled),J(ye,"".concat(we,"-affix-wrapper-rtl"),g.value==="rtl"),J(ye,"".concat(we,"-affix-wrapper-readonly"),re),J(ye,"".concat(we,"-affix-wrapper-borderless"),!Z),J(ye,"".concat(V),!Pe&&V),ye));ge=M("div",{class:Ne,style:q,onMouseup:function(){return S.value.focus()}},[M("span",{class:"".concat(we,"-prefix")},[X]),ge])}if(Pe){var Re,Ge="".concat(we,"-group"),He="".concat(Ge,"-addon"),Ee=ae?M("div",{class:He},[ae]):null,pe=Q?M("div",{class:He},[Q]):null,Ie=mt("".concat(we,"-wrapper"),Ge,J({},"".concat(Ge,"-rtl"),g.value==="rtl")),We=mt("".concat(we,"-group-wrapper"),(Re={},J(Re,"".concat(we,"-group-wrapper-sm"),be==="small"),J(Re,"".concat(we,"-group-wrapper-lg"),be==="large"),J(Re,"".concat(we,"-group-wrapper-rtl"),g.value==="rtl"),Re),V);ge=M("div",{class:We,style:q},[M("div",{class:Ie},[Ee,ge,pe])])}return Pr(ge,{style:q})}}});const P2e=yr(l4,{install:function(e){return e.component(l4.name,l4),e}});var PE=function(){return{prefixCls:String,hasSider:{type:Boolean,default:void 0},tagName:String}};function q2(t){var e=t.suffixCls,n=t.tagName,r=t.name;return function(i){var o=lt({compatConfig:{MODE:3},name:r,props:PE(),setup:function(a,f){var p=f.slots,v=fn(e,a),g=v.prefixCls;return function(){var _=R(R({},a),{},{prefixCls:g.value,tagName:n});return M(i,_,p)}}});return o}}var ME=lt({compatConfig:{MODE:3},props:PE(),setup:function(e,n){var r=n.slots;return function(){return M(e.tagName,{class:e.prefixCls},r)}}}),M2e=lt({compatConfig:{MODE:3},props:PE(),setup:function(e,n){var r=n.slots,i=fn("",e),o=i.direction,l=ke([]),a={addSider:function(v){l.value=[].concat(Jt(l.value),[v])},removeSider:function(v){l.value=l.value.filter(function(g){return g!==v})}};Xn(F$,a);var f=le(function(){var p,v=e.prefixCls,g=e.hasSider;return p={},J(p,"".concat(v),!0),J(p,"".concat(v,"-has-sider"),typeof g=="boolean"?g:l.value.length>0),J(p,"".concat(v,"-rtl"),o.value==="rtl"),p});return function(){var p=e.tagName;return M(p,{class:f.value},r)}}}),k2e=q2({suffixCls:"layout",tagName:"section",name:"ALayout"})(M2e),db=q2({suffixCls:"layout-header",tagName:"header",name:"ALayoutHeader"})(ME),fb=q2({suffixCls:"layout-footer",tagName:"footer",name:"ALayoutFooter"})(ME),hb=q2({suffixCls:"layout-content",tagName:"main",name:"ALayoutContent"})(ME);const u4=k2e;var LD={xs:"479.98px",sm:"575.98px",md:"767.98px",lg:"991.98px",xl:"1199.98px",xxl:"1599.98px",xxxl:"1999.98px"},A2e=function(){return{prefixCls:String,collapsible:{type:Boolean,default:void 0},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean,default:void 0},reverseArrow:{type:Boolean,default:void 0},zeroWidthTriggerStyle:{type:Object,default:void 0},trigger:Te.any,width:Te.oneOfType([Te.number,Te.string]),collapsedWidth:Te.oneOfType([Te.number,Te.string]),breakpoint:Te.oneOf(Di("xs","sm","md","lg","xl","xxl","xxxl")),theme:Te.oneOf(Di("light","dark")).def("dark"),onBreakpoint:Function,onCollapse:Function}},I2e=function(){var t=0;return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return t+=1,"".concat(e).concat(t)}}();const pb=lt({compatConfig:{MODE:3},name:"ALayoutSider",inheritAttrs:!1,props:lr(A2e(),{collapsible:!1,defaultCollapsed:!1,reverseArrow:!1,width:200,collapsedWidth:80}),emits:["breakpoint","update:collapsed","collapse"],setup:function(e,n){var r=n.emit,i=n.attrs,o=n.slots,l=fn("layout-sider",e),a=l.prefixCls,f=Hn(F$,void 0),p=ke(!!(e.collapsed!==void 0?e.collapsed:e.defaultCollapsed)),v=ke(!1);Lt(function(){return e.collapsed},function(){p.value=!!e.collapsed}),Xn(L$,p);var g=function(I,D){e.collapsed===void 0&&(p.value=I),r("update:collapsed",I),r("collapse",I,D)},_=ke(function(k){v.value=k.matches,r("breakpoint",k.matches),p.value!==k.matches&&g(k.matches,"responsive")}),b;function S(k){return _.value(k)}var E=I2e("ant-sider-");f&&f.addSider(E),zn(function(){Lt(function(){return e.breakpoint},function(){try{var k;(k=b)===null||k===void 0||k.removeEventListener("change",S)}catch{var I;(I=b)===null||I===void 0||I.removeListener(S)}if(typeof window<"u"){var D=window,L=D.matchMedia;if(L&&e.breakpoint&&e.breakpoint in LD){b=L("(max-width: ".concat(LD[e.breakpoint],")"));try{b.addEventListener("change",S)}catch{b.addListener(S)}S(b)}}},{immediate:!0})}),tr(function(){try{var k;(k=b)===null||k===void 0||k.removeEventListener("change",S)}catch{var I;(I=b)===null||I===void 0||I.removeListener(S)}f&&f.removeSider(E)});var P=function(){g(!p.value,"clickTrigger")};return function(){var k,I,D,L=a.value,B=e.collapsedWidth,N=e.width,j=e.reverseArrow,H=e.zeroWidthTriggerStyle,V=e.trigger,Z=V===void 0?(k=o.trigger)===null||k===void 0?void 0:k.call(o):V,re=e.collapsible,q=e.theme,G=p.value?B:N,ae=x$(G)?"".concat(G,"px"):String(G),te=parseFloat(String(B||0))===0?M("span",{onClick:P,class:mt("".concat(L,"-zero-width-trigger"),"".concat(L,"-zero-width-trigger-").concat(j?"right":"left")),style:H},[Z||M(yJ,null,null)]):null,Q={expanded:M(j?uc:vh,null,null),collapsed:M(j?vh:uc,null,null)},Y=p.value?"collapsed":"expanded",X=Q[Y],ie=Z!==null?te||M("div",{class:"".concat(L,"-trigger"),onClick:P,style:{width:ae}},[Z||X]):null,he=[i.style,{flex:"0 0 ".concat(ae),maxWidth:ae,minWidth:ae,width:ae}],ce=mt(L,"".concat(L,"-").concat(q),(I={},J(I,"".concat(L,"-collapsed"),!!p.value),J(I,"".concat(L,"-has-trigger"),re&&Z!==null&&!te),J(I,"".concat(L,"-below"),!!v.value),J(I,"".concat(L,"-zero-width"),parseFloat(ae)===0),I),i.class);return M("aside",R(R({},i),{},{class:ce,style:he}),[M("div",{class:"".concat(L,"-children")},[(D=o.default)===null||D===void 0?void 0:D.call(o)]),re||v.value&&te?ie:null])}}});var O2e=db,D2e=fb,R2e=pb,L2e=hb;const F2e=yr(u4,{Header:db,Footer:fb,Content:hb,Sider:pb,install:function(e){return e.component(u4.name,u4),e.component(db.name,db),e.component(fb.name,fb),e.component(pb.name,pb),e.component(hb.name,hb),e}});var N2e=["class","style"],B2e=function(){return{prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:Te.any,delay:Number,indicator:Te.any}},vb=null;function z2e(t,e){return!!t&&!!e&&!isNaN(Number(e))}function $2e(t){var e=t.indicator;vb=typeof e=="function"?e:function(){return M(e,null,null)}}const Ed=lt({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:lr(B2e(),{size:"default",spinning:!0,wrapperClassName:""}),setup:function(){return{originalUpdateSpinning:null,configProvider:Hn("configProvider",Y8)}},data:function(){var e=this.spinning,n=this.delay,r=z2e(e,n);return{sSpinning:e&&!r}},created:function(){this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props)},mounted:function(){this.updateSpinning()},updated:function(){var e=this;Yn(function(){e.debouncifyUpdateSpinning(),e.updateSpinning()})},beforeUnmount:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(e){var n=e||this.$props,r=n.delay;r&&(this.cancelExistingSpin(),this.updateSpinning=B2(this.originalUpdateSpinning,r))},updateSpinning:function(){var e=this.spinning,n=this.sSpinning;n!==e&&(this.sSpinning=e)},cancelExistingSpin:function(){var e=this.updateSpinning;e&&e.cancel&&e.cancel()},renderIndicator:function(e){var n="".concat(e,"-dot"),r=V8(this,"indicator");return r===null?null:(Array.isArray(r)&&(r=r.length===1?r[0]:r),Ga(r)?io(r,{class:n}):vb&&Ga(vb())?io(vb(),{class:n}):M("span",{class:"".concat(n," ").concat(e,"-dot-spin")},[M("i",{class:"".concat(e,"-dot-item")},null),M("i",{class:"".concat(e,"-dot-item")},null),M("i",{class:"".concat(e,"-dot-item")},null),M("i",{class:"".concat(e,"-dot-item")},null)]))}},render:function(){var e,n,r,i=this.$props,o=i.size,l=i.prefixCls,a=i.tip,f=a===void 0?(e=(n=this.$slots).tip)===null||e===void 0?void 0:e.call(n):a,p=i.wrapperClassName,v=this.$attrs,g=v.class,_=v.style,b=kn(v,N2e),S=this.configProvider,E=S.getPrefixCls,P=S.direction,k=E("spin",l),I=this.sSpinning,D=(r={},J(r,k,!0),J(r,"".concat(k,"-sm"),o==="small"),J(r,"".concat(k,"-lg"),o==="large"),J(r,"".concat(k,"-spinning"),I),J(r,"".concat(k,"-show-text"),!!f),J(r,"".concat(k,"-rtl"),P==="rtl"),J(r,g,!!g),r),L=M("div",R(R({},b),{},{style:_,class:D}),[this.renderIndicator(k),f?M("div",{class:"".concat(k,"-text")},[f]):null]),B=i0(this);if(B&&B.length){var N,j=(N={},J(N,"".concat(k,"-container"),!0),J(N,"".concat(k,"-blur"),I),N);return M("div",{class:["".concat(k,"-nested-loading"),p]},[I&&M("div",{key:"loading"},[L]),M("div",{class:j,key:"container"},[B])])}return L}});Ed.setDefaultIndicator=$2e;Ed.install=function(t){return t.component(Ed.name,Ed),t};const j2e=lt({compatConfig:{MODE:3},inheritAttrs:!1,props:ST(),Option:Od.Option,setup:function(e,n){var r=n.attrs,i=n.slots;return function(){var o=R(R({},e),{},{size:"small"},r);return M(Od,o,i)}}}),Lf=lt({compatConfig:{MODE:3},name:"Pager",inheritAttrs:!1,props:{rootPrefixCls:String,page:Number,active:{type:Boolean,default:void 0},last:{type:Boolean,default:void 0},locale:Te.object,showTitle:{type:Boolean,default:void 0},itemRender:{type:Function,default:function(){}},onClick:{type:Function},onKeypress:{type:Function}},eimt:["click","keypress"],setup:function(e,n){var r=n.emit,i=n.attrs,o=function(){r("click",e.page)},l=function(f){r("keypress",f,o,e.page)};return function(){var a,f=e.showTitle,p=e.page,v=e.itemRender,g=i.class,_=i.style,b="".concat(e.rootPrefixCls,"-item"),S=mt(b,"".concat(b,"-").concat(e.page),(a={},J(a,"".concat(b,"-active"),e.active),J(a,"".concat(b,"-disabled"),!e.page),a),g);return M("li",{onClick:o,onKeypress:l,title:f?String(p):null,tabindex:"0",class:S,style:_},[v({page:p,type:"page",originalElement:M("a",{rel:"nofollow"},[p])})])}}}),Uf={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},V2e=lt({compatConfig:{MODE:3},props:{disabled:{type:Boolean,default:void 0},changeSize:Function,quickGo:Function,selectComponentClass:Te.any,current:Number,pageSizeOptions:Te.array.def(["10","20","50","100"]),pageSize:Number,buildOptionText:Function,locale:Te.object,rootPrefixCls:String,selectPrefixCls:String,goButton:Te.any},setup:function(e){var n=ke(""),r=le(function(){return!n.value||isNaN(n.value)?void 0:Number(n.value)}),i=function(v){return"".concat(v.value," ").concat(e.locale.items_per_page)},o=function(v){var g=v.target,_=g.value,b=g.composing;v.isComposing||b||n.value===_||(n.value=_)},l=function(v){var g=e.goButton,_=e.quickGo,b=e.rootPrefixCls;if(!(g||n.value===""))if(v.relatedTarget&&(v.relatedTarget.className.indexOf("".concat(b,"-item-link"))>=0||v.relatedTarget.className.indexOf("".concat(b,"-item"))>=0)){n.value="";return}else _(r.value),n.value=""},a=function(v){n.value!==""&&(v.keyCode===Uf.ENTER||v.type==="click")&&(e.quickGo(r.value),n.value="")},f=le(function(){var p=e.pageSize,v=e.pageSizeOptions;return v.some(function(g){return g.toString()===p.toString()})?v:v.concat([p.toString()]).sort(function(g,_){var b=isNaN(Number(g))?0:Number(g),S=isNaN(Number(_))?0:Number(_);return b-S})});return function(){var p=e.rootPrefixCls,v=e.locale,g=e.changeSize,_=e.quickGo,b=e.goButton,S=e.selectComponentClass,E=e.selectPrefixCls,P=e.pageSize,k=e.disabled,I="".concat(p,"-options"),D=null,L=null,B=null;if(!g&&!_)return null;if(g&&S){var N=e.buildOptionText||i,j=f.value.map(function(H,V){return M(S.Option,{key:V,value:H},{default:function(){return[N({value:H})]}})});D=M(S,{disabled:k,prefixCls:E,showSearch:!1,class:"".concat(I,"-size-changer"),optionLabelProp:"children",value:(P||f.value[0]).toString(),onChange:function(V){return g(Number(V))},getPopupContainer:function(V){return V.parentNode}},{default:function(){return[j]}})}return _&&(b&&(B=typeof b=="boolean"?M("button",{type:"button",onClick:a,onKeyup:a,disabled:k,class:"".concat(I,"-quick-jumper-button")},[v.jump_to_confirm]):M("span",{onClick:a,onKeyup:a},[b])),L=M("div",{class:"".concat(I,"-quick-jumper")},[v.jump_to,qa(M("input",{disabled:k,type:"text",value:n.value,onInput:o,onChange:o,onKeyup:a,onBlur:l},null),[[Kv]]),v.page,B])),M("li",{class:"".concat(I)},[D,L])}}}),U2e={items_per_page:"/",jump_to:"",jump_to_confirm:"",page:"",prev_page:"",next_page:"",prev_5:" 5 ",next_5:" 5 ",prev_3:" 3 ",next_3:" 3 "};var H2e=["class"];function K2e(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function W2e(t){var e=t.originalElement;return e}function ju(t,e,n){var r=typeof t>"u"?e.statePageSize:t;return Math.floor((n.total-1)/r)+1}const G2e=lt({compatConfig:{MODE:3},name:"Pagination",mixins:[Mh],inheritAttrs:!1,props:{disabled:{type:Boolean,default:void 0},prefixCls:Te.string.def("rc-pagination"),selectPrefixCls:Te.string.def("rc-select"),current:Number,defaultCurrent:Te.number.def(1),total:Te.number.def(0),pageSize:Number,defaultPageSize:Te.number.def(10),hideOnSinglePage:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:void 0},showLessItems:{type:Boolean,default:!1},selectComponentClass:Te.any,showPrevNextJumpers:{type:Boolean,default:!0},showQuickJumper:Te.oneOfType([Te.looseBool,Te.object]).def(!1),showTitle:{type:Boolean,default:!0},pageSizeOptions:Te.arrayOf(Te.oneOfType([Te.number,Te.string])),buildOptionText:Function,showTotal:Function,simple:{type:Boolean,default:void 0},locale:Te.object.def(U2e),itemRender:Te.func.def(W2e),prevIcon:Te.any,nextIcon:Te.any,jumpPrevIcon:Te.any,jumpNextIcon:Te.any,totalBoundaryShowSizeChanger:Te.number.def(50)},data:function(){var e=this.$props,n=cx([this.current,this.defaultCurrent]),r=cx([this.pageSize,this.defaultPageSize]);return n=Math.min(n,ju(r,void 0,e)),{stateCurrent:n,stateCurrentInputValue:n,statePageSize:r}},watch:{current:function(e){this.setState({stateCurrent:e,stateCurrentInputValue:e})},pageSize:function(e){var n={},r=this.stateCurrent,i=ju(e,this.$data,this.$props);r=r>i?i:r,Ju(this,"current")||(n.stateCurrent=r,n.stateCurrentInputValue=r),n.statePageSize=e,this.setState(n)},stateCurrent:function(e,n){var r=this;this.$nextTick(function(){if(r.$refs.paginationNode){var i=r.$refs.paginationNode.querySelector(".".concat(r.prefixCls,"-item-").concat(n));i&&document.activeElement===i&&i.blur()}})},total:function(){var e={},n=ju(this.pageSize,this.$data,this.$props);if(Ju(this,"current")){var r=Math.min(this.current,n);e.stateCurrent=r,e.stateCurrentInputValue=r}else{var i=this.stateCurrent;i===0&&n>0?i=1:i=Math.min(this.stateCurrent,n),e.stateCurrent=i}this.setState(e)}},methods:{getJumpPrevPage:function(){return Math.max(1,this.stateCurrent-(this.showLessItems?3:5))},getJumpNextPage:function(){return Math.min(ju(void 0,this.$data,this.$props),this.stateCurrent+(this.showLessItems?3:5))},getItemIcon:function(e,n){var r=this.$props.prefixCls,i=V8(this,e,this.$props)||M("button",{type:"button","aria-label":n,class:"".concat(r,"-item-link")},null);return i},getValidValue:function(e){var n=e.target.value,r=ju(void 0,this.$data,this.$props),i=this.$data.stateCurrentInputValue,o;return n===""?o=n:isNaN(Number(n))?o=i:n>=r?o=r:o=Number(n),o},isValid:function(e){return K2e(e)&&e!==this.stateCurrent},shouldDisplayQuickJumper:function(){var e=this.$props,n=e.showQuickJumper,r=e.pageSize,i=e.total;return i<=r?!1:n},handleKeyDown:function(e){(e.keyCode===Uf.ARROW_UP||e.keyCode===Uf.ARROW_DOWN)&&e.preventDefault()},handleKeyUp:function(e){if(!(e.isComposing||e.target.composing)){var n=this.getValidValue(e),r=this.stateCurrentInputValue;n!==r&&this.setState({stateCurrentInputValue:n}),e.keyCode===Uf.ENTER?this.handleChange(n):e.keyCode===Uf.ARROW_UP?this.handleChange(n-1):e.keyCode===Uf.ARROW_DOWN&&this.handleChange(n+1)}},changePageSize:function(e){var n=this.stateCurrent,r=n,i=ju(e,this.$data,this.$props);n=n>i?i:n,i===0&&(n=this.stateCurrent),typeof e=="number"&&(Ju(this,"pageSize")||this.setState({statePageSize:e}),Ju(this,"current")||this.setState({stateCurrent:n,stateCurrentInputValue:n})),this.__emit("update:pageSize",e),n!==r&&this.__emit("update:current",n),this.__emit("showSizeChange",n,e),this.__emit("change",n,e)},handleChange:function(e){var n=this.$props.disabled,r=e;if(this.isValid(r)&&!n){var i=ju(void 0,this.$data,this.$props);return r>i?r=i:r<1&&(r=1),Ju(this,"current")||this.setState({stateCurrent:r,stateCurrentInputValue:r}),this.__emit("update:current",r),this.__emit("change",r,this.statePageSize),r}return this.stateCurrent},prev:function(){this.hasPrev()&&this.handleChange(this.stateCurrent-1)},next:function(){this.hasNext()&&this.handleChange(this.stateCurrent+1)},jumpPrev:function(){this.handleChange(this.getJumpPrevPage())},jumpNext:function(){this.handleChange(this.getJumpNextPage())},hasPrev:function(){return this.stateCurrent>1},hasNext:function(){return this.stateCurrent<ju(void 0,this.$data,this.$props)},getShowSizeChanger:function(){var e=this.$props,n=e.showSizeChanger,r=e.total,i=e.totalBoundaryShowSizeChanger;return typeof n<"u"?n:r>i},runIfEnter:function(e,n){if(e.key==="Enter"||e.charCode===13){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n.apply(void 0,i)}},runIfEnterPrev:function(e){this.runIfEnter(e,this.prev)},runIfEnterNext:function(e){this.runIfEnter(e,this.next)},runIfEnterJumpPrev:function(e){this.runIfEnter(e,this.jumpPrev)},runIfEnterJumpNext:function(e){this.runIfEnter(e,this.jumpNext)},handleGoTO:function(e){(e.keyCode===Uf.ENTER||e.type==="click")&&this.handleChange(this.stateCurrentInputValue)},renderPrev:function(e){var n=this.$props.itemRender,r=n({page:e,type:"prev",originalElement:this.getItemIcon("prevIcon","prev page")}),i=!this.hasPrev();return la(r)?Pr(r,i?{disabled:i}:{}):r},renderNext:function(e){var n=this.$props.itemRender,r=n({page:e,type:"next",originalElement:this.getItemIcon("nextIcon","next page")}),i=!this.hasNext();return la(r)?Pr(r,i?{disabled:i}:{}):r}},render:function(){var e,n=this.$props,r=n.prefixCls,i=n.disabled,o=n.hideOnSinglePage,l=n.total,a=n.locale,f=n.showQuickJumper,p=n.showLessItems,v=n.showTitle,g=n.showTotal,_=n.simple,b=n.itemRender,S=n.showPrevNextJumpers,E=n.jumpPrevIcon,P=n.jumpNextIcon,k=n.selectComponentClass,I=n.selectPrefixCls,D=n.pageSizeOptions,L=this.stateCurrent,B=this.statePageSize,N=$8(this.$attrs).extraAttrs,j=N.class,H=kn(N,H2e);if(o===!0&&this.total<=B)return null;var V=ju(void 0,this.$data,this.$props),Z=[],re=null,q=null,G=null,ae=null,te=null,Q=f&&f.goButton,Y=p?1:2,X=L-1>0?L-1:0,ie=L+1<V?L+1:V,he=this.hasPrev(),ce=this.hasNext();if(_)return Q&&(typeof Q=="boolean"?te=M("button",{type:"button",onClick:this.handleGoTO,onKeyup:this.handleGoTO},[a.jump_to_confirm]):te=M("span",{onClick:this.handleGoTO,onKeyup:this.handleGoTO},[Q]),te=M("li",{title:v?"".concat(a.jump_to).concat(L,"/").concat(V):null,class:"".concat(r,"-simple-pager")},[te])),M("ul",R({class:mt("".concat(r," ").concat(r,"-simple"),J({},"".concat(r,"-disabled"),i),j)},H),[M("li",{title:v?a.prev_page:null,onClick:this.prev,tabindex:he?0:null,onKeypress:this.runIfEnterPrev,class:mt("".concat(r,"-prev"),J({},"".concat(r,"-disabled"),!he)),"aria-disabled":!he},[this.renderPrev(X)]),M("li",{title:v?"".concat(L,"/").concat(V):null,class:"".concat(r,"-simple-pager")},[qa(M("input",{type:"text",value:this.stateCurrentInputValue,disabled:i,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onInput:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"},null),[[Kv]]),M("span",{class:"".concat(r,"-slash")},[vo("")]),V]),M("li",{title:v?a.next_page:null,onClick:this.next,tabindex:ce?0:null,onKeypress:this.runIfEnterNext,class:mt("".concat(r,"-next"),J({},"".concat(r,"-disabled"),!ce)),"aria-disabled":!ce},[this.renderNext(ie)]),te]);if(V<=3+Y*2){var we={locale:a,rootPrefixCls:r,showTitle:v,itemRender:b,onClick:this.handleChange,onKeypress:this.runIfEnter};V||Z.push(M(Lf,R(R({},we),{},{key:"noPager",page:1,class:"".concat(r,"-item-disabled")}),null));for(var be=1;be<=V;be+=1){var ve=L===be;Z.push(M(Lf,R(R({},we),{},{key:be,page:be,active:ve}),null))}}else{var ge=p?a.prev_3:a.prev_5,Pe=p?a.next_3:a.next_5;S&&(re=M("li",{title:this.showTitle?ge:null,key:"prev",onClick:this.jumpPrev,tabindex:"0",onKeypress:this.runIfEnterJumpPrev,class:mt("".concat(r,"-jump-prev"),J({},"".concat(r,"-jump-prev-custom-icon"),!!E))},[b({page:this.getJumpPrevPage(),type:"jump-prev",originalElement:this.getItemIcon("jumpPrevIcon","prev page")})]),q=M("li",{title:this.showTitle?Pe:null,key:"next",tabindex:"0",onClick:this.jumpNext,onKeypress:this.runIfEnterJumpNext,class:mt("".concat(r,"-jump-next"),J({},"".concat(r,"-jump-next-custom-icon"),!!P))},[b({page:this.getJumpNextPage(),type:"jump-next",originalElement:this.getItemIcon("jumpNextIcon","next page")})])),ae=M(Lf,{locale:a,last:!0,rootPrefixCls:r,onClick:this.handleChange,onKeypress:this.runIfEnter,key:V,page:V,active:!1,showTitle:v,itemRender:b},null),G=M(Lf,{locale:a,rootPrefixCls:r,onClick:this.handleChange,onKeypress:this.runIfEnter,key:1,page:1,active:!1,showTitle:v,itemRender:b},null);var ye=Math.max(1,L-Y),Ne=Math.min(L+Y,V);L-1<=Y&&(Ne=1+Y*2),V-L<=Y&&(ye=V-Y*2);for(var Re=ye;Re<=Ne;Re+=1){var Ge=L===Re;Z.push(M(Lf,{locale:a,rootPrefixCls:r,onClick:this.handleChange,onKeypress:this.runIfEnter,key:Re,page:Re,active:Ge,showTitle:v,itemRender:b},null))}L-1>=Y*2&&L!==1+2&&(Z[0]=M(Lf,{locale:a,rootPrefixCls:r,onClick:this.handleChange,onKeypress:this.runIfEnter,key:ye,page:ye,class:"".concat(r,"-item-after-jump-prev"),active:!1,showTitle:this.showTitle,itemRender:b},null),Z.unshift(re)),V-L>=Y*2&&L!==V-2&&(Z[Z.length-1]=M(Lf,{locale:a,rootPrefixCls:r,onClick:this.handleChange,onKeypress:this.runIfEnter,key:Ne,page:Ne,class:"".concat(r,"-item-before-jump-next"),active:!1,showTitle:this.showTitle,itemRender:b},null),Z.push(q)),ye!==1&&Z.unshift(G),Ne!==V&&Z.push(ae)}var He=null;g&&(He=M("li",{class:"".concat(r,"-total-text")},[g(l,[l===0?0:(L-1)*B+1,L*B>l?l:L*B])]));var Ee=!he||!V,pe=!ce||!V,Ie=this.buildOptionText||this.$slots.buildOptionText;return M("ul",R(R({unselectable:"on",ref:"paginationNode"},H),{},{class:mt((e={},J(e,"".concat(r),!0),J(e,"".concat(r,"-disabled"),i),e),j)}),[He,M("li",{title:v?a.prev_page:null,onClick:this.prev,tabindex:Ee?null:0,onKeypress:this.runIfEnterPrev,class:mt("".concat(r,"-prev"),J({},"".concat(r,"-disabled"),Ee)),"aria-disabled":Ee},[this.renderPrev(X)]),Z,M("li",{title:v?a.next_page:null,onClick:this.next,tabindex:pe?null:0,onKeypress:this.runIfEnterNext,class:mt("".concat(r,"-next"),J({},"".concat(r,"-disabled"),pe)),"aria-disabled":pe},[this.renderNext(ie)]),M(V2e,{disabled:i,locale:a,rootPrefixCls:r,selectComponentClass:k,selectPrefixCls:I,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:L,pageSize:B,pageSizeOptions:D,buildOptionText:Ie||null,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:Q},null)])}});var q2e=["size","itemRender","buildOptionText","selectComponentClass","responsive"],Y2e=function(){return{total:Number,defaultCurrent:Number,disabled:{type:Boolean,default:void 0},current:Number,defaultPageSize:Number,pageSize:Number,hideOnSinglePage:{type:Boolean,default:void 0},showSizeChanger:{type:Boolean,default:void 0},pageSizeOptions:Array,buildOptionText:Function,showQuickJumper:{type:[Boolean,Object],default:void 0},showTotal:Function,size:String,simple:{type:Boolean,default:void 0},locale:Object,prefixCls:String,selectPrefixCls:String,totalBoundaryShowSizeChanger:Number,selectComponentClass:String,itemRender:Function,role:String,responsive:Boolean,showLessItems:{type:Boolean,default:void 0},onChange:Function,onShowSizeChange:Function,"onUpdate:current":Function,"onUpdate:pageSize":Function}};const X2e=lt({compatConfig:{MODE:3},name:"APagination",inheritAttrs:!1,props:Y2e(),setup:function(e,n){var r=n.slots,i=n.attrs,o=fn("pagination",e),l=o.prefixCls,a=o.configProvider,f=o.direction,p=le(function(){return a.getPrefixCls("select",e.selectPrefixCls)}),v=Wv(),g=vu("Pagination",zB,An(e,"locale")),_=Wt(g,1),b=_[0],S=function(P){var k=M("span",{class:"".concat(P,"-item-ellipsis")},[vo("")]),I=M("button",{class:"".concat(P,"-item-link"),type:"button",tabindex:-1},[M(vh,null,null)]),D=M("button",{class:"".concat(P,"-item-link"),type:"button",tabindex:-1},[M(uc,null,null)]),L=M("a",{rel:"nofollow",class:"".concat(P,"-item-link")},[M("div",{class:"".concat(P,"-item-container")},[M(dee,{class:"".concat(P,"-item-link-icon")},null),k])]),B=M("a",{rel:"nofollow",class:"".concat(P,"-item-link")},[M("div",{class:"".concat(P,"-item-container")},[M(vee,{class:"".concat(P,"-item-link-icon")},null),k])]);if(f.value==="rtl"){var N=[D,I];I=N[0],D=N[1];var j=[B,L];L=j[0],B=j[1]}return{prevIcon:I,nextIcon:D,jumpPrevIcon:L,jumpNextIcon:B}};return function(){var E,P=e.size,k=e.itemRender,I=k===void 0?r.itemRender:k,D=e.buildOptionText,L=D===void 0?r.buildOptionText:D,B=e.selectComponentClass,N=e.responsive,j=kn(e,q2e),H=P==="small"||!!((E=v.value)!==null&&E!==void 0&&E.xs&&!P&&N),V=R(R(R(R({},j),S(l.value)),{},{prefixCls:l.value,selectPrefixCls:p.value,selectComponentClass:B||(H?j2e:Od),locale:b.value,buildOptionText:L},i),{},{class:mt(J({mini:H},"".concat(l.value,"-rtl"),f.value==="rtl"),i.class),itemRender:I});return M(G2e,V,null)}}}),Y2=Ki(X2e);var Z2e=function(){return{avatar:Te.any,description:Te.any,prefixCls:String,title:Te.any}};const mU=lt({compatConfig:{MODE:3},name:"AListItemMeta",props:Z2e(),displayName:"AListItemMeta",__ANT_LIST_ITEM_META:!0,slots:["avatar","description","title"],setup:function(e,n){var r=n.slots,i=fn("list",e),o=i.prefixCls;return function(){var l,a,f,p,v,g,_="".concat(o.value,"-item-meta"),b=(l=e.title)!==null&&l!==void 0?l:(a=r.title)===null||a===void 0?void 0:a.call(r),S=(f=e.description)!==null&&f!==void 0?f:(p=r.description)===null||p===void 0?void 0:p.call(r),E=(v=e.avatar)!==null&&v!==void 0?v:(g=r.avatar)===null||g===void 0?void 0:g.call(r),P=M("div",{class:"".concat(o.value,"-item-meta-content")},[b&&M("h4",{class:"".concat(o.value,"-item-meta-title")},[b]),S&&M("div",{class:"".concat(o.value,"-item-meta-description")},[S])]);return M("div",{class:_},[E&&M("div",{class:"".concat(o.value,"-item-meta-avatar")},[E]),(b||S)&&P])}}});var gU=Symbol("ListContextKey"),Q2e=["class"],J2e=function(){return{prefixCls:String,extra:Te.any,actions:Te.array,grid:Object,colStyle:{type:Object,default:void 0}}};const yU=lt({compatConfig:{MODE:3},name:"AListItem",inheritAttrs:!1,Meta:mU,props:J2e(),slots:["actions","extra"],setup:function(e,n){var r=n.slots,i=n.attrs,o=Hn(gU,{grid:ke(),itemLayout:ke()}),l=o.itemLayout,a=o.grid,f=fn("list",e),p=f.prefixCls,v=function(){var b,S=((b=r.default)===null||b===void 0?void 0:b.call(r))||[],E;return S.forEach(function(P){Moe(P)&&!a0(P)&&(E=!0)}),E&&S.length>1},g=function(){var b,S,E=(b=e.extra)!==null&&b!==void 0?b:(S=r.extra)===null||S===void 0?void 0:S.call(r);return l.value==="vertical"?!!E:!v()};return function(){var _,b,S,E,P,k=i.class,I=kn(i,Q2e),D=p.value,L=(_=e.extra)!==null&&_!==void 0?_:(b=r.extra)===null||b===void 0?void 0:b.call(r),B=(S=r.default)===null||S===void 0?void 0:S.call(r),N=(E=e.actions)!==null&&E!==void 0?E:Wr((P=r.actions)===null||P===void 0?void 0:P.call(r));N=N&&!Array.isArray(N)?[N]:N;var j=N&&N.length>0&&M("ul",{class:"".concat(D,"-item-action"),key:"actions"},[N.map(function(Z,re){return M("li",{key:"".concat(D,"-item-action-").concat(re)},[Z,re!==N.length-1&&M("em",{class:"".concat(D,"-item-action-split")},null)])})]),H=a.value?"div":"li",V=M(H,R(R({},I),{},{class:mt("".concat(D,"-item"),J({},"".concat(D,"-item-no-flex"),!g()),k)}),{default:function(){return[l.value==="vertical"&&L?[M("div",{class:"".concat(D,"-item-main"),key:"content"},[B,j]),M("div",{class:"".concat(D,"-item-extra"),key:"extra"},[L])]:[B,j,Pr(L,{key:"extra"})]]}});return a.value?M(N2,{flex:1,style:e.colStyle},{default:function(){return[V]}}):V}}});var ewe=function(){return{bordered:{type:Boolean,default:void 0},dataSource:Te.array,extra:Te.any,grid:{type:Object,default:void 0},itemLayout:String,loading:{type:[Boolean,Object],default:void 0},loadMore:Te.any,pagination:{type:[Boolean,Object],default:void 0},prefixCls:String,rowKey:[String,Number,Function],renderItem:Function,size:String,split:{type:Boolean,default:void 0},header:Te.any,footer:Te.any,locale:{type:Object}}},od=lt({compatConfig:{MODE:3},name:"AList",Item:yU,props:lr(ewe(),{dataSource:[],bordered:!1,split:!0,loading:!1,pagination:!1}),slots:["extra","loadMore","renderItem","header","footer"],setup:function(e,n){var r,i,o=n.slots;Xn(gU,{grid:An(e,"grid"),itemLayout:An(e,"itemLayout")});var l={current:1,total:0},a=fn("list",e),f=a.prefixCls,p=a.direction,v=a.renderEmpty,g=le(function(){return e.pagination&&dn(e.pagination)==="object"?e.pagination:{}}),_=ke((r=g.value.defaultCurrent)!==null&&r!==void 0?r:1),b=ke((i=g.value.defaultPageSize)!==null&&i!==void 0?i:10);Lt(g,function(){"current"in g.value&&(_.value=g.value.current),"pageSize"in g.value&&(b.value=g.value.pageSize)});var S=[],E=function(ae){return function(te,Q){_.value=te,b.value=Q,g.value[ae]&&g.value[ae](te,Q)}},P=E("onChange"),k=E("onShowSizeChange"),I=function(ae){var te;return M("div",{class:"".concat(f.value,"-empty-text")},[((te=e.locale)===null||te===void 0?void 0:te.emptyText)||ae("List")])},D=le(function(){return typeof e.loading=="boolean"?{spinning:e.loading}:e.loading}),L=le(function(){return D.value&&D.value.spinning}),B=le(function(){var G="";switch(e.size){case"large":G="lg";break;case"small":G="sm";break}return G}),N=le(function(){var G;return G={},J(G,"".concat(f.value),!0),J(G,"".concat(f.value,"-vertical"),e.itemLayout==="vertical"),J(G,"".concat(f.value,"-").concat(B.value),B.value),J(G,"".concat(f.value,"-split"),e.split),J(G,"".concat(f.value,"-bordered"),e.bordered),J(G,"".concat(f.value,"-loading"),L.value),J(G,"".concat(f.value,"-grid"),!!e.grid),J(G,"".concat(f.value,"-rtl"),p.value==="rtl"),G}),j=le(function(){var G=R(R({},l),{},{total:e.dataSource.length,current:_.value,pageSize:b.value},e.pagination||{}),ae=Math.ceil(G.total/G.pageSize);return G.current>ae&&(G.current=ae),G}),H=le(function(){var G=Jt(e.dataSource);return e.pagination&&e.dataSource.length>(j.value.current-1)*j.value.pageSize&&(G=Jt(e.dataSource).splice((j.value.current-1)*j.value.pageSize,j.value.pageSize)),G}),V=Wv(),Z=ms(function(){for(var G=0;G<yh.length;G+=1){var ae=yh[G];if(V.value[ae])return ae}}),re=le(function(){if(e.grid){var G=Z.value&&e.grid[Z.value]?e.grid[Z.value]:e.grid.column;if(G)return{width:"".concat(100/G,"%"),maxWidth:"".concat(100/G,"%")}}}),q=function(ae,te){var Q,Y=(Q=e.renderItem)!==null&&Q!==void 0?Q:o.renderItem;if(!Y)return null;var X,ie=dn(e.rowKey);return ie==="function"?X=e.rowKey(ae):ie==="string"||ie==="number"?X=ae[e.rowKey]:X=ae.key,X||(X="list-item-".concat(te)),S[te]=X,Y({item:ae,index:te})};return function(){var G,ae,te,Q,Y,X,ie,he=(G=e.loadMore)!==null&&G!==void 0?G:(ae=o.loadMore)===null||ae===void 0?void 0:ae.call(o),ce=(te=e.footer)!==null&&te!==void 0?te:(Q=o.footer)===null||Q===void 0?void 0:Q.call(o),we=(Y=e.header)!==null&&Y!==void 0?Y:(X=o.header)===null||X===void 0?void 0:X.call(o),be=Wr((ie=o.default)===null||ie===void 0?void 0:ie.call(o)),ve=!!(he||e.pagination||ce),ge=R(R({},N.value),{},J({},"".concat(f.value,"-something-after-last-item"),ve)),Pe=e.pagination?M("div",{class:"".concat(f.value,"-pagination")},[M(Y2,R(R({},j.value),{},{onChange:P,onShowSizeChange:k}),null)]):null,ye=L.value&&M("div",{style:{minHeight:"53px"}},null);if(H.value.length>0){S.length=0;var Ne=H.value.map(function(He,Ee){return q(He,Ee)}),Re=Ne.map(function(He,Ee){return M("div",{key:S[Ee],style:re.value},[He])});ye=e.grid?M(cE,{gutter:e.grid.gutter},{default:function(){return[Re]}}):M("ul",{class:"".concat(f.value,"-items")},[Ne])}else!be.length&&!L.value&&(ye=I(v.value));var Ge=j.value.position||"bottom";return M("div",{class:ge},[(Ge==="top"||Ge==="both")&&Pe,we&&M("div",{class:"".concat(f.value,"-header")},[we]),M(Ed,D.value,{default:function(){return[ye,be]}}),ce&&M("div",{class:"".concat(f.value,"-footer")},[ce]),he||(Ge==="bottom"||Ge==="both")&&Pe])}}});od.install=function(t){return t.component(od.name,od),t.component(od.Item.name,od.Item),t.component(od.Item.Meta.name,od.Item.Meta),t};const twe=od;function nwe(t){var e=t.selectionStart;return t.value.slice(0,e)}function rwe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=Array.isArray(e)?e:[e];return n.reduce(function(r,i){var o=t.lastIndexOf(i);return o>r.location?{location:o,prefix:i}:r},{location:-1,prefix:""})}function FD(t){return(t||"").toLowerCase()}function iwe(t,e,n){var r=t[0];if(!r||r===n)return t;for(var i=t,o=e.length,l=0;l<o;l+=1)if(FD(i[l])!==FD(e[l])){i=i.slice(l);break}else l===o-1&&(i=i.slice(o));return i}function awe(t,e){var n=e.measureLocation,r=e.prefix,i=e.targetText,o=e.selectionStart,l=e.split,a=t.slice(0,n);a[a.length-l.length]===l&&(a=a.slice(0,a.length-l.length)),a&&(a="".concat(a).concat(l));var f=iwe(t.slice(o),i.slice(o-n-r.length),l);f.slice(0,l.length)===l&&(f=f.slice(l.length));var p="".concat(a).concat(r).concat(i).concat(l);return{text:"".concat(p).concat(f),selectionLocation:p.length}}function owe(t,e){t.setSelectionRange(e,e),t.blur(),t.focus()}function swe(t,e){var n=e.split;return!n||t.indexOf(n)===-1}function lwe(t,e){var n=e.value,r=n===void 0?"":n,i=t.toLowerCase();return r.toLowerCase().indexOf(i)!==-1}var uwe=Symbol("MentionsContextKey");const _U=uwe;function cwe(){}const dwe=lt({compatConfig:{MODE:3},name:"DropdownMenu",props:{prefixCls:String,options:{type:Array,default:function(){return[]}}},slots:["notFoundContent","option"],setup:function(e,n){var r=n.slots,i=Hn(_U,{activeIndex:ke(),loading:ke(!1)}),o=i.activeIndex,l=i.setActiveIndex,a=i.selectOption,f=i.onFocus,p=f===void 0?cwe:f,v=i.loading,g,_=function(S){clearTimeout(g),g=setTimeout(function(){p(S)})};return tr(function(){clearTimeout(g)}),function(){var b,S=e.prefixCls,E=e.options,P=E[o.value]||{};return M(Ui,{prefixCls:"".concat(S,"-menu"),activeKey:P.value,onSelect:function(I){var D=I.key,L=E.find(function(B){var N=B.value;return N===D});a(L)},onMousedown:_},{default:function(){return[!v.value&&E.map(function(I,D){var L,B,N=I.value,j=I.disabled,H=I.label,V=H===void 0?I.value:H;return M(sc,{key:N,disabled:j,onMouseenter:function(){l(D)}},{default:function(){return[(L=(B=r.option)===null||B===void 0?void 0:B.call(r,I))!==null&&L!==void 0?L:typeof V=="function"?V({value:N,disabled:j}):V]}})}),!v.value&&E.length===0?M(sc,{key:"notFoundContent",disabled:!0},{default:function(){return[(b=r.notFoundContent)===null||b===void 0?void 0:b.call(r)]}}):null,v.value&&M(sc,{key:"loading",disabled:!0},{default:function(){return[M(Ed,{size:"small"},null)]}})]}})}}});var fwe={bottomRight:{points:["tl","br"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},bottomLeft:{points:["tr","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topRight:{points:["bl","tr"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["br","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}};const hwe=lt({compatConfig:{MODE:3},name:"KeywordTrigger",props:{loading:{type:Boolean,default:void 0},options:{type:Array,default:function(){return[]}},prefixCls:String,placement:String,visible:{type:Boolean,default:void 0},transitionName:String,getPopupContainer:Function,direction:String},slots:["notFoundContent","option"],setup:function(e,n){var r=n.slots,i=function(){return"".concat(e.prefixCls,"-dropdown")},o=function(){var f=e.options;return M(dwe,{prefixCls:i(),options:f},{notFoundContent:r.notFoundContent,option:r.option})},l=le(function(){var a=e.placement,f=e.direction,p="topRight";return f==="rtl"?p=a==="top"?"topLeft":"bottomLeft":p=a==="top"?"topRight":"bottomRight",p});return function(){var a=e.visible,f=e.transitionName,p=e.getPopupContainer;return M(Hv,{prefixCls:i(),popupVisible:a,popup:o(),popupPlacement:l.value,popupTransitionName:f,builtinPlacements:fwe,getPopupContainer:p},{default:r.default})}}});var pwe=Di("top","bottom"),bU={autofocus:{type:Boolean,default:void 0},prefix:Te.oneOfType([Te.string,Te.arrayOf(Te.string)]),prefixCls:String,value:String,disabled:{type:Boolean,default:void 0},split:String,transitionName:String,placement:Te.oneOf(pwe),character:Te.any,characterRender:Function,filterOption:{type:[Boolean,Function]},validateSearch:Function,getPopupContainer:{type:Function},options:{type:Array,default:function(){}},loading:{type:Boolean,default:void 0},rows:[Number,String],direction:{type:String}},xU=R({},bU),wU={prefix:"@",split:" ",rows:1,validateSearch:swe,filterOption:function(){return lwe}};lr(xU,wU);var vwe=["prefixCls","placement","transitionName","getPopupContainer","direction"],mwe=["class","style"];function ND(){}const gwe=lt({compatConfig:{MODE:3},name:"Mentions",inheritAttrs:!1,props:lr(xU,wU),slots:["notFoundContent","option"],emits:["change","select","search","focus","blur","pressenter"],setup:function(e,n){var r=n.emit,i=n.attrs,o=n.expose,l=n.slots,a=ke(null),f=ke(null),p=ke(),v=Mr({value:e.value||"",measuring:!1,measureLocation:0,measureText:null,measurePrefix:"",activeIndex:0,isFocus:!1});Un(function(){v.value=e.value});var g=function(G){r("change",G)},_=function(G){var ae=G.target,te=ae.value,Q=ae.composing,Y=G.isComposing;Y||Q||g(te)},b=function(G,ae,te){yr(v,{measuring:!0,measureText:G,measurePrefix:ae,measureLocation:te,activeIndex:0})},S=function(G){yr(v,{measuring:!1,measureLocation:0,measureText:null}),G==null||G()},E=function(G){var ae=G.which;if(v.measuring){if(ae===qt.UP||ae===qt.DOWN){var te=V.value.length,Q=ae===qt.UP?-1:1,Y=(v.activeIndex+Q+te)%te;v.activeIndex=Y,G.preventDefault()}else if(ae===qt.ESC)S();else if(ae===qt.ENTER){if(G.preventDefault(),!V.value.length){S();return}var X=V.value[v.activeIndex];N(X)}}},P=function(G){var ae=G.key,te=G.which,Q=v.measureText,Y=v.measuring,X=e.prefix,ie=e.validateSearch,he=G.target;if(!he.composing){var ce=nwe(he),we=rwe(ce,X),be=we.location,ve=we.prefix;if([qt.ESC,qt.UP,qt.DOWN,qt.ENTER].indexOf(te)===-1)if(be!==-1){var ge=ce.slice(be+ve.length),Pe=ie(ge,e),ye=!!H(ge).length;Pe?(ae===ve||ae==="Shift"||Y||ge!==Q&&ye)&&b(ge,ve,be):Y&&S(),Pe&&r("search",ge,ve)}else Y&&S()}},k=function(G){v.measuring||r("pressenter",G)},I=function(G){L(G)},D=function(G){B(G)},L=function(G){clearTimeout(p.value);var ae=v.isFocus;!ae&&G&&r("focus",G),v.isFocus=!0},B=function(G){p.value=setTimeout(function(){v.isFocus=!1,S(),r("blur",G)},100)},N=function(G){var ae=e.split,te=G.value,Q=te===void 0?"":te,Y=awe(v.value,{measureLocation:v.measureLocation,targetText:Q,prefix:v.measurePrefix,selectionStart:f.value.selectionStart,split:ae}),X=Y.text,ie=Y.selectionLocation;g(X),S(function(){owe(f.value,ie)}),r("select",G,v.measurePrefix)},j=function(G){v.activeIndex=G},H=function(G){var ae=G||v.measureText||"",te=e.filterOption,Q=e.options.filter(function(Y){return te?te(ae,Y):!0});return Q},V=le(function(){return H()}),Z=function(){f.value.focus()},re=function(){f.value.blur()};return o({blur:re,focus:Z}),Xn(_U,{activeIndex:An(v,"activeIndex"),setActiveIndex:j,selectOption:N,onFocus:L,onBlur:B,loading:An(e,"loading")}),yo(function(){Yn(function(){v.measuring&&(a.value.scrollTop=f.value.scrollTop)})}),function(){var q=v.measureLocation,G=v.measurePrefix,ae=v.measuring,te=e.prefixCls,Q=e.placement,Y=e.transitionName,X=e.getPopupContainer,ie=e.direction,he=kn(e,vwe),ce=i.class,we=i.style,be=kn(i,mwe),ve=Qn(he,["value","prefix","split","validateSearch","filterOption","options","loading"]),ge=R(R(R({},ve),be),{},{onChange:ND,onSelect:ND,value:v.value,onInput:_,onBlur:D,onKeydown:E,onKeyup:P,onFocus:I,onPressenter:k});return M("div",{class:mt(te,ce),style:we},[qa(M("textarea",R({ref:f},ge),null),[[Kv]]),ae&&M("div",{ref:a,class:"".concat(te,"-measure")},[v.value.slice(0,q),M(hwe,{prefixCls:te,transitionName:Y,placement:Q,options:ae?V.value:[],visible:!0,direction:ie,getPopupContainer:X},{default:function(){return[M("span",null,[G])]},notFoundContent:l.notFoundContent,option:l.option}),v.value.slice(q+G.length)])])}}});var CU={value:String,disabled:Boolean,label:[String,Number,Function]},SU={name:"Option",props:CU,render:function(e,n){var r,i=n.slots;return(r=i.default)===null||r===void 0?void 0:r.call(i)}};lt(R({compatConfig:{MODE:3}},SU));var ywe=["disabled","getPopupContainer","rows","id"],_we=["class"],bwe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.prefix,i=r===void 0?"@":r,o=n.split,l=o===void 0?" ":o,a=Array.isArray(i)?i:[i];return e.split(l).map(function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=null;return a.some(function(v){var g=f.slice(0,v.length);return g===v?(p=v,!0):!1}),p!==null?{prefix:p,value:f.slice(p.length)}:null}).filter(function(f){return!!f&&!!f.value})},xwe=function(){return R(R({},bU),{},{loading:{type:Boolean,default:void 0},onFocus:{type:Function},onBlur:{type:Function},onSelect:{type:Function},onChange:{type:Function},onPressenter:{type:Function},"onUpdate:value":{type:Function},notFoundContent:Te.any,defaultValue:String,id:String})},c4=lt({compatConfig:{MODE:3},name:"AMentions",inheritAttrs:!1,props:xwe(),slots:["notFoundContent","option"],setup:function(e,n){var r,i,o=n.slots,l=n.emit,a=n.attrs,f=n.expose,p=fn("mentions",e),v=p.prefixCls,g=p.renderEmpty,_=p.direction,b=ke(!1),S=ke(null),E=ke((r=(i=e.value)!==null&&i!==void 0?i:e.defaultValue)!==null&&r!==void 0?r:""),P=_a();Lt(function(){return e.value},function(V){E.value=V});var k=function(Z){b.value=!0,l("focus",Z)},I=function(Z){b.value=!1,l("blur",Z),P.onFieldBlur()},D=function(){for(var Z=arguments.length,re=new Array(Z),q=0;q<Z;q++)re[q]=arguments[q];l.apply(void 0,["select"].concat(re)),b.value=!0},L=function(Z){e.value===void 0&&(E.value=Z),l("update:value",Z),l("change",Z),P.onFieldChange()},B=function(){var Z=e.notFoundContent;return Z!==void 0?Z:o.notFoundContent?o.notFoundContent():g.value("Select")},N=function(){var Z;return Wr(((Z=o.default)===null||Z===void 0?void 0:Z.call(o))||[]).map(function(re){var q,G;return R(R({},OB(re)),{},{label:(q=re.children)===null||q===void 0||(G=q.default)===null||G===void 0?void 0:G.call(q)})})},j=function(){S.value.focus()},H=function(){S.value.blur()};return f({focus:j,blur:H}),function(){var V,Z=e.disabled,re=e.getPopupContainer,q=e.rows,G=q===void 0?1:q,ae=e.id,te=ae===void 0?P.id.value:ae,Q=kn(e,ywe),Y=a.class,X=kn(a,_we),ie=Qn(Q,["defaultValue","onUpdate:value","prefixCls"]),he=mt(Y,(V={},J(V,"".concat(v.value,"-disabled"),Z),J(V,"".concat(v.value,"-focused"),b.value),J(V,"".concat(v.value,"-rtl"),_.value==="rtl"),V)),ce=R(R(R({prefixCls:v.value},ie),{},{disabled:Z,direction:_.value,filterOption:e.filterOption,getPopupContainer:re,options:e.options||N(),class:he},X),{},{rows:G,onChange:L,onSelect:D,onFocus:k,onBlur:I,ref:S,value:E.value,id:te});return M(gwe,ce,{notFoundContent:B,option:o.option})}}}),mb=lt(R(R({compatConfig:{MODE:3}},SU),{},{name:"AMentionsOption",props:CU}));const wwe=yr(c4,{Option:mb,getMentions:bwe,install:function(e){return e.component(c4.name,c4),e.component(mb.name,mb),e}});var Cwe=["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"],d6=null,Swe=function(e){d6={x:e.pageX,y:e.pageY},setTimeout(function(){return d6=null},100)};Gj()&&_i(document.documentElement,"click",Swe,!0);var Twe=function(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:Te.any,closable:{type:Boolean,default:void 0},closeIcon:Te.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:Te.any,okText:Te.any,okType:String,cancelText:Te.any,icon:Te.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},qp=[];const Ha=lt({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:lr(Twe(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function(e,n){var r=n.emit,i=n.slots,o=n.attrs,l=vu("Modal"),a=Wt(l,1),f=a[0],p=fn("modal",e),v=p.prefixCls,g=p.rootPrefixCls,_=p.direction,b=p.getPopupContainer,S=function(I){r("update:visible",!1),r("cancel",I),r("change",!1)},E=function(I){r("ok",I)},P=function(){var I,D,L=e.okText,B=L===void 0?(I=i.okText)===null||I===void 0?void 0:I.call(i):L,N=e.okType,j=e.cancelText,H=j===void 0?(D=i.cancelText)===null||D===void 0?void 0:D.call(i):j,V=e.confirmLoading;return M(Kn,null,[M(Ma,R({onClick:S},e.cancelButtonProps),{default:function(){return[H||f.value.cancelText]}}),M(Ma,R(R({},hx(N)),{},{loading:V,onClick:E},e.okButtonProps),{default:function(){return[B||f.value.okText]}})])};return function(){var k,I;e.prefixCls;var D=e.visible,L=e.wrapClassName,B=e.centered,N=e.getContainer,j=e.closeIcon,H=j===void 0?(k=i.closeIcon)===null||k===void 0?void 0:k.call(i):j,V=e.focusTriggerAfterClose,Z=V===void 0?!0:V,re=kn(e,Cwe),q=mt(L,(I={},J(I,"".concat(v.value,"-centered"),!!B),J(I,"".concat(v.value,"-wrap-rtl"),_.value==="rtl"),I));return M(oU,R(R(R({},re),o),{},{getContainer:N||b.value,prefixCls:v.value,wrapClassName:q,visible:D,mousePosition:d6,onClose:S,focusTriggerAfterClose:Z,transitionName:Tl(g.value,"zoom",e.transitionName),maskTransitionName:Tl(g.value,"fade",e.maskTransitionName)}),R(R({},i),{},{footer:i.footer||P,closeIcon:function(){return M("span",{class:"".concat(v.value,"-close-x")},[H||M(pu,{class:"".concat(v.value,"-close-icon")},null)])}}))}}});var Ewe=function(){var e=ke(!1);return tr(function(){e.value=!0}),e};const TU=Ewe;var Pwe={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Object,emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function BD(t){return!!(t&&t.then)}const f6=lt({compatConfig:{MODE:3},name:"ActionButton",props:Pwe,setup:function(e,n){var r=n.slots,i=ke(!1),o=ke(),l=ke(!1),a,f=TU();zn(function(){e.autofocus&&(a=setTimeout(function(){var g;return(g=o.value.$el)===null||g===void 0?void 0:g.focus()}))}),tr(function(){clearTimeout(a)});var p=function(_){var b=e.close;BD(_)&&(l.value=!0,_.then(function(){f.value||(l.value=!1),b.apply(void 0,arguments),i.value=!1},function(S){console.error(S),f.value||(l.value=!1),i.value=!1}))},v=function(_){var b=e.actionFn,S=e.close,E=S===void 0?function(){}:S;if(!i.value){if(i.value=!0,!b){E();return}var P;if(e.emitEvent){if(P=b(_),e.quitOnNullishReturnValue&&!BD(P)){i.value=!1,E(_);return}}else if(b.length)P=b(E),i.value=!1;else if(P=b(),!P){E();return}p(P)}};return function(){var g=e.type,_=e.prefixCls,b=e.buttonProps;return M(Ma,R(R(R({},hx(g)),{},{onClick:v,loading:l.value,prefixCls:_},b),{},{ref:o}),r)}}});function xg(t){return typeof t=="function"?t():t}const Mwe=lt({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function(e,n){var r=n.attrs,i=vu("Modal"),o=Wt(i,1),l=o[0];return function(){var a=e.icon,f=e.onCancel,p=e.onOk,v=e.close,g=e.closable,_=g===void 0?!1:g,b=e.zIndex,S=e.afterClose,E=e.visible,P=e.keyboard,k=e.centered,I=e.getContainer,D=e.maskStyle,L=e.okButtonProps,B=e.cancelButtonProps,N=e.okCancel,j=N===void 0?!0:N,H=e.width,V=H===void 0?416:H,Z=e.mask,re=Z===void 0?!0:Z,q=e.maskClosable,G=q===void 0?!1:q,ae=e.type,te=e.title,Q=e.content,Y=e.direction,X=e.closeIcon,ie=e.modalRender,he=e.focusTriggerAfterClose,ce=e.rootPrefixCls,we=e.bodyStyle,be=e.wrapClassName,ve=e.okType||"primary",ge=e.prefixCls||"ant-modal",Pe="".concat(ge,"-confirm"),ye=r.style||{},Ne=xg(e.okText)||(j?l.value.okText:l.value.justOkText),Re=xg(e.cancelText)||l.value.cancelText,Ge=e.autoFocusButton===null?!1:e.autoFocusButton||"ok",He=mt(Pe,"".concat(Pe,"-").concat(ae),"".concat(ge,"-").concat(ae),J({},"".concat(Pe,"-rtl"),Y==="rtl"),r.class),Ee=j&&M(f6,{actionFn:f,close:v,autofocus:Ge==="cancel",buttonProps:B,prefixCls:"".concat(ce,"-btn")},{default:function(){return[Re]}});return M(Ha,{prefixCls:ge,class:He,wrapClassName:mt(J({},"".concat(Pe,"-centered"),!!k),be),onCancel:function(Ie){return v({triggerCancel:!0},Ie)},visible:E,title:"",footer:"",transitionName:Tl(ce,"zoom",e.transitionName),maskTransitionName:Tl(ce,"fade",e.maskTransitionName),mask:re,maskClosable:G,maskStyle:D,style:ye,bodyStyle:we,width:V,zIndex:b,afterClose:S,keyboard:P,centered:k,getContainer:I,closable:_,closeIcon:X,modalRender:ie,focusTriggerAfterClose:he},{default:function(){return[M("div",{class:"".concat(Pe,"-body-wrapper")},[M("div",{class:"".concat(Pe,"-body")},[xg(a),te===void 0?null:M("span",{class:"".concat(Pe,"-title")},[xg(te)]),M("div",{class:"".concat(Pe,"-content")},[xg(Q)])]),M("div",{class:"".concat(Pe,"-btns")},[Ee,M(f6,{type:ve,actionFn:p,close:v,autofocus:Ge==="ok",buttonProps:L,prefixCls:"".concat(ce,"-btn")},{default:function(){return[Ne]}})])])]}})}}});var kwe=function(e){var n=document.createDocumentFragment(),r=R(R({},Qn(e,["parentContext","appContext"])),{},{close:l,visible:!0}),i=null;function o(){i&&(Wb(null,n),i.component.update(),i=null);for(var v=arguments.length,g=new Array(v),_=0;_<v;_++)g[_]=arguments[_];var b=g.some(function(P){return P&&P.triggerCancel});e.onCancel&&b&&e.onCancel.apply(e,g);for(var S=0;S<qp.length;S++){var E=qp[S];if(E===l){qp.splice(S,1);break}}}function l(){for(var v=this,g=arguments.length,_=new Array(g),b=0;b<g;b++)_[b]=arguments[b];r=R(R({},r),{},{visible:!1,afterClose:function(){typeof e.afterClose=="function"&&e.afterClose(),o.apply(v,_)}}),a(r)}function a(v){typeof v=="function"?r=v(r):r=R(R({},r),v),i&&(yr(i.component.props,r),i.component.update())}var f=function(g){var _=Yo,b=_.prefixCls,S=g.prefixCls||"".concat(b,"-modal");return M(X8,R(R({},_),{},{notUpdateGlobalConfig:!0,prefixCls:b}),{default:function(){return[M(Mwe,R(R({},g),{},{rootPrefixCls:b,prefixCls:S}),null)]}})};function p(v){var g=M(f,R({},v));return g.appContext=e.parentContext||e.appContext||g.appContext,Wb(g,n),g}return i=p(r),qp.push(l),{destroy:l,update:a}};const m0=kwe;function Awe(t){return R(R({icon:function(){return M(f2,null,null)},okCancel:!1},t),{},{type:"warning"})}function Iwe(t){return R(R({icon:function(){return M(d8,null,null)},okCancel:!1},t),{},{type:"info"})}function Owe(t){return R(R({icon:function(){return M(F5,null,null)},okCancel:!1},t),{},{type:"success"})}function Dwe(t){return R(R({icon:function(){return M(j5,null,null)},okCancel:!1},t),{},{type:"error"})}function Rwe(t){return R(R({icon:function(){return M(f2,null,null)},okCancel:!0},t),{},{type:"confirm"})}function EU(t){return m0(Awe(t))}Ha.info=function(e){return m0(Iwe(e))};Ha.success=function(e){return m0(Owe(e))};Ha.error=function(e){return m0(Dwe(e))};Ha.warning=EU;Ha.warn=EU;Ha.confirm=function(e){return m0(Rwe(e))};Ha.destroyAll=function(){for(;qp.length;){var e=qp.pop();e&&e()}};Ha.install=function(t){return t.component(Ha.name,Ha),t};function Lwe(t,e,n){t=NT(t),e=FT(e);var r=e?LT(t):0;return e&&r<e?t+dj(e-r,n):t}var PU=function(e){var n=e.value,r=e.formatter,i=e.precision,o=e.decimalSeparator,l=e.groupSeparator,a=l===void 0?"":l,f=e.prefixCls,p;if(typeof r=="function")p=r({value:n});else{var v=String(n),g=v.match(/^(-?)(\d*)(\.(\d+))?$/);if(!g)p=v;else{var _=g[1],b=g[2]||"0",S=g[4]||"";b=b.replace(/\B(?=(\d{3})+(?!\d))/g,a),typeof i=="number"&&(S=Lwe(S,i,"0").slice(0,i)),S&&(S="".concat(o).concat(S)),p=[M("span",{key:"int",class:"".concat(f,"-content-value-int")},[_,b]),S&&M("span",{key:"decimal",class:"".concat(f,"-content-value-decimal")},[S])]}}return M("span",{class:"".concat(f,"-content-value")},[p])};PU.displayName="StatisticNumber";const Fwe=PU;var Nwe=function(){return{prefixCls:String,width:{type:[Number,String]}}},Bwe=lt({compatConfig:{MODE:3},name:"SkeletonTitle",props:Nwe(),setup:function(e){return function(){var n=e.prefixCls,r=e.width,i=typeof r=="number"?"".concat(r,"px"):r;return M("h3",{class:n,style:{width:i}},null)}}});const X2=Bwe;var zwe=function(){return{prefixCls:String,width:{type:[Number,String,Array]},rows:Number}},$we=lt({compatConfig:{MODE:3},name:"SkeletonParagraph",props:zwe(),setup:function(e){var n=function(i){var o=e.width,l=e.rows,a=l===void 0?2:l;if(Array.isArray(o))return o[i];if(a-1===i)return o};return function(){var r=e.prefixCls,i=e.rows,o=Jt(Array(i)).map(function(l,a){var f=n(a);return M("li",{key:a,style:{width:typeof f=="number"?"".concat(f,"px"):f}},null)});return M("ul",{class:r},[o])}}});const jwe=$we;var Z2=function(){return{prefixCls:String,size:[String,Number],shape:String,active:{type:Boolean,default:void 0}}},MU=function(e){var n,r,i=e.prefixCls,o=e.size,l=e.shape,a=mt((n={},J(n,"".concat(i,"-lg"),o==="large"),J(n,"".concat(i,"-sm"),o==="small"),n)),f=mt((r={},J(r,"".concat(i,"-circle"),l==="circle"),J(r,"".concat(i,"-square"),l==="square"),J(r,"".concat(i,"-round"),l==="round"),r)),p=typeof o=="number"?{width:"".concat(o,"px"),height:"".concat(o,"px"),lineHeight:"".concat(o,"px")}:{};return M("span",{class:mt(i,a,f),style:p},null)};MU.displayName="SkeletonElement";const Q2=MU;var Vwe=function(){return{active:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},prefixCls:String,avatar:{type:[Boolean,Object],default:void 0},title:{type:[Boolean,Object],default:void 0},paragraph:{type:[Boolean,Object],default:void 0},round:{type:Boolean,default:void 0}}};function d4(t){return t&&dn(t)==="object"?t:{}}function Uwe(t,e){return t&&!e?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Hwe(t,e){return!t&&e?{width:"38%"}:t&&e?{width:"50%"}:{}}function Kwe(t,e){var n={};return(!t||!e)&&(n.width="61%"),!t&&e?n.rows=3:n.rows=2,n}var Wwe=lt({compatConfig:{MODE:3},name:"ASkeleton",props:lr(Vwe(),{avatar:!1,title:!0,paragraph:!0}),setup:function(e,n){var r=n.slots,i=fn("skeleton",e),o=i.prefixCls,l=i.direction;return function(){var a,f=e.loading,p=e.avatar,v=e.title,g=e.paragraph,_=e.active,b=e.round,S=o.value;if(f||e.loading===void 0){var E,P=!!p||p==="",k=!!v||v==="",I=!!g||g==="",D;if(P){var L=R(R({prefixCls:"".concat(S,"-avatar")},Uwe(k,I)),d4(p));D=M("div",{class:"".concat(S,"-header")},[M(Q2,L,null)])}var B;if(k||I){var N;if(k){var j=R(R({prefixCls:"".concat(S,"-title")},Hwe(P,I)),d4(v));N=M(X2,j,null)}var H;if(I){var V=R(R({prefixCls:"".concat(S,"-paragraph")},Kwe(P,k)),d4(g));H=M(jwe,V,null)}B=M("div",{class:"".concat(S,"-content")},[N,H])}var Z=mt(S,(E={},J(E,"".concat(S,"-with-avatar"),P),J(E,"".concat(S,"-active"),_),J(E,"".concat(S,"-rtl"),l.value==="rtl"),J(E,"".concat(S,"-round"),b),E));return M("div",{class:Z},[D,B])}return(a=r.default)===null||a===void 0?void 0:a.call(r)}}});const Po=Wwe;var kU=function(){return{prefixCls:String,decimalSeparator:String,groupSeparator:String,format:String,value:{type:[String,Number,Object]},valueStyle:{type:Object,default:void 0},valueRender:Te.any,formatter:Te.any,precision:Number,prefix:Te.any,suffix:Te.any,title:Te.any,loading:{type:Boolean,default:void 0}}};const ec=lt({compatConfig:{MODE:3},name:"AStatistic",props:lr(kU(),{decimalSeparator:".",groupSeparator:",",loading:!1}),slots:["title","prefix","suffix","formatter"],setup:function(e,n){var r=n.slots,i=fn("statistic",e),o=i.prefixCls,l=i.direction;return function(){var a,f,p,v,g,_,b,S=e.value,E=S===void 0?0:S,P=e.valueStyle,k=e.valueRender,I=o.value,D=(a=e.title)!==null&&a!==void 0?a:(f=r.title)===null||f===void 0?void 0:f.call(r),L=(p=e.prefix)!==null&&p!==void 0?p:(v=r.prefix)===null||v===void 0?void 0:v.call(r),B=(g=e.suffix)!==null&&g!==void 0?g:(_=r.suffix)===null||_===void 0?void 0:_.call(r),N=(b=e.formatter)!==null&&b!==void 0?b:r.formatter,j=M(Fwe,R({"data-for-update":Date.now()},R(R({},e),{},{prefixCls:I,value:E,formatter:N})),null);return k&&(j=k(j)),M("div",{class:[I,J({},"".concat(I,"-rtl"),l.value==="rtl")]},[D&&M("div",{class:"".concat(I,"-title")},[D]),M(Po,{paragraph:!1,loading:e.loading},{default:function(){return[M("div",{style:P,class:"".concat(I,"-content")},[L&&M("span",{class:"".concat(I,"-content-prefix")},[L]),j,B&&M("span",{class:"".concat(I,"-content-suffix")},[B])])]}})])}}});var Gwe=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function qwe(t,e){var n=t,r=/\[[^\]]*]/g,i=(e.match(r)||[]).map(function(f){return f.slice(1,-1)}),o=e.replace(r,"[]"),l=Gwe.reduce(function(f,p){var v=Wt(p,2),g=v[0],_=v[1];if(f.indexOf(g)!==-1){var b=Math.floor(n/_);return n-=b*_,f.replace(new RegExp("".concat(g,"+"),"g"),function(S){var E=S.length;return fj(b.toString(),E,"0")})}return f},o),a=0;return l.replace(r,function(){var f=i[a];return a+=1,f})}function Ywe(t,e){var n=e.format,r=n===void 0?"":n,i=new Date(t).getTime(),o=Date.now(),l=Math.max(i-o,0);return qwe(l,r)}var Xwe=1e3/30;function f4(t){return new Date(t).getTime()}var Zwe=function(){return R(R({},kU()),{},{value:[Number,String,Object],format:String,onFinish:Function,onChange:Function})};const Qwe=lt({compatConfig:{MODE:3},name:"AStatisticCountdown",props:lr(Zwe(),{format:"HH:mm:ss"}),setup:function(e,n){var r=n.emit,i=n.slots,o=ke(),l=ke(),a=function(){var b=e.value,S=f4(b);S>=Date.now()?f():p()},f=function(){if(!o.value){var b=f4(e.value);o.value=setInterval(function(){l.value.$forceUpdate(),b>Date.now()&&r("change",b-Date.now()),a()},Xwe)}},p=function(){var b=e.value;if(o.value){clearInterval(o.value),o.value=void 0;var S=f4(b);S<Date.now()&&r("finish")}},v=function(b){var S=b.value,E=b.config,P=e.format;return Ywe(S,R(R({},E),{},{format:P}))},g=function(b){return b};return zn(function(){a()}),yo(function(){a()}),tr(function(){p()}),function(){var _=e.value;return M(ec,R({ref:l},R(R({},Qn(e,["onFinish","onChange"])),{},{value:_,valueRender:g,formatter:v})),i)}}});ec.Countdown=Qwe;ec.install=function(t){return t.component(ec.name,ec),t.component(ec.Countdown.name,ec.Countdown),t};var Jwe=ec.Countdown,e3e=["noStyle","disabled"],t3e={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},n3e=lt({compatConfig:{MODE:3},name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup:function(e,n){var r=n.slots,i=n.emit,o=n.attrs,l=n.expose,a=ke(),f=function(S){var E=S.keyCode;E===qt.ENTER&&S.preventDefault()},p=function(S){var E=S.keyCode;E===qt.ENTER&&i("click",S)},v=function(S){i("click",S)},g=function(){a.value&&a.value.focus()},_=function(){a.value&&a.value.blur()};return zn(function(){e.autofocus&&g()}),l({focus:g,blur:_}),function(){var b,S=e.noStyle,E=e.disabled,P=kn(e,e3e),k={};return S||(k=R({},t3e)),E&&(k.pointerEvents="none"),M("div",R(R(R({role:"button",tabindex:0,ref:a},P),o),{},{onClick:v,onKeydown:f,onKeyup:p,style:R(R({},k),o.style||{})}),[(b=r.default)===null||b===void 0?void 0:b.call(r)])}}});const Dx=n3e;var r3e=function(){return{backIcon:Te.any,prefixCls:String,title:Te.any,subTitle:Te.any,breadcrumb:Te.object,tags:Te.any,footer:Te.any,extra:Te.any,avatar:Te.object,ghost:{type:Boolean,default:void 0},onBack:Function}},i3e=lt({compatConfig:{MODE:3},name:"APageHeader",props:r3e(),slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(e,n){var r=n.emit,i=n.slots,o=fn("page-header",e),l=o.prefixCls,a=o.direction,f=o.pageHeader,p=ke(!1),v=TU(),g=function(L){var B=L.width;v.value||(p.value=B<768)},_=le(function(){var D,L,B;return(D=(L=e.ghost)!==null&&L!==void 0?L:(B=f.value)===null||B===void 0?void 0:B.ghost)!==null&&D!==void 0?D:!0}),b=function(){var L,B,N;return(L=(B=e.backIcon)!==null&&B!==void 0?B:(N=i.backIcon)===null||N===void 0?void 0:N.call(i))!==null&&L!==void 0?L:a.value==="rtl"?M(pJ,null,null):M(cJ,null,null)},S=function(L){return!L||!e.onBack?null:M(jv,{componentName:"PageHeader",children:function(N){var j=N.back;return M("div",{class:"".concat(l.value,"-back")},[M(Dx,{onClick:function(V){r("back",V)},class:"".concat(l.value,"-back-button"),"aria-label":j},{default:function(){return[L]}})])}},null)},E=function(){var L;return e.breadcrumb?M(lh,e.breadcrumb,null):(L=i.breadcrumb)===null||L===void 0?void 0:L.call(i)},P=function(){var L,B,N,j,H,V,Z,re,q,G=e.avatar,ae=(L=e.title)!==null&&L!==void 0?L:(B=i.title)===null||B===void 0?void 0:B.call(i),te=(N=e.subTitle)!==null&&N!==void 0?N:(j=i.subTitle)===null||j===void 0?void 0:j.call(i),Q=(H=e.tags)!==null&&H!==void 0?H:(V=i.tags)===null||V===void 0?void 0:V.call(i),Y=(Z=e.extra)!==null&&Z!==void 0?Z:(re=i.extra)===null||re===void 0?void 0:re.call(i),X="".concat(l.value,"-heading"),ie=ae||te||Q||Y;if(!ie)return null;var he=b(),ce=S(he),we=ce||G||ie;return M("div",{class:X},[we&&M("div",{class:"".concat(X,"-left")},[ce,G?M(sh,G,null):(q=i.avatar)===null||q===void 0?void 0:q.call(i),ae&&M("span",{class:"".concat(X,"-title"),title:typeof ae=="string"?ae:void 0},[ae]),te&&M("span",{class:"".concat(X,"-sub-title"),title:typeof te=="string"?te:void 0},[te]),Q&&M("span",{class:"".concat(X,"-tags")},[Q])]),Y&&M("span",{class:"".concat(X,"-extra")},[Y])])},k=function(){var L,B,N=(L=e.footer)!==null&&L!==void 0?L:ta((B=i.footer)===null||B===void 0?void 0:B.call(i));return Poe(N)?null:M("div",{class:"".concat(l.value,"-footer")},[N])},I=function(L){return M("div",{class:"".concat(l.value,"-content")},[L])};return function(){var D,L,B,N=((D=e.breadcrumb)===null||D===void 0?void 0:D.routes)||i.breadcrumb,j=e.footer||i.footer,H=Wr((L=i.default)===null||L===void 0?void 0:L.call(i)),V=mt(l.value,(B={"has-breadcrumb":N,"has-footer":j},J(B,"".concat(l.value,"-ghost"),_.value),J(B,"".concat(l.value,"-rtl"),a.value==="rtl"),J(B,"".concat(l.value,"-compact"),p.value),B));return M(Gs,{onResize:g},{default:function(){return[M("div",{class:V},[E(),P(),H.length?I(H):null,k()])]}})}}});const a3e=Ki(i3e);var o3e=["placement","overlayClassName"],s3e=function(){return R(R({},MT()),{},{prefixCls:String,content:Te.any,title:Te.any,okType:{type:String,default:"primary"},disabled:{type:Boolean,default:!1},okText:Te.any,cancelText:Te.any,icon:Te.any,okButtonProps:{type:Object,default:void 0},cancelButtonProps:{type:Object,default:void 0},showCancel:{type:Boolean,default:!0},onConfirm:Function,onCancel:Function})},l3e=lt({compatConfig:{MODE:3},name:"APopconfirm",props:lr(s3e(),R(R({},_$()),{},{trigger:"click",transitionName:"zoom-big",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0,okType:"primary",disabled:!1})),slots:["title","content","okText","icon","cancelText","cancelButton","okButton"],emits:["update:visible","visibleChange"],setup:function(e,n){var r=n.slots,i=n.emit,o=n.expose;zn(function(){Br(e.defaultVisible===void 0,"Popconfirm","'defaultVisible' is deprecated, please use 'v-model:visible'")});var l=ke();o({getPopupDomNode:function(){var q,G;return(q=l.value)===null||q===void 0||(G=q.getPopupDomNode)===null||G===void 0?void 0:G.call(q)}});var a=Ii(!1,{value:An(e,"visible"),defaultValue:e.defaultVisible}),f=Wt(a,2),p=f[0],v=f[1],g=function(q,G){e.visible===void 0&&v(q),i("update:visible",q),i("visibleChange",q,G)},_=function(q){g(!1,q)},b=function(q){var G;return(G=e.onConfirm)===null||G===void 0?void 0:G.call(e,q)},S=function(q){var G;g(!1,q),(G=e.onCancel)===null||G===void 0||G.call(e,q)},E=function(q){q.keyCode===qt.ESC&&p&&g(!1,q)},P=function(q){var G=e.disabled;G||g(q)},k=fn("popconfirm",e),I=k.prefixCls,D=k.getPrefixCls,L=le(function(){return D()}),B=le(function(){return D("popover")}),N=le(function(){return D("btn")}),j=vu("Popconfirm",Sl.Popconfirm),H=Wt(j,1),V=H[0],Z=function(){var q,G,ae,te,Q=e.okButtonProps,Y=e.cancelButtonProps,X=e.title,ie=X===void 0?(q=r.title)===null||q===void 0?void 0:q.call(r):X,he=e.cancelText,ce=he===void 0?(G=r.cancel)===null||G===void 0?void 0:G.call(r):he,we=e.okText,be=we===void 0?(ae=r.okText)===null||ae===void 0?void 0:ae.call(r):we,ve=e.okType,ge=e.icon,Pe=ge===void 0?(te=r.icon)===null||te===void 0?void 0:te.call(r):ge,ye=e.showCancel,Ne=ye===void 0?!0:ye,Re=r.cancelButton,Ge=r.okButton,He=R({onClick:S,size:"small"},Y),Ee=R(R({onClick:b},hx(ve)),{},{size:"small"},Q);return M("div",{class:"".concat(B.value,"-inner-content")},[M("div",{class:"".concat(B.value,"-message")},[Pe||M(r0,null,null),M("div",{class:"".concat(B.value,"-message-title")},[ie])]),M("div",{class:"".concat(B.value,"-buttons")},[Ne?Re?Re(He):M(Ma,He,{default:function(){return[ce||V.value.cancelText]}}):null,Ge?Ge(Ee):M(f6,{buttonProps:R(R({size:"small"},hx(ve)),Q),actionFn:b,close:_,prefixCls:N.value,quitOnNullishReturnValue:!0,emitEvent:!0},{default:function(){return[be||V.value.okText]}})])])};return function(){var re,q=e.placement,G=e.overlayClassName,ae=kn(e,o3e),te=Qn(ae,["title","content","cancelText","okText","onUpdate:visible","onConfirm","onCancel"]),Q=mt(I.value,G);return M(_l,R(R({},te),{},{prefixCls:B.value,placement:q,onVisibleChange:P,visible:p.value,overlayClassName:Q,transitionName:Tl(L.value,"zoom-big",e.transitionName),ref:l}),{default:function(){return[Lle(((re=r.default)===null||re===void 0?void 0:re.call(r))||[],{onKeydown:function(ie){E(ie)}},!1)]},title:Z})}}});const u3e=Ki(l3e);var AU=Di("normal","exception","active","success"),c3e=Di("line","circle","dashboard"),d3e=Di("default","small"),J2=function(){return{prefixCls:String,type:Te.oneOf(c3e),percent:Number,format:{type:Function},status:Te.oneOf(AU),showInfo:{type:Boolean,default:void 0},strokeWidth:Number,strokeLinecap:String,strokeColor:{type:[String,Object],default:void 0},trailColor:String,width:Number,success:{type:Object,default:function(){return{}}},gapDegree:Number,gapPosition:String,size:Te.oneOf(d3e),steps:Number,successPercent:Number,title:String}};function ch(t){return!t||t<0?0:t>100?100:t}function Rx(t){var e=t.success,n=t.successPercent,r=n;return e&&"progress"in e&&(Br(!1,"Progress","`success.progress` is deprecated. Please use `success.percent` instead."),r=e.progress),e&&"percent"in e&&(r=e.percent),r}var f3e=["from","to","direction"],h3e=function(){return R(R({},J2()),{},{prefixCls:String,direction:{type:String}})},p3e=function(e){var n=[];return Object.keys(e).forEach(function(r){var i=parseFloat(r.replace(/%/g,""));isNaN(i)||n.push({key:i,value:e[r]})}),n=n.sort(function(r,i){return r.key-i.key}),n.map(function(r){var i=r.key,o=r.value;return"".concat(o," ").concat(i,"%")}).join(", ")},v3e=function(e,n){var r=e.from,i=r===void 0?ev.blue:r,o=e.to,l=o===void 0?ev.blue:o,a=e.direction,f=a===void 0?n==="rtl"?"to left":"to right":a,p=kn(e,f3e);if(Object.keys(p).length!==0){var v=p3e(p);return{backgroundImage:"linear-gradient(".concat(f,", ").concat(v,")")}}return{backgroundImage:"linear-gradient(".concat(f,", ").concat(i,", ").concat(l,")")}};const m3e=lt({compatConfig:{MODE:3},name:"Line",props:h3e(),setup:function(e,n){var r=n.slots,i=le(function(){var p=e.strokeColor,v=e.direction;return p&&typeof p!="string"?v3e(p,v):{background:p}}),o=le(function(){return e.trailColor?{backgroundColor:e.trailColor}:void 0}),l=le(function(){var p=e.percent,v=e.strokeWidth,g=e.strokeLinecap,_=e.size;return R({width:"".concat(ch(p),"%"),height:"".concat(v||(_==="small"?6:8),"px"),borderRadius:g==="square"?0:""},i.value)}),a=le(function(){return Rx(e)}),f=le(function(){var p=e.strokeWidth,v=e.size,g=e.strokeLinecap,_=e.success;return{width:"".concat(ch(a.value),"%"),height:"".concat(p||(v==="small"?6:8),"px"),borderRadius:g==="square"?0:"",backgroundColor:_==null?void 0:_.strokeColor}});return function(){var p;return M(Kn,null,[M("div",{class:"".concat(e.prefixCls,"-outer")},[M("div",{class:"".concat(e.prefixCls,"-inner"),style:o.value},[M("div",{class:"".concat(e.prefixCls,"-bg"),style:l.value},null),a.value!==void 0?M("div",{class:"".concat(e.prefixCls,"-success-bg"),style:f.value},null):null])]),(p=r.default)===null||p===void 0?void 0:p.call(r)])}}});var g3e={percent:0,prefixCls:"vc-progress",strokeColor:"#2db7f5",strokeLinecap:"round",strokeWidth:1,trailColor:"#D9D9D9",trailWidth:1},y3e=function(e){var n=ke(null);return yo(function(){var r=Date.now(),i=!1;e.value.forEach(function(o){var l=(o==null?void 0:o.$el)||o;if(l){i=!0;var a=l.style;a.transitionDuration=".3s, .3s, .3s, .06s",n.value&&r-n.value<100&&(a.transitionDuration="0s, 0s")}}),i&&(n.value=Date.now())}),e},_3e={gapDegree:Number,gapPosition:{type:String},percent:{type:[Array,Number]},prefixCls:String,strokeColor:{type:[Object,String,Array]},strokeLinecap:{type:String},strokeWidth:Number,trailColor:String,trailWidth:Number,transition:String},b3e=["prefixCls","strokeWidth","trailWidth","gapDegree","gapPosition","trailColor","strokeLinecap","strokeColor"],zD=0;function $D(t){return+t.replace("%","")}function jD(t){return Array.isArray(t)?t:[t]}function VD(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5?arguments[5]:void 0,l=50-r/2,a=0,f=-l,p=0,v=-2*l;switch(o){case"left":a=-l,f=0,p=2*l,v=0;break;case"right":a=l,f=0,p=-2*l,v=0;break;case"bottom":f=l,v=2*l;break}var g="M 50,50 m ".concat(a,",").concat(f,`
   a `).concat(l,",").concat(l," 0 1 1 ").concat(p,",").concat(-v,`
   a `).concat(l,",").concat(l," 0 1 1 ").concat(-p,",").concat(v),_=Math.PI*2*l,b={stroke:n,strokeDasharray:"".concat(e/100*(_-i),"px ").concat(_,"px"),strokeDashoffset:"-".concat(i/2+t/100*(_-i),"px"),transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s, opacity .3s ease 0s"};return{pathString:g,pathStyle:b}}const x3e=lt({compatConfig:{MODE:3},name:"VCCircle",props:lr(_3e,g3e),setup:function(e){zD+=1;var n=ke(zD),r=le(function(){return jD(e.percent)}),i=le(function(){return jD(e.strokeColor)}),o=iE(),l=Wt(o,2),a=l[0],f=l[1];y3e(f);var p=function(){var g=e.prefixCls,_=e.strokeWidth,b=e.strokeLinecap,S=e.gapDegree,E=e.gapPosition,P=0;return r.value.map(function(k,I){var D=i.value[I]||i.value[i.value.length-1],L=Object.prototype.toString.call(D)==="[object Object]"?"url(#".concat(g,"-gradient-").concat(n.value,")"):"",B=VD(P,k,D,_,S,E),N=B.pathString,j=B.pathStyle;P+=k;var H={key:I,d:N,stroke:L,"stroke-linecap":b,"stroke-width":_,opacity:k===0?0:1,"fill-opacity":"0",class:"".concat(g,"-circle-path"),style:j};return M("path",R({ref:a(I)},H),null)})};return function(){var v=e.prefixCls,g=e.strokeWidth,_=e.trailWidth,b=e.gapDegree,S=e.gapPosition,E=e.trailColor,P=e.strokeLinecap;e.strokeColor;var k=kn(e,b3e),I=VD(0,100,E,g,b,S),D=I.pathString,L=I.pathStyle;delete k.percent;var B=i.value.find(function(j){return Object.prototype.toString.call(j)==="[object Object]"}),N={d:D,stroke:E,"stroke-linecap":P,"stroke-width":_||g,"fill-opacity":"0",class:"".concat(v,"-circle-trail"),style:L};return M("svg",R({class:"".concat(v,"-circle"),viewBox:"0 0 100 100"},k),[B&&M("defs",null,[M("linearGradient",{id:"".concat(v,"-gradient-").concat(n.value),x1:"100%",y1:"0%",x2:"0%",y2:"0%"},[Object.keys(B).sort(function(j,H){return $D(j)-$D(H)}).map(function(j,H){return M("stop",{key:H,offset:j,"stop-color":B[j]},null)})])]),M("path",N,null),p().reverse()])}}});function w3e(t){var e=t.percent,n=t.success,r=t.successPercent,i=ch(Rx({success:n,successPercent:r}));return[i,ch(ch(e)-i)]}function C3e(t){var e=t.success,n=e===void 0?{}:e,r=t.strokeColor,i=n.strokeColor;return[i||ev.green,r||null]}const S3e=lt({compatConfig:{MODE:3},name:"Circle",inheritAttrs:!1,props:J2(),setup:function(e,n){var r=n.slots,i=le(function(){if(e.gapDegree||e.gapDegree===0)return e.gapDegree;if(e.type==="dashboard")return 75}),o=le(function(){var _=e.width||120;return{width:typeof _=="number"?"".concat(_,"px"):_,height:typeof _=="number"?"".concat(_,"px"):_,fontSize:"".concat(_*.15+6,"px")}}),l=le(function(){return e.strokeWidth||6}),a=le(function(){return e.gapPosition||e.type==="dashboard"&&"bottom"||"top"}),f=le(function(){return w3e(e)}),p=le(function(){return Object.prototype.toString.call(e.strokeColor)==="[object Object]"}),v=le(function(){return C3e({success:e.success,strokeColor:e.strokeColor})}),g=le(function(){var _;return _={},J(_,"".concat(e.prefixCls,"-inner"),!0),J(_,"".concat(e.prefixCls,"-circle-gradient"),p.value),_});return function(){var _;return M("div",{class:g.value,style:o.value},[M(x3e,{percent:f.value,strokeWidth:l.value,trailWidth:l.value,strokeColor:v.value,strokeLinecap:e.strokeLinecap,trailColor:e.trailColor,prefixCls:e.prefixCls,gapDegree:i.value,gapPosition:a.value},null),(_=r.default)===null||_===void 0?void 0:_.call(r)])}}});var T3e=function(){return R(R({},J2()),{},{steps:Number,size:{type:String},strokeColor:String,trailColor:String})};const E3e=lt({compatConfig:{MODE:3},name:"Steps",props:T3e(),setup:function(e,n){var r=n.slots,i=le(function(){return Math.round(e.steps*((e.percent||0)/100))}),o=le(function(){return e.size==="small"?2:14}),l=le(function(){for(var a=e.steps,f=e.strokeWidth,p=f===void 0?8:f,v=e.strokeColor,g=e.trailColor,_=e.prefixCls,b=[],S=0;S<a;S+=1){var E,P=(E={},J(E,"".concat(_,"-steps-item"),!0),J(E,"".concat(_,"-steps-item-active"),S<=i.value-1),E);b.push(M("div",{key:S,class:P,style:{backgroundColor:S<=i.value-1?v:g,width:"".concat(o.value,"px"),height:"".concat(p,"px")}},null))}return b});return function(){var a;return M("div",{class:"".concat(e.prefixCls,"-steps-outer")},[l.value,(a=r.default)===null||a===void 0?void 0:a.call(r)])}}}),P3e=lt({compatConfig:{MODE:3},name:"AProgress",props:lr(J2(),{type:"line",percent:0,showInfo:!0,trailColor:null,size:"default",strokeLinecap:"round"}),slots:["format"],setup:function(e,n){var r=n.slots,i=fn("progress",e),o=i.prefixCls,l=i.direction;Br(e.successPercent==null,"Progress","`successPercent` is deprecated. Please use `success.percent` instead.");var a=le(function(){var g,_=e.type,b=e.showInfo,S=e.size,E=o.value;return g={},J(g,E,!0),J(g,"".concat(E,"-").concat(_==="dashboard"&&"circle"||_),!0),J(g,"".concat(E,"-show-info"),b),J(g,"".concat(E,"-").concat(S),S),J(g,"".concat(E,"-rtl"),l.value==="rtl"),g}),f=le(function(){var g=e.percent,_=g===void 0?0:g,b=Rx(e);return parseInt(b!==void 0?b.toString():_.toString(),10)}),p=le(function(){var g=e.status;return AU.indexOf(g)<0&&f.value>=100?"success":g||"normal"}),v=function(){var _=e.showInfo,b=e.format,S=e.type,E=e.percent,P=e.title,k=Rx(e);if(!_)return null;var I,D=b||(r==null?void 0:r.format)||function(B){return"".concat(B,"%")},L=S==="line";return b||r!=null&&r.format||p.value!=="exception"&&p.value!=="success"?I=D(ch(E),ch(k)):p.value==="exception"?I=M(L?fc:pu,null,null):p.value==="success"&&(I=M(L?t0:d2,null,null)),M("span",{class:"".concat(o.value,"-text"),title:P===void 0&&typeof I=="string"?I:void 0},[I])};return function(){var g=e.type,_=e.steps,b=e.strokeColor,S=e.title,E=v(),P;g==="line"?P=_?M(E3e,R(R({},e),{},{strokeColor:typeof b=="string"?b:void 0,prefixCls:o.value,steps:_}),{default:function(){return[E]}}):M(m3e,R(R({},e),{},{prefixCls:o.value}),{default:function(){return[E]}}):(g==="circle"||g==="dashboard")&&(P=M(S3e,R(R({},e),{},{prefixCls:o.value}),{default:function(){return[E]}}));var k=R(R({},a.value),{},J({},"".concat(o.value,"-status-").concat(p.value),!0));return M("div",{class:k,title:S},[P])}}}),kE=Ki(P3e);function M3e(t){var e=t.pageXOffset,n="scrollLeft";if(typeof e!="number"){var r=t.document;e=r.documentElement[n],typeof e!="number"&&(e=r.body[n])}return e}function k3e(t){var e,n,r=t.ownerDocument,i=r.body,o=r&&r.documentElement,l=t.getBoundingClientRect();return e=l.left,n=l.top,e-=o.clientLeft||i.clientLeft||0,n-=o.clientTop||i.clientTop||0,{left:e,top:n}}function A3e(t){var e=k3e(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=M3e(r),e.left}var I3e={value:Number,index:Number,prefixCls:String,allowHalf:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},character:Te.any,characterRender:Function,focused:{type:Boolean,default:void 0},count:Number,onClick:Function,onHover:Function};const O3e=lt({compatConfig:{MODE:3},name:"Star",inheritAttrs:!1,props:I3e,emits:["hover","click"],setup:function(e,n){var r=n.slots,i=n.emit,o=function(v){var g=e.index;i("hover",v,g)},l=function(v){var g=e.index;i("click",v,g)},a=function(v){var g=e.index;v.keyCode===13&&i("click",v,g)},f=le(function(){var p=e.prefixCls,v=e.index,g=e.value,_=e.allowHalf,b=e.focused,S=v+1,E=p;return g===0&&v===0&&b?E+=" ".concat(p,"-focused"):_&&g+.5>=S&&g<S?(E+=" ".concat(p,"-half ").concat(p,"-active"),b&&(E+=" ".concat(p,"-focused"))):(E+=S<=g?" ".concat(p,"-full"):" ".concat(p,"-zero"),S===g&&b&&(E+=" ".concat(p,"-focused"))),E});return function(){var p=e.disabled,v=e.prefixCls,g=e.characterRender,_=e.index,b=e.count,S=e.value,E=vi(r,e,"character"),P=M("li",{class:f.value},[M("div",{onClick:p?null:l,onKeydown:p?null:a,onMousemove:p?null:o,role:"radio","aria-checked":S>_?"true":"false","aria-posinset":_+1,"aria-setsize":b,tabindex:p?-1:0},[M("div",{class:"".concat(v,"-first")},[E]),M("div",{class:"".concat(v,"-second")},[E])])]);return g&&(P=g(P,e)),P}}});var D3e=function(){return{prefixCls:String,count:Number,value:Number,allowHalf:{type:Boolean,default:void 0},allowClear:{type:Boolean,default:void 0},tooltips:Array,disabled:{type:Boolean,default:void 0},character:Te.any,autofocus:{type:Boolean,default:void 0},tabindex:Te.oneOfType([Te.number,Te.string]),direction:String,id:String,onChange:Function,onHoverChange:Function,"onUpdate:value":Function,onFocus:Function,onBlur:Function,onKeydown:Function}},R3e=lt({compatConfig:{MODE:3},name:"ARate",inheritAttrs:!1,props:lr(D3e(),{value:0,count:5,allowHalf:!1,allowClear:!0,tabindex:0,direction:"ltr"}),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.emit,l=n.expose,a=fn("rate",e),f=a.prefixCls,p=a.direction,v=_a(),g=ke(),_=iE(),b=Wt(_,2),S=b[0],E=b[1],P=Mr({value:e.value,focused:!1,cleanedValue:null,hoverValue:void 0});Lt(function(){return e.value},function(){P.value=e.value});var k=function(te){return vd(E.value.get(te))},I=function(te,Q){var Y=p.value==="rtl",X=te+1;if(e.allowHalf){var ie=k(te),he=A3e(ie),ce=ie.clientWidth;(Y&&Q-he>ce/2||!Y&&Q-he<ce/2)&&(X-=.5)}return X},D=function(te){e.value===void 0&&(P.value=te),o("update:value",te),o("change",te),v.onFieldChange()},L=function(te,Q){var Y=I(Q,te.pageX);Y!==P.cleanedValue&&(P.hoverValue=Y,P.cleanedValue=null),o("hoverChange",Y)},B=function(){P.hoverValue=void 0,P.cleanedValue=null,o("hoverChange",void 0)},N=function(te,Q){var Y=e.allowClear,X=I(Q,te.pageX),ie=!1;Y&&(ie=X===P.value),B(),D(ie?0:X),P.cleanedValue=ie?X:null},j=function(te){P.focused=!0,o("focus",te)},H=function(te){P.focused=!1,o("blur",te),v.onFieldBlur()},V=function(te){var Q=te.keyCode,Y=e.count,X=e.allowHalf,ie=p.value==="rtl";Q===qt.RIGHT&&P.value<Y&&!ie?(X?P.value+=.5:P.value+=1,D(P.value),te.preventDefault()):Q===qt.LEFT&&P.value>0&&!ie||Q===qt.RIGHT&&P.value>0&&ie?(X?P.value-=.5:P.value-=1,D(P.value),te.preventDefault()):Q===qt.LEFT&&P.value<Y&&ie&&(X?P.value+=.5:P.value+=1,D(P.value),te.preventDefault()),o("keydown",te)},Z=function(){e.disabled||g.value.focus()},re=function(){e.disabled||g.value.blur()};l({focus:Z,blur:re}),zn(function(){var ae=e.autofocus,te=e.disabled;ae&&!te&&Z()});var q=function(te,Q){var Y=Q.index,X=e.tooltips;return X?M(_l,{title:X[Y]},{default:function(){return[te]}}):te},G=vi(r,e,"character")||M(dne,null,null);return function(){for(var ae=e.count,te=e.allowHalf,Q=e.disabled,Y=e.tabindex,X=e.id,ie=X===void 0?v.id.value:X,he=i.class,ce=i.style,we=[],be=Q?"".concat(f.value,"-disabled"):"",ve=0;ve<ae;ve++)we.push(M(O3e,{ref:S(ve),key:ve,index:ve,count:ae,disabled:Q,prefixCls:"".concat(f.value,"-star"),allowHalf:te,value:P.hoverValue===void 0?P.value:P.hoverValue,onClick:N,onHover:L,character:G,characterRender:q,focused:P.focused},null));var ge=mt(f.value,be,he,J({},"".concat(f.value,"-rtl"),p.value==="rtl"));return M("ul",R(R({},i),{},{id:ie,class:ge,style:ce,onMouseleave:Q?null:B,tabindex:Q?-1:Y,onFocus:Q?null:j,onBlur:Q?null:H,onKeydown:Q?null:V,ref:g,role:"radiogroup"}),[we])}}});const L3e=Ki(R3e);var F3e=function(){return M("svg",{width:"252",height:"294"},[M("defs",null,[M("path",{d:"M0 .387h251.772v251.772H0z"},null)]),M("g",{fill:"none","fill-rule":"evenodd"},[M("g",{transform:"translate(0 .012)"},[M("mask",{fill:"#fff"},null),M("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"},null)]),M("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"},null),M("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF","stroke-width":"2"},null),M("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"},null),M("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"},null),M("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF","stroke-width":"2"},null),M("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"},null),M("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF","stroke-width":"2"},null),M("path",{stroke:"#FFF","stroke-width":"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"},null),M("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"},null),M("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1890FF"},null),M("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"},null),M("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"},null),M("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"},null),M("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"},null),M("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"},null),M("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"},null),M("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"},null),M("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"},null),M("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"},null),M("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"},null),M("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"},null),M("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"},null),M("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"},null),M("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"},null),M("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"},null),M("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"},null),M("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"},null),M("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"},null),M("path",{stroke:"#DB836E","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"},null),M("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E","stroke-width":"1.118","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7","stroke-width":"1.101","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7","stroke-width":"1.101","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"},null),M("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"},null),M("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"},null),M("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"},null),M("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"},null),M("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"},null),M("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"},null),M("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"},null),M("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"},null),M("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"},null),M("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"},null),M("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7","stroke-width":"1.101","stroke-linecap":"round","stroke-linejoin":"round"},null)])])};const N3e=F3e;var B3e=function(){return M("svg",{width:"254",height:"294"},[M("defs",null,[M("path",{d:"M0 .335h253.49v253.49H0z"},null),M("path",{d:"M0 293.665h253.49V.401H0z"},null)]),M("g",{fill:"none","fill-rule":"evenodd"},[M("g",{transform:"translate(0 .067)"},[M("mask",{fill:"#fff"},null),M("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"},null)]),M("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"},null),M("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF","stroke-width":"2"},null),M("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"},null),M("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"},null),M("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"},null),M("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"},null),M("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"},null),M("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"},null),M("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"},null),M("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"},null),M("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"},null),M("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"},null),M("path",{stroke:"#DB836E","stroke-width":"1.063","stroke-linecap":"round","stroke-linejoin":"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"},null),M("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552","stroke-width":"1.117","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E","stroke-width":"1.117","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552","stroke-width":"1.117","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E","stroke-width":"1.063","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7","stroke-width":"1.136","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"},null),M("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"},null),M("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"},null),M("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7","stroke-width":"1.085","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"},null),M("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"},null),M("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"},null),M("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"},null),M("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"},null),M("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"},null),M("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"},null),M("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"},null),M("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"},null),M("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8","stroke-width":"1.085","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8","stroke-width":"1.032","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8","stroke-width":"1.085","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"},null),M("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"},null),M("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"},null),M("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8","stroke-width":"1.085","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7","stroke-width":"1.085","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"},null),M("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E","stroke-width":".774","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788","stroke-width":".774","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"},null),M("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788","stroke-width":".774","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7","stroke-width":"1.085","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788","stroke-width":".774","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"},null),M("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"},null),M("mask",{fill:"#fff"},null),M("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"},null),M("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"},null),M("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"},null),M("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"},null),M("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5","stroke-width":"1.124","stroke-linecap":"round","stroke-linejoin":"round",mask:"url(#d)"},null),M("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"},null),M("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"},null),M("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6","stroke-width":"1.124","stroke-linecap":"round","stroke-linejoin":"round",mask:"url(#d)"},null),M("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"},null),M("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"},null),M("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"},null)])])};const z3e=B3e;var $3e=function(){return M("svg",{width:"251",height:"294"},[M("g",{fill:"none","fill-rule":"evenodd"},[M("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"},null),M("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"},null),M("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF","stroke-width":"2"},null),M("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"},null),M("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"},null),M("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF","stroke-width":"2"},null),M("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"},null),M("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF","stroke-width":"2"},null),M("path",{stroke:"#FFF","stroke-width":"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"},null),M("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"},null),M("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"},null),M("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"},null),M("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"},null),M("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"},null),M("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"},null),M("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"},null),M("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"},null),M("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"},null),M("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"},null),M("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"},null),M("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7","stroke-width":".932","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"},null),M("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"},null),M("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"},null),M("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"},null),M("path",{stroke:"#DB836E","stroke-width":"1.145","stroke-linecap":"round","stroke-linejoin":"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"},null),M("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"},null),M("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E","stroke-width":"1.145","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"},null),M("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552","stroke-width":"1.526","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E","stroke-width":"1.145","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7","stroke-width":"1.114","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E","stroke-width":".795","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"},null),M("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E","stroke-width":".75","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"},null),M("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"},null),M("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"},null),M("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"},null),M("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"},null),M("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"},null),M("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"},null),M("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null),M("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"},null),M("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"},null),M("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"},null),M("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8","stroke-width":"1.051","stroke-linecap":"round","stroke-linejoin":"round"},null)])])};const j3e=$3e;var V3e={success:t0,error:fc,info:r0,warning:Pne},g0={404:N3e,500:z3e,403:j3e},U3e=Object.keys(g0),H3e=function(){return{prefixCls:String,icon:Te.any,status:{type:[Number,String],default:"info"},title:Te.any,subTitle:Te.any,extra:Te.any}},K3e=function(e,n){var r=n.status,i=n.icon;if(U3e.includes("".concat(r))){var o=g0[r];return M("div",{class:"".concat(e,"-icon ").concat(e,"-image")},[M(o,null,null)])}var l=V3e[r],a=i||M(l,null,null);return M("div",{class:"".concat(e,"-icon")},[a])},W3e=function(e,n){return n&&M("div",{class:"".concat(e,"-extra")},[n])},dh=lt({compatConfig:{MODE:3},name:"AResult",props:H3e(),slots:["title","subTitle","icon","extra"],setup:function(e,n){var r=n.slots,i=fn("result",e),o=i.prefixCls,l=i.direction,a=le(function(){return mt(o.value,"".concat(o.value,"-").concat(e.status),J({},"".concat(o.value,"-rtl"),l.value==="rtl"))});return function(){var f,p,v,g,_,b,S,E,P=(f=e.title)!==null&&f!==void 0?f:(p=r.title)===null||p===void 0?void 0:p.call(r),k=(v=e.subTitle)!==null&&v!==void 0?v:(g=r.subTitle)===null||g===void 0?void 0:g.call(r),I=(_=e.icon)!==null&&_!==void 0?_:(b=r.icon)===null||b===void 0?void 0:b.call(r),D=(S=e.extra)!==null&&S!==void 0?S:(E=r.extra)===null||E===void 0?void 0:E.call(r),L=o.value;return M("div",{class:a.value},[K3e(L,{status:e.status,icon:I}),M("div",{class:"".concat(L,"-title")},[P]),k&&M("div",{class:"".concat(L,"-subtitle")},[k]),W3e(L,D),r.default&&M("div",{class:"".concat(L,"-content")},[r.default()])])}}});dh.PRESENTED_IMAGE_403=g0[403];dh.PRESENTED_IMAGE_404=g0[404];dh.PRESENTED_IMAGE_500=g0[500];dh.install=function(t){return t.component(dh.name,dh),t};const G3e=dh;var q3e=function(){return R(R({},Z2()),{},{size:String,block:Boolean})},Y3e=lt({compatConfig:{MODE:3},name:"ASkeletonButton",props:lr(q3e(),{size:"default"}),setup:function(e){var n=fn("skeleton",e),r=n.prefixCls,i=le(function(){var o;return mt(r.value,"".concat(r.value,"-element"),(o={},J(o,"".concat(r.value,"-active"),e.active),J(o,"".concat(r.value,"-block"),e.block),o))});return function(){return M("div",{class:i.value},[M(Q2,R(R({},e),{},{prefixCls:"".concat(r.value,"-button")}),null)])}}});const AE=Y3e;var X3e=lt({compatConfig:{MODE:3},name:"ASkeletonInput",props:R(R({},Qn(Z2(),["shape"])),{},{size:String}),setup:function(e){var n=fn("skeleton",e),r=n.prefixCls,i=le(function(){return mt(r.value,"".concat(r.value,"-element"),J({},"".concat(r.value,"-active"),e.active))});return function(){return M("div",{class:i.value},[M(Q2,R(R({},e),{},{prefixCls:"".concat(r.value,"-input")}),null)])}}});const IE=X3e;var Z3e="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Q3e=lt({compatConfig:{MODE:3},name:"ASkeletonImage",props:Qn(Z2(),["size","shape","active"]),setup:function(e){var n=fn("skeleton",e),r=n.prefixCls,i=le(function(){return mt(r.value,"".concat(r.value,"-element"))});return function(){return M("div",{class:i.value},[M("div",{class:"".concat(r.value,"-image")},[M("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",class:"".concat(r.value,"-image-svg")},[M("path",{d:Z3e,class:"".concat(r.value,"-image-path")},null)])])])}}});const OE=Q3e;var J3e=function(){return R(R({},Z2()),{},{shape:String})},eCe=lt({compatConfig:{MODE:3},name:"ASkeletonAvatar",props:lr(J3e(),{size:"default",shape:"circle"}),setup:function(e){var n=fn("skeleton",e),r=n.prefixCls,i=le(function(){return mt(r.value,"".concat(r.value,"-element"),J({},"".concat(r.value,"-active"),e.active))});return function(){return M("div",{class:i.value},[M(Q2,R(R({},e),{},{prefixCls:"".concat(r.value,"-avatar")}),null)])}}});const DE=eCe;Po.Button=AE;Po.Avatar=DE;Po.Input=IE;Po.Image=OE;Po.Title=X2;Po.install=function(t){return t.component(Po.name,Po),t.component(Po.Button.name,AE),t.component(Po.Avatar.name,DE),t.component(Po.Input.name,IE),t.component(Po.Image.name,OE),t.component(Po.Title.name,X2),t};var IU=function(e,n){var r,i,o=n.attrs,l=o.included,a=o.vertical,f=o.style,p=o.class,v=o.length,g=o.offset,_=o.reverse;v<0&&(_=!_,v=Math.abs(v),g=100-g);var b=a?(r={},J(r,_?"top":"bottom","".concat(g,"%")),J(r,_?"bottom":"top","auto"),J(r,"height","".concat(v,"%")),r):(i={},J(i,_?"right":"left","".concat(g,"%")),J(i,_?"left":"right","auto"),J(i,"width","".concat(v,"%")),i),S=R(R({},f),b);return l?M("div",{class:p,style:S},null):null};IU.inheritAttrs=!1;const OU=IU;var tCe=function(e,n,r,i,o,l){sa(r?i>0:!0,"Slider","`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(n).map(parseFloat).sort(function(p,v){return p-v});if(r&&i)for(var f=o;f<=l;f+=i)a.indexOf(f)===-1&&a.push(f);return a},DU=function(e,n){var r=n.attrs,i=r.prefixCls,o=r.vertical,l=r.reverse,a=r.marks,f=r.dots,p=r.step,v=r.included,g=r.lowerBound,_=r.upperBound,b=r.max,S=r.min,E=r.dotStyle,P=r.activeDotStyle,k=b-S,I=tCe(o,a,f,p,S,b).map(function(D){var L,B="".concat(Math.abs(D-S)/k*100,"%"),N=!v&&D===_||v&&D<=_&&D>=g,j=o?R(R({},E),{},J({},l?"top":"bottom",B)):R(R({},E),{},J({},l?"right":"left",B));N&&(j=R(R({},j),P));var H=mt((L={},J(L,"".concat(i,"-dot"),!0),J(L,"".concat(i,"-dot-active"),N),J(L,"".concat(i,"-dot-reverse"),l),L));return M("span",{class:H,style:j,key:D},null)});return M("div",{class:"".concat(i,"-step")},[I])};DU.inheritAttrs=!1;const nCe=DU;var RU=function(e,n){var r=n.attrs,i=n.slots,o=r.class,l=r.vertical,a=r.reverse,f=r.marks,p=r.included,v=r.upperBound,g=r.lowerBound,_=r.max,b=r.min,S=r.onClickLabel,E=Object.keys(f),P=i.mark,k=_-b,I=E.map(parseFloat).sort(function(D,L){return D-L}).map(function(D){var L,B=typeof f[D]=="function"?f[D]():f[D],N=dn(B)==="object"&&!la(B),j=N?B.label:B;if(!j&&j!==0)return null;P&&(j=P({point:D,label:j}));var H=!p&&D===v||p&&D<=v&&D>=g,V=mt((L={},J(L,"".concat(o,"-text"),!0),J(L,"".concat(o,"-text-active"),H),L)),Z=J({marginBottom:"-50%"},a?"top":"bottom","".concat((D-b)/k*100,"%")),re=J({transform:"translateX(".concat(a?"50%":"-50%",")"),msTransform:"translateX(".concat(a?"50%":"-50%",")")},a?"right":"left","".concat((D-b)/k*100,"%")),q=l?Z:re,G=N?R(R({},q),B.style):q,ae=J({},va?"onTouchstartPassive":"onTouchstart",function(te){return S(te,D)});return M("span",R({class:V,style:G,key:D,onMousedown:function(Q){return S(Q,D)}},ae),[j])});return M("div",{class:o},[I])};RU.inheritAttrs=!1;const rCe=RU,LU=lt({compatConfig:{MODE:3},name:"Handle",inheritAttrs:!1,props:{prefixCls:String,vertical:{type:Boolean,default:void 0},offset:Number,disabled:{type:Boolean,default:void 0},min:Number,max:Number,value:Number,tabindex:Te.oneOfType([Te.number,Te.string]),reverse:{type:Boolean,default:void 0},ariaLabel:String,ariaLabelledBy:String,ariaValueTextFormatter:Function,onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function}},setup:function(e,n){var r=n.attrs,i=n.emit,o=n.expose,l=ke(!1),a=ke(),f=function(){document.activeElement===a.value&&(l.value=!0)},p=function(I){l.value=!1,i("blur",I)},v=function(){l.value=!1},g=function(){var I;(I=a.value)===null||I===void 0||I.focus()},_=function(){var I;(I=a.value)===null||I===void 0||I.blur()},b=function(){l.value=!0,g()},S=function(I){I.preventDefault(),g(),i("mousedown",I)};o({focus:g,blur:_,clickFocus:b,ref:a});var E=null;zn(function(){E=_i(document,"mouseup",f)}),tr(function(){var k;(k=E)===null||k===void 0||k.remove()});var P=le(function(){var k,I,D=e.vertical,L=e.offset,B=e.reverse;return D?(k={},J(k,B?"top":"bottom","".concat(L,"%")),J(k,B?"bottom":"top","auto"),J(k,"transform",B?null:"translateY(+50%)"),k):(I={},J(I,B?"right":"left","".concat(L,"%")),J(I,B?"left":"right","auto"),J(I,"transform","translateX(".concat(B?"+":"-","50%)")),I)});return function(){var k=e.prefixCls,I=e.disabled,D=e.min,L=e.max,B=e.value,N=e.tabindex,j=e.ariaLabel,H=e.ariaLabelledBy,V=e.ariaValueTextFormatter,Z=e.onMouseenter,re=e.onMouseleave,q=mt(r.class,J({},"".concat(k,"-handle-click-focused"),l.value)),G={"aria-valuemin":D,"aria-valuemax":L,"aria-valuenow":B,"aria-disabled":!!I},ae=[r.style,P.value],te=N||0;(I||N===null)&&(te=null);var Q;V&&(Q=V(B));var Y=R(R(R({},r),{},{role:"slider",tabindex:te},G),{},{class:q,onBlur:p,onKeydown:v,onMousedown:S,onMouseenter:Z,onMouseleave:re,ref:a,style:ae});return M("div",R(R({},Y),{},{"aria-label":j,"aria-labelledby":H,"aria-valuetext":Q}),null)}}});function h4(t,e){try{return Object.keys(e).some(function(n){return t.target===e[n].ref})}catch{return!1}}function FU(t,e){var n=e.min,r=e.max;return t<n||t>r}function UD(t){return t.touches.length>1||t.type.toLowerCase()==="touchend"&&t.touches.length>0}function HD(t,e){var n=e.marks,r=e.step,i=e.min,o=e.max,l=Object.keys(n).map(parseFloat);if(r!==null){var a=Math.pow(10,NU(r)),f=Math.floor((o*a-i*a)/(r*a)),p=Math.min((t-i)/r,f),v=Math.round(p)*r+i;l.push(v)}var g=l.map(function(_){return Math.abs(t-_)});return l[g.indexOf(Math.min.apply(Math,Jt(g)))]}function NU(t){var e=t.toString(),n=0;return e.indexOf(".")>=0&&(n=e.length-e.indexOf(".")-1),n}function KD(t,e){var n=1;return window.visualViewport&&(n=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(t?e.clientY:e.pageX)/n}function WD(t,e){var n=1;return window.visualViewport&&(n=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(t?e.touches[0].clientY:e.touches[0].pageX)/n}function GD(t,e){var n=e.getBoundingClientRect();return t?n.top+n.height*.5:window.pageXOffset+n.left+n.width*.5}function RE(t,e){var n=e.max,r=e.min;return t<=r?r:t>=n?n:t}function BU(t,e){var n=e.step,r=isFinite(HD(t,e))?HD(t,e):0;return n===null?r:parseFloat(r.toFixed(NU(n)))}function Mv(t){t.stopPropagation(),t.preventDefault()}function iCe(t,e,n){var r={increase:function(a,f){return a+f},decrease:function(a,f){return a-f}},i=r[t](Object.keys(n.marks).indexOf(JSON.stringify(e)),1),o=Object.keys(n.marks)[i];return n.step?r[t](e,n.step):Object.keys(n.marks).length&&n.marks[o]?n.marks[o]:e}function zU(t,e,n){var r="increase",i="decrease",o=r;switch(t.keyCode){case qt.UP:o=e&&n?i:r;break;case qt.RIGHT:o=!e&&n?i:r;break;case qt.DOWN:o=e&&n?r:i;break;case qt.LEFT:o=!e&&n?r:i;break;case qt.END:return function(l,a){return a.max};case qt.HOME:return function(l,a){return a.min};case qt.PAGE_UP:return function(l,a){return l+a.step*2};case qt.PAGE_DOWN:return function(l,a){return l-a.step*2};default:return}return function(l,a){return iCe(o,l,a)}}var aCe=["index","directives","className","style"];function Ff(){}function $U(t){var e={id:String,min:Number,max:Number,step:Number,marks:Te.object,included:{type:Boolean,default:void 0},prefixCls:String,disabled:{type:Boolean,default:void 0},handle:Function,dots:{type:Boolean,default:void 0},vertical:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},minimumTrackStyle:Te.object,maximumTrackStyle:Te.object,handleStyle:Te.oneOfType([Te.object,Te.arrayOf(Te.object)]),trackStyle:Te.oneOfType([Te.object,Te.arrayOf(Te.object)]),railStyle:Te.object,dotStyle:Te.object,activeDotStyle:Te.object,autofocus:{type:Boolean,default:void 0},draggableTrack:{type:Boolean,default:void 0}};return lt({compatConfig:{MODE:3},name:"CreateSlider",mixins:[Mh,t],inheritAttrs:!1,slots:["mark"],props:lr(e,{prefixCls:"rc-slider",min:0,max:100,step:1,marks:{},included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),emits:["change","blur","focus"],data:function(){var r=this.step,i=this.max,o=this.min,l=isFinite(i-o)?(i-o)%r===0:!0;return sa(r&&Math.floor(r)===r?l:!0,"Slider[max] - Slider[min] (".concat(i-o,") should be a multiple of Slider[step] (").concat(r,")")),this.handlesRefs={},{}},mounted:function(){var r=this;this.$nextTick(function(){r.document=r.sliderRef&&r.sliderRef.ownerDocument;var i=r.autofocus,o=r.disabled;i&&!o&&r.focus()})},beforeUnmount:function(){var r=this;this.$nextTick(function(){r.removeDocumentEvents()})},methods:{defaultHandle:function(r){var i=r.index;r.directives;var o=r.className,l=r.style,a=kn(r,aCe);if(delete a.dragging,a.value===null)return null;var f=R(R({},a),{},{class:o,style:l,key:i});return M(LU,f,null)},onDown:function(r,i){var o=i,l=this.$props,a=l.draggableTrack,f=l.vertical,p=this.$data.bounds,v=a&&this.positionGetValue?this.positionGetValue(o)||[]:[],g=h4(r,this.handlesRefs);if(this.dragTrack=a&&p.length>=2&&!g&&!v.map(function(b,S){var E=S?!0:b>=p[S];return S===v.length-1?b<=p[S]:E}).some(function(b){return!b}),this.dragTrack)this.dragOffset=o,this.startBounds=Jt(p);else{if(!g)this.dragOffset=0;else{var _=GD(f,r.target);this.dragOffset=o-_,o=_}this.onStart(o)}},onMouseDown:function(r){if(r.button===0){this.removeDocumentEvents();var i=this.$props.vertical,o=KD(i,r);this.onDown(r,o),this.addDocumentMouseEvents()}},onTouchStart:function(r){if(!UD(r)){var i=this.vertical,o=WD(i,r);this.onDown(r,o),this.addDocumentTouchEvents(),Mv(r)}},onFocus:function(r){var i=this.vertical;if(h4(r,this.handlesRefs)&&!this.dragTrack){var o=GD(i,r.target);this.dragOffset=0,this.onStart(o),Mv(r),this.$emit("focus",r)}},onBlur:function(r){this.dragTrack||this.onEnd(),this.$emit("blur",r)},onMouseUp:function(){this.handlesRefs[this.prevMovedHandleIndex]&&this.handlesRefs[this.prevMovedHandleIndex].clickFocus()},onMouseMove:function(r){if(!this.sliderRef){this.onEnd();return}var i=KD(this.vertical,r);this.onMove(r,i-this.dragOffset,this.dragTrack,this.startBounds)},onTouchMove:function(r){if(UD(r)||!this.sliderRef){this.onEnd();return}var i=WD(this.vertical,r);this.onMove(r,i-this.dragOffset,this.dragTrack,this.startBounds)},onKeyDown:function(r){this.sliderRef&&h4(r,this.handlesRefs)&&this.onKeyboard(r)},onClickMarkLabel:function(r,i){var o=this;r.stopPropagation(),this.onChange({sValue:i}),this.setState({sValue:i},function(){return o.onEnd(!0)})},getSliderStart:function(){var r=this.sliderRef,i=this.vertical,o=this.reverse,l=r.getBoundingClientRect();return i?o?l.bottom:l.top:window.pageXOffset+(o?l.right:l.left)},getSliderLength:function(){var r=this.sliderRef;if(!r)return 0;var i=r.getBoundingClientRect();return this.vertical?i.height:i.width},addDocumentTouchEvents:function(){this.onTouchMoveListener=_i(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=_i(this.document,"touchend",this.onEnd)},addDocumentMouseEvents:function(){this.onMouseMoveListener=_i(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=_i(this.document,"mouseup",this.onEnd)},removeDocumentEvents:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},focus:function(){var r;this.$props.disabled||(r=this.handlesRefs[0])===null||r===void 0||r.focus()},blur:function(){var r=this;this.$props.disabled||Object.keys(this.handlesRefs).forEach(function(i){var o,l;(o=r.handlesRefs[i])===null||o===void 0||(l=o.blur)===null||l===void 0||l.call(o)})},calcValue:function(r){var i=this.vertical,o=this.min,l=this.max,a=Math.abs(Math.max(r,0)/this.getSliderLength()),f=i?(1-a)*(l-o)+o:a*(l-o)+o;return f},calcValueByPos:function(r){var i=this.reverse?-1:1,o=i*(r-this.getSliderStart()),l=this.trimAlignValue(this.calcValue(o));return l},calcOffset:function(r){var i=this.min,o=this.max,l=(r-i)/(o-i);return Math.max(0,l*100)},saveSlider:function(r){this.sliderRef=r},saveHandle:function(r,i){this.handlesRefs[r]=i}},render:function(){var r,i=this.prefixCls,o=this.marks,l=this.dots,a=this.step,f=this.included,p=this.disabled,v=this.vertical,g=this.reverse,_=this.min,b=this.max,S=this.maximumTrackStyle,E=this.railStyle,P=this.dotStyle,k=this.activeDotStyle,I=this.id,D=this.$attrs,L=D.class,B=D.style,N=this.renderSlider(),j=N.tracks,H=N.handles,V=mt(i,L,(r={},J(r,"".concat(i,"-with-marks"),Object.keys(o).length),J(r,"".concat(i,"-disabled"),p),J(r,"".concat(i,"-vertical"),v),r)),Z={vertical:v,marks:o,included:f,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:b,min:_,reverse:g,class:"".concat(i,"-mark"),onClickLabel:p?Ff:this.onClickMarkLabel},re=J({},va?"onTouchstartPassive":"onTouchstart",p?Ff:this.onTouchStart);return M("div",R(R({id:I,ref:this.saveSlider,tabindex:"-1",class:V},re),{},{onMousedown:p?Ff:this.onMouseDown,onMouseup:p?Ff:this.onMouseUp,onKeydown:p?Ff:this.onKeyDown,onFocus:p?Ff:this.onFocus,onBlur:p?Ff:this.onBlur,style:B}),[M("div",{class:"".concat(i,"-rail"),style:R(R({},S),E)},null),j,M(nCe,{prefixCls:i,vertical:v,reverse:g,marks:o,dots:l,step:a,included:f,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:b,min:_,dotStyle:P,activeDotStyle:k},null),H,M(rCe,Z,{mark:this.$slots.mark}),i0(this)])}})}var oCe=lt({compatConfig:{MODE:3},name:"Slider",mixins:[Mh],inheritAttrs:!1,props:{defaultValue:Number,value:Number,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},tabindex:Te.oneOfType([Te.number,Te.string]),reverse:{type:Boolean,default:void 0},min:Number,max:Number,ariaLabelForHandle:String,ariaLabelledByForHandle:String,ariaValueTextFormatterForHandle:String,startPoint:Number},emits:["beforeChange","afterChange","change"],data:function(){var e=this.defaultValue!==void 0?this.defaultValue:this.min,n=this.value!==void 0?this.value:e;return{sValue:this.trimAlignValue(n),dragging:!1}},watch:{value:{handler:function(e){this.setChangeValue(e)},deep:!0},min:function(){var e=this.sValue;this.setChangeValue(e)},max:function(){var e=this.sValue;this.setChangeValue(e)}},methods:{setChangeValue:function(e){var n=e!==void 0?e:this.sValue,r=this.trimAlignValue(n,this.$props);r!==this.sValue&&(this.setState({sValue:r}),FU(n,this.$props)&&this.$emit("change",r))},onChange:function(e){var n=!Ju(this,"value"),r=e.sValue>this.max?R(R({},e),{},{sValue:this.max}):e;n&&this.setState(r);var i=r.sValue;this.$emit("change",i)},onStart:function(e){this.setState({dragging:!0});var n=this.sValue;this.$emit("beforeChange",n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&(this.prevMovedHandleIndex=0,this.onChange({sValue:r}))},onEnd:function(e){var n=this.dragging;this.removeDocumentEvents(),(n||e)&&this.$emit("afterChange",this.sValue),this.setState({dragging:!1})},onMove:function(e,n){Mv(e);var r=this.sValue,i=this.calcValueByPos(n);i!==r&&this.onChange({sValue:i})},onKeyboard:function(e){var n=this.$props,r=n.reverse,i=n.vertical,o=zU(e,i,r);if(o){Mv(e);var l=this.sValue,a=o(l,this.$props),f=this.trimAlignValue(a);if(f===l)return;this.onChange({sValue:f}),this.$emit("afterChange",f),this.onEnd()}},getLowerBound:function(){var e=this.$props.startPoint||this.$props.min;return this.$data.sValue>e?e:this.$data.sValue},getUpperBound:function(){return this.$data.sValue<this.$props.startPoint?this.$props.startPoint:this.$data.sValue},trimAlignValue:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e===null)return null;var r=R(R({},this.$props),n),i=RE(e,r);return BU(i,r)},getTrack:function(e){var n=e.prefixCls,r=e.reverse,i=e.vertical,o=e.included,l=e.minimumTrackStyle,a=e.mergedTrackStyle,f=e.length,p=e.offset;return M(OU,{class:"".concat(n,"-track"),vertical:i,included:o,offset:p,reverse:r,length:f,style:R(R({},l),a)},null)},renderSlider:function(){var e=this,n=this.prefixCls,r=this.vertical,i=this.included,o=this.disabled,l=this.minimumTrackStyle,a=this.trackStyle,f=this.handleStyle,p=this.tabindex,v=this.ariaLabelForHandle,g=this.ariaLabelledByForHandle,_=this.ariaValueTextFormatterForHandle,b=this.min,S=this.max,E=this.startPoint,P=this.reverse,k=this.handle,I=this.defaultHandle,D=k||I,L=this.sValue,B=this.dragging,N=this.calcOffset(L),j=D({class:"".concat(n,"-handle"),prefixCls:n,vertical:r,offset:N,value:L,dragging:B,disabled:o,min:b,max:S,reverse:P,index:0,tabindex:p,ariaLabel:v,ariaLabelledBy:g,ariaValueTextFormatter:_,style:f[0]||f,ref:function(re){return e.saveHandle(0,re)},onFocus:this.onFocus,onBlur:this.onBlur}),H=E!==void 0?this.calcOffset(E):0,V=a[0]||a;return{tracks:this.getTrack({prefixCls:n,reverse:P,vertical:r,included:i,offset:H,minimumTrackStyle:l,mergedTrackStyle:V,length:N-H}),handles:j}}}});const sCe=$U(oCe);var wg=function(e){var n=e.value,r=e.handle,i=e.bounds,o=e.props,l=o.allowCross,a=o.pushable,f=Number(a),p=RE(n,o),v=p;return!l&&r!=null&&i!==void 0&&(r>0&&p<=i[r-1]+f&&(v=i[r-1]+f),r<i.length-1&&p>=i[r+1]-f&&(v=i[r+1]-f)),BU(v,o)},lCe={defaultValue:Te.arrayOf(Te.number),value:Te.arrayOf(Te.number),count:Number,pushable:QB(Te.oneOfType([Te.looseBool,Te.number])),allowCross:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},tabindex:Te.arrayOf(Te.number),prefixCls:String,min:Number,max:Number,autofocus:{type:Boolean,default:void 0},ariaLabelGroupForHandles:Array,ariaLabelledByGroupForHandles:Array,ariaValueTextFormatterGroupForHandles:Array,draggableTrack:{type:Boolean,default:void 0}},uCe=lt({compatConfig:{MODE:3},name:"Range",mixins:[Mh],inheritAttrs:!1,props:lr(lCe,{count:1,allowCross:!0,pushable:!1,tabindex:[],draggableTrack:!1,ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]}),emits:["beforeChange","afterChange","change"],displayName:"Range",data:function(){var e=this,n=this.count,r=this.min,i=this.max,o=Array.apply(void 0,Jt(Array(n+1))).map(function(){return r}),l=Ju(this,"defaultValue")?this.defaultValue:o,a=this.value;a===void 0&&(a=l);var f=a.map(function(v,g){return wg({value:v,handle:g,props:e.$props})}),p=f[0]===i?0:f.length-1;return{sHandle:null,recent:p,bounds:f}},watch:{value:{handler:function(e){var n=this.bounds;this.setChangeValue(e||n)},deep:!0},min:function(){var e=this.value;this.setChangeValue(e||this.bounds)},max:function(){var e=this.value;this.setChangeValue(e||this.bounds)}},methods:{setChangeValue:function(e){var n=this,r=this.bounds,i=e.map(function(l,a){return wg({value:l,handle:a,bounds:r,props:n.$props})});if(r.length===i.length){if(i.every(function(l,a){return l===r[a]}))return null}else i=e.map(function(l,a){return wg({value:l,handle:a,props:n.$props})});if(this.setState({bounds:i}),e.some(function(l){return FU(l,n.$props)})){var o=e.map(function(l){return RE(l,n.$props)});this.$emit("change",o)}},onChange:function(e){var n=!Ju(this,"value");if(n)this.setState(e);else{var r={};["sHandle","recent"].forEach(function(l){e[l]!==void 0&&(r[l]=e[l])}),Object.keys(r).length&&this.setState(r)}var i=R(R({},this.$data),e),o=i.bounds;this.$emit("change",o)},positionGetValue:function(e){var n=this.getValue(),r=this.calcValueByPos(e),i=this.getClosestBound(r),o=this.getBoundNeedMoving(r,i),l=n[o];if(r===l)return null;var a=Jt(n);return a[o]=r,a},onStart:function(e){var n=this.bounds;this.$emit("beforeChange",n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e;var i=this.getClosestBound(r);this.prevMovedHandleIndex=this.getBoundNeedMoving(r,i),this.setState({sHandle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});var o=n[this.prevMovedHandleIndex];if(r!==o){var l=Jt(n);l[this.prevMovedHandleIndex]=r,this.onChange({bounds:l})}},onEnd:function(e){var n=this.sHandle;this.removeDocumentEvents(),n||(this.dragTrack=!1),(n!==null||e)&&this.$emit("afterChange",this.bounds),this.setState({sHandle:null})},onMove:function(e,n,r,i){Mv(e);var o=this.$data,l=this.$props,a=l.max||100,f=l.min||0;if(r){var p=l.vertical?-n:n;p=l.reverse?-p:p;var v=a-Math.max.apply(Math,Jt(i)),g=f-Math.min.apply(Math,Jt(i)),_=Math.min(Math.max(p/(this.getSliderLength()/100),g),v),b=i.map(function(I){return Math.floor(Math.max(Math.min(I+_,a),f))});o.bounds.map(function(I,D){return I===b[D]}).some(function(I){return!I})&&this.onChange({bounds:b});return}var S=this.bounds,E=this.sHandle,P=this.calcValueByPos(n),k=S[E];P!==k&&this.moveTo(P)},onKeyboard:function(e){var n=this.$props,r=n.reverse,i=n.vertical,o=zU(e,i,r);if(o){Mv(e);var l=this.bounds,a=this.sHandle,f=l[a===null?this.recent:a],p=o(f,this.$props),v=wg({value:p,handle:a,bounds:l,props:this.$props});if(v===f)return;var g=!0;this.moveTo(v,g)}},getClosestBound:function(e){for(var n=this.bounds,r=0,i=1;i<n.length-1;i+=1)e>=n[i]&&(r=i);return Math.abs(n[r+1]-e)<Math.abs(n[r]-e)&&(r+=1),r},getBoundNeedMoving:function(e,n){var r=this.bounds,i=this.recent,o=n,l=r[n+1]===r[n];return l&&r[i]===r[n]&&(o=i),l&&e!==r[n+1]&&(o=e<r[n+1]?n:n+1),o},getLowerBound:function(){return this.bounds[0]},getUpperBound:function(){var e=this.bounds;return e[e.length-1]},getPoints:function(){var e=this.marks,n=this.step,r=this.min,i=this.max,o=this.internalPointsCache;if(!o||o.marks!==e||o.step!==n){var l=R({},e);if(n!==null)for(var a=r;a<=i;a+=n)l[a]=a;var f=Object.keys(l).map(parseFloat);f.sort(function(p,v){return p-v}),this.internalPointsCache={marks:e,step:n,points:f}}return this.internalPointsCache.points},moveTo:function(e,n){var r=this,i=Jt(this.bounds),o=this.sHandle,l=this.recent,a=o===null?l:o;i[a]=e;var f=a;this.$props.pushable!==!1?this.pushSurroundingHandles(i,f):this.$props.allowCross&&(i.sort(function(p,v){return p-v}),f=i.indexOf(e)),this.onChange({recent:f,sHandle:f,bounds:i}),n&&(this.$emit("afterChange",i),this.setState({},function(){r.handlesRefs[f].focus()}),this.onEnd())},pushSurroundingHandles:function(e,n){var r=e[n],i=this.pushable,o=Number(i),l=0;if(e[n+1]-r<o&&(l=1),r-e[n-1]<o&&(l=-1),l!==0){var a=n+l,f=l*(e[a]-r);this.pushHandle(e,a,l,o-f)||(e[n]=e[a]-l*o)}},pushHandle:function(e,n,r,i){for(var o=e[n],l=e[n];r*(l-o)<i;){if(!this.pushHandleOnePoint(e,n,r))return e[n]=o,!1;l=e[n]}return!0},pushHandleOnePoint:function(e,n,r){var i=this.getPoints(),o=i.indexOf(e[n]),l=o+r;if(l>=i.length||l<0)return!1;var a=n+r,f=i[l],p=this.pushable,v=Number(p),g=r*(e[a]-f);return this.pushHandle(e,a,r,v-g)?(e[n]=f,!0):!1},trimAlignValue:function(e){var n=this.sHandle,r=this.bounds;return wg({value:e,handle:n,bounds:r,props:this.$props})},ensureValueNotConflict:function(e,n,r){var i=r.allowCross,o=r.pushable,l=this.$data||{},a=l.bounds;if(e=e===void 0?l.sHandle:e,o=Number(o),!i&&e!=null&&a!==void 0){if(e>0&&n<=a[e-1]+o)return a[e-1]+o;if(e<a.length-1&&n>=a[e+1]-o)return a[e+1]-o}return n},getTrack:function(e){var n=e.bounds,r=e.prefixCls,i=e.reverse,o=e.vertical,l=e.included,a=e.offsets,f=e.trackStyle;return n.slice(0,-1).map(function(p,v){var g,_=v+1,b=mt((g={},J(g,"".concat(r,"-track"),!0),J(g,"".concat(r,"-track-").concat(_),!0),g));return M(OU,{class:b,vertical:o,reverse:i,included:l,offset:a[_-1],length:a[_]-a[_-1],style:f[v],key:_},null)})},renderSlider:function(){var e=this,n=this.sHandle,r=this.bounds,i=this.prefixCls,o=this.vertical,l=this.included,a=this.disabled,f=this.min,p=this.max,v=this.reverse,g=this.handle,_=this.defaultHandle,b=this.trackStyle,S=this.handleStyle,E=this.tabindex,P=this.ariaLabelGroupForHandles,k=this.ariaLabelledByGroupForHandles,I=this.ariaValueTextFormatterGroupForHandles,D=g||_,L=r.map(function(j){return e.calcOffset(j)}),B="".concat(i,"-handle"),N=r.map(function(j,H){var V,Z=E[H]||0;(a||E[H]===null)&&(Z=null);var re=n===H;return D({class:mt((V={},J(V,B,!0),J(V,"".concat(B,"-").concat(H+1),!0),J(V,"".concat(B,"-dragging"),re),V)),prefixCls:i,vertical:o,dragging:re,offset:L[H],value:j,index:H,tabindex:Z,min:f,max:p,reverse:v,disabled:a,style:S[H],ref:function(G){return e.saveHandle(H,G)},onFocus:e.onFocus,onBlur:e.onBlur,ariaLabel:P[H],ariaLabelledBy:k[H],ariaValueTextFormatter:I[H]})});return{tracks:this.getTrack({bounds:r,prefixCls:i,reverse:v,vertical:o,included:l,offsets:L,trackStyle:b}),handles:N}}}});const cCe=$U(uCe),dCe=lt({compatConfig:{MODE:3},name:"SliderTooltip",inheritAttrs:!1,props:y$(),setup:function(e,n){var r=n.attrs,i=n.slots,o=ke(null),l=ke(null);function a(){$n.cancel(l.value),l.value=null}function f(){l.value=$n(function(){var v;(v=o.value)===null||v===void 0||v.forcePopupAlign(),l.value=null})}var p=function(){a(),e.visible&&f()};return Lt([function(){return e.visible},function(){return e.title}],function(){p()},{flush:"post",immediate:!0}),a2(function(){p()}),tr(function(){a()}),function(){return M(_l,R(R({ref:o},e),r),i)}}});var fCe=["value","dragging","index"],hCe=["tooltipPrefixCls","range","id"],pCe=function(e){return typeof e=="number"?e.toString():""},vCe=function(){return{id:String,prefixCls:String,tooltipPrefixCls:String,range:{type:[Boolean,Object],default:void 0},reverse:{type:Boolean,default:void 0},min:Number,max:Number,step:{type:[Number,Object]},marks:{type:Object},dots:{type:Boolean,default:void 0},value:{type:[Number,Array]},defaultValue:{type:[Number,Array]},included:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},vertical:{type:Boolean,default:void 0},tipFormatter:{type:[Function,Object],default:function(){return pCe}},tooltipVisible:{type:Boolean,default:void 0},tooltipPlacement:{type:String},getTooltipPopupContainer:{type:Function},autofocus:{type:Boolean,default:void 0},handleStyle:{type:[Object,Array]},trackStyle:{type:[Object,Array]},onChange:{type:Function},onAfterChange:{type:Function},onFocus:{type:Function},onBlur:{type:Function},"onUpdate:value":{type:Function}}},mCe=lt({compatConfig:{MODE:3},name:"ASlider",inheritAttrs:!1,props:vCe(),slots:["mark"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.emit,l=n.expose,a=fn("slider",e),f=a.prefixCls,p=a.rootPrefixCls,v=a.direction,g=a.getPopupContainer,_=a.configProvider,b=_a(),S=ke(),E=ke({}),P=function(H,V){E.value[H]=V},k=le(function(){return e.tooltipPlacement?e.tooltipPlacement:e.vertical?v.value==="rtl"?"left":"right":"top"}),I=function(){var H;(H=S.value)===null||H===void 0||H.focus()},D=function(){var H;(H=S.value)===null||H===void 0||H.blur()},L=function(H){o("update:value",H),o("change",H),b.onFieldChange()},B=function(H){o("blur",H)};l({focus:I,blur:D});var N=function(H){var V=H.tooltipPrefixCls,Z=H.info,re=Z.value,q=Z.dragging,G=Z.index,ae=kn(Z,fCe),te=e.tipFormatter,Q=e.tooltipVisible,Y=e.getTooltipPopupContainer,X=te?E.value[G]||q:!1,ie=Q||Q===void 0&&X;return M(dCe,{prefixCls:V,title:te?te(re):"",visible:ie,placement:k.value,transitionName:"".concat(p.value,"-zoom-down"),key:G,overlayClassName:"".concat(f.value,"-tooltip"),getPopupContainer:Y||g.value},{default:function(){return[M(LU,R(R({},ae),{},{value:re,onMouseenter:function(){return P(G,!0)},onMouseleave:function(){return P(G,!1)}}),null)]}})};return function(){var j=e.tooltipPrefixCls,H=e.range,V=e.id,Z=V===void 0?b.id.value:V,re=kn(e,hCe),q=_.getPrefixCls("tooltip",j),G=mt(r.class,J({},"".concat(f.value,"-rtl"),v.value==="rtl"));v.value==="rtl"&&!re.vertical&&(re.reverse=!re.reverse);var ae;return dn(H)==="object"&&(ae=H.draggableTrack),H?M(cCe,R(R({},re),{},{step:re.step,draggableTrack:ae,class:G,ref:S,handle:function(Q){return N({tooltipPrefixCls:q,prefixCls:f.value,info:Q})},prefixCls:f.value,onChange:L,onBlur:B}),{mark:i.mark}):M(sCe,R(R({},re),{},{id:Z,step:re.step,class:G,ref:S,handle:function(Q){return N({tooltipPrefixCls:q,prefixCls:f.value,info:Q})},prefixCls:f.value,onChange:L,onBlur:B}),{mark:i.mark})}}});const gCe=Ki(mCe);var yCe={small:8,middle:16,large:24},_Ce=function(){return{prefixCls:String,size:{type:[String,Number,Array]},direction:Te.oneOf(Di("horizontal","vertical")).def("horizontal"),align:Te.oneOf(Di("start","end","center","baseline")),wrap:{type:Boolean,default:void 0}}};function bCe(t){return typeof t=="string"?yCe[t]:t||0}var xCe=lt({compatConfig:{MODE:3},name:"ASpace",props:_Ce(),slots:["split"],setup:function(e,n){var r=n.slots,i=fn("space",e),o=i.prefixCls,l=i.space,a=i.direction,f=Yj(),p=le(function(){var P,k,I;return(P=(k=e.size)!==null&&k!==void 0?k:(I=l.value)===null||I===void 0?void 0:I.size)!==null&&P!==void 0?P:"small"}),v=ke(),g=ke();Lt(p,function(){var P=(Array.isArray(p.value)?p.value:[p.value,p.value]).map(function(I){return bCe(I)}),k=Wt(P,2);v.value=k[0],g.value=k[1]},{immediate:!0});var _=le(function(){return e.align===void 0&&e.direction==="horizontal"?"center":e.align}),b=le(function(){var P;return mt(o.value,"".concat(o.value,"-").concat(e.direction),(P={},J(P,"".concat(o.value,"-rtl"),a.value==="rtl"),J(P,"".concat(o.value,"-align-").concat(_.value),_.value),P))}),S=le(function(){return a.value==="rtl"?"marginLeft":"marginRight"}),E=le(function(){var P={};return f.value&&(P.columnGap="".concat(v.value,"px"),P.rowGap="".concat(g.value,"px")),R(R({},P),e.wrap&&{flexWrap:"wrap",marginBottom:"".concat(-g.value,"px")})});return function(){var P,k,I=e.wrap,D=e.direction,L=D===void 0?"horizontal":D,B=(P=r.default)===null||P===void 0?void 0:P.call(r),N=ta(B),j=N.length;if(j===0)return null;var H=(k=r.split)===null||k===void 0?void 0:k.call(r),V="".concat(o.value,"-item"),Z=v.value,re=j-1;return M("div",{class:b.value,style:E.value},[N.map(function(q,G){var ae=B.indexOf(q),te={};return f.value||(L==="vertical"?G<re&&(te={marginBottom:"".concat(Z/(H?2:1),"px")}):te=R(R({},G<re&&J({},S.value,"".concat(Z/(H?2:1),"px"))),I&&{paddingBottom:"".concat(g.value,"px")})),M(Kn,{key:ae},[M("div",{class:V,style:te},[q]),G<re&&H&&M("span",{class:"".concat(V,"-split"),style:te},[H])])})])}}});const wCe=Ki(xCe);var CCe=["prefixCls"];const SCe=lt({compatConfig:{MODE:3},name:"Steps",props:{type:Te.string.def("default"),prefixCls:Te.string.def("vc-steps"),iconPrefix:Te.string.def("vc"),direction:Te.string.def("horizontal"),labelPlacement:Te.string.def("horizontal"),status:Te.string.def("process"),size:Te.string.def(""),progressDot:Te.oneOfType([Te.looseBool,Te.func]).def(void 0),initial:Te.number.def(0),current:Te.number.def(0),icons:Te.shape({finish:Te.any,error:Te.any}).loose,stepIcon:Function},slots:["stepIcon","progressDot"],emits:["change"],setup:function(e,n){var r=n.slots,i=n.emit,o=function(a){var f=e.current;f!==a&&i("change",a)};return function(){var l,a,f=e.prefixCls,p=e.direction,v=e.type,g=e.labelPlacement,_=e.iconPrefix,b=e.status,S=e.size,E=e.current,P=e.progressDot,k=P===void 0?r.progressDot:P,I=e.initial,D=e.icons,L=e.stepIcon,B=L===void 0?r.stepIcon:L,N=v==="navigation",j=k?"vertical":g,H=mt(f,"".concat(f,"-").concat(p),(l={},J(l,"".concat(f,"-").concat(S),S),J(l,"".concat(f,"-label-").concat(j),p==="horizontal"),J(l,"".concat(f,"-dot"),!!k),J(l,"".concat(f,"-navigation"),N),l)),V=ta((a=r.default)===null||a===void 0?void 0:a.call(r));return M("div",{class:H},[V.map(function(Z,re){var q=Z.props||{},G=q.prefixCls,ae=G===void 0?f:G,te=kn(q,CCe),Q=I+re,Y=R(R({},te),{},{stepNumber:Q+1,stepIndex:Q,key:Q,prefixCls:ae,iconPrefix:_,progressDot:k,icons:D,stepIcon:B,onStepClick:o});return b==="error"&&re===E-1&&(Y.class="".concat(f,"-next-error")),te.status||(Q===E?Y.status=b:Q<E?Y.status="finish":Y.status="wait"),Y.active=Q===E,Pr(Z,Y)})])}}});function qD(t){return typeof t=="string"}function TCe(){}var jU=function(){return{prefixCls:String,wrapperStyle:{type:Object,default:void 0},itemWidth:String,active:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},status:String,iconPrefix:String,icon:Te.any,adjustMarginRight:String,stepNumber:Number,stepIndex:Number,description:Te.any,title:Te.any,subTitle:Te.any,progressDot:QB(Te.oneOfType([Te.looseBool,Te.func])),tailContent:Te.any,icons:Te.shape({finish:Te.any,error:Te.any}).loose,onClick:Function,onStepClick:Function,stepIcon:Function}};const ECe=lt({compatConfig:{MODE:3},name:"Step",props:jU(),slots:["title","subTitle","description","tailContent","stepIcon","progressDot"],emits:["click","stepClick"],setup:function(e,n){var r=n.slots,i=n.emit,o=function(f){i("click",f),i("stepClick",e.stepIndex)},l=function(f){var p,v=f.icon,g=f.title,_=f.description,b=e.prefixCls,S=e.stepNumber,E=e.status,P=e.iconPrefix,k=e.icons,I=e.progressDot,D=I===void 0?r.progressDot:I,L=e.stepIcon,B=L===void 0?r.stepIcon:L,N,j=(p={},J(p,"".concat(b,"-icon"),!0),J(p,"".concat(P,"icon"),!0),J(p,"".concat(P,"icon-").concat(v),v&&qD(v)),J(p,"".concat(P,"icon-check"),!v&&E==="finish"&&k&&!k.finish),J(p,"".concat(P,"icon-close"),!v&&E==="error"&&k&&!k.error),p),H=M("span",{class:"".concat(b,"-icon-dot")},null);return D?typeof D=="function"?N=M("span",{class:"".concat(b,"-icon")},[D({iconDot:H,index:S-1,status:E,title:g,description:_,prefixCls:b})]):N=M("span",{class:"".concat(b,"-icon")},[H]):v&&!qD(v)?N=M("span",{class:"".concat(b,"-icon")},[v]):k&&k.finish&&E==="finish"?N=M("span",{class:"".concat(b,"-icon")},[k.finish]):k&&k.error&&E==="error"?N=M("span",{class:"".concat(b,"-icon")},[k.error]):v||E==="finish"||E==="error"?N=M("span",{class:j},null):N=M("span",{class:"".concat(b,"-icon")},[S]),B&&(N=B({index:S-1,status:E,title:g,description:_,node:N})),N};return function(){var a,f,p,v,g,_=e.prefixCls,b=e.itemWidth,S=e.active,E=e.status,P=E===void 0?"wait":E,k=e.tailContent,I=e.adjustMarginRight,D=e.disabled,L=e.title,B=L===void 0?(a=r.title)===null||a===void 0?void 0:a.call(r):L,N=e.description,j=N===void 0?(f=r.description)===null||f===void 0?void 0:f.call(r):N,H=e.subTitle,V=H===void 0?(p=r.subTitle)===null||p===void 0?void 0:p.call(r):H,Z=e.icon,re=Z===void 0?(v=r.icon)===null||v===void 0?void 0:v.call(r):Z,q=e.onClick,G=e.onStepClick,ae=(g={},J(g,"".concat(_,"-item"),!0),J(g,"".concat(_,"-item-").concat(P),!0),J(g,"".concat(_,"-item-custom"),re),J(g,"".concat(_,"-item-active"),S),J(g,"".concat(_,"-item-disabled"),D===!0),g),te={class:ae},Q={};b&&(Q.width=b),I&&(Q.marginRight=I);var Y={onClick:q||TCe};return G&&!D&&(Y.role="button",Y.tabindex=0,Y.onClick=o),M("div",R(R({},te),{},{style:Q}),[M("div",R(R({},Y),{},{class:"".concat(_,"-item-container")}),[M("div",{class:"".concat(_,"-item-tail")},[k]),M("div",{class:"".concat(_,"-item-icon")},[l({icon:re,title:B,description:j})]),M("div",{class:"".concat(_,"-item-content")},[M("div",{class:"".concat(_,"-item-title")},[B,V&&M("div",{title:V,class:"".concat(_,"-item-subtitle")},[V])]),j&&M("div",{class:"".concat(_,"-item-description")},[j])])])])}}});var PCe=function(){return{prefixCls:String,iconPrefix:String,current:Number,initial:Number,percent:Number,responsive:{type:Boolean,default:void 0},labelPlacement:String,status:String,size:String,direction:String,progressDot:{type:[Boolean,Function],default:void 0},type:String,onChange:Function,"onUpdate:current":Function}},p4=lt({compatConfig:{MODE:3},name:"ASteps",inheritAttrs:!1,props:lr(PCe(),{current:0,responsive:!0,labelPlacement:"horizontal"}),slots:["progressDot"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.emit,l=fn("steps",e),a=l.prefixCls,f=l.direction,p=l.configProvider,v=Wv(),g=le(function(){return e.responsive&&v.value.xs?"vertical":e.direction}),_=le(function(){return p.getPrefixCls("",e.iconPrefix)}),b=function(P){o("update:current",P),o("change",P)},S=function(P){var k=P.node,I=P.status;if(I==="process"&&e.percent!==void 0){var D=e.size==="small"?32:40,L=M("div",{class:"".concat(a,"-progress-icon")},[M(kE,{type:"circle",percent:e.percent,width:D,strokeWidth:4,format:function(){return null}},null),k]);return L}return k};return function(){var E,P=mt((E={},J(E,"".concat(a.value,"-rtl"),f.value==="rtl"),J(E,"".concat(a.value,"-with-progress"),e.percent!==void 0),E),r.class),k={finish:M(d2,{class:"".concat(a,"-finish-icon")},null),error:M(pu,{class:"".concat(a,"-error-icon")},null)};return M(SCe,R(R({icons:k},Qn(e,["percent","responsive"])),{},{direction:g.value,prefixCls:a.value,iconPrefix:_.value,class:P,onChange:b}),R(R({},i),{},{stepIcon:S}))}}}),gb=lt(R(R({compatConfig:{MODE:3}},ECe),{},{name:"AStep",props:jU()}));const MCe=yr(p4,{Step:gb,install:function(e){return e.component(p4.name,p4),e.component(gb.name,gb),e}});var kCe=Di("small","default"),ACe=function(){return{id:String,prefixCls:String,size:Te.oneOf(kCe),disabled:{type:Boolean,default:void 0},checkedChildren:Te.any,unCheckedChildren:Te.any,tabindex:Te.oneOfType([Te.string,Te.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:Te.oneOfType([Te.string,Te.number,Te.looseBool]),checkedValue:Te.oneOfType([Te.string,Te.number,Te.looseBool]).def(!0),unCheckedValue:Te.oneOfType([Te.string,Te.number,Te.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}},ICe=lt({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:ACe(),slots:["checkedChildren","unCheckedChildren"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.expose,l=n.emit,a=_a();s2(function(){sa(!("defaultChecked"in r),"Switch","'defaultChecked' is deprecated, please use 'v-model:checked'"),sa(!("value"in r),"Switch","`value` is not validate prop, do you mean `checked`?")});var f=ke(e.checked!==void 0?e.checked:r.defaultChecked),p=le(function(){return f.value===e.checkedValue});Lt(function(){return e.checked},function(){f.value=e.checked});var v=fn("switch",e),g=v.prefixCls,_=v.direction,b=v.size,S=ke(),E=function(){var H;(H=S.value)===null||H===void 0||H.focus()},P=function(){var H;(H=S.value)===null||H===void 0||H.blur()};o({focus:E,blur:P}),zn(function(){Yn(function(){e.autofocus&&!e.disabled&&S.value.focus()})});var k=function(H,V){e.disabled||(l("update:checked",H),l("change",H,V),a.onFieldChange())},I=function(H){l("blur",H)},D=function(H){E();var V=p.value?e.unCheckedValue:e.checkedValue;k(V,H),l("click",V,H)},L=function(H){H.keyCode===qt.LEFT?k(e.unCheckedValue,H):H.keyCode===qt.RIGHT&&k(e.checkedValue,H),l("keydown",H)},B=function(H){var V;(V=S.value)===null||V===void 0||V.blur(),l("mouseup",H)},N=le(function(){var j;return j={},J(j,"".concat(g.value,"-small"),b.value==="small"),J(j,"".concat(g.value,"-loading"),e.loading),J(j,"".concat(g.value,"-checked"),p.value),J(j,"".concat(g.value,"-disabled"),e.disabled),J(j,g.value,!0),J(j,"".concat(g.value,"-rtl"),_.value==="rtl"),j});return function(){var j;return M(kT,{insertExtraNode:!0},{default:function(){return[M("button",R(R(R({},Qn(e,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),r),{},{id:(j=e.id)!==null&&j!==void 0?j:a.id.value,onKeydown:L,onClick:D,onBlur:I,onMouseup:B,type:"button",role:"switch","aria-checked":f.value,disabled:e.disabled||e.loading,class:[r.class,N.value],ref:S}),[M("div",{class:"".concat(g.value,"-handle")},[e.loading?M(wl,{class:"".concat(g.value,"-loading-icon")},null):null]),M("span",{class:"".concat(g.value,"-inner")},[p.value?vi(i,e,"checkedChildren"):vi(i,e,"unCheckedChildren")])])]}})}}});const OCe=Ki(ICe);var VU=Symbol("TableContextProps"),DCe=function(e){Xn(VU,e)},gu=function(){return Hn(VU,{})},RCe="RC_TABLE_KEY";function UU(t){return t==null?[]:Array.isArray(t)?t:[t]}function HU(t,e){if(!e&&typeof e!="number")return t;for(var n=UU(e),r=t,i=0;i<n.length;i+=1){if(!r)return null;var o=n[i];r=r[o]}return r}function ew(t){var e=[],n={};return t.forEach(function(r){for(var i=r||{},o=i.key,l=i.dataIndex,a=o||UU(l).join("-")||RCe;n[a];)a="".concat(a,"_next");n[a]=!0,e.push(a)}),e}function LCe(){var t={};function e(o,l){l&&Object.keys(l).forEach(function(a){var f=l[a];f&&dn(f)==="object"?(o[a]=o[a]||{},e(o[a],f)):o[a]=f})}for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return r.forEach(function(o){e(t,o)}),t}function h6(t){return t!=null}var KU=Symbol("SlotsContextProps"),FCe=function(e){Xn(KU,e)},WU=function(){return Hn(KU,le(function(){return{}}))},GU=Symbol("ContextProps"),NCe=function(e){Xn(GU,e)},BCe=function(){return Hn(GU,{onResizeColumn:function(){}})},dv="RC_TABLE_INTERNAL_COL_DEFINE",qU=Symbol("HoverContextProps"),zCe=function(e){Xn(qU,e)},$Ce=function(){return Hn(qU,{startRow:ke(-1),endRow:ke(-1),onHover:function(){}})},p6=ke(!1),jCe=function(){zn(function(){p6.value=p6.value||uE("position","sticky")})},VCe=function(){return p6},UCe=["colSpan","rowSpan","style","class"];function HCe(t,e,n,r){var i=t+e-1;return t<=r&&i>=n}function KCe(t){return t&&dn(t)==="object"&&!Array.isArray(t)&&!Ga(t)}const tw=lt({name:"Cell",props:["prefixCls","record","index","renderIndex","dataIndex","customRender","component","colSpan","rowSpan","fixLeft","fixRight","firstFixLeft","lastFixLeft","firstFixRight","lastFixRight","appendNode","additionalProps","ellipsis","align","rowType","isSticky","column","cellType","transformCellText"],slots:["appendNode"],setup:function(e,n){var r=n.slots,i=WU(),o=$Ce(),l=o.onHover,a=o.startRow,f=o.endRow,p=le(function(){var P,k,I,D;return(P=(k=e.colSpan)!==null&&k!==void 0?k:(I=e.additionalProps)===null||I===void 0?void 0:I.colSpan)!==null&&P!==void 0?P:(D=e.additionalProps)===null||D===void 0?void 0:D.colspan}),v=le(function(){var P,k,I,D;return(P=(k=e.rowSpan)!==null&&k!==void 0?k:(I=e.additionalProps)===null||I===void 0?void 0:I.rowSpan)!==null&&P!==void 0?P:(D=e.additionalProps)===null||D===void 0?void 0:D.rowspan}),g=ms(function(){var P=e.index;return HCe(P,v.value||1,a.value,f.value)}),_=VCe(),b=function(k,I){var D,L=e.record,B=e.index,N=e.additionalProps;L&&l(B,B+I-1),N==null||(D=N.onMouseenter)===null||D===void 0||D.call(N,k)},S=function(k){var I,D=e.record,L=e.additionalProps;D&&l(-1,-1),L==null||(I=L.onMouseleave)===null||I===void 0||I.call(L,k)},E=function P(k){var I=ta(k)[0];return Ga(I)?I.type===Ld?I.children:Array.isArray(I.children)?P(I.children):void 0:I};return function(){var P,k,I,D,L,B,N=e.prefixCls,j=e.record,H=e.index,V=e.renderIndex,Z=e.dataIndex,re=e.customRender,q=e.component,G=q===void 0?"td":q,ae=e.fixLeft,te=e.fixRight,Q=e.firstFixLeft,Y=e.lastFixLeft,X=e.firstFixRight,ie=e.lastFixRight,he=e.appendNode,ce=he===void 0?(P=r.appendNode)===null||P===void 0?void 0:P.call(r):he,we=e.additionalProps,be=we===void 0?{}:we,ve=e.ellipsis,ge=e.align,Pe=e.rowType,ye=e.isSticky,Ne=e.column,Re=Ne===void 0?{}:Ne,Ge=e.cellType,He="".concat(N,"-cell"),Ee,pe,Ie=(k=r.default)===null||k===void 0?void 0:k.call(r);if(h6(Ie)||Ge==="header")pe=Ie;else{var We,Qe=HU(j,Z);if(pe=Qe,re){var at=re({text:Qe,value:Qe,record:j,index:H,renderIndex:V,column:Re.__originColumn__});KCe(at)?(pe=at.children,Ee=at.props):pe=at}if(!(dv in Re)&&Ge==="body"&&i.value.bodyCell&&!((We=Re.slots)!==null&&We!==void 0&&We.customRender)){var xt=v5(i.value,"bodyCell",{text:Qe,value:Qe,record:j,index:H,column:Re.__originColumn__},function(){var gt=pe===void 0?Qe:pe;return[dn(gt)==="object"&&la(gt)||dn(gt)!=="object"?gt:null]});pe=Wr(xt)}e.transformCellText&&(pe=e.transformCellText({text:pe,record:j,index:H,column:Re.__originColumn__}))}dn(pe)==="object"&&!Array.isArray(pe)&&!Ga(pe)&&(pe=null),ve&&(Y||X)&&(pe=M("span",{class:"".concat(He,"-content")},[pe])),Array.isArray(pe)&&pe.length===1&&(pe=pe[0]);var ot=Ee||{},nt=ot.colSpan,Ze=ot.rowSpan,ht=ot.style,vt=ot.class,Ct=kn(ot,UCe),Nt=(I=nt!==void 0?nt:p.value)!==null&&I!==void 0?I:1,tn=(D=Ze!==void 0?Ze:v.value)!==null&&D!==void 0?D:1;if(Nt===0||tn===0)return null;var rn={},Pt=typeof ae=="number"&&_.value,yt=typeof te=="number"&&_.value;Pt&&(rn.position="sticky",rn.left="".concat(ae,"px")),yt&&(rn.position="sticky",rn.right="".concat(te,"px"));var Bt={};ge&&(Bt.textAlign=ge);var Ut,St=ve===!0?{showTitle:!0}:ve;St&&(St.showTitle||Pe==="header")&&(typeof pe=="string"||typeof pe=="number"?Ut=pe.toString():Ga(pe)&&(Ut=E([pe])));var ft=R(R(R({title:Ut},Ct),be),{},{colSpan:Nt!==1?Nt:null,rowSpan:tn!==1?tn:null,class:mt(He,(L={},J(L,"".concat(He,"-fix-left"),Pt&&_.value),J(L,"".concat(He,"-fix-left-first"),Q&&_.value),J(L,"".concat(He,"-fix-left-last"),Y&&_.value),J(L,"".concat(He,"-fix-right"),yt&&_.value),J(L,"".concat(He,"-fix-right-first"),X&&_.value),J(L,"".concat(He,"-fix-right-last"),ie&&_.value),J(L,"".concat(He,"-ellipsis"),ve),J(L,"".concat(He,"-with-append"),ce),J(L,"".concat(He,"-fix-sticky"),(Pt||yt)&&ye&&_.value),J(L,"".concat(He,"-row-hover"),!Ee&&g.value),L),be.class,vt),onMouseenter:function(_t){b(_t,tn)},onMouseleave:S,style:R(R(R(R({},j8(be.style)),Bt),rn),ht)});return M(G,ft,{default:function(){return[ce,pe,(B=r.dragHandle)===null||B===void 0?void 0:B.call(r)]}})}}});function LE(t,e,n,r,i){var o=n[t]||{},l=n[e]||{},a,f;o.fixed==="left"?a=r.left[t]:l.fixed==="right"&&(f=r.right[e]);var p=!1,v=!1,g=!1,_=!1,b=n[e+1],S=n[t-1];if(i==="rtl"){if(a!==void 0){var E=S&&S.fixed==="left";_=!E}else if(f!==void 0){var P=b&&b.fixed==="right";g=!P}}else if(a!==void 0){var k=b&&b.fixed==="left";p=!k}else if(f!==void 0){var I=S&&S.fixed==="right";v=!I}return{fixLeft:a,fixRight:f,lastFixLeft:p,firstFixRight:v,lastFixRight:g,firstFixLeft:_,isSticky:r.isSticky}}var YD={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},XD=50;const WCe=lt({compatConfig:{MODE:3},name:"DragHandle",props:{prefixCls:String,width:{type:Number,required:!0},minWidth:{type:Number,default:XD},maxWidth:{type:Number,default:1/0},column:{type:Object,default:void 0}},setup:function(e){var n=0,r={remove:function(){}},i={remove:function(){}},o=function(){r.remove(),i.remove()};_o(function(){o()}),Un(function(){Br(!isNaN(e.width),"Table","width must be a number when use resizable")});var l=BCe(),a=l.onResizeColumn,f=le(function(){return typeof e.minWidth=="number"&&!isNaN(e.minWidth)?e.minWidth:XD}),p=le(function(){return typeof e.maxWidth=="number"&&!isNaN(e.maxWidth)?e.maxWidth:1/0}),v=Ba(),g=0,_=ke(!1),b,S=function(N){var j=0;N.touches?N.touches.length?j=N.touches[0].pageX:j=N.changedTouches[0].pageX:j=N.pageX;var H=n-j,V=Math.max(g-H,f.value);V=Math.min(V,p.value),$n.cancel(b),b=$n(function(){a(V,e.column.__originColumn__)})},E=function(N){S(N)},P=function(N){_.value=!1,S(N),o()},k=function(N,j){_.value=!0,o(),g=v.vnode.el.parentNode.getBoundingClientRect().width,!(N instanceof MouseEvent&&N.which!==1)&&(N.stopPropagation&&N.stopPropagation(),n=N.touches?N.touches[0].pageX:N.pageX,r=_i(document.documentElement,j.move,E),i=_i(document.documentElement,j.stop,P))},I=function(N){N.stopPropagation(),N.preventDefault(),k(N,YD.mouse)},D=function(N){N.stopPropagation(),N.preventDefault(),k(N,YD.touch)},L=function(N){N.stopPropagation(),N.preventDefault()};return function(){var B=e.prefixCls,N=J({},va?"onTouchstartPassive":"onTouchstart",function(j){return D(j)});return M("div",R(R({class:"".concat(B,"-resize-handle ").concat(_.value?"dragging":""),onMousedown:I},N),{},{onClick:L}),[M("div",{class:"".concat(B,"-resize-handle-line")},null)])}}}),GCe=lt({name:"HeaderRow",props:["cells","stickyOffsets","flattenColumns","rowComponent","cellComponent","index","customHeaderRow"],setup:function(e){var n=gu();return function(){var r=n.prefixCls,i=n.direction,o=e.cells,l=e.stickyOffsets,a=e.flattenColumns,f=e.rowComponent,p=e.cellComponent,v=e.customHeaderRow,g=e.index,_;v&&(_=v(o.map(function(S){return S.column}),g));var b=ew(o.map(function(S){return S.column}));return M(f,_,{default:function(){return[o.map(function(E,P){var k=E.column,I=LE(E.colStart,E.colEnd,a,l,i),D;k&&k.customHeaderCell&&(D=E.column.customHeaderCell(k));var L=k;return M(tw,R(R(R({},E),{},{cellType:"header",ellipsis:k.ellipsis,align:k.align,component:p,prefixCls:r,key:b[P]},I),{},{additionalProps:D,rowType:"header",column:k}),{default:function(){return k.title},dragHandle:function(){return L.resizable?M(WCe,{prefixCls:r,width:L.width,minWidth:L.minWidth,maxWidth:L.maxWidth,column:L},null):null}})})]}})}}});function qCe(t){var e=[];function n(l,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;e[f]=e[f]||[];var p=a,v=l.filter(Boolean).map(function(g){var _={key:g.key,class:mt(g.className,g.class),column:g,colStart:p},b=1,S=g.children;return S&&S.length>0&&(b=n(S,p,f+1).reduce(function(E,P){return E+P},0),_.hasSubColumns=!0),"colSpan"in g&&(b=g.colSpan),"rowSpan"in g&&(_.rowSpan=g.rowSpan),_.colSpan=b,_.colEnd=_.colStart+b-1,e[f].push(_),p+=b,b});return v}n(t,0);for(var r=e.length,i=function(a){e[a].forEach(function(f){!("rowSpan"in f)&&!f.hasSubColumns&&(f.rowSpan=r-a)})},o=0;o<r;o+=1)i(o);return e}const ZD=lt({name:"Header",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow"],setup:function(e){var n=gu(),r=le(function(){return qCe(e.columns)});return function(){var i=n.prefixCls,o=n.getComponent,l=e.stickyOffsets,a=e.flattenColumns,f=e.customHeaderRow,p=o(["header","wrapper"],"thead"),v=o(["header","row"],"tr"),g=o(["header","cell"],"th");return M(p,{class:"".concat(i,"-thead")},{default:function(){return[r.value.map(function(b,S){var E=M(GCe,{key:S,flattenColumns:a,cells:b,stickyOffsets:l,rowComponent:v,cellComponent:g,customHeaderRow:f,index:S},null);return E})]}})}}});var YU=Symbol("ExpandedRowProps"),YCe=function(e){Xn(YU,e)},XCe=function(){return Hn(YU,{})};const XU=lt({name:"ExpandedRow",inheritAttrs:!1,props:["prefixCls","component","cellComponent","expanded","colSpan","isEmpty"],setup:function(e,n){var r=n.slots,i=n.attrs,o=gu(),l=XCe(),a=l.fixHeader,f=l.fixColumn,p=l.componentWidth,v=l.horizonScroll;return function(){var g=e.prefixCls,_=e.component,b=e.cellComponent,S=e.expanded,E=e.colSpan,P=e.isEmpty;return M(_,{class:i.class,style:{display:S?null:"none"}},{default:function(){return[M(tw,{component:b,prefixCls:g,colSpan:E},{default:function(){var D,L=(D=r.default)===null||D===void 0?void 0:D.call(r);return(P?v.value:f.value)&&(L=M("div",{style:{width:"".concat(p.value-(a.value?o.scrollbarSize:0),"px"),position:"sticky",left:0,overflow:"hidden"},class:"".concat(g,"-expanded-row-fixed")},[L])),L}})]}})}}}),ZCe=lt({name:"MeasureCell",props:["columnKey"],setup:function(e,n){var r=n.emit,i=ke();return zn(function(){i.value&&r("columnResize",e.columnKey,i.value.offsetWidth)}),function(){return M(Gs,{onResize:function(l){var a=l.offsetWidth;r("columnResize",e.columnKey,a)}},{default:function(){return[M("td",{ref:i,style:{padding:0,border:0,height:0}},[M("div",{style:{height:0,overflow:"hidden"}},[vo("")])])]}})}}});var ZU=Symbol("BodyContextProps"),QCe=function(e){Xn(ZU,e)},QU=function(){return Hn(ZU,{})};const JCe=lt({name:"BodyRow",inheritAttrs:!1,props:["record","index","renderIndex","recordKey","expandedKeys","rowComponent","cellComponent","customRow","rowExpandable","indent","rowKey","getRowKey","childrenColumnName"],setup:function(e,n){var r=n.attrs,i=gu(),o=QU(),l=ke(!1),a=le(function(){return e.expandedKeys&&e.expandedKeys.has(e.recordKey)});Un(function(){a.value&&(l.value=!0)});var f=le(function(){return o.expandableType==="row"&&(!e.rowExpandable||e.rowExpandable(e.record))}),p=le(function(){return o.expandableType==="nest"}),v=le(function(){return e.childrenColumnName&&e.record&&e.record[e.childrenColumnName]}),g=le(function(){return f.value||p.value}),_=function(I,D){o.onTriggerExpand(I,D)},b=le(function(){var k;return((k=e.customRow)===null||k===void 0?void 0:k.call(e,e.record,e.index))||{}}),S=function(I){var D,L;o.expandRowByClick&&g.value&&_(e.record,I);for(var B=arguments.length,N=new Array(B>1?B-1:0),j=1;j<B;j++)N[j-1]=arguments[j];(D=b.value)===null||D===void 0||(L=D.onClick)===null||L===void 0||L.call.apply(L,[D,I].concat(N))},E=le(function(){var k=e.record,I=e.index,D=e.indent,L=o.rowClassName;return typeof L=="string"?L:typeof L=="function"?L(k,I,D):""}),P=le(function(){return ew(o.flattenColumns)});return function(){var k=r.class,I=r.style,D=e.record,L=e.index,B=e.rowKey,N=e.indent,j=N===void 0?0:N,H=e.rowComponent,V=e.cellComponent,Z=i.prefixCls,re=i.fixedInfoList,q=i.transformCellText,G=o.flattenColumns,ae=o.expandedRowClassName,te=o.indentSize,Q=o.expandIcon,Y=o.expandedRowRender,X=o.expandIconColumnIndex,ie=M(H,R(R({},b.value),{},{"data-row-key":B,class:mt(k,"".concat(Z,"-row"),"".concat(Z,"-row-level-").concat(j),E.value,b.value.class),style:R(R({},I),j8(b.value.style)),onClick:S}),{default:function(){return[G.map(function(ve,ge){var Pe=ve.customRender,ye=ve.dataIndex,Ne=ve.className,Re=P[ge],Ge=re[ge],He;ve.customCell&&(He=ve.customCell(D,L,ve));var Ee=ge===(X||0)&&p.value?M(Kn,null,[M("span",{style:{paddingLeft:"".concat(te*j,"px")},class:"".concat(Z,"-row-indent indent-level-").concat(j)},null),Q({prefixCls:Z,expanded:a.value,expandable:v.value,record:D,onExpand:_})]):null;return M(tw,R(R({cellType:"body",class:Ne,ellipsis:ve.ellipsis,align:ve.align,component:V,prefixCls:Z,key:Re,record:D,index:L,renderIndex:e.renderIndex,dataIndex:ye,customRender:Pe},Ge),{},{additionalProps:He,column:ve,transformCellText:q,appendNode:Ee}),null)})]}}),he;if(f.value&&(l.value||a.value)){var ce=Y({record:D,index:L,indent:j+1,expanded:a.value}),we=ae&&ae(D,L,j);he=M(XU,{expanded:a.value,class:mt("".concat(Z,"-expanded-row"),"".concat(Z,"-expanded-row-level-").concat(j+1),we),prefixCls:Z,component:H,cellComponent:V,colSpan:G.length,isEmpty:!1},{default:function(){return[ce]}})}return M(Kn,null,[ie,he])}}});function JU(t,e,n,r,i,o){var l=[];l.push({record:t,indent:e,index:o});var a=i(t),f=r==null?void 0:r.has(a);if(t&&Array.isArray(t[n])&&f)for(var p=0;p<t[n].length;p+=1){var v=JU(t[n][p],e+1,n,r,i,p);l.push.apply(l,Jt(v))}return l}function e4e(t,e,n,r){var i=le(function(){var o=e.value,l=n.value,a=t.value;if(l!=null&&l.size){for(var f=[],p=0;p<(a==null?void 0:a.length);p+=1){var v=a[p];f.push.apply(f,Jt(JU(v,0,o,l,r.value,p)))}return f}return a==null?void 0:a.map(function(g,_){return{record:g,indent:0,index:_}})});return i}var eH=Symbol("ResizeContextProps"),t4e=function(e){Xn(eH,e)},n4e=function(){return Hn(eH,{onColumnResize:function(){}})};const r4e=lt({name:"Body",props:["data","getRowKey","measureColumnWidth","expandedKeys","customRow","rowExpandable","childrenColumnName"],slots:["emptyNode"],setup:function(e,n){var r=n.slots,i=n4e(),o=gu(),l=QU(),a=e4e(An(e,"data"),An(e,"childrenColumnName"),An(e,"expandedKeys"),An(e,"getRowKey")),f=ke(-1),p=ke(-1),v;return zCe({startRow:f,endRow:p,onHover:function(_,b){clearTimeout(v),v=setTimeout(function(){f.value=_,p.value=b},100)}}),function(){var g=e.data,_=e.getRowKey,b=e.measureColumnWidth,S=e.expandedKeys,E=e.customRow,P=e.rowExpandable,k=e.childrenColumnName,I=i.onColumnResize,D=o.prefixCls,L=o.getComponent,B=l.flattenColumns,N=L(["body","wrapper"],"tbody"),j=L(["body","row"],"tr"),H=L(["body","cell"],"td"),V;if(g.length)V=a.value.map(function(q,G){var ae=q.record,te=q.indent,Q=q.index,Y=_(ae,G);return M(JCe,{key:Y,rowKey:Y,record:ae,recordKey:Y,index:G,renderIndex:Q,rowComponent:j,cellComponent:H,expandedKeys:S,customRow:E,getRowKey:_,rowExpandable:P,childrenColumnName:k,indent:te},null)});else{var Z;V=M(XU,{expanded:!0,class:"".concat(D,"-placeholder"),prefixCls:D,component:j,cellComponent:H,colSpan:B.length,isEmpty:!0},{default:function(){return[(Z=r.emptyNode)===null||Z===void 0?void 0:Z.call(r)]}})}var re=ew(B);return M(N,{class:"".concat(D,"-tbody")},{default:function(){return[b&&M("tr",{"aria-hidden":"true",class:"".concat(D,"-measure-row"),style:{height:0,fontSize:0}},[re.map(function(G){return M(ZCe,{key:G,columnKey:G,onColumnResize:I},null)})]),V]}})}}});var cd={},i4e=["fixed"];function v6(t){return t.reduce(function(e,n){var r=n.fixed,i=r===!0?"left":r,o=n.children;return o&&o.length>0?[].concat(Jt(e),Jt(v6(o).map(function(l){return R({fixed:i},l)}))):[].concat(Jt(e),[R(R({},n),{},{fixed:i})])},[])}function a4e(t){return t.map(function(e){var n=e.fixed,r=kn(e,i4e),i=n;return n==="left"?i="right":n==="right"&&(i="left"),R({fixed:i},r)})}function o4e(t,e){var n=t.prefixCls,r=t.columns,i=t.expandable,o=t.expandedKeys,l=t.getRowKey,a=t.onTriggerExpand,f=t.expandIcon,p=t.rowExpandable,v=t.expandIconColumnIndex,g=t.direction,_=t.expandRowByClick,b=t.expandColumnWidth,S=t.expandFixed,E=le(function(){if(i.value){var I,D=r.value.slice();if(!D.includes(cd)){var L=v.value||0;L>=0&&D.splice(L,0,cd)}var B=D.indexOf(cd);D=D.filter(function(ae,te){return ae!==cd||te===B});var N=r.value[B],j;(S.value==="left"||S.value)&&!v.value?j="left":(S.value==="right"||S.value)&&v.value===r.value.length?j="right":j=N?N.fixed:null;var H=o.value,V=p.value,Z=f.value,re=n.value,q=_.value,G=(I={},J(I,dv,{class:"".concat(n.value,"-expand-icon-col"),columnType:"EXPAND_COLUMN"}),J(I,"title",""),J(I,"fixed",j),J(I,"class","".concat(n.value,"-row-expand-icon-cell")),J(I,"width",b.value),J(I,"customRender",function(te){var Q=te.record,Y=te.index,X=l.value(Q,Y),ie=H.has(X),he=V?V(Q):!0,ce=Z({prefixCls:re,expanded:ie,expandable:he,record:Q,onExpand:a});return q?M("span",{onClick:function(be){return be.stopPropagation()}},[ce]):ce}),I);return D.map(function(ae){return ae===cd?G:ae})}return r.value.filter(function(ae){return ae!==cd})}),P=le(function(){var I=E.value;return e.value&&(I=e.value(I)),I.length||(I=[{customRender:function(){return null}}]),I}),k=le(function(){return g.value==="rtl"?a4e(v6(P.value)):v6(P.value)});return[P,k]}function tH(t){var e=fr(t),n,r=fr([]);function i(o){r.value.push(o),$n.cancel(n),n=$n(function(){var l=r.value;r.value=[],l.forEach(function(a){e.value=a(e.value)})})}return tr(function(){$n.cancel(n)}),[e,i]}function s4e(t){var e=ke(t||null),n=ke();function r(){clearTimeout(n.value)}function i(l){e.value=l,r(),n.value=setTimeout(function(){e.value=null,n.value=void 0},100)}function o(){return e.value}return tr(function(){r()}),[i,o]}function l4e(t,e,n){var r=le(function(){for(var i=[],o=[],l=0,a=0,f=t.value,p=e.value,v=n.value,g=0;g<p;g+=1)if(v==="rtl"){o[g]=a,a+=f[g]||0;var _=p-g-1;i[_]=l,l+=f[_]||0}else{i[g]=l,l+=f[g]||0;var b=p-g-1;o[b]=a,a+=f[b]||0}return{left:i,right:o}});return r}var u4e=["columnType"];function nH(t){for(var e=t.colWidths,n=t.columns,r=t.columCount,i=[],o=r||n.length,l=!1,a=o-1;a>=0;a-=1){var f=e[a],p=n&&n[a],v=p&&p[dv];if(f||v||l){var g=v||{};g.columnType;var _=kn(g,u4e);i.unshift(M("col",R({key:a,style:{width:typeof f=="number"?"".concat(f,"px"):f}},_),null)),l=!0}}return M("colgroup",null,[i])}function m6(t,e){var n,r=e.slots;return M("div",null,[(n=r.default)===null||n===void 0?void 0:n.call(r)])}m6.displayName="Panel";var c4e=0,d4e=lt({name:"Summary",props:["fixed"],setup:function(e,n){var r=n.slots,i=gu(),o="table-summary-uni-key-".concat(++c4e),l=le(function(){return e.fixed===""||e.fixed});return Un(function(){i.summaryCollect(o,l.value)}),tr(function(){i.summaryCollect(o,!1)}),function(){var a;return(a=r.default)===null||a===void 0?void 0:a.call(r)}}});const f4e=d4e,h4e=lt({compatConfig:{MODE:3},name:"ATableSummaryRow",setup:function(e,n){var r=n.slots;return function(){var i;return M("tr",null,[(i=r.default)===null||i===void 0?void 0:i.call(r)])}}});var rH=Symbol("SummaryContextProps"),p4e=function(e){Xn(rH,e)},v4e=function(){return Hn(rH,{})};const m4e=lt({name:"ATableSummaryCell",props:["index","colSpan","rowSpan","align"],setup:function(e,n){var r=n.attrs,i=n.slots,o=gu(),l=v4e();return function(){var a=e.index,f=e.colSpan,p=f===void 0?1:f,v=e.rowSpan,g=e.align,_=o.prefixCls,b=o.direction,S=l.scrollColumnIndex,E=l.stickyOffsets,P=l.flattenColumns,k=a+p-1,I=k+1===S?p+1:p,D=LE(a,a+I-1,P,E,b);return M(tw,R({class:r.class,index:a,component:"td",prefixCls:_,record:null,dataIndex:null,align:g,colSpan:I,rowSpan:v,customRender:function(){var B;return(B=i.default)===null||B===void 0?void 0:B.call(i)}},D),null)}}}),T_=lt({name:"Footer",inheritAttrs:!1,props:["stickyOffsets","flattenColumns"],setup:function(e,n){var r=n.slots,i=gu();return p4e(Mr({stickyOffsets:An(e,"stickyOffsets"),flattenColumns:An(e,"flattenColumns"),scrollColumnIndex:le(function(){var o=e.flattenColumns.length-1,l=e.flattenColumns[o];return l!=null&&l.scrollbar?o:null})})),function(){var o,l=i.prefixCls;return M("tfoot",{class:"".concat(l,"-summary")},[(o=r.default)===null||o===void 0?void 0:o.call(r)])}}});var g4e=f4e;function y4e(t){var e,n=t.prefixCls,r=t.record,i=t.onExpand,o=t.expanded,l=t.expandable,a="".concat(n,"-row-expand-icon");if(!l)return M("span",{class:[a,"".concat(n,"-row-spaced")]},null);var f=function(v){i(r,v),v.stopPropagation()};return M("span",{class:(e={},J(e,a,!0),J(e,"".concat(n,"-row-expanded"),o),J(e,"".concat(n,"-row-collapsed"),!o),e),onClick:f},null)}function _4e(t,e,n){var r=[];function i(o){(o||[]).forEach(function(l,a){r.push(e(l,a)),i(l[n])})}return i(t),r}const b4e=lt({name:"StickyScrollBar",inheritAttrs:!1,props:["offsetScroll","container","scrollBodyRef","scrollBodySizeInfo"],emits:["scroll"],setup:function(e,n){var r=n.emit,i=n.expose,o=gu(),l=ke(0),a=ke(0),f=ke(0);Un(function(){l.value=e.scrollBodySizeInfo.scrollWidth||0,a.value=e.scrollBodySizeInfo.clientWidth||0,f.value=l.value&&a.value*(a.value/l.value)},{flush:"post"});var p=ke(),v=tH({scrollLeft:0,isHiddenScrollBar:!0}),g=Wt(v,2),_=g[0],b=g[1],S=ke({delta:0,x:0}),E=ke(!1),P=function(){E.value=!1},k=function(re){S.value={delta:re.pageX-_.value.scrollLeft,x:0},E.value=!0,re.preventDefault()},I=function(re){var q,G=re||((q=window)===null||q===void 0?void 0:q.event),ae=G.buttons;if(!E.value||ae===0){E.value&&(E.value=!1);return}var te=S.value.x+re.pageX-S.value.x-S.value.delta;te<=0&&(te=0),te+f.value>=a.value&&(te=a.value-f.value),r("scroll",{scrollLeft:te/a.value*(l.value+2)}),S.value.x=re.pageX},D=function(){if(e.scrollBodyRef.value){var re=Ox(e.scrollBodyRef.value).top,q=re+e.scrollBodyRef.value.offsetHeight,G=e.container===window?document.documentElement.scrollTop+window.innerHeight:Ox(e.container).top+e.container.clientHeight;q-Ev()<=G||re>=G-e.offsetScroll?b(function(ae){return R(R({},ae),{},{isHiddenScrollBar:!0})}):b(function(ae){return R(R({},ae),{},{isHiddenScrollBar:!1})})}},L=function(re){b(function(q){return R(R({},q),{},{scrollLeft:re/l.value*a.value||0})})};i({setScrollLeft:L});var B=null,N=null,j=null,H=null;zn(function(){B=_i(document.body,"mouseup",P,!1),N=_i(document.body,"mousemove",I,!1),j=_i(window,"resize",D,!1)}),a2(function(){Yn(function(){D()})}),zn(function(){setTimeout(function(){Lt([f,E],function(){D()},{immediate:!0,flush:"post"})})}),Lt(function(){return e.container},function(){var Z;(Z=H)===null||Z===void 0||Z.remove(),H=_i(e.container,"scroll",D,!1)},{immediate:!0,flush:"post"}),tr(function(){var Z,re,q,G;(Z=B)===null||Z===void 0||Z.remove(),(re=N)===null||re===void 0||re.remove(),(q=H)===null||q===void 0||q.remove(),(G=j)===null||G===void 0||G.remove()}),Lt(function(){return R({},_.value)},function(Z,re){Z.isHiddenScrollBar!==(re==null?void 0:re.isHiddenScrollBar)&&!Z.isHiddenScrollBar&&b(function(q){var G=e.scrollBodyRef.value;return G?R(R({},q),{},{scrollLeft:G.scrollLeft/G.scrollWidth*G.clientWidth}):q})},{immediate:!0});var V=Ev();return function(){if(l.value<=a.value||!f.value||_.value.isHiddenScrollBar)return null;var Z=o.prefixCls;return M("div",{style:{height:"".concat(V,"px"),width:"".concat(a.value,"px"),bottom:"".concat(e.offsetScroll,"px")},class:"".concat(Z,"-sticky-scroll")},[M("div",{onMousedown:k,ref:p,class:mt("".concat(Z,"-sticky-scroll-bar"),J({},"".concat(Z,"-sticky-scroll-bar-active"),E.value)),style:{width:"".concat(f.value,"px"),transform:"translate3d(".concat(_.value.scrollLeft,"px, 0, 0)")}},null)])}}});var QD=Th()?window:null;function x4e(t,e){return le(function(){var n=dn(t.value)==="object"?t.value:{},r=n.offsetHeader,i=r===void 0?0:r,o=n.offsetSummary,l=o===void 0?0:o,a=n.offsetScroll,f=a===void 0?0:a,p=n.getContainer,v=p===void 0?function(){return QD}:p,g=v()||QD,_=!!t.value;return{isSticky:_,stickyClassName:_?"".concat(e.value,"-sticky-holder"):"",offsetHeader:i,offsetSummary:l,offsetScroll:f,container:g}})}function w4e(t,e){return le(function(){for(var n=[],r=t.value,i=e.value,o=0;o<i;o+=1){var l=r[o];if(l!==void 0)n[o]=l;else return null}return n})}const JD=lt({name:"FixedHolder",inheritAttrs:!1,props:["columns","flattenColumns","stickyOffsets","customHeaderRow","noData","maxContentScroll","colWidths","columCount","direction","fixHeader","stickyTopOffset","stickyBottomOffset","stickyClassName"],emits:["scroll"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.emit,l=gu(),a=le(function(){return l.isSticky&&!e.fixHeader?0:l.scrollbarSize}),f=ke(),p=function(k){var I=k.currentTarget,D=k.deltaX;D&&(o("scroll",{currentTarget:I,scrollLeft:I.scrollLeft+D}),k.preventDefault())},v=ke();zn(function(){Yn(function(){v.value=_i(f.value,"wheel",p)})}),tr(function(){var P;(P=v.value)===null||P===void 0||P.remove()});var g=le(function(){return e.flattenColumns.every(function(P){return P.width&&P.width!==0&&P.width!=="0px"})}),_=ke([]),b=ke([]);Un(function(){var P=e.flattenColumns[e.flattenColumns.length-1],k={fixed:P?P.fixed:null,scrollbar:!0,customHeaderCell:function(){return{class:"".concat(l.prefixCls,"-cell-scrollbar")}}};_.value=a.value?[].concat(Jt(e.columns),[k]):e.columns,b.value=a.value?[].concat(Jt(e.flattenColumns),[k]):e.flattenColumns});var S=le(function(){var P=e.stickyOffsets,k=e.direction,I=P.right,D=P.left;return R(R({},P),{},{left:k==="rtl"?[].concat(Jt(D.map(function(L){return L+a.value})),[0]):D,right:k==="rtl"?I:[].concat(Jt(I.map(function(L){return L+a.value})),[0]),isSticky:l.isSticky})}),E=w4e(An(e,"colWidths"),An(e,"columCount"));return function(){var P,k=e.noData,I=e.columCount,D=e.stickyTopOffset,L=e.stickyBottomOffset,B=e.stickyClassName,N=e.maxContentScroll,j=l.isSticky;return M("div",{style:R({overflow:"hidden"},j?{top:"".concat(D,"px"),bottom:"".concat(L,"px")}:{}),ref:f,class:mt(r.class,J({},B,!!B))},[M("table",{style:{tableLayout:"fixed",visibility:k||E.value?null:"hidden"}},[(!k||!N||g.value)&&M(nH,{colWidths:E.value?[].concat(Jt(E.value),[a.value]):[],columCount:I+1,columns:b.value},null),(P=i.default)===null||P===void 0?void 0:P.call(i,R(R({},e),{},{stickyOffsets:S.value,columns:_.value,flattenColumns:b.value}))])])}}});function C4e(t){for(var e=-1,n=t==null?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function eR(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Mr(C4e(n.map(function(i){return[i,An(t,i)]})))}var S4e=[],T4e={},g6="rc-table-internal-hook";const E4e=lt({name:"Table",inheritAttrs:!1,props:["prefixCls","data","columns","rowKey","tableLayout","scroll","rowClassName","title","footer","id","showHeader","components","customRow","customHeaderRow","direction","expandFixed","expandColumnWidth","expandedRowKeys","defaultExpandedRowKeys","expandedRowRender","expandRowByClick","expandIcon","onExpand","onExpandedRowsChange","onUpdate:expandedRowKeys","defaultExpandAllRows","indentSize","expandIconColumnIndex","expandedRowClassName","childrenColumnName","rowExpandable","sticky","transformColumns","internalHooks","internalRefs","canExpandable","onUpdateInternalRefs","transformCellText"],slots:["title","footer","summary","emptyText"],emits:["expand","expandedRowsChange","updateInternalRefs","update:expandedRowKeys"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.emit,l=le(function(){return e.data||S4e}),a=le(function(){return!!l.value.length}),f=le(function(){return LCe(e.components,{})}),p=function(de,_e){return HU(f.value,de)||_e},v=le(function(){var Me=e.rowKey;return typeof Me=="function"?Me:function(de){var _e=de&&de[Me];return _e}}),g=le(function(){return e.expandIcon||y4e}),_=le(function(){return e.childrenColumnName||"children"}),b=le(function(){return e.expandedRowRender?"row":e.canExpandable||l.value.some(function(Me){return Me&&dn(Me)==="object"&&Me[_.value]})?"nest":!1}),S=fr([]),E=Un(function(){e.defaultExpandedRowKeys&&(S.value=e.defaultExpandedRowKeys),e.defaultExpandAllRows&&(S.value=_4e(l.value,v.value,_.value))});E();var P=le(function(){return new Set(e.expandedRowKeys||S.value||[])}),k=function(de){var _e=v.value(de,l.value.indexOf(de)),De,$e=P.value.has(_e);$e?(P.value.delete(_e),De=Jt(P.value)):De=[].concat(Jt(P.value),[_e]),S.value=De,o("expand",!$e,de),o("update:expandedRowKeys",De),o("expandedRowsChange",De)},I=ke(0),D=o4e(R(R({},Qp(e)),{},{expandable:le(function(){return!!e.expandedRowRender}),expandedKeys:P,getRowKey:v,onTriggerExpand:k,expandIcon:g}),le(function(){return e.internalHooks===g6?e.transformColumns:null})),L=Wt(D,2),B=L[0],N=L[1],j=le(function(){return{columns:B.value,flattenColumns:N.value}}),H=ke(),V=ke(),Z=ke(),re=ke({scrollWidth:0,clientWidth:0}),q=ke(),G=yi(!1),ae=Wt(G,2),te=ae[0],Q=ae[1],Y=yi(!1),X=Wt(Y,2),ie=X[0],he=X[1],ce=tH(new Map),we=Wt(ce,2),be=we[0],ve=we[1],ge=le(function(){return ew(N.value)}),Pe=le(function(){return ge.value.map(function(Me){return be.value.get(Me)})}),ye=le(function(){return N.value.length}),Ne=l4e(Pe,ye,An(e,"direction")),Re=le(function(){return e.scroll&&h6(e.scroll.y)}),Ge=le(function(){return e.scroll&&h6(e.scroll.x)||!!e.expandFixed}),He=le(function(){return Ge.value&&N.value.some(function(Me){var de=Me.fixed;return de})}),Ee=ke(),pe=x4e(An(e,"sticky"),An(e,"prefixCls")),Ie=Mr({}),We=le(function(){var Me=Object.values(Ie)[0];return(Re.value||pe.value.isSticky)&&Me}),Qe=function(de,_e){_e?Ie[de]=_e:delete Ie[de]},at=ke({}),xt=ke({}),ot=ke({});Un(function(){Re.value&&(xt.value={overflowY:"scroll",maxHeight:Xf(e.scroll.y)}),Ge.value&&(at.value={overflowX:"auto"},Re.value||(xt.value={overflowY:"hidden"}),ot.value={width:e.scroll.x===!0?"auto":Xf(e.scroll.x),minWidth:"100%"})});var nt=function(de,_e){oT(H.value)&&ve(function(De){if(De.get(de)!==_e){var $e=new Map(De);return $e.set(de,_e),$e}return De})},Ze=s4e(null),ht=Wt(Ze,2),vt=ht[0],Ct=ht[1];function Nt(Me,de){if(de){if(typeof de=="function"){de(Me);return}var _e=de.$el||de;_e.scrollLeft!==Me&&(_e.scrollLeft=Me)}}var tn=function(de){var _e=de.currentTarget,De=de.scrollLeft,$e=e.direction==="rtl",Ke=typeof De=="number"?De:_e.scrollLeft,et=_e||T4e;if(!Ct()||Ct()===et){var rt;vt(et),Nt(Ke,V.value),Nt(Ke,Z.value),Nt(Ke,q.value),Nt(Ke,(rt=Ee.value)===null||rt===void 0?void 0:rt.setScrollLeft)}if(_e){var Ye=_e.scrollWidth,pt=_e.clientWidth;$e?(Q(-Ke<Ye-pt),he(-Ke>0)):(Q(Ke>0),he(Ke<Ye-pt))}},rn=function(){Ge.value&&Z.value?tn({currentTarget:Z.value}):(Q(!1),he(!1))},Pt,yt=function(de){de!==I.value&&(rn(),I.value=H.value?H.value.offsetWidth:de)},Bt=function(de){var _e=de.width;if(clearTimeout(Pt),I.value===0){yt(_e);return}Pt=setTimeout(function(){yt(_e)},100)};Lt([Ge,function(){return e.data},function(){return e.columns}],function(){Ge.value&&rn()},{flush:"post"});var Ut=yi(0),St=Wt(Ut,2),ft=St[0],gt=St[1];jCe(),zn(function(){Yn(function(){var Me,de;rn(),gt(vxe(Z.value).width),re.value={scrollWidth:((Me=Z.value)===null||Me===void 0?void 0:Me.scrollWidth)||0,clientWidth:((de=Z.value)===null||de===void 0?void 0:de.clientWidth)||0}})}),yo(function(){Yn(function(){var Me,de,_e=((Me=Z.value)===null||Me===void 0?void 0:Me.scrollWidth)||0,De=((de=Z.value)===null||de===void 0?void 0:de.clientWidth)||0;(re.value.scrollWidth!==_e||re.value.clientWidth!==De)&&(re.value={scrollWidth:_e,clientWidth:De})})}),Un(function(){e.internalHooks===g6&&e.internalRefs&&e.onUpdateInternalRefs({body:Z.value?Z.value.$el||Z.value:null})},{flush:"post"});var _t=le(function(){return e.tableLayout?e.tableLayout:He.value?e.scroll.x==="max-content"?"auto":"fixed":Re.value||pe.value.isSticky||N.value.some(function(Me){var de=Me.ellipsis;return de})?"fixed":"auto"}),Ft=function(){var de;return a.value?null:((de=i.emptyText)===null||de===void 0?void 0:de.call(i))||"No Data"};DCe(Mr(R(R({},Qp(eR(e,"prefixCls","direction","transformCellText"))),{},{getComponent:p,scrollbarSize:ft,fixedInfoList:le(function(){return N.value.map(function(Me,de){return LE(de,de,N.value,Ne.value,e.direction)})}),isSticky:le(function(){return pe.value.isSticky}),summaryCollect:Qe}))),QCe(Mr(R(R({},Qp(eR(e,"rowClassName","expandedRowClassName","expandRowByClick","expandedRowRender","expandIconColumnIndex","indentSize"))),{},{columns:B,flattenColumns:N,tableLayout:_t,expandIcon:g,expandableType:b,onTriggerExpand:k}))),t4e({onColumnResize:nt}),YCe({componentWidth:I,fixHeader:Re,fixColumn:He,horizonScroll:Ge});var Gt=function(){return M(r4e,{data:l.value,measureColumnWidth:Re.value||Ge.value||pe.value.isSticky,expandedKeys:P.value,rowExpandable:e.rowExpandable,getRowKey:v.value,customRow:e.customRow,childrenColumnName:_.value},{emptyNode:Ft})},Zt=function(){return M(nH,{colWidths:N.value.map(function(de){var _e=de.width;return _e}),columns:N.value},null)};return function(){var Me,de=e.prefixCls,_e=e.scroll,De=e.tableLayout,$e=e.direction,Ke=e.title,et=Ke===void 0?i.title:Ke,rt=e.footer,Ye=rt===void 0?i.footer:rt,pt=e.id,kt=e.showHeader,Ht=e.customHeaderRow,Ot=pe.value,hn=Ot.isSticky,pn=Ot.offsetHeader,En=Ot.offsetSummary,Cn=Ot.offsetScroll,Nn=Ot.stickyClassName,nr=Ot.container,qn=p(["table"],"table"),rr=p(["body"]),ur=(Me=i.summary)===null||Me===void 0?void 0:Me.call(i,{pageData:l.value}),Si=function(){return null},hr={colWidths:Pe.value,columCount:N.value.length,stickyOffsets:Ne.value,customHeaderRow:Ht,fixHeader:Re.value,scroll:_e};if(Re.value||hn){var Yr=function(){return null};typeof rr=="function"?(Yr=function(){return rr(l.value,{scrollbarSize:ft.value,ref:Z,onScroll:tn})},hr.colWidths=N.value.map(function(er,ci){var fa=er.width,xo=ci===B.value.length-1?fa-ft.value:fa;return typeof xo=="number"&&!Number.isNaN(xo)?xo:0})):Yr=function(){return M("div",{style:R(R({},at.value),xt.value),onScroll:tn,ref:Z,class:mt("".concat(de,"-body"))},[M(qn,{style:R(R({},ot.value),{},{tableLayout:_t.value})},{default:function(){return[Zt(),Gt(),!We.value&&ur&&M(T_,{stickyOffsets:Ne.value,flattenColumns:N.value},{default:function(){return[ur]}})]}})])};var da=R(R(R({noData:!l.value.length,maxContentScroll:Ge.value&&_e.x==="max-content"},hr),j.value),{},{direction:$e,stickyClassName:Nn,onScroll:tn});Si=function(){return M(Kn,null,[kt!==!1&&M(JD,R(R({},da),{},{stickyTopOffset:pn,class:"".concat(de,"-header"),ref:V}),{default:function(fa){return M(Kn,null,[M(ZD,fa,null),We.value==="top"&&M(T_,fa,{default:function(){return[ur]}})])}}),Yr(),We.value&&We.value!=="top"&&M(JD,R(R({},da),{},{stickyBottomOffset:En,class:"".concat(de,"-summary"),ref:q}),{default:function(fa){return M(T_,fa,{default:function(){return[ur]}})}}),hn&&Z.value&&M(b4e,{ref:Ee,offsetScroll:Cn,scrollBodyRef:Z,onScroll:tn,container:nr,scrollBodySizeInfo:re.value},null)])}}else Si=function(){return M("div",{style:R(R({},at.value),xt.value),class:mt("".concat(de,"-content")),onScroll:tn,ref:Z},[M(qn,{style:R(R({},ot.value),{},{tableLayout:_t.value})},{default:function(){return[Zt(),kt!==!1&&M(ZD,R(R({},hr),j.value),null),Gt(),ur&&M(T_,{stickyOffsets:Ne.value,flattenColumns:N.value},{default:function(){return[ur]}})]}})])};var Oo=Bd(r,{aria:!0,data:!0}),ba=function(){var ci;return M("div",R(R({},Oo),{},{class:mt(de,(ci={},J(ci,"".concat(de,"-rtl"),$e==="rtl"),J(ci,"".concat(de,"-ping-left"),te.value),J(ci,"".concat(de,"-ping-right"),ie.value),J(ci,"".concat(de,"-layout-fixed"),De==="fixed"),J(ci,"".concat(de,"-fixed-header"),Re.value),J(ci,"".concat(de,"-fixed-column"),He.value),J(ci,"".concat(de,"-scroll-horizontal"),Ge.value),J(ci,"".concat(de,"-has-fix-left"),N.value[0]&&N.value[0].fixed),J(ci,"".concat(de,"-has-fix-right"),N.value[ye.value-1]&&N.value[ye.value-1].fixed==="right"),J(ci,r.class,r.class),ci)),style:r.style,id:pt,ref:H}),[et&&M(m6,{class:"".concat(de,"-title")},{default:function(){return[et(l.value)]}}),M("div",{class:"".concat(de,"-container")},[Si()]),Ye&&M(m6,{class:"".concat(de,"-footer")},{default:function(){return[Ye(l.value)]}})])};return Ge.value?M(Gs,{onResize:Bt},{default:ba}):ba()}}});var y6=10;function P4e(t,e){var n={current:e.current,pageSize:e.pageSize},r=t&&dn(t)==="object"?t:{};return Object.keys(r).forEach(function(i){var o=e[i];typeof o!="function"&&(n[i]=o)}),n}function M4e(){for(var t={},e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(i){i&&Object.keys(i).forEach(function(o){var l=i[o];l!==void 0&&(t[o]=l)})}),t}function k4e(t,e,n){var r=le(function(){return e.value&&dn(e.value)==="object"?e.value:{}}),i=le(function(){return r.value.total||0}),o=yi(function(){return{current:"defaultCurrent"in r.value?r.value.defaultCurrent:1,pageSize:"defaultPageSize"in r.value?r.value.defaultPageSize:y6}}),l=Wt(o,2),a=l[0],f=l[1],p=le(function(){var _=M4e(a.value,r.value,{total:i.value>0?i.value:t.value}),b=Math.ceil((i.value||t.value)/_.pageSize);return _.current>b&&(_.current=b||1),_}),v=function(b,S){r.value!==!1&&f({current:b??1,pageSize:S||p.value.pageSize})},g=function(b,S){if(r.value){var E,P;(E=(P=r.value).onChange)===null||E===void 0||E.call(P,b,S)}v(b,S),n(b,S||p.value.pageSize)};return[le(function(){return r.value===!1?{}:R(R({},p.value),{},{onChange:g})}),v]}function A4e(t,e,n){var r=fr({});Lt([t,e,n],function(){var o=new Map,l=n.value,a=e.value;function f(p){p.forEach(function(v,g){var _=l(v,g);o.set(_,v),v&&dn(v)==="object"&&a in v&&f(v[a]||[])})}f(t.value),r.value={kvMap:o}},{deep:!0,immediate:!0});function i(o){return r.value.kvMap.get(o)}return[i]}var Yu={},_6="SELECT_ALL",b6="SELECT_INVERT",x6="SELECT_NONE",I4e=[];function iH(t,e){var n=[];return(t||[]).forEach(function(r){n.push(r),r&&dn(r)==="object"&&e in r&&(n=[].concat(Jt(n),Jt(iH(r[e],e))))}),n}function O4e(t,e){var n=le(function(){var ae=t.value||{},te=ae.checkStrictly,Q=te===void 0?!0:te;return R(R({},ae),{},{checkStrictly:Q})}),r=Ii(n.value.selectedRowKeys||n.value.defaultSelectedRowKeys||I4e,{value:le(function(){return n.value.selectedRowKeys})}),i=Wt(r,2),o=i[0],l=i[1],a=fr(new Map),f=function(te){if(n.value.preserveSelectedRowKeys){var Q=new Map;te.forEach(function(Y){var X=e.getRecordByKey(Y);!X&&a.value.has(Y)&&(X=a.value.get(Y)),Q.set(Y,X)}),a.value=Q}};Un(function(){f(o.value)});var p=le(function(){return n.value.checkStrictly?null:h0(e.data.value,{externalGetKey:e.getRowKey.value,childrenPropName:e.childrenColumnName.value}).keyEntities}),v=le(function(){return iH(e.pageData.value,e.childrenColumnName.value)}),g=le(function(){var ae=new Map,te=e.getRowKey.value,Q=n.value.getCheckboxProps;return v.value.forEach(function(Y,X){var ie=te(Y,X),he=(Q?Q(Y):null)||{};ae.set(ie,he)}),ae}),_=H2(p),b=_.maxLevel,S=_.levelEntities,E=function(te){var Q;return!!((Q=g.value.get(e.getRowKey.value(te)))!==null&&Q!==void 0&&Q.disabled)},P=le(function(){if(n.value.checkStrictly)return[o.value||[],[]];var ae=Hs(o.value,!0,p.value,b.value,S.value,E),te=ae.checkedKeys,Q=ae.halfCheckedKeys;return[te||[],Q]}),k=le(function(){return P.value[0]}),I=le(function(){return P.value[1]}),D=le(function(){var ae=n.value.type==="radio"?k.value.slice(0,1):k.value;return new Set(ae)}),L=le(function(){return n.value.type==="radio"?new Set:new Set(I.value)}),B=yi(null),N=Wt(B,2),j=N[0],H=N[1],V=function(te){var Q,Y;f(te);var X=n.value,ie=X.preserveSelectedRowKeys,he=X.onChange,ce=e.getRecordByKey;ie?(Q=te,Y=te.map(function(we){return a.value.get(we)})):(Q=[],Y=[],te.forEach(function(we){var be=ce(we);be!==void 0&&(Q.push(we),Y.push(be))})),l(Q),he==null||he(Q,Y)},Z=function(te,Q,Y,X){var ie=n.value.onSelect,he=e||{},ce=he.getRecordByKey;if(ie){var we=Y.map(function(be){return ce(be)});ie(ce(te),Q,we,X)}V(Y)},re=le(function(){var ae=n.value,te=ae.onSelectInvert,Q=ae.onSelectNone,Y=ae.selections,X=ae.hideSelectAll,ie=e.data,he=e.pageData,ce=e.getRowKey,we=e.locale;if(!Y||X)return null;var be=Y===!0?[_6,b6,x6]:Y;return be.map(function(ve){return ve===_6?{key:"all",text:we.value.selectionAll,onSelect:function(){V(ie.value.map(function(Pe,ye){return ce.value(Pe,ye)}).filter(function(Pe){var ye=g.value.get(Pe);return!(ye!=null&&ye.disabled)||D.value.has(Pe)}))}}:ve===b6?{key:"invert",text:we.value.selectInvert,onSelect:function(){var Pe=new Set(D.value);he.value.forEach(function(Ne,Re){var Ge=ce.value(Ne,Re),He=g.value.get(Ge);He!=null&&He.disabled||(Pe.has(Ge)?Pe.delete(Ge):Pe.add(Ge))});var ye=Array.from(Pe);te&&(Br(!1,"Table","`onSelectInvert` will be removed in future. Please use `onChange` instead."),te(ye)),V(ye)}}:ve===x6?{key:"none",text:we.value.selectNone,onSelect:function(){Q==null||Q(),V(Array.from(D.value).filter(function(Pe){var ye=g.value.get(Pe);return ye==null?void 0:ye.disabled}))}}:ve})}),q=le(function(){return v.value.length}),G=function(te){var Q,Y=n.value,X=Y.onSelectAll,ie=Y.onSelectMultiple,he=Y.columnWidth,ce=Y.type,we=Y.fixed,be=Y.renderCell,ve=Y.hideSelectAll,ge=Y.checkStrictly,Pe=e.prefixCls,ye=e.getRecordByKey,Ne=e.getRowKey,Re=e.expandType,Ge=e.getPopupContainer;if(!t.value)return te.filter(function(_t){return _t!==Yu});var He=te.slice(),Ee=new Set(D.value),pe=v.value.map(Ne.value).filter(function(_t){return!g.value.get(_t).disabled}),Ie=pe.every(function(_t){return Ee.has(_t)}),We=pe.some(function(_t){return Ee.has(_t)}),Qe=function(){var Ft=[];Ie?pe.forEach(function(Zt){Ee.delete(Zt),Ft.push(Zt)}):pe.forEach(function(Zt){Ee.has(Zt)||(Ee.add(Zt),Ft.push(Zt))});var Gt=Array.from(Ee);X==null||X(!Ie,Gt.map(function(Zt){return ye(Zt)}),Ft.map(function(Zt){return ye(Zt)})),V(Gt)},at;if(ce!=="radio"){var xt;if(re.value){var ot=M(Ui,{getPopupContainer:Ge.value},{default:function(){return[re.value.map(function(Ft,Gt){var Zt=Ft.key,Me=Ft.text,de=Ft.onSelect;return M(Ui.Item,{key:Zt||Gt,onClick:function(){de==null||de(pe)}},{default:function(){return[Me]}})})]}});xt=M("div",{class:"".concat(Pe.value,"-selection-extra")},[M(cu,{overlay:ot,getPopupContainer:Ge.value},{default:function(){return[M("span",null,[M(n0,null,null)])]}})])}var nt=v.value.map(function(_t,Ft){var Gt=Ne.value(_t,Ft),Zt=g.value.get(Gt)||{};return R({checked:Ee.has(Gt)},Zt)}).filter(function(_t){var Ft=_t.disabled;return Ft}),Ze=!!nt.length&&nt.length===q.value,ht=Ze&&nt.every(function(_t){var Ft=_t.checked;return Ft}),vt=Ze&&nt.some(function(_t){var Ft=_t.checked;return Ft});at=!ve&&M("div",{class:"".concat(Pe.value,"-selection")},[M(Ks,{checked:Ze?ht:!!q.value&&Ie,indeterminate:Ze?!ht&&vt:!Ie&&We,onChange:Qe,disabled:q.value===0||Ze,skipGroup:!0},null),xt])}var Ct;ce==="radio"?Ct=function(Ft){var Gt=Ft.record,Zt=Ft.index,Me=Ne.value(Gt,Zt),de=Ee.has(Me);return{node:M(Mo,R(R({},g.value.get(Me)),{},{checked:de,onClick:function(De){return De.stopPropagation()},onChange:function(De){Ee.has(Me)||Z(Me,!0,[Me],De.nativeEvent)}}),null),checked:de}}:Ct=function(Ft){var Gt=Ft.record,Zt=Ft.index,Me=Ne.value(Gt,Zt),de=Ee.has(Me),_e=L.value.has(Me),De=g.value.get(Me),$e;if(Re.value==="nest")$e=_e,Br(typeof(De==null?void 0:De.indeterminate)!="boolean","Table","set `indeterminate` using `rowSelection.getCheckboxProps` is not allowed with tree structured dataSource.");else{var Ke;$e=(Ke=De==null?void 0:De.indeterminate)!==null&&Ke!==void 0?Ke:_e}return{node:M(Ks,R(R({},De),{},{indeterminate:$e,checked:de,skipGroup:!0,onClick:function(rt){return rt.stopPropagation()},onChange:function(rt){var Ye=rt.nativeEvent,pt=Ye.shiftKey,kt=-1,Ht=-1;if(pt&&ge){var Ot=new Set([j.value,Me]);pe.some(function(hr,Yr){if(Ot.has(hr))if(kt===-1)kt=Yr;else return Ht=Yr,!0;return!1})}if(Ht!==-1&&kt!==Ht&&ge){var hn=pe.slice(kt,Ht+1),pn=[];de?hn.forEach(function(hr){Ee.has(hr)&&(pn.push(hr),Ee.delete(hr))}):hn.forEach(function(hr){Ee.has(hr)||(pn.push(hr),Ee.add(hr))});var En=Array.from(Ee);ie==null||ie(!de,En.map(function(hr){return ye(hr)}),pn.map(function(hr){return ye(hr)})),V(En)}else{var Cn=k.value;if(ge){var Nn=de?Ku(Cn,Me):ad(Cn,Me);Z(Me,!de,Nn,Ye)}else{var nr=Hs([].concat(Jt(Cn),[Me]),!0,p.value,b.value,S.value,E),qn=nr.checkedKeys,rr=nr.halfCheckedKeys,ur=qn;if(de){var Si=new Set(qn);Si.delete(Me),ur=Hs(Array.from(Si),{checked:!1,halfCheckedKeys:rr},p.value,b.value,S.value,E).checkedKeys}Z(Me,!de,ur,Ye)}}H(Me)}}),null),checked:de}};var Nt=function(Ft){var Gt=Ft.record,Zt=Ft.index,Me=Ct({record:Gt,index:Zt}),de=Me.node,_e=Me.checked;return be?be(_e,Gt,Zt,de):de};if(!He.includes(Yu))if(He.findIndex(function(_t){var Ft;return((Ft=_t[dv])===null||Ft===void 0?void 0:Ft.columnType)==="EXPAND_COLUMN"})===0){var tn=He,rn=J8(tn),Pt=rn[0],yt=rn.slice(1);He=[Pt,Yu].concat(Jt(yt))}else He=[Yu].concat(Jt(He));var Bt=He.indexOf(Yu);He=He.filter(function(_t,Ft){return _t!==Yu||Ft===Bt});var Ut=He[Bt-1],St=He[Bt+1],ft=we;ft===void 0&&((St==null?void 0:St.fixed)!==void 0?ft=St.fixed:(Ut==null?void 0:Ut.fixed)!==void 0&&(ft=Ut.fixed)),ft&&Ut&&((Q=Ut[dv])===null||Q===void 0?void 0:Q.columnType)==="EXPAND_COLUMN"&&Ut.fixed===void 0&&(Ut.fixed=ft);var gt=J({fixed:ft,width:he,className:"".concat(Pe.value,"-selection-column"),title:n.value.columnTitle||at,customRender:Nt},dv,{class:"".concat(Pe.value,"-selection-col")});return He.map(function(_t){return _t===Yu?gt:_t})};return[G,D]}var D4e=["default"];function kv(t,e){return"key"in t&&t.key!==void 0&&t.key!==null?t.key:t.dataIndex?Array.isArray(t.dataIndex)?t.dataIndex.join("."):t.dataIndex:e}function nw(t,e){return e?"".concat(e,"-").concat(t):"".concat(t)}function FE(t,e){return typeof t=="function"?t(e):t}function aH(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=Wr(t),n=[];return e.forEach(function(r){var i,o,l;if(r){for(var a=r.key,f=((i=r.props)===null||i===void 0?void 0:i.style)||{},p=((o=r.props)===null||o===void 0?void 0:o.class)||"",v=r.props||{},g=0,_=Object.entries(v);g<_.length;g++){var b=Wt(_[g],2),S=b[0],E=b[1];v[Qo(S)]=E}var P=r.children||{},k=P.default,I=kn(P,D4e),D=R(R(R({},I),v),{},{style:f,class:p});if(a&&(D.key=a),(l=r.type)!==null&&l!==void 0&&l.__ANT_TABLE_COLUMN_GROUP)D.children=aH(typeof k=="function"?k():k);else{var L,B=(L=r.children)===null||L===void 0?void 0:L.default;D.customRender=D.customRender||B}n.push(D)}}),n}var yb="ascend",v4="descend";function w6(t){return dn(t.sorter)==="object"&&typeof t.sorter.multiple=="number"?t.sorter.multiple:!1}function tR(t){return typeof t=="function"?t:t&&dn(t)==="object"&&t.compare?t.compare:!1}function R4e(t,e){return e?t[t.indexOf(e)+1]:t[0]}function C6(t,e,n){var r=[];function i(o,l){r.push({column:o,key:kv(o,l),multiplePriority:w6(o),sortOrder:o.sortOrder})}return(t||[]).forEach(function(o,l){var a=nw(l,n);o.children?("sortOrder"in o&&i(o,a),r=[].concat(Jt(r),Jt(C6(o.children,e,a)))):o.sorter&&("sortOrder"in o?i(o,a):e&&o.defaultSortOrder&&r.push({column:o,key:kv(o,a),multiplePriority:w6(o),sortOrder:o.defaultSortOrder}))}),r}function oH(t,e,n,r,i,o,l,a){return(e||[]).map(function(f,p){var v=nw(p,a),g=f;if(g.sorter){var _=g.sortDirections||i,b=g.showSorterTooltip===void 0?l:g.showSorterTooltip,S=kv(g,v),E=n.find(function(Z){var re=Z.key;return re===S}),P=E?E.sortOrder:null,k=R4e(_,P),I=_.includes(yb)&&M(DJ,{class:mt("".concat(t,"-column-sorter-up"),{active:P===yb})},null),D=_.includes(v4)&&M(kJ,{class:mt("".concat(t,"-column-sorter-down"),{active:P===v4})},null),L=o||{},B=L.cancelSort,N=L.triggerAsc,j=L.triggerDesc,H=B;k===v4?H=j:k===yb&&(H=N);var V=dn(b)==="object"?b:{title:H};g=R(R({},g),{},{className:mt(g.className,J({},"".concat(t,"-column-sort"),P)),title:function(re){var q=M("div",{class:"".concat(t,"-column-sorters")},[M("span",{class:"".concat(t,"-column-title")},[FE(f.title,re)]),M("span",{class:mt("".concat(t,"-column-sorter"),J({},"".concat(t,"-column-sorter-full"),!!(I&&D)))},[M("span",{class:"".concat(t,"-column-sorter-inner")},[I,D])])]);return b?M(_l,V,{default:function(){return[q]}}):q},customHeaderCell:function(re){var q=f.customHeaderCell&&f.customHeaderCell(re)||{},G=q.onClick;return q.onClick=function(ae){r({column:f,key:S,sortOrder:k,multiplePriority:w6(f)}),G&&G(ae)},q.class=mt(q.class,"".concat(t,"-column-has-sorters")),q}})}return"children"in g&&(g=R(R({},g),{},{children:oH(t,g.children,n,r,i,o,l,v)})),g})}function nR(t){var e=t.column,n=t.sortOrder;return{column:e,order:n,field:e.dataIndex,columnKey:e.key}}function rR(t){var e=t.filter(function(n){var r=n.sortOrder;return r}).map(nR);return e.length===0&&t.length?R(R({},nR(t[t.length-1])),{},{column:void 0}):e.length<=1?e[0]||{}:e}function S6(t,e,n){var r=e.slice().sort(function(l,a){return a.multiplePriority-l.multiplePriority}),i=t.slice(),o=r.filter(function(l){var a=l.column.sorter,f=l.sortOrder;return tR(a)&&f});return o.length?i.sort(function(l,a){for(var f=0;f<o.length;f+=1){var p=o[f],v=p.column.sorter,g=p.sortOrder,_=tR(v);if(_&&g){var b=_(l,a,g);if(b!==0)return g===yb?b:-b}}return 0}).map(function(l){var a=l[n];return a?R(R({},l),{},J({},n,S6(a,e,n))):l}):i}function L4e(t){var e=t.prefixCls,n=t.mergedColumns,r=t.onSorterChange,i=t.sortDirections,o=t.tableLocale,l=t.showSorterTooltip,a=yi(C6(n.value,!0)),f=Wt(a,2),p=f[0],v=f[1],g=le(function(){var P=!0,k=C6(n.value,!1);if(!k.length)return p.value;var I=[];function D(B){P?I.push(B):I.push(R(R({},B),{},{sortOrder:null}))}var L=null;return k.forEach(function(B){L===null?(D(B),B.sortOrder&&(B.multiplePriority===!1?P=!1:L=!0)):(L&&B.multiplePriority!==!1||(P=!1),D(B))}),I}),_=le(function(){var P=g.value.map(function(k){var I=k.column,D=k.sortOrder;return{column:I,order:D}});return{sortColumns:P,sortColumn:P[0]&&P[0].column,sortOrder:P[0]&&P[0].order}});function b(P){var k;P.multiplePriority===!1||!g.value.length||g.value[0].multiplePriority===!1?k=[P]:k=[].concat(Jt(g.value.filter(function(I){var D=I.key;return D!==P.key})),[P]),v(k),r(rR(k),k)}var S=function(k){return oH(e.value,k,g.value,b,i.value,o.value,l.value)},E=le(function(){return rR(g.value)});return[S,g,_,E]}var F4e=function(e,n){var r,i=n.slots;return M("div",{onClick:function(l){return l.stopPropagation()}},[(r=i.default)===null||r===void 0?void 0:r.call(i)])};const N4e=F4e,iR=lt({compatConfig:{MODE:3},name:"FilterSearch",inheritAttrs:!1,props:{value:String,onChange:Function,filterSearch:Boolean,tablePrefixCls:String,locale:{type:Object,default:void 0}},setup:function(e){return function(){var n=e.value,r=e.onChange,i=e.filterSearch,o=e.tablePrefixCls,l=e.locale;return i?M("div",{class:"".concat(o,"-filter-dropdown-search")},[M(Pa,{placeholder:l.filterSearchPlaceholder,onChange:r,value:n,htmlSize:1,class:"".concat(o,"-filter-dropdown-search-input")},{prefix:function(){return M(h2,null,null)}})]):null}}});var B4e=["motion","motionNodes","motionType","active","eventKey"];const z4e=lt({compatConfig:{MODE:3},name:"MotionTreeNode",inheritAttrs:!1,props:R(R({},fV),{},{active:Boolean,motion:Object,motionNodes:{type:Array},onMotionStart:Function,onMotionEnd:Function,motionType:String}),slots:["title","icon","switcherIcon","checkable"],setup:function(e,n){var r=n.attrs,i=n.slots,o=ke(!0),l=pE(),a=ke(!1),f=le(function(){return e.motion?e.motion:u0()}),p=function(g,_){if(_==="appear"){var b,S;(b=f.value)===null||b===void 0||(S=b.onAfterEnter)===null||S===void 0||S.call(b,g)}else if(_==="leave"){var E,P;(E=f.value)===null||E===void 0||(P=E.onAfterLeave)===null||P===void 0||P.call(E,g)}a.value||e.onMotionEnd(),a.value=!0};return Lt(function(){return e.motionNodes},function(){e.motionNodes&&e.motionType==="hide"&&o.value&&Yn(function(){o.value=!1})},{immediate:!0,flush:"post"}),zn(function(){e.motionNodes&&e.onMotionStart()}),tr(function(){e.motionNodes&&p()}),function(){e.motion;var v=e.motionNodes,g=e.motionType,_=e.active,b=e.eventKey,S=kn(e,B4e);return v?M(Io,R(R({},f.value),{},{appear:g==="show",onAfterAppear:function(P){return p(P,"appear")},onAfterLeave:function(P){return p(P,"leave")}}),{default:function(){return[qa(M("div",{class:"".concat(l.value.prefixCls,"-treenode-motion")},[v.map(function(P){var k=yr({},(G2(P.data),P.data)),I=P.title,D=P.key,L=P.isStart,B=P.isEnd;return delete k.children,M(GS,R(R({},k),{},{title:I,active:_,data:P.data,key:D,eventKey:D,isStart:L,isEnd:B}),i)})]),[[Pl,o.value]])]}}):M(GS,R(R({domRef:ke,class:r.class,style:r.style},S),{},{active:_,eventKey:b}),i)}}});function $4e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=t.length,r=e.length;if(Math.abs(n-r)!==1)return{add:!1,key:null};function i(o,l){var a=new Map;o.forEach(function(p){a.set(p,!0)});var f=l.filter(function(p){return!a.has(p)});return f.length===1?f[0]:null}return n<r?{add:!0,key:i(t,e)}:{add:!1,key:i(e,t)}}function aR(t,e,n){var r=t.findIndex(function(a){return a.key===n}),i=t[r+1],o=e.findIndex(function(a){return a.key===n});if(i){var l=e.findIndex(function(a){return a.key===i.key});return e.slice(o+1,l)}return e.slice(o+1)}var j4e=["prefixCls","selectable","checkable","disabled","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabindex","onKeydown","onFocus","onBlur","onListChangeStart","onListChangeEnd"],oR={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},V4e=function(){},_h="RC_TREE_MOTION_".concat(Math.random()),T6={key:_h},sH={key:_h,level:0,index:0,pos:"0",node:T6,nodes:[T6]},sR={parent:null,children:[],pos:sH.pos,data:T6,title:null,key:_h,isStart:[],isEnd:[]};function lR(t,e,n,r){return e===!1||!n?t:t.slice(0,Math.ceil(n/r)+1)}function uR(t){var e=t.key,n=t.pos;return f0(e,n)}function U4e(t){for(var e=String(t.key),n=t;n.parent;)n=n.parent,e="".concat(n.key," > ").concat(e);return e}const H4e=lt({compatConfig:{MODE:3},name:"NodeList",inheritAttrs:!1,props:j1e,setup:function(e,n){var r=n.expose,i=n.attrs,o=ke(),l=ke(),a=dV(),f=a.expandedKeys,p=a.flattenNodes;r({scrollTo:function(I){o.value.scrollTo(I)},getIndentWidth:function(){return l.value.offsetWidth}});var v=fr(p.value),g=fr([]),_=ke(null);function b(){v.value=p.value,g.value=[],_.value=null,e.onListChangeEnd()}var S=pE();Lt([function(){return f.value.slice()},p],function(k,I){var D=Wt(k,2),L=D[0],B=D[1],N=Wt(I,2),j=N[0],H=N[1],V=$4e(j,L);if(V.key!==null){var Z=e.virtual,re=e.height,q=e.itemHeight;if(V.add){var G=H.findIndex(function(ie){var he=ie.key;return he===V.key}),ae=lR(aR(H,B,V.key),Z,re,q),te=H.slice();te.splice(G+1,0,sR),v.value=te,g.value=ae,_.value="show"}else{var Q=B.findIndex(function(ie){var he=ie.key;return he===V.key}),Y=lR(aR(B,H,V.key),Z,re,q),X=B.slice();X.splice(Q+1,0,sR),v.value=X,g.value=Y,_.value="hide"}}else H!==B&&(v.value=B)}),Lt(function(){return S.value.dragging},function(k){k||b()});var E=le(function(){return e.motion===void 0?v.value:p.value}),P=function(){e.onActiveChange(null)};return function(){var k=R(R({},e),i),I=k.prefixCls;k.selectable,k.checkable;var D=k.disabled,L=k.motion,B=k.height,N=k.itemHeight,j=k.virtual,H=k.focusable,V=k.activeItem,Z=k.focused,re=k.tabindex,q=k.onKeydown,G=k.onFocus,ae=k.onBlur,te=k.onListChangeStart;k.onListChangeEnd;var Q=kn(k,j4e);return M(Kn,null,[Z&&V&&M("span",{style:oR,"aria-live":"assertive"},[U4e(V)]),M("div",null,[M("input",{style:oR,disabled:H===!1||D,tabindex:H!==!1?re:null,onKeydown:q,onFocus:G,onBlur:ae,value:"",onChange:V4e,"aria-label":"for screen reader"},null)]),M("div",{class:"".concat(I,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"}},[M("div",{class:"".concat(I,"-indent")},[M("div",{ref:l,class:"".concat(I,"-indent-unit")},null)])]),M(u$,R(R({},Qn(Q,["onActiveChange"])),{},{data:E.value,itemKey:uR,height:B,fullHeight:!1,virtual:j,itemHeight:N,prefixCls:"".concat(I,"-list"),ref:o,onVisibleChange:function(X,ie){var he=new Set(X),ce=ie.filter(function(we){return!he.has(we)});ce.some(function(we){return uR(we)===_h})&&b()}}),{default:function(X){var ie=X.pos,he=yr({},(G2(X.data),X.data)),ce=X.title,we=X.key,be=X.isStart,ve=X.isEnd,ge=f0(we,ie);return delete he.key,delete he.children,M(z4e,R(R({},he),{},{eventKey:ge,title:ce,active:!!V&&we===V.key,data:X.data,isStart:be,isEnd:ve,motion:L,motionNodes:we===_h?g.value:null,motionType:_.value,onMotionStart:te,onMotionEnd:b,onMousemove:P}),null)}})])}}});function K4e(t){var e=t.dropPosition,n=t.dropLevelOffset,r=t.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:"".concat(2,"px")};switch(e){case-1:i.top=0,i.left="".concat(-n*r,"px");break;case 1:i.bottom=0,i.left="".concat(-n*r,"px");break;case 0:i.bottom=0,i.left="".concat(r);break}return M("div",{style:i},null)}var W4e=10;const lH=lt({compatConfig:{MODE:3},name:"Tree",inheritAttrs:!1,slots:["checkable","title","icon","titleRender"],props:lr(hV(),{prefixCls:"vc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:K4e,allowDrop:function(){return!0}}),setup:function(e,n){var r=n.attrs,i=n.slots,o=n.expose,l=ke(!1),a={},f=ke(),p=fr([]),v=fr([]),g=fr([]),_=fr([]),b=fr([]),S=fr([]),E={},P=Mr({draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null}),k=fr([]);Lt([function(){return e.treeData},function(){return e.children}],function(){k.value=e.treeData!==void 0?Gn(e.treeData).slice():YS(Gn(e.children))},{immediate:!0,deep:!0});var I=fr({}),D=ke(!1),L=ke(null),B=ke(!1),N=le(function(){return $2(e.fieldNames)}),j=ke(),H=null,V=null,Z=null,re=le(function(){return{expandedKeysSet:q.value,selectedKeysSet:G.value,loadedKeysSet:ae.value,loadingKeysSet:te.value,checkedKeysSet:Q.value,halfCheckedKeysSet:Y.value,dragOverNodeKey:P.dragOverNodeKey,dropPosition:P.dropPosition,keyEntities:I.value}}),q=le(function(){return new Set(S.value)}),G=le(function(){return new Set(p.value)}),ae=le(function(){return new Set(_.value)}),te=le(function(){return new Set(b.value)}),Q=le(function(){return new Set(v.value)}),Y=le(function(){return new Set(g.value)});Un(function(){if(k.value){var St=h0(k.value,{fieldNames:N.value});I.value=R(J({},_h,sH),St.keyEntities)}});var X=!1;Lt([function(){return e.expandedKeys},function(){return e.autoExpandParent},I],function(St,ft){var gt=Wt(St,2);gt[0];var _t=gt[1],Ft=Wt(ft,2);Ft[0];var Gt=Ft[1],Zt=S.value;if(e.expandedKeys!==void 0||X&&_t!==Gt)Zt=e.autoExpandParent||!X&&e.defaultExpandParent?qS(e.expandedKeys,I.value):e.expandedKeys;else if(!X&&e.defaultExpandAll){var Me=R({},I.value);delete Me[_h],Zt=Object.keys(Me).map(function(de){return Me[de].key})}else!X&&e.defaultExpandedKeys&&(Zt=e.autoExpandParent||e.defaultExpandParent?qS(e.defaultExpandedKeys,I.value):e.defaultExpandedKeys);Zt&&(S.value=Zt),X=!0},{immediate:!0});var ie=fr([]);Un(function(){ie.value=Y1e(k.value,S.value,N.value)}),Un(function(){e.selectable&&(e.selectedKeys!==void 0?p.value=LO(e.selectedKeys,e):!X&&e.defaultSelectedKeys&&(p.value=LO(e.defaultSelectedKeys,e)))});var he=H2(I),ce=he.maxLevel,we=he.levelEntities;Un(function(){if(e.checkable){var St;if(e.checkedKeys!==void 0?St=HC(e.checkedKeys)||{}:!X&&e.defaultCheckedKeys?St=HC(e.defaultCheckedKeys)||{}:k.value&&(St=HC(e.checkedKeys)||{checkedKeys:v.value,halfCheckedKeys:g.value}),St){var ft=St,gt=ft.checkedKeys,_t=gt===void 0?[]:gt,Ft=ft.halfCheckedKeys,Gt=Ft===void 0?[]:Ft;if(!e.checkStrictly){var Zt=Hs(_t,!0,I.value,ce.value,we.value);_t=Zt.checkedKeys,Gt=Zt.halfCheckedKeys}v.value=_t,g.value=Gt}}}),Un(function(){e.loadedKeys&&(_.value=e.loadedKeys)});var be=function(){yr(P,{dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})},ve=function(ft){j.value.scrollTo(ft)};Lt(function(){return e.activeKey},function(){e.activeKey!==void 0&&(L.value=e.activeKey)},{immediate:!0}),Lt(L,function(St){Yn(function(){St!==null&&ve({key:St})})},{immediate:!0,flush:"post"});var ge=function(ft){e.expandedKeys===void 0&&(S.value=ft)},Pe=function(){P.draggingNodeKey!==null&&yr(P,{draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),H=null,Z=null},ye=function(ft,gt){var _t=e.onDragend;P.dragOverNodeKey=null,Pe(),_t==null||_t({event:ft,node:gt.eventData}),V=null},Ne=function St(ft){ye(ft,null),window.removeEventListener("dragend",St)},Re=function(ft,gt){var _t=e.onDragstart,Ft=gt.eventKey,Gt=gt.eventData;V=gt,H={x:ft.clientX,y:ft.clientY};var Zt=Ku(S.value,Ft);P.draggingNodeKey=Ft,P.dragChildrenKeys=K1e(Ft,I.value),f.value=j.value.getIndentWidth(),ge(Zt),window.addEventListener("dragend",Ne),_t&&_t({event:ft,node:Gt})},Ge=function(ft,gt){var _t=e.onDragenter,Ft=e.onExpand,Gt=e.allowDrop,Zt=e.direction,Me=gt.pos,de=gt.eventKey;if(Z!==de&&(Z=de),!V){be();return}var _e=RO(ft,V,gt,f.value,H,Gt,ie.value,I.value,q.value,Zt),De=_e.dropPosition,$e=_e.dropLevelOffset,Ke=_e.dropTargetKey,et=_e.dropContainerKey,rt=_e.dropTargetPos,Ye=_e.dropAllowed,pt=_e.dragOverNodeKey;if(P.dragChildrenKeys.indexOf(Ke)!==-1||!Ye){be();return}if(a||(a={}),Object.keys(a).forEach(function(kt){clearTimeout(a[kt])}),V.eventKey!==gt.eventKey&&(a[Me]=window.setTimeout(function(){if(P.draggingNodeKey!==null){var kt=S.value.slice(),Ht=I.value[gt.eventKey];Ht&&(Ht.children||[]).length&&(kt=ad(S.value,gt.eventKey)),ge(kt),Ft&&Ft(kt,{node:gt.eventData,expanded:!0,nativeEvent:ft})}},800)),V.eventKey===Ke&&$e===0){be();return}yr(P,{dragOverNodeKey:pt,dropPosition:De,dropLevelOffset:$e,dropTargetKey:Ke,dropContainerKey:et,dropTargetPos:rt,dropAllowed:Ye}),_t&&_t({event:ft,node:gt.eventData,expandedKeys:S.value})},He=function(ft,gt){var _t=e.onDragover,Ft=e.allowDrop,Gt=e.direction;if(V){var Zt=RO(ft,V,gt,f.value,H,Ft,ie.value,I.value,q.value,Gt),Me=Zt.dropPosition,de=Zt.dropLevelOffset,_e=Zt.dropTargetKey,De=Zt.dropContainerKey,$e=Zt.dropAllowed,Ke=Zt.dropTargetPos,et=Zt.dragOverNodeKey;P.dragChildrenKeys.indexOf(_e)!==-1||!$e||(V.eventKey===_e&&de===0?P.dropPosition===null&&P.dropLevelOffset===null&&P.dropTargetKey===null&&P.dropContainerKey===null&&P.dropTargetPos===null&&P.dropAllowed===!1&&P.dragOverNodeKey===null||be():Me===P.dropPosition&&de===P.dropLevelOffset&&_e===P.dropTargetKey&&De===P.dropContainerKey&&Ke===P.dropTargetPos&&$e===P.dropAllowed&&et===P.dragOverNodeKey||yr(P,{dropPosition:Me,dropLevelOffset:de,dropTargetKey:_e,dropContainerKey:De,dropTargetPos:Ke,dropAllowed:$e,dragOverNodeKey:et}),_t&&_t({event:ft,node:gt.eventData}))}},Ee=function(ft,gt){Z===gt.eventKey&&!ft.currentTarget.contains(ft.relatedTarget)&&(be(),Z=null);var _t=e.onDragleave;_t&&_t({event:ft,node:gt.eventData})},pe=function(ft,gt){var _t,Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Gt=P.dragChildrenKeys,Zt=P.dropPosition,Me=P.dropTargetKey,de=P.dropTargetPos,_e=P.dropAllowed;if(_e){var De=e.onDrop;if(P.dragOverNodeKey=null,Pe(),Me!==null){var $e=R(R({},XS(Me,Gn(re.value))),{},{active:((_t=Pt.value)===null||_t===void 0?void 0:_t.key)===Me,data:I.value[Me].node});Gt.indexOf(Me);var Ke=vE(de),et={event:ft,node:ZS($e),dragNode:V?V.eventData:null,dragNodesKeys:[V.eventKey].concat(Gt),dropToGap:Zt!==0,dropPosition:Zt+Number(Ke[Ke.length-1])};Ft||De==null||De(et),V=null}}},Ie=function(ft,gt){var _t=e.onClick;_t&&_t(ft,gt)},We=function(ft,gt){var _t=e.onDblclick;_t&&_t(ft,gt)},Qe=function(ft,gt){var _t=p.value,Ft=e.onSelect,Gt=e.multiple,Zt=gt.selected,Me=gt[N.value.key],de=!Zt;de?Gt?_t=ad(_t,Me):_t=[Me]:_t=Ku(_t,Me);var _e=I.value,De=_t.map(function($e){var Ke=_e[$e];return Ke?Ke.node:null}).filter(function($e){return $e});e.selectedKeys===void 0&&(p.value=_t),Ft&&Ft(_t,{event:"select",selected:de,node:gt,selectedNodes:De,nativeEvent:ft})},at=function(ft,gt,_t){var Ft=e.checkStrictly,Gt=e.onCheck,Zt=gt[N.value.key],Me,de={event:"check",node:gt,checked:_t,nativeEvent:ft},_e=I.value;if(Ft){var De=_t?ad(v.value,Zt):Ku(v.value,Zt),$e=Ku(g.value,Zt);Me={checked:De,halfChecked:$e},de.checkedNodes=De.map(function(kt){return _e[kt]}).filter(function(kt){return kt}).map(function(kt){return kt.node}),e.checkedKeys===void 0&&(v.value=De)}else{var Ke=Hs([].concat(Jt(v.value),[Zt]),!0,_e,ce.value,we.value),et=Ke.checkedKeys,rt=Ke.halfCheckedKeys;if(!_t){var Ye=new Set(et);Ye.delete(Zt);var pt=Hs(Array.from(Ye),{checked:!1,halfCheckedKeys:rt},_e,ce.value,we.value);et=pt.checkedKeys,rt=pt.halfCheckedKeys}Me=et,de.checkedNodes=[],de.checkedNodesPositions=[],de.halfCheckedKeys=rt,et.forEach(function(kt){var Ht=_e[kt];if(Ht){var Ot=Ht.node,hn=Ht.pos;de.checkedNodes.push(Ot),de.checkedNodesPositions.push({node:Ot,pos:hn})}}),e.checkedKeys===void 0&&(v.value=et,g.value=rt)}Gt&&Gt(Me,de)},xt=function(ft){var gt=ft[N.value.key],_t=new Promise(function(Ft,Gt){var Zt=e.loadData,Me=e.onLoad;if(!Zt||ae.value.has(gt)||te.value.has(gt))return null;var de=Zt(ft);de.then(function(){var _e=ad(_.value,gt),De=Ku(b.value,gt);Me&&Me(_e,{event:"load",node:ft}),e.loadedKeys===void 0&&(_.value=_e),b.value=De,Ft()}).catch(function(_e){var De=Ku(b.value,gt);if(b.value=De,E[gt]=(E[gt]||0)+1,E[gt]>=W4e){var $e=ad(_.value,gt);e.loadedKeys===void 0&&(_.value=$e),Ft()}Gt(_e)}),b.value=ad(b.value,gt)});return _t.catch(function(){}),_t},ot=function(ft,gt){var _t=e.onMouseenter;_t&&_t({event:ft,node:gt})},nt=function(ft,gt){var _t=e.onMouseleave;_t&&_t({event:ft,node:gt})},Ze=function(ft,gt){var _t=e.onRightClick;_t&&(ft.preventDefault(),_t({event:ft,node:gt}))},ht=function(ft){var gt=e.onFocus;D.value=!0,gt&&gt(ft)},vt=function(ft){var gt=e.onBlur;D.value=!1,rn(null),gt&&gt(ft)},Ct=function(ft,gt){var _t=S.value,Ft=e.onExpand,Gt=e.loadData,Zt=gt.expanded,Me=gt[N.value.key];if(!B.value){_t.indexOf(Me);var de=!Zt;if(de?_t=ad(_t,Me):_t=Ku(_t,Me),ge(_t),Ft&&Ft(_t,{node:gt,expanded:de,nativeEvent:ft}),de&&Gt){var _e=xt(gt);_e&&_e.then(function(){}).catch(function(De){var $e=Ku(S.value,Me);ge($e),Promise.reject(De)})}}},Nt=function(){B.value=!0},tn=function(){setTimeout(function(){B.value=!1})},rn=function(ft){var gt=e.onActiveChange;L.value!==ft&&(e.activeKey!==void 0&&(L.value=ft),ft!==null&&ve({key:ft}),gt&&gt(ft))},Pt=le(function(){return L.value===null?null:ie.value.find(function(St){var ft=St.key;return ft===L.value})||null}),yt=function(ft){var gt=ie.value.findIndex(function(Gt){var Zt=Gt.key;return Zt===L.value});gt===-1&&ft<0&&(gt=ie.value.length),gt=(gt+ft+ie.value.length)%ie.value.length;var _t=ie.value[gt];if(_t){var Ft=_t.key;rn(Ft)}else rn(null)},Bt=le(function(){return ZS(R(R({},XS(L.value,re.value)),{},{data:Pt.value.data,active:!0}))}),Ut=function(ft){var gt=e.onKeydown,_t=e.checkable,Ft=e.selectable;switch(ft.which){case qt.UP:{yt(-1),ft.preventDefault();break}case qt.DOWN:{yt(1),ft.preventDefault();break}}var Gt=Pt.value;if(Gt&&Gt.data){var Zt=Gt.data.isLeaf===!1||!!(Gt.data.children||[]).length,Me=Bt.value;switch(ft.which){case qt.LEFT:{Zt&&q.value.has(L.value)?Ct({},Me):Gt.parent&&rn(Gt.parent.key),ft.preventDefault();break}case qt.RIGHT:{Zt&&!q.value.has(L.value)?Ct({},Me):Gt.children&&Gt.children.length&&rn(Gt.children[0].key),ft.preventDefault();break}case qt.ENTER:case qt.SPACE:{_t&&!Me.disabled&&Me.checkable!==!1&&!Me.disableCheckbox?at({},Me,!Q.value.has(L.value)):!_t&&Ft&&!Me.disabled&&Me.selectable!==!1&&Qe({},Me);break}}}gt&&gt(ft)};return o({onNodeExpand:Ct,scrollTo:ve,onKeydown:Ut,selectedKeys:le(function(){return p.value}),checkedKeys:le(function(){return v.value}),halfCheckedKeys:le(function(){return g.value}),loadedKeys:le(function(){return _.value}),loadingKeys:le(function(){return b.value}),expandedKeys:le(function(){return S.value})}),_o(function(){window.removeEventListener("dragend",Ne),l.value=!0}),B1e({expandedKeys:S,selectedKeys:p,loadedKeys:_,loadingKeys:b,checkedKeys:v,halfCheckedKeys:g,expandedKeysSet:q,selectedKeysSet:G,loadedKeysSet:ae,loadingKeysSet:te,checkedKeysSet:Q,halfCheckedKeysSet:Y,flattenNodes:ie}),function(){var St,ft=P.draggingNodeKey,gt=P.dropLevelOffset,_t=P.dropContainerKey,Ft=P.dropTargetKey,Gt=P.dropPosition,Zt=P.dragOverNodeKey,Me=e.prefixCls,de=e.showLine,_e=e.focusable,De=e.tabindex,$e=De===void 0?0:De,Ke=e.selectable,et=e.showIcon,rt=e.icon,Ye=rt===void 0?i.icon:rt,pt=e.switcherIcon,kt=e.draggable,Ht=e.checkable,Ot=e.checkStrictly,hn=e.disabled,pn=e.motion,En=e.loadData,Cn=e.filterTreeNode,Nn=e.height,nr=e.itemHeight,qn=e.virtual,rr=e.dropIndicatorRender,ur=e.onContextmenu,Si=e.onScroll,hr=e.direction,Yr=r.class,da=r.style,Oo=Bd(R(R({},e),r),{aria:!0,data:!0}),ba;return kt&&(dn(kt)==="object"?ba=kt:typeof kt=="function"?ba={nodeDraggable:kt}:ba={}),M(N1e,{value:{prefixCls:Me,selectable:Ke,showIcon:et,icon:Ye,switcherIcon:pt,draggable:ba,draggingNodeKey:ft,checkable:Ht,customCheckable:i.checkable,checkStrictly:Ot,disabled:hn,keyEntities:I.value,dropLevelOffset:gt,dropContainerKey:_t,dropTargetKey:Ft,dropPosition:Gt,dragOverNodeKey:Zt,dragging:ft!==null,indent:f.value,direction:hr,dropIndicatorRender:rr,loadData:En,filterTreeNode:Cn,onNodeClick:Ie,onNodeDoubleClick:We,onNodeExpand:Ct,onNodeSelect:Qe,onNodeCheck:at,onNodeLoad:xt,onNodeMouseEnter:ot,onNodeMouseLeave:nt,onNodeContextMenu:Ze,onNodeDragStart:Re,onNodeDragEnter:Ge,onNodeDragOver:He,onNodeDragLeave:Ee,onNodeDragEnd:ye,onNodeDrop:pe,slots:i}},{default:function(){return[M("div",{role:"tree",class:mt(Me,Yr,(St={},J(St,"".concat(Me,"-show-line"),de),J(St,"".concat(Me,"-focused"),D.value),J(St,"".concat(Me,"-active-focused"),L.value!==null),St))},[M(H4e,R({ref:j,prefixCls:Me,style:da,disabled:hn,selectable:Ke,checkable:!!Ht,motion:pn,height:Nn,itemHeight:nr,virtual:qn,focusable:_e,focused:D.value,tabindex:$e,activeItem:Pt.value,onFocus:ht,onBlur:vt,onKeydown:Ut,onActiveChange:rn,onListChangeStart:Nt,onListChangeEnd:tn,onContextmenu:ur,onScroll:Si},Oo),null)])]}})}}});function uH(t,e,n,r){var i=r.isLeaf,o=r.expanded,l=r.loading,a=e;if(l)return M(wl,{class:"".concat(t,"-switcher-loading-icon")},null);var f;n&&dn(n)==="object"&&(f=n.showLeafIcon);var p=null,v="".concat(t,"-switcher-icon");return i?(n&&(dn(n)==="object"&&!f?p=M("span",{class:"".concat(t,"-switcher-leaf-line")},null):p=M(ON,{class:"".concat(t,"-switcher-line-icon")},null)),p):(p=M(TJ,{class:v},null),n&&(p=o?M(Pte,{class:"".concat(t,"-switcher-line-icon")},null):M(Ute,{class:"".concat(t,"-switcher-line-icon")},null)),typeof e=="function"?a=e(R(R({},r),{},{defaultIcon:p,switcherCls:v})):la(a)&&(a=io(a,{class:v})),a||p)}var cR=4;function G4e(t){var e,n=t.dropPosition,r=t.dropLevelOffset,i=t.prefixCls,o=t.indent,l=t.direction,a=l===void 0?"ltr":l,f=a==="ltr"?"left":"right",p=a==="ltr"?"right":"left",v=(e={},J(e,f,"".concat(-r*o+cR,"px")),J(e,p,0),e);switch(n){case-1:v.top="".concat(-3,"px");break;case 1:v.bottom="".concat(-3,"px");break;default:v.bottom="".concat(-3,"px"),v[f]="".concat(o+cR,"px");break}return M("div",{style:v,class:"".concat(i,"-drop-indicator")},null)}var cH=function(){var e=hV();return R(R({},e),{},{showLine:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},autoExpandParent:{type:Boolean,default:void 0},checkStrictly:{type:Boolean,default:void 0},checkable:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},defaultExpandAll:{type:Boolean,default:void 0},defaultExpandParent:{type:Boolean,default:void 0},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},checkedKeys:{type:[Array,Object]},defaultCheckedKeys:{type:Array},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},selectable:{type:Boolean,default:void 0},loadedKeys:{type:Array},draggable:{type:Boolean,default:void 0},showIcon:{type:Boolean,default:void 0},icon:{type:Function},switcherIcon:Te.any,prefixCls:String,replaceFields:{type:Object},blockNode:{type:Boolean,default:void 0},openAnimation:Te.any,onDoubleclick:e.onDblclick,"onUpdate:selectedKeys":Function,"onUpdate:checkedKeys":Function,"onUpdate:expandedKeys":Function})};const _b=lt({compatConfig:{MODE:3},name:"ATree",inheritAttrs:!1,props:lr(cH(),{checkable:!1,selectable:!0,showIcon:!1,blockNode:!1}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,n){var r=n.attrs,i=n.expose,o=n.emit,l=n.slots;e.treeData===void 0&&l.default;var a=fn("tree",e),f=a.prefixCls,p=a.direction,v=a.virtual,g=ke(),_=function(k){var I;(I=g.value)===null||I===void 0||I.scrollTo(k)};i({treeRef:g,onNodeExpand:function(){for(var k,I=arguments.length,D=new Array(I),L=0;L<I;L++)D[L]=arguments[L];(k=g.value)===null||k===void 0||k.onNodeExpand.apply(k,D)},scrollTo:_,selectedKeys:le(function(){var P;return(P=g.value)===null||P===void 0?void 0:P.selectedKeys}),checkedKeys:le(function(){var P;return(P=g.value)===null||P===void 0?void 0:P.checkedKeys}),halfCheckedKeys:le(function(){var P;return(P=g.value)===null||P===void 0?void 0:P.halfCheckedKeys}),loadedKeys:le(function(){var P;return(P=g.value)===null||P===void 0?void 0:P.loadedKeys}),loadingKeys:le(function(){var P;return(P=g.value)===null||P===void 0?void 0:P.loadingKeys}),expandedKeys:le(function(){var P;return(P=g.value)===null||P===void 0?void 0:P.expandedKeys})}),Un(function(){Br(e.replaceFields===void 0,"Tree","`replaceFields` is deprecated, please use fieldNames instead")});var b=function(k,I){o("update:checkedKeys",k),o("check",k,I)},S=function(k,I){o("update:expandedKeys",k),o("expand",k,I)},E=function(k,I){o("update:selectedKeys",k),o("select",k,I)};return function(){var P,k=e.showIcon,I=e.showLine,D=e.switcherIcon,L=D===void 0?l.switcherIcon:D,B=e.icon,N=B===void 0?l.icon:B,j=e.blockNode,H=e.checkable,V=e.selectable,Z=e.fieldNames,re=Z===void 0?e.replaceFields:Z,q=e.motion,G=q===void 0?e.openAnimation:q,ae=e.itemHeight,te=ae===void 0?28:ae,Q=e.onDoubleclick,Y=e.onDblclick,X=R(R(R({},r),Qn(e,["onUpdate:checkedKeys","onUpdate:expandedKeys","onUpdate:selectedKeys","onDoubleclick"])),{},{showLine:!!I,dropIndicatorRender:G4e,fieldNames:re,icon:N,itemHeight:te}),ie=l.default?ta(l.default()):void 0;return M(lH,R(R({},X),{},{virtual:v.value,motion:G,ref:g,prefixCls:f.value,class:mt((P={},J(P,"".concat(f.value,"-icon-hide"),!k),J(P,"".concat(f.value,"-block-node"),j),J(P,"".concat(f.value,"-unselectable"),!V),J(P,"".concat(f.value,"-rtl"),p.value==="rtl"),P),r.class),direction:p.value,checkable:H,selectable:V,switcherIcon:function(ce){return uH(f.value,L,I,ce)},onCheck:b,onExpand:S,onSelect:E,onDblclick:Y||Q,children:ie}),R(R({},l),{},{checkable:function(){return M("span",{class:"".concat(f.value,"-checkbox-inner")},null)}}))}}});var Xu;(function(t){t[t.None=0]="None",t[t.Start=1]="Start",t[t.End=2]="End"})(Xu||(Xu={}));function NE(t,e,n){function r(i){var o=i[e.key],l=i[e.children];n(o,i)!==!1&&NE(l||[],e,n)}t.forEach(r)}function q4e(t){var e=t.treeData,n=t.expandedKeys,r=t.startKey,i=t.endKey,o=t.fieldNames,l=o===void 0?{title:"title",key:"key",children:"children"}:o,a=[],f=Xu.None;if(r&&r===i)return[r];if(!r||!i)return[];function p(v){return v===r||v===i}return NE(e,l,function(v){if(f===Xu.End)return!1;if(p(v)){if(a.push(v),f===Xu.None)f=Xu.Start;else if(f===Xu.Start)return f=Xu.End,!1}else f===Xu.Start&&a.push(v);return n.indexOf(v)!==-1}),a}function m4(t,e,n){var r=Jt(e),i=[];return NE(t,n,function(o,l){var a=r.indexOf(o);return a!==-1&&(i.push(l),r.splice(a,1)),!!r.length}),i}var Y4e=["icon","blockNode"],X4e=function(){return R(R({},cH()),{},{expandAction:{type:[Boolean,String]}})};function Z4e(t){var e=t.isLeaf,n=t.expanded;return M(e?ON:n?ste:dte,null,null)}const bb=lt({compatConfig:{MODE:3},name:"ADirectoryTree",inheritAttrs:!1,props:lr(X4e(),{showIcon:!0,expandAction:"click"}),slots:["icon","title","switcherIcon","titleRender"],setup:function(e,n){var r,i=n.attrs,o=n.slots,l=n.emit,a=n.expose,f=ke(e.treeData||YS(ta((r=o.default)===null||r===void 0?void 0:r.call(o))));Lt(function(){return e.treeData},function(){f.value=e.treeData}),yo(function(){Yn(function(){if(e.treeData===void 0&&o.default){var re;f.value=YS(ta((re=o.default)===null||re===void 0?void 0:re.call(o)))}})});var p=ke(),v=ke(),g=le(function(){return $2(e.fieldNames)}),_=ke(),b=function(q){var G;(G=_.value)===null||G===void 0||G.scrollTo(q)};a({scrollTo:b,selectedKeys:le(function(){var re;return(re=_.value)===null||re===void 0?void 0:re.selectedKeys}),checkedKeys:le(function(){var re;return(re=_.value)===null||re===void 0?void 0:re.checkedKeys}),halfCheckedKeys:le(function(){var re;return(re=_.value)===null||re===void 0?void 0:re.halfCheckedKeys}),loadedKeys:le(function(){var re;return(re=_.value)===null||re===void 0?void 0:re.loadedKeys}),loadingKeys:le(function(){var re;return(re=_.value)===null||re===void 0?void 0:re.loadingKeys}),expandedKeys:le(function(){var re;return(re=_.value)===null||re===void 0?void 0:re.expandedKeys})});var S=function(){var q=h0(f.value,{fieldNames:g.value}),G=q.keyEntities,ae;return e.defaultExpandAll?ae=Object.keys(G):e.defaultExpandParent?ae=qS(e.expandedKeys||e.defaultExpandedKeys||[],G):ae=e.expandedKeys||e.defaultExpandedKeys,ae},E=ke(e.selectedKeys||e.defaultSelectedKeys||[]),P=ke(S());Lt(function(){return e.selectedKeys},function(){e.selectedKeys!==void 0&&(E.value=e.selectedKeys)},{immediate:!0}),Lt(function(){return e.expandedKeys},function(){e.expandedKeys!==void 0&&(P.value=e.expandedKeys)},{immediate:!0});var k=function(q,G){var ae=G.isLeaf;ae||q.shiftKey||q.metaKey||q.ctrlKey||_.value.onNodeExpand(q,G)},I=B2(k,200,{leading:!0}),D=function(q,G){e.expandedKeys===void 0&&(P.value=q),l("update:expandedKeys",q),l("expand",q,G)},L=function(q,G){var ae=e.expandAction;ae==="click"&&I(q,G),l("click",q,G)},B=function(q,G){var ae=e.expandAction;(ae==="dblclick"||ae==="doubleclick")&&I(q,G),l("doubleclick",q,G),l("dblclick",q,G)},N=function(q,G){var ae=e.multiple,te=G.node,Q=G.nativeEvent,Y=te[g.value.key],X=R(R({},G),{},{selected:!0}),ie=(Q==null?void 0:Q.ctrlKey)||(Q==null?void 0:Q.metaKey),he=Q==null?void 0:Q.shiftKey,ce;ae&&ie?(ce=q,p.value=Y,v.value=ce,X.selectedNodes=m4(f.value,ce,g.value)):ae&&he?(ce=Array.from(new Set([].concat(Jt(v.value||[]),Jt(q4e({treeData:f.value,expandedKeys:P.value,startKey:Y,endKey:p.value,fieldNames:g.value}))))),X.selectedNodes=m4(f.value,ce,g.value)):(ce=[Y],p.value=Y,v.value=ce,X.selectedNodes=m4(f.value,ce,g.value)),l("update:selectedKeys",ce),l("select",ce,X),e.selectedKeys===void 0&&(E.value=ce)},j=function(q,G){l("update:checkedKeys",q),l("check",q,G)},H=fn("tree",e),V=H.prefixCls,Z=H.direction;return function(){var re=mt("".concat(V.value,"-directory"),J({},"".concat(V.value,"-directory-rtl"),Z.value==="rtl"),i.class),q=e.icon,G=q===void 0?o.icon:q,ae=e.blockNode,te=ae===void 0?!0:ae,Q=kn(e,Y4e);return M(_b,R(R(R({},i),{},{icon:G||Z4e,ref:_,blockNode:te},Q),{},{prefixCls:V.value,class:re,expandedKeys:P.value,selectedKeys:E.value,onSelect:N,onClick:L,onDblclick:B,onExpand:D,onCheck:j}),o)}}});var xb=GS;const dH=yr(_b,{DirectoryTree:bb,TreeNode:xb,install:function(e){return e.component(_b.name,_b),e.component(xb.name,xb),e.component(bb.name,bb),e}});var Q4e=Ui.SubMenu,J4e=Ui.Item;function eSe(t){return t.some(function(e){var n=e.children;return n&&n.length>0})}function fH(t,e){return typeof e=="string"||typeof e=="number"?e==null?void 0:e.toString().toLowerCase().includes(t.trim().toLowerCase()):!1}function hH(t){var e=t.filters,n=t.prefixCls,r=t.filteredKeys,i=t.filterMultiple,o=t.searchValue,l=t.filterSearch;return e.map(function(a,f){var p=String(a.value);if(a.children)return M(Q4e,{key:p||f,title:a.text,popupClassName:"".concat(n,"-dropdown-submenu")},{default:function(){return[hH({filters:a.children,prefixCls:n,filteredKeys:r,filterMultiple:i,searchValue:o,filterSearch:l})]}});var v=i?Ks:Mo,g=M(J4e,{key:a.value!==void 0?p:f},{default:function(){return[M(v,{checked:r.includes(p)},null),M("span",null,[a.text])]}});return o.trim()?typeof l=="function"?l(o,a)?g:void 0:fH(o,a.text)?g:void 0:g})}const tSe=lt({name:"FilterDropdown",props:["tablePrefixCls","prefixCls","dropdownPrefixCls","column","filterState","filterMultiple","filterMode","filterSearch","columnKey","triggerFilter","locale","getPopupContainer"],setup:function(e,n){var r=n.slots,i=WU(),o=le(function(){var ce;return(ce=e.filterMode)!==null&&ce!==void 0?ce:"menu"}),l=le(function(){var ce;return(ce=e.filterSearch)!==null&&ce!==void 0?ce:!1}),a=le(function(){return e.column.filterDropdownVisible}),f=ke(!1),p=le(function(){var ce;return!!(e.filterState&&((ce=e.filterState.filteredKeys)!==null&&ce!==void 0&&ce.length||e.filterState.forceFiltered))}),v=le(function(){var ce;return rw((ce=e.column)===null||ce===void 0?void 0:ce.filters)}),g=le(function(){var ce=e.column,we=ce.filterDropdown,be=ce.slots,ve=be===void 0?{}:be,ge=ce.customFilterDropdown;return we||ve.filterDropdown&&i.value[ve.filterDropdown]||ge&&i.value.customFilterDropdown}),_=le(function(){var ce=e.column,we=ce.filterIcon,be=ce.slots,ve=be===void 0?{}:be;return we||ve.filterIcon&&i.value[ve.filterIcon]||i.value.customFilterIcon}),b=function(we){var be,ve;f.value=we,(be=(ve=e.column).onFilterDropdownVisibleChange)===null||be===void 0||be.call(ve,we)},S=le(function(){return typeof a.value=="boolean"?a.value:f.value}),E=le(function(){var ce;return(ce=e.filterState)===null||ce===void 0?void 0:ce.filteredKeys}),P=fr([]),k=function(we){var be=we.selectedKeys;P.value=be},I=function(we,be){var ve=be.node,ge=be.checked;e.filterMultiple?k({selectedKeys:we}):k({selectedKeys:ge&&ve.key?[ve.key]:[]})};Lt(E,function(){f.value&&k({selectedKeys:E.value||[]})},{immediate:!0});var D=fr([]),L=ke(),B=function(we){L.value=setTimeout(function(){D.value=we})},N=function(){clearTimeout(L.value)};tr(function(){clearTimeout(L.value)});var j=ke(""),H=function(we){var be=we.target.value;j.value=be};Lt(f,function(){f.value||(j.value="")});var V=function(we){var be=e.column,ve=e.columnKey,ge=e.filterState,Pe=we&&we.length?we:null;if(Pe===null&&(!ge||!ge.filteredKeys)||S2(Pe,ge==null?void 0:ge.filteredKeys))return null;e.triggerFilter({column:be,key:ve,filteredKeys:Pe})},Z=function(){b(!1),V(P.value)},re=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{confirm:!1,closeDropdown:!1},be=we.confirm,ve=we.closeDropdown;be&&V([]),ve&&b(!1),j.value="",P.value=[]},q=function(){var we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{closeDropdown:!0},be=we.closeDropdown;be&&b(!1),V(P.value)},G=function(we){we&&E.value!==void 0&&(P.value=E.value||[]),b(we),!we&&!g.value&&Z()},ae=fn("",e),te=ae.direction,Q=function(we){if(we.target.checked){var be=v.value;P.value=be}else P.value=[]},Y=function ce(we){var be=we.filters;return(be||[]).map(function(ve,ge){var Pe=String(ve.value),ye={title:ve.text,key:ve.value!==void 0?Pe:ge};return ve.children&&(ye.children=ce({filters:ve.children})),ye})},X=le(function(){return Y({filters:e.column.filters})}),ie=le(function(){return mt(J({},"".concat(e.dropdownPrefixCls,"-menu-without-submenu"),!eSe(e.column.filters||[])))}),he=function(){var we=P.value,be=e.column,ve=e.locale,ge=e.tablePrefixCls,Pe=e.filterMultiple,ye=e.dropdownPrefixCls,Ne=e.getPopupContainer,Re=e.prefixCls;return(be.filters||[]).length===0?M(fd,{image:fd.PRESENTED_IMAGE_SIMPLE,description:ve.filterEmptyText,imageStyle:{height:24},style:{margin:0,padding:"16px 0"}},null):o.value==="tree"?M(Kn,null,[M(iR,{filterSearch:l.value,value:j.value,onChange:H,tablePrefixCls:ge,locale:ve},null),M("div",{class:"".concat(ge,"-filter-dropdown-tree")},[Pe?M(Ks,{class:"".concat(ge,"-filter-dropdown-checkall"),onChange:Q,checked:we.length===v.value.length,indeterminate:we.length>0&&we.length<v.value.length},{default:function(){return[ve.filterCheckall]}}):null,M(dH,{checkable:!0,selectable:!1,blockNode:!0,multiple:Pe,checkStrictly:!Pe,class:"".concat(ye,"-menu"),onCheck:I,checkedKeys:we,selectedKeys:we,showIcon:!1,treeData:X.value,autoExpandParent:!0,defaultExpandAll:!0,filterTreeNode:j.value.trim()?function(Ge){return fH(j.value,Ge.title)}:void 0},null)])]):M(Kn,null,[M(iR,{filterSearch:l.value,value:j.value,onChange:H,tablePrefixCls:ge,locale:ve},null),M(Ui,{multiple:Pe,prefixCls:"".concat(ye,"-menu"),class:ie.value,onClick:N,onSelect:k,onDeselect:k,selectedKeys:we,getPopupContainer:Ne,openKeys:D.value,onOpenChange:B},{default:function(){return hH({filters:be.filters||[],filterSearch:l.value,prefixCls:Re,filteredKeys:P.value,filterMultiple:Pe,searchValue:j.value})}})])};return function(){var ce,we=e.tablePrefixCls,be=e.prefixCls,ve=e.column,ge=e.dropdownPrefixCls,Pe=e.locale,ye=e.getPopupContainer,Ne;if(typeof g.value=="function")Ne=g.value({prefixCls:"".concat(ge,"-custom"),setSelectedKeys:function(pe){return k({selectedKeys:pe})},selectedKeys:P.value,confirm:q,clearFilters:re,filters:ve.filters,visible:S.value,column:ve.__originColumn__});else if(g.value)Ne=g.value;else{var Re=P.value;Ne=M(Kn,null,[he(),M("div",{class:"".concat(be,"-dropdown-btns")},[M(Ma,{type:"link",size:"small",disabled:Re.length===0,onClick:function(){return re()}},{default:function(){return[Pe.filterReset]}}),M(Ma,{type:"primary",size:"small",onClick:Z},{default:function(){return[Pe.filterConfirm]}})])])}var Ge=M(N4e,{class:"".concat(be,"-dropdown")},{default:function(){return[Ne]}}),He;return typeof _.value=="function"?He=_.value({filtered:p.value,column:ve.__originColumn__}):_.value?He=_.value:He=M(rte,null,null),M("div",{class:"".concat(be,"-column")},[M("span",{class:"".concat(we,"-column-title")},[(ce=r.default)===null||ce===void 0?void 0:ce.call(r)]),M(cu,{overlay:Ge,trigger:["click"],visible:S.value,onVisibleChange:G,getPopupContainer:ye,placement:te.value==="rtl"?"bottomLeft":"bottomRight"},{default:function(){return[M("span",{role:"button",tabindex:-1,class:mt("".concat(be,"-trigger"),{active:p.value}),onClick:function(Ie){Ie.stopPropagation()}},[He])]}})])}}});function E6(t,e,n){var r=[];return(t||[]).forEach(function(i,o){var l,a=nw(o,n),f=i.filterDropdown||(i==null||(l=i.slots)===null||l===void 0?void 0:l.filterDropdown)||i.customFilterDropdown;if(i.filters||f||"onFilter"in i)if("filteredValue"in i){var p=i.filteredValue;if(!f){var v,g;p=(v=(g=p)===null||g===void 0?void 0:g.map(String))!==null&&v!==void 0?v:p}r.push({column:i,key:kv(i,a),filteredKeys:p,forceFiltered:i.filtered})}else r.push({column:i,key:kv(i,a),filteredKeys:e&&i.defaultFilteredValue?i.defaultFilteredValue:void 0,forceFiltered:i.filtered});"children"in i&&(r=[].concat(Jt(r),Jt(E6(i.children,e,a))))}),r}function pH(t,e,n,r,i,o,l,a){return n.map(function(f,p){var v,g=nw(p,a),_=f.filterMultiple,b=_===void 0?!0:_,S=f.filterMode,E=f.filterSearch,P=f,k=f.filterDropdown||(f==null||(v=f.slots)===null||v===void 0?void 0:v.filterDropdown)||f.customFilterDropdown;if(P.filters||k){var I=kv(P,g),D=r.find(function(L){var B=L.key;return I===B});P=R(R({},P),{},{title:function(B){return M(tSe,{tablePrefixCls:t,prefixCls:"".concat(t,"-filter"),dropdownPrefixCls:e,column:P,columnKey:I,filterState:D,filterMultiple:b,filterMode:S,filterSearch:E,triggerFilter:i,locale:l,getPopupContainer:o},{default:function(){return[FE(f.title,B)]}})}})}return"children"in P&&(P=R(R({},P),{},{children:pH(t,e,P.children,r,i,o,l,g)})),P})}function rw(t){var e=[];return(t||[]).forEach(function(n){var r=n.value,i=n.children;e.push(r),i&&(e=[].concat(Jt(e),Jt(rw(i))))}),e}function dR(t){var e={};return t.forEach(function(n){var r,i=n.key,o=n.filteredKeys,l=n.column,a=l.filterDropdown||(l==null||(r=l.slots)===null||r===void 0?void 0:r.filterDropdown)||l.customFilterDropdown,f=l.filters;if(a)e[i]=o||null;else if(Array.isArray(o)){var p=rw(f);e[i]=p.filter(function(v){return o.includes(String(v))})}else e[i]=null}),e}function fR(t,e){return e.reduce(function(n,r){var i=r.column,o=i.onFilter,l=i.filters,a=r.filteredKeys;return o&&a&&a.length?n.filter(function(f){return a.some(function(p){var v=rw(l),g=v.findIndex(function(b){return String(b)===String(p)}),_=g!==-1?v[g]:p;return o(_,f)})}):n},t)}function nSe(t){var e=t.prefixCls,n=t.dropdownPrefixCls,r=t.mergedColumns,i=t.locale,o=t.onFilterChange,l=t.getPopupContainer,a=yi(E6(r.value,!0)),f=Wt(a,2),p=f[0],v=f[1],g=le(function(){var E=E6(r.value,!1),P=E.every(function(I){var D=I.filteredKeys;return D===void 0});if(P)return p.value;var k=E.every(function(I){var D=I.filteredKeys;return D!==void 0});return Br(P||k,"Table","`FilteredKeys` should all be controlled or not controlled."),E}),_=le(function(){return dR(g.value)}),b=function(P){var k=g.value.filter(function(I){var D=I.key;return D!==P.key});k.push(P),v(k),o(dR(k),k)},S=function(P){return pH(e.value,n.value,P,g.value,b,l.value,i.value)};return[S,g,_]}function vH(t,e){return t.map(function(n){var r=R({},n);return r.title=FE(r.title,e),"children"in r&&(r.children=vH(r.children,e)),r})}function rSe(t){var e=function(r){return vH(r,t.value)};return[e]}function iSe(t){return function(n){var r,i=n.prefixCls,o=n.onExpand,l=n.record,a=n.expanded,f=n.expandable,p="".concat(i,"-row-expand-icon");return M("button",{type:"button",onClick:function(g){o(l,g),g.stopPropagation()},class:mt(p,(r={},J(r,"".concat(p,"-spaced"),!f),J(r,"".concat(p,"-expanded"),f&&a),J(r,"".concat(p,"-collapsed"),f&&!a),r)),"aria-label":a?t.collapse:t.expand},null)}}function mH(t,e){var n=e.value;return t.map(function(r){var i;if(r===Yu||r===cd)return r;var o=R({},r),l=o.slots,a=l===void 0?{}:l;return o.__originColumn__=r,Br(!("slots"in o),"Table","`column.slots` is deprecated. Please use `v-slot:headerCell` `v-slot:bodyCell` instead."),Object.keys(a).forEach(function(f){var p=a[f];o[f]===void 0&&n[p]&&(o[f]=n[p])}),e.value.headerCell&&!((i=r.slots)!==null&&i!==void 0&&i.title)&&(o.title=v5(e.value,"headerCell",{title:r.title,column:r},function(){return[r.title]})),"children"in o&&(o.children=mH(o.children,e)),o})}function aSe(t){var e=function(r){return mH(r,t)};return[e]}var oSe=[],sSe=function(){return{prefixCls:{type:String,default:void 0},columns:{type:Array,default:void 0},rowKey:{type:[String,Function],default:void 0},tableLayout:{type:String,default:void 0},rowClassName:{type:[String,Function],default:void 0},title:{type:Function,default:void 0},footer:{type:Function,default:void 0},id:{type:String,default:void 0},showHeader:{type:Boolean,default:void 0},components:{type:Object,default:void 0},customRow:{type:Function,default:void 0},customHeaderRow:{type:Function,default:void 0},direction:{type:String,default:void 0},expandFixed:{type:[Boolean,String],default:void 0},expandColumnWidth:{type:Number,default:void 0},expandedRowKeys:{type:Array,default:void 0},defaultExpandedRowKeys:{type:Array,default:void 0},expandedRowRender:{type:Function,default:void 0},expandRowByClick:{type:Boolean,default:void 0},expandIcon:{type:Function,default:void 0},onExpand:{type:Function,default:void 0},onExpandedRowsChange:{type:Function,default:void 0},"onUpdate:expandedRowKeys":{type:Function,default:void 0},defaultExpandAllRows:{type:Boolean,default:void 0},indentSize:{type:Number,default:void 0},expandIconColumnIndex:{type:Number,default:void 0},showExpandColumn:{type:Boolean,default:void 0},expandedRowClassName:{type:Function,default:void 0},childrenColumnName:{type:String,default:void 0},rowExpandable:{type:Function,default:void 0},sticky:{type:[Boolean,Object],default:void 0},dropdownPrefixCls:String,dataSource:{type:Array,default:void 0},pagination:{type:[Boolean,Object],default:void 0},loading:{type:[Boolean,Object],default:void 0},size:{type:String,default:void 0},bordered:Boolean,locale:{type:Object,default:void 0},onChange:{type:Function,default:void 0},onResizeColumn:{type:Function,default:void 0},rowSelection:{type:Object,default:void 0},getPopupContainer:{type:Function,default:void 0},scroll:{type:Object,default:void 0},sortDirections:{type:Array,default:void 0},showSorterTooltip:{type:[Boolean,Object],default:!0},contextSlots:{type:Object},transformCellText:{type:Function}}},lSe=lt({name:"InteralTable",inheritAttrs:!1,props:lr(sSe(),{rowKey:"key"}),slots:["emptyText","expandIcon","title","footer","summary","expandedRowRender","bodyCell","headerCell","customFilterIcon","customFilterDropdown"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.expose,l=n.emit;Br(!(typeof e.rowKey=="function"&&e.rowKey.length>1),"Table","`index` parameter of `rowKey` function is deprecated. There is no guarantee that it will work as expected."),FCe(le(function(){return e.contextSlots})),NCe({onResizeColumn:function(ft,gt){l("resizeColumn",ft,gt)}});var a=Wv(),f=le(function(){var St=new Set(Object.keys(a.value).filter(function(ft){return a.value[ft]}));return e.columns.filter(function(ft){return!ft.responsive||ft.responsive.some(function(gt){return St.has(gt)})})}),p=fn("table",e),v=p.size,g=p.renderEmpty,_=p.direction,b=p.prefixCls,S=p.configProvider,E=le(function(){return e.transformCellText||S.transformCellText}),P=vu("Table",Sl.Table,An(e,"locale")),k=Wt(P,1),I=k[0],D=le(function(){return e.dataSource||oSe}),L=le(function(){return S.getPrefixCls("dropdown",e.dropdownPrefixCls)}),B=le(function(){return e.childrenColumnName||"children"}),N=le(function(){return D.value.some(function(St){return St==null?void 0:St[B.value]})?"nest":e.expandedRowRender?"row":null}),j=Mr({body:null}),H=function(ft){yr(j,ft)},V=le(function(){return typeof e.rowKey=="function"?e.rowKey:function(St){return St==null?void 0:St[e.rowKey]}}),Z=A4e(D,B,V),re=Wt(Z,1),q=re[0],G={},ae=function(ft,gt){var _t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ft=e.pagination,Gt=e.scroll,Zt=e.onChange,Me=R(R({},G),ft);_t&&(G.resetPagination(),Me.pagination.current&&(Me.pagination.current=1),Ft&&Ft.onChange&&Ft.onChange(1,Me.pagination.pageSize)),Gt&&Gt.scrollToFirstRowOnChange!==!1&&j.body&&Q8(0,{getContainer:function(){return j.body}}),Zt==null||Zt(Me.pagination,Me.filters,Me.sorter,{currentDataSource:fR(S6(D.value,Me.sorterStates,B.value),Me.filterStates),action:gt})},te=function(ft,gt){ae({sorter:ft,sorterStates:gt},"sort",!1)},Q=L4e({prefixCls:b,mergedColumns:f,onSorterChange:te,sortDirections:le(function(){return e.sortDirections||["ascend","descend"]}),tableLocale:I,showSorterTooltip:An(e,"showSorterTooltip")}),Y=Wt(Q,4),X=Y[0],ie=Y[1],he=Y[2],ce=Y[3],we=le(function(){return S6(D.value,ie.value,B.value)}),be=function(ft,gt){ae({filters:ft,filterStates:gt},"filter",!0)},ve=nSe({prefixCls:b,locale:I,dropdownPrefixCls:L,mergedColumns:f,onFilterChange:be,getPopupContainer:An(e,"getPopupContainer")}),ge=Wt(ve,3),Pe=ge[0],ye=ge[1],Ne=ge[2],Re=le(function(){return fR(we.value,ye.value)}),Ge=aSe(An(e,"contextSlots")),He=Wt(Ge,1),Ee=He[0],pe=le(function(){return R({},he.value)}),Ie=rSe(pe),We=Wt(Ie,1),Qe=We[0],at=function(ft,gt){ae({pagination:R(R({},G.pagination),{},{current:ft,pageSize:gt})},"paginate")},xt=k4e(le(function(){return Re.value.length}),An(e,"pagination"),at),ot=Wt(xt,2),nt=ot[0],Ze=ot[1];Un(function(){G.sorter=ce.value,G.sorterStates=ie.value,G.filters=Ne.value,G.filterStates=ye.value,G.pagination=e.pagination===!1?{}:P4e(e.pagination,nt.value),G.resetPagination=Ze});var ht=le(function(){if(e.pagination===!1||!nt.value.pageSize)return Re.value;var St=nt.value,ft=St.current,gt=ft===void 0?1:ft,_t=St.total,Ft=St.pageSize,Gt=Ft===void 0?y6:Ft;return Br(gt>0,"Table","`current` should be positive number."),Re.value.length<_t?Re.value.length>Gt?Re.value.slice((gt-1)*Gt,gt*Gt):Re.value:Re.value.slice((gt-1)*Gt,gt*Gt)});Un(function(){Yn(function(){var St=nt.value,ft=St.total,gt=St.pageSize,_t=gt===void 0?y6:gt;Re.value.length<ft&&Re.value.length>_t&&Br(!1,"Table","`dataSource` length is less than `pagination.total` but large than `pagination.pageSize`. Please make sure your config correct data with async mode.")})},{flush:"post"});var vt=le(function(){return e.showExpandColumn===!1?-1:N.value==="nest"&&e.expandIconColumnIndex===void 0?e.rowSelection?1:0:e.expandIconColumnIndex>0&&e.rowSelection?e.expandIconColumnIndex-1:e.expandIconColumnIndex}),Ct=ke();Lt(function(){return e.rowSelection},function(){Ct.value=e.rowSelection?R({},e.rowSelection):e.rowSelection},{deep:!0,immediate:!0});var Nt=O4e(Ct,{prefixCls:b,data:Re,pageData:ht,getRowKey:V,getRecordByKey:q,expandType:N,childrenColumnName:B,locale:I,getPopupContainer:le(function(){return e.getPopupContainer})}),tn=Wt(Nt,2),rn=tn[0],Pt=tn[1],yt=function(ft,gt,_t){var Ft,Gt=e.rowClassName;return typeof Gt=="function"?Ft=mt(Gt(ft,gt,_t)):Ft=mt(Gt),mt(J({},"".concat(b.value,"-row-selected"),Pt.value.has(V.value(ft,gt))),Ft)};o({selectedKeySet:Pt});var Bt=le(function(){return typeof e.indentSize=="number"?e.indentSize:15}),Ut=function(ft){var gt=Qe(rn(Pe(X(Ee(ft)))));return gt};return function(){var St,ft,gt=e.expandIcon,_t=gt===void 0?i.expandIcon||iSe(I.value):gt,Ft=e.pagination,Gt=e.loading,Zt=e.bordered,Me,de;if(Ft!==!1&&(St=nt.value)!==null&&St!==void 0&&St.total){var _e;nt.value.size?_e=nt.value.size:_e=v.value==="small"||v.value==="middle"?"small":void 0;var De=function(hn){return M(Y2,R(R({},nt.value),{},{class:["".concat(b.value,"-pagination ").concat(b.value,"-pagination-").concat(hn),nt.value.class],size:_e}),null)},$e=_.value==="rtl"?"left":"right",Ke=nt.value.position;if(Ke!==null&&Array.isArray(Ke)){var et=Ke.find(function(Ot){return Ot.indexOf("top")!==-1}),rt=Ke.find(function(Ot){return Ot.indexOf("bottom")!==-1}),Ye=Ke.every(function(Ot){return"".concat(Ot)==="none"});!et&&!rt&&!Ye&&(de=De($e)),et&&(Me=De(et.toLowerCase().replace("top",""))),rt&&(de=De(rt.toLowerCase().replace("bottom","")))}else de=De($e)}var pt;typeof Gt=="boolean"?pt={spinning:Gt}:dn(Gt)==="object"&&(pt=R({spinning:!0},Gt));var kt=mt("".concat(b.value,"-wrapper"),J({},"".concat(b.value,"-wrapper-rtl"),_.value==="rtl"),r.class),Ht=Qn(e,["columns"]);return M("div",{class:kt,style:r.style},[M(Ed,R({spinning:!1},pt),{default:function(){return[Me,M(E4e,R(R(R({},r),Ht),{},{expandedRowKeys:e.expandedRowKeys,defaultExpandedRowKeys:e.defaultExpandedRowKeys,expandIconColumnIndex:vt.value,indentSize:Bt.value,expandIcon:_t,columns:f.value,direction:_.value,prefixCls:b.value,class:mt((ft={},J(ft,"".concat(b.value,"-middle"),v.value==="middle"),J(ft,"".concat(b.value,"-small"),v.value==="small"),J(ft,"".concat(b.value,"-bordered"),Zt),J(ft,"".concat(b.value,"-empty"),D.value.length===0),ft)),data:ht.value,rowKey:V.value,rowClassName:yt,internalHooks:g6,internalRefs:j,onUpdateInternalRefs:H,transformColumns:Ut,transformCellText:E.value}),R(R({},i),{},{emptyText:function(){var pn,En;return((pn=i.emptyText)===null||pn===void 0?void 0:pn.call(i))||((En=e.locale)===null||En===void 0?void 0:En.emptyText)||g.value("Table")}})),de]}})])}}}),uSe=lt({name:"ATable",inheritAttrs:!1,setup:function(e,n){var r=n.attrs,i=n.slots,o=n.expose,l=ke();return o({table:l}),function(){var a,f=r,p=f.columns||aH((a=i.default)===null||a===void 0?void 0:a.call(i));return M(lSe,R(R({ref:l},r),{},{columns:p||[],expandedRowRender:i.expandedRowRender,contextSlots:R({},i)}),i)}}});const g4=uSe,wb=lt({name:"ATableColumn",slots:["title","filterIcon"],render:function(){return null}}),Cb=lt({name:"ATableColumnGroup",slots:["title"],__ANT_TABLE_COLUMN_GROUP:!0,render:function(){return null}});var Lx=h4e,Fx=m4e,Sb=yr(g4e,{Cell:Fx,Row:Lx,name:"ATableSummary"});const cSe=yr(g4,{SELECTION_ALL:_6,SELECTION_INVERT:b6,SELECTION_NONE:x6,SELECTION_COLUMN:Yu,EXPAND_COLUMN:cd,Column:wb,ColumnGroup:Cb,Summary:Sb,install:function(e){return e.component(Sb.name,Sb),e.component(Fx.name,Fx),e.component(Lx.name,Lx),e.component(g4.name,g4),e.component(wb.name,wb),e.component(Cb.name,Cb),e}});var dSe={prefixCls:String,placeholder:String,value:String,handleClear:Function,disabled:{type:Boolean,default:void 0},onChange:Function};const fSe=lt({compatConfig:{MODE:3},name:"Search",inheritAttrs:!1,props:lr(dSe,{placeholder:""}),emits:["change"],setup:function(e,n){var r=n.emit,i=function(l){if(r("change",l),l.target.value===""){var a;(a=e.handleClear)===null||a===void 0||a.call(e)}};return function(){var o=e.placeholder,l=e.value,a=e.prefixCls,f=e.disabled;return M(Pa,{placeholder:o,class:a,value:l,onChange:i,disabled:f,allowClear:!0},{prefix:function(){return M(h2,null,null)}})}}});function hSe(){}var pSe={renderedText:Te.any,renderedEl:Te.any,item:Te.any,checked:{type:Boolean,default:void 0},prefixCls:String,disabled:{type:Boolean,default:void 0},showRemove:{type:Boolean,default:void 0},onClick:Function,onRemove:Function};const vSe=lt({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:pSe,emits:["click","remove"],setup:function(e,n){var r=n.emit;return function(){var i,o=e.renderedText,l=e.renderedEl,a=e.item,f=e.checked,p=e.disabled,v=e.prefixCls,g=e.showRemove,_=mt((i={},J(i,"".concat(v,"-content-item"),!0),J(i,"".concat(v,"-content-item-disabled"),p||a.disabled),i)),b;return(typeof o=="string"||typeof o=="number")&&(b=String(o)),M(jv,{componentName:"Transfer",defaultLocale:Sl.Transfer},{default:function(E){var P=M("span",{class:"".concat(v,"-content-item-text")},[l]);return g?M("li",{class:_,title:b},[P,M(Dx,{disabled:p||a.disabled,class:"".concat(v,"-content-item-remove"),"aria-label":E.remove,onClick:function(){r("remove",a)}},{default:function(){return[M(IN,null,null)]}})]):M("li",{class:_,title:b,onClick:p||a.disabled?hSe:function(){r("click",a)}},[M(Ks,{class:"".concat(v,"-checkbox"),checked:f,disabled:p||a.disabled},null),P])}})}}});var mSe={prefixCls:String,filteredRenderItems:Te.array.def([]),selectedKeys:Te.array,disabled:{type:Boolean,default:void 0},showRemove:{type:Boolean,default:void 0},pagination:Te.any,onItemSelect:Function,onScroll:Function,onItemRemove:Function};function gSe(t){if(!t)return null;var e={pageSize:10};return dn(t)==="object"?R(R({},e),t):e}var ySe=lt({compatConfig:{MODE:3},name:"ListBody",inheritAttrs:!1,props:mSe,emits:["itemSelect","itemRemove","scroll"],setup:function(e,n){var r=n.emit,i=n.expose,o=ke(1),l=function(b){var S=e.selectedKeys,E=S.indexOf(b.key)>=0;r("itemSelect",b.key,!E)},a=function(b){r("itemRemove",[b.key])},f=function(b){r("scroll",b)},p=le(function(){return gSe(e.pagination)});Lt([p,function(){return e.filteredRenderItems}],function(){if(p.value){var _=Math.ceil(e.filteredRenderItems.length/p.value.pageSize);o.value>_&&(o.value=_)}},{immediate:!0});var v=le(function(){var _=e.filteredRenderItems,b=_;return p.value&&(b=_.slice((o.value-1)*p.value.pageSize,o.value*p.value.pageSize)),b}),g=function(b){o.value=b};return i({items:v}),function(){var _=e.prefixCls,b=e.filteredRenderItems,S=e.selectedKeys,E=e.disabled,P=e.showRemove,k=null;p.value&&(k=M(Y2,{simple:!0,size:"small",disabled:E,class:"".concat(_,"-pagination"),total:b.length,pageSize:p.value.pageSize,current:o.value,onChange:g},null));var I=v.value.map(function(D){var L=D.renderedEl,B=D.renderedText,N=D.item,j=N.disabled,H=S.indexOf(N.key)>=0;return M(vSe,{disabled:E||j,key:N.key,item:N,renderedText:B,renderedEl:L,checked:H,prefixCls:_,onClick:l,onRemove:a,showRemove:P},null)});return M(Kn,null,[M("ul",{class:mt("".concat(_,"-content"),J({},"".concat(_,"-content-show-remove"),P)),onScroll:f},[I]),k])}}});const _Se=ySe;var bSe=function(){return null};function xSe(t){return t&&!la(t)&&Object.prototype.toString.call(t)==="[object Object]"}function E_(t){return t.filter(function(e){return!e.disabled}).map(function(e){return e.key})}var wSe={prefixCls:String,dataSource:{type:Array,default:[]},filter:String,filterOption:Function,checkedKeys:Te.arrayOf(Te.string),handleFilter:Function,handleClear:Function,renderItem:Function,showSearch:{type:Boolean,default:!1},searchPlaceholder:String,notFoundContent:Te.any,itemUnit:String,itemsUnit:String,renderList:Te.any,disabled:{type:Boolean,default:void 0},direction:String,showSelectAll:{type:Boolean,default:void 0},remove:String,selectAll:String,selectCurrent:String,selectInvert:String,removeAll:String,removeCurrent:String,selectAllLabel:Te.any,showRemove:{type:Boolean,default:void 0},pagination:Te.any,onItemSelect:Function,onItemSelectAll:Function,onItemRemove:Function,onScroll:Function};const hR=lt({compatConfig:{MODE:3},name:"TransferList",inheritAttrs:!1,props:wSe,slots:["footer","titleText"],setup:function(e,n){var r=n.attrs,i=n.slots,o=ke(""),l=ke(),a=ke(),f=function(N,j){var H=N?N(j):null,V=!!H&&ta(H).length>0;return V||(H=M(_Se,R(R({},j),{},{ref:a}),null)),{customize:V,bodyContent:H}},p=function(N){var j=e.renderItem,H=j===void 0?bSe:j,V=H(N),Z=xSe(V);return{renderedText:Z?V.value:V,renderedEl:Z?V.label:V,item:N}},v=ke([]),g=ke([]);Un(function(){var B=[],N=[];e.dataSource.forEach(function(j){var H=p(j),V=H.renderedText;if(o.value&&o.value.trim()&&!I(V,j))return null;B.push(j),N.push(H)}),v.value=B,g.value=N});var _=le(function(){var B=e.checkedKeys;return B.length===0?"none":v.value.every(function(N){return B.indexOf(N.key)>=0||!!N.disabled})?"all":"part"}),b=le(function(){return E_(v.value)}),S=function(N,j){return Array.from(new Set([].concat(Jt(N),Jt(e.checkedKeys)))).filter(function(H){return j.indexOf(H)===-1})},E=function(N){var j=N.disabled,H=N.prefixCls,V=_.value==="all",Z=M(Ks,{disabled:j,checked:V,indeterminate:_.value==="part",class:"".concat(H,"-checkbox"),onChange:function(){var q=b.value;e.onItemSelectAll(S(V?[]:q,V?e.checkedKeys:[]))}},null);return Z},P=function(N){var j,H=N.target.value;o.value=H,(j=e.handleFilter)===null||j===void 0||j.call(e,N)},k=function(N){var j;o.value="",(j=e.handleClear)===null||j===void 0||j.call(e,N)},I=function(N,j){var H=e.filterOption;return H?H(o.value,j):N.indexOf(o.value)>=0},D=function(N,j){var H=e.itemsUnit,V=e.itemUnit,Z=e.selectAllLabel;if(Z)return typeof Z=="function"?Z({selectedCount:N,totalCount:j}):Z;var re=j>1?H:V;return M(Kn,null,[(N>0?"".concat(N,"/"):"")+j,vo(" "),re])},L=function(N,j,H,V,Z,re){var q=Z?M("div",{class:"".concat(N,"-body-search-wrapper")},[M(fSe,{prefixCls:"".concat(N,"-search"),onChange:P,handleClear:k,placeholder:j,value:o.value,disabled:re},null)]):null,G,ae=$8(r),te=ae.onEvents,Q=f(V,R(R({},e),{},{filteredItems:v.value,filteredRenderItems:g.value,selectedKeys:H},te)),Y=Q.bodyContent,X=Q.customize;return X?G=M("div",{class:"".concat(N,"-body-customize-wrapper")},[Y]):G=v.value.length?Y:M("div",{class:"".concat(N,"-body-not-found")},[e.notFoundContent]),M("div",{class:Z?"".concat(N,"-body ").concat(N,"-body-with-search"):"".concat(N,"-body"),ref:l},[q,G])};return function(){var B,N,j,H=e.prefixCls,V=e.checkedKeys,Z=e.disabled,re=e.showSearch,q=e.searchPlaceholder,G=e.selectAll,ae=e.selectCurrent,te=e.selectInvert,Q=e.removeAll,Y=e.removeCurrent,X=e.renderList,ie=e.onItemSelectAll,he=e.onItemRemove,ce=e.showSelectAll,we=ce===void 0?!0:ce,be=e.showRemove,ve=e.pagination,ge=(B=i.footer)===null||B===void 0?void 0:B.call(i,R({},e)),Pe=mt(H,(N={},J(N,"".concat(H,"-with-pagination"),!!ve),J(N,"".concat(H,"-with-footer"),!!ge),N)),ye=L(H,q,V,X,re,Z),Ne=ge?M("div",{class:"".concat(H,"-footer")},[ge]):null,Re=!be&&!ve&&E({disabled:Z,prefixCls:H}),Ge=null;be?Ge=M(Ui,null,{default:function(){return[ve&&M(Ui.Item,{key:"removeCurrent",onClick:function(){var Ie=E_((a.value.items||[]).map(function(We){return We.item}));he==null||he(Ie)}},{default:function(){return[Y]}}),M(Ui.Item,{key:"removeAll",onClick:function(){he==null||he(b.value)}},{default:function(){return[Q]}})]}}):Ge=M(Ui,null,{default:function(){return[M(Ui.Item,{key:"selectAll",onClick:function(){var Ie=b.value;ie(S(Ie,[]))}},{default:function(){return[G]}}),ve&&M(Ui.Item,{onClick:function(){var Ie=E_((a.value.items||[]).map(function(We){return We.item}));ie(S(Ie,[]))}},{default:function(){return[ae]}}),M(Ui.Item,{key:"selectInvert",onClick:function(){var Ie;ve?Ie=E_((a.value.items||[]).map(function(xt){return xt.item})):Ie=b.value;var We=new Set(V),Qe=[],at=[];Ie.forEach(function(xt){We.has(xt)?at.push(xt):Qe.push(xt)}),ie(S(Qe,at))}},{default:function(){return[te]}})]}});var He=M(cu,{class:"".concat(H,"-header-dropdown"),overlay:Ge,disabled:Z},{default:function(){return[M(n0,null,null)]}});return M("div",{class:Pe,style:r.style},[M("div",{class:"".concat(H,"-header")},[we?M(Kn,null,[Re,He]):null,M("span",{class:"".concat(H,"-header-selected")},[M("span",null,[D(V.length,v.value.length)]),M("span",{class:"".concat(H,"-header-title")},[(j=i.titleText)===null||j===void 0?void 0:j.call(i)])])]),ye,Ne])}}});function pR(){}var BE=function(e){var n=e.disabled,r=e.moveToLeft,i=r===void 0?pR:r,o=e.moveToRight,l=o===void 0?pR:o,a=e.leftArrowText,f=a===void 0?"":a,p=e.rightArrowText,v=p===void 0?"":p,g=e.leftActive,_=e.rightActive,b=e.class,S=e.style,E=e.direction,P=e.oneWay;return M("div",{class:b,style:S},[M(Ma,{type:"primary",size:"small",disabled:n||!_,onClick:l,icon:M(E!=="rtl"?uc:vh,null,null)},{default:function(){return[v]}}),!P&&M(Ma,{type:"primary",size:"small",disabled:n||!g,onClick:i,icon:M(E!=="rtl"?vh:uc,null,null)},{default:function(){return[f]}})])};BE.displayName="Operation";BE.inheritAttrs=!1;const CSe=BE;var SSe=function(){return{id:String,prefixCls:String,dataSource:{type:Array,default:[]},disabled:{type:Boolean,default:void 0},targetKeys:{type:Array,default:void 0},selectedKeys:{type:Array,default:void 0},render:{type:Function},listStyle:{type:[Function,Object],default:function(){return{}}},operationStyle:{type:Object,default:void 0},titles:{type:Array},operations:{type:Array},showSearch:{type:Boolean,default:!1},filterOption:{type:Function},searchPlaceholder:String,notFoundContent:Te.any,locale:{type:Object,default:function(){return{}}},rowKey:{type:Function},showSelectAll:{type:Boolean,default:void 0},selectAllLabels:{type:Array},children:{type:Function},oneWay:{type:Boolean,default:void 0},pagination:{type:[Object,Boolean],default:void 0},onChange:Function,onSelectChange:Function,onSearch:Function,onScroll:Function,"onUpdate:targetKeys":Function,"onUpdate:selectedKeys":Function}},TSe=lt({compatConfig:{MODE:3},name:"ATransfer",inheritAttrs:!1,props:SSe(),slots:["leftTitle","rightTitle","children","render","notFoundContent","leftSelectAllLabel","rightSelectAllLabel","footer"],setup:function(e,n){var r=n.emit,i=n.attrs,o=n.slots,l=n.expose,a=fn("transfer",e),f=a.configProvider,p=a.prefixCls,v=a.direction,g=ke([]),_=ke([]),b=_a();Lt(function(){return e.selectedKeys},function(){var be,ve;g.value=((be=e.selectedKeys)===null||be===void 0?void 0:be.filter(function(ge){return e.targetKeys.indexOf(ge)===-1}))||[],_.value=((ve=e.selectedKeys)===null||ve===void 0?void 0:ve.filter(function(ge){return e.targetKeys.indexOf(ge)>-1}))||[]},{immediate:!0});var S=function(ve,ge){var Pe={notFoundContent:ge("Transfer")},ye=vi(o,e,"notFoundContent");return ye&&(Pe.notFoundContent=ye),e.searchPlaceholder!==void 0&&(Pe.searchPlaceholder=e.searchPlaceholder),R(R(R({},ve),Pe),e.locale)},E=function(ve){var ge=e.targetKeys,Pe=ge===void 0?[]:ge,ye=e.dataSource,Ne=ye===void 0?[]:ye,Re=ve==="right"?g.value:_.value,Ge=Re.filter(function(pe){return!Ne.some(function(Ie){return!!(pe===Ie.key&&Ie.disabled)})}),He=ve==="right"?Ge.concat(Pe):Pe.filter(function(pe){return Ge.indexOf(pe)===-1}),Ee=ve==="right"?"left":"right";ve==="right"?g.value=[]:_.value=[],r("update:targetKeys",He),B(Ee,[]),r("change",He,ve,Ge),b.onFieldChange()},P=function(){E("left")},k=function(){E("right")},I=function(ve,ge){B(ve,ge)},D=function(ve){return I("left",ve)},L=function(ve){return I("right",ve)},B=function(ve,ge){ve==="left"?(e.selectedKeys||(g.value=ge),r("update:selectedKeys",[].concat(Jt(ge),Jt(_.value))),r("selectChange",ge,Gn(_.value))):(e.selectedKeys||(_.value=ge),r("update:selectedKeys",[].concat(Jt(ge),Jt(g.value))),r("selectChange",Gn(g.value),ge))},N=function(ve,ge){var Pe=ge.target.value;r("search",ve,Pe)},j=function(ve){N("left",ve)},H=function(ve){N("right",ve)},V=function(ve){r("search",ve,"")},Z=function(){V("left")},re=function(){V("right")},q=function(ve,ge,Pe){var ye=Jt(ve==="left"?g.value:_.value),Ne=ye.indexOf(ge);Ne>-1&&ye.splice(Ne,1),Pe&&ye.push(ge),B(ve,ye)},G=function(ve,ge){return q("left",ve,ge)},ae=function(ve,ge){return q("right",ve,ge)},te=function(ve){var ge=e.targetKeys,Pe=ge===void 0?[]:ge,ye=Pe.filter(function(Ne){return!ve.includes(Ne)});r("update:targetKeys",ye),r("change",ye,"left",Jt(ve))},Q=function(ve,ge){r("scroll",ve,ge)},Y=function(ve){Q("left",ve)},X=function(ve){Q("right",ve)},ie=function(ve,ge){return typeof ve=="function"?ve({direction:ge}):ve},he=ke([]),ce=ke([]);Un(function(){var be=e.dataSource,ve=e.rowKey,ge=e.targetKeys,Pe=ge===void 0?[]:ge,ye=[],Ne=new Array(Pe.length);be.forEach(function(Re){ve&&(Re.key=ve(Re));var Ge=Pe.indexOf(Re.key);Ge!==-1?Ne[Ge]=Re:ye.push(Re)}),he.value=ye,ce.value=Ne}),l({handleSelectChange:B});var we=function(ve){var ge,Pe,ye,Ne,Re,Ge,He,Ee=e.disabled,pe=e.operations,Ie=pe===void 0?[]:pe,We=e.showSearch,Qe=e.listStyle,at=e.operationStyle,xt=e.filterOption,ot=e.showSelectAll,nt=e.selectAllLabels,Ze=nt===void 0?[]:nt,ht=e.oneWay,vt=e.pagination,Ct=e.id,Nt=Ct===void 0?b.id.value:Ct,tn=i.class,rn=i.style,Pt=o.children,yt=!Pt&&vt,Bt=f.renderEmpty,Ut=S(ve,Bt),St=o.footer,ft=e.render||o.render,gt=_.value.length>0,_t=g.value.length>0,Ft=mt(p.value,tn,(ge={},J(ge,"".concat(p.value,"-disabled"),Ee),J(ge,"".concat(p.value,"-customize-list"),!!Pt),ge)),Gt=e.titles,Zt=(Pe=(ye=Gt&&Gt[0])!==null&&ye!==void 0?ye:(Ne=o.leftTitle)===null||Ne===void 0?void 0:Ne.call(o))!==null&&Pe!==void 0?Pe:(Ut.titles||["",""])[0],Me=(Re=(Ge=Gt&&Gt[1])!==null&&Ge!==void 0?Ge:(He=o.rightTitle)===null||He===void 0?void 0:He.call(o))!==null&&Re!==void 0?Re:(Ut.titles||["",""])[1];return M("div",{class:Ft,style:rn,id:Nt},[M(hR,R({key:"leftList",prefixCls:"".concat(p.value,"-list"),dataSource:he.value,filterOption:xt,style:ie(Qe,"left"),checkedKeys:g.value,handleFilter:j,handleClear:Z,onItemSelect:G,onItemSelectAll:D,renderItem:ft,showSearch:We,renderList:Pt,onScroll:Y,disabled:Ee,direction:v.value==="rtl"?"right":"left",showSelectAll:ot,selectAllLabel:Ze[0]||o.leftSelectAllLabel,pagination:yt},Ut),{titleText:function(){return Zt},footer:St}),M(CSe,{key:"operation",class:"".concat(p.value,"-operation"),rightActive:_t,rightArrowText:Ie[0],moveToRight:k,leftActive:gt,leftArrowText:Ie[1],moveToLeft:P,style:at,disabled:Ee,direction:v.value,oneWay:ht},null),M(hR,R({key:"rightList",prefixCls:"".concat(p.value,"-list"),dataSource:ce.value,filterOption:xt,style:ie(Qe,"right"),checkedKeys:_.value,handleFilter:H,handleClear:re,onItemSelect:ae,onItemSelectAll:L,onItemRemove:te,renderItem:ft,showSearch:We,renderList:Pt,onScroll:X,disabled:Ee,direction:v.value==="rtl"?"left":"right",showSelectAll:ot,selectAllLabel:Ze[1]||o.rightSelectAllLabel,showRemove:ht,pagination:yt},Ut),{titleText:function(){return Me},footer:St})])};return function(){return M(jv,{componentName:"Transfer",defaultLocale:Sl.Transfer,children:we},null)}}});const ESe=Ki(TSe);function PSe(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}function MSe(t){var e=t||{},n=e.label,r=e.value,i=e.children,o=r||"value";return{_title:n?[n]:["title","label"],value:o,key:o,children:i||"children"}}function P6(t){return t.disabled||t.disableCheckbox||t.checkable===!1}function kSe(t,e){var n=[];function r(i){i.forEach(function(o){n.push(o[e.value]);var l=o[e.children];l&&r(l)})}return r(t),n}function vR(t){return t==null}var gH=Symbol("TreeSelectContextPropsKey");function ASe(t){return Xn(gH,t)}function ISe(){return Hn(gH,{})}var OSe={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0};const DSe=lt({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,slots:["notFoundContent","menuItemSelectedIcon"],setup:function(e,n){var r=n.slots,i=n.expose,o=l0(),l=P2(),a=ISe(),f=ke(),p=_T(function(){return a.treeData},[function(){return o.open},function(){return a.treeData}],function(N){return N[0]}),v=le(function(){var N=l.checkable,j=l.halfCheckedKeys,H=l.checkedKeys;return N?{checked:H,halfChecked:j}:null});Lt(function(){return o.open},function(){Yn(function(){if(o.open&&!o.multiple&&l.checkedKeys.length){var N;(N=f.value)===null||N===void 0||N.scrollTo({key:l.checkedKeys[0]})}})},{immediate:!0,flush:"post"});var g=le(function(){return String(o.searchValue).toLowerCase()}),_=function(j){return g.value?String(j[l.treeNodeFilterProp]).toLowerCase().includes(g.value):!1},b=fr(l.treeDefaultExpandedKeys),S=fr(null);Lt(function(){return o.searchValue},function(){o.searchValue&&(S.value=kSe(Gn(a.treeData),Gn(a.fieldNames)))},{immediate:!0});var E=le(function(){return l.treeExpandedKeys?l.treeExpandedKeys.slice():o.searchValue?S.value:b.value}),P=function(j){var H;b.value=j,S.value=j,(H=l.onTreeExpand)===null||H===void 0||H.call(l,j)},k=function(j){j.preventDefault()},I=function(j,H){var V,Z=H.node,re=l.checkable,q=l.checkedKeys;if(!(re&&P6(Z))&&((V=a.onSelect)===null||V===void 0||V.call(a,Z.key,{selected:!q.includes(Z.key)}),!o.multiple)){var G;(G=o.toggleOpen)===null||G===void 0||G.call(o,!1)}},D=ke(null),L=le(function(){return l.keyEntities[D.value]}),B=function(j){D.value=j};return i({scrollTo:function(){for(var j,H,V=arguments.length,Z=new Array(V),re=0;re<V;re++)Z[re]=arguments[re];return(j=f.value)===null||j===void 0||(H=j.scrollTo)===null||H===void 0?void 0:H.call.apply(H,[j].concat(Z))},onKeydown:function(j){var H,V=j.which;switch(V){case qt.UP:case qt.DOWN:case qt.LEFT:case qt.RIGHT:(H=f.value)===null||H===void 0||H.onKeydown(j);break;case qt.ENTER:{if(L.value){var Z=L.value.node||{},re=Z.selectable,q=Z.value;re!==!1&&I(null,{node:{key:D.value},selected:!l.checkedKeys.includes(q)})}break}case qt.ESC:o.toggleOpen(!1)}},onKeyup:function(){}}),function(){var N,j=o.prefixCls,H=o.multiple,V=o.searchValue,Z=o.open,re=o.notFoundContent,q=re===void 0?(N=r.notFoundContent)===null||N===void 0?void 0:N.call(r):re,G=a.listHeight,ae=a.listItemHeight,te=a.virtual,Q=l.checkable,Y=l.treeDefaultExpandAll,X=l.treeIcon,ie=l.showTreeIcon,he=l.switcherIcon,ce=l.treeLine,we=l.loadData,be=l.treeLoadedKeys,ve=l.treeMotion,ge=l.onTreeLoad,Pe=l.checkedKeys;if(p.value.length===0)return M("div",{role:"listbox",class:"".concat(j,"-empty"),onMousedown:k},[q]);var ye={fieldNames:a.fieldNames};return be&&(ye.loadedKeys=be),E.value&&(ye.expandedKeys=E.value),M("div",{onMousedown:k},[L.value&&Z&&M("span",{style:OSe,"aria-live":"assertive"},[L.value.node.value]),M(lH,R(R({ref:f,focusable:!1,prefixCls:"".concat(j,"-tree"),treeData:p.value,height:G,itemHeight:ae,virtual:te,multiple:H,icon:X,showIcon:ie,switcherIcon:he,showLine:ce,loadData:V?null:we,motion:ve,activeKey:D.value,checkable:Q,checkStrictly:!0,checkedKeys:v.value,selectedKeys:Q?[]:Pe,defaultExpandAll:Y},ye),{},{onActiveChange:B,onSelect:I,onCheck:I,onExpand:P,onLoad:ge,filterTreeNode:_}),R(R({},r),{},{checkable:l.customSlots.treeCheckable}))])}}});var RSe="SHOW_ALL",yH="SHOW_PARENT",zE="SHOW_CHILD";function mR(t,e,n,r){var i=new Set(t);return e===zE?t.filter(function(o){var l=n[o];return!(l&&l.children&&l.children.some(function(a){var f=a.node;return i.has(f[r.value])})&&l.children.every(function(a){var f=a.node;return P6(f)||i.has(f[r.value])}))}):e===yH?t.filter(function(o){var l=n[o],a=l?l.parent:null;return!(a&&!P6(a.node)&&i.has(a.key))}):t}var iw=function(){return null};iw.inheritAttrs=!1;iw.displayName="ATreeSelectNode";iw.isTreeSelectNode=!0;const $E=iw;var LSe=["title","switcherIcon"];function FSe(t){return t&&t.type&&t.type.isTreeSelectNode}function NSe(t){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return ta(n).map(function(r){var i,o,l;if(!FSe(r))return null;for(var a=r.children||{},f=r.key,p={},v=0,g=Object.entries(r.props);v<g.length;v++){var _=Wt(g[v],2),b=_[0],S=_[1];p[Qo(b)]=S}var E=p.isLeaf,P=p.checkable,k=p.selectable,I=p.disabled,D=p.disableCheckbox,L={isLeaf:E||E===""||void 0,checkable:P||P===""||void 0,selectable:k||k===""||void 0,disabled:I||I===""||void 0,disableCheckbox:D||D===""||void 0},B=R(R({},p),L),N=p.title,j=N===void 0?(i=a.title)===null||i===void 0?void 0:i.call(a,B):N,H=p.switcherIcon,V=H===void 0?(o=a.switcherIcon)===null||o===void 0?void 0:o.call(a,B):H,Z=kn(p,LSe),re=(l=a.default)===null||l===void 0?void 0:l.call(a),q=R(R({},Z),{},{title:j,switcherIcon:V,key:f,isLeaf:E},L),G=e(re);return G.length&&(q.children=G),q})}return e(t)}function M6(t){if(!t)return t;var e=R({},t);return"props"in e||Object.defineProperty(e,"props",{get:function(){return e}}),e}function BSe(t,e,n,r,i,o){var l=null,a=null;function f(){function p(v){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",_=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return v.map(function(b,S){var E="".concat(g,"-").concat(S),P=b[o.value],k=n.includes(P),I=p(b[o.children]||[],E,k),D=M($E,b,{default:function(){return[I.map(function(N){return N.node})]}});if(e===P&&(l=D),k){var L={pos:E,node:D,children:I};return _||a.push(L),L}return null}).filter(function(b){return b})}a||(a=[],p(r),a.sort(function(v,g){var _=v.node.props.value,b=g.node.props.value,S=n.indexOf(_),E=n.indexOf(b);return S-E}))}Object.defineProperty(t,"triggerNode",{get:function(){return f(),l}}),Object.defineProperty(t,"allCheckedNodes",{get:function(){return f(),i?a:a.map(function(v){var g=v.node;return g})}})}function zSe(t,e){var n=e.id,r=e.pId,i=e.rootPId,o={},l=[],a=t.map(function(f){var p=R({},f),v=p[n];return o[v]=p,p.key=p.key||v,p});return a.forEach(function(f){var p=f[r],v=o[p];v&&(v.children=v.children||[],v.children.push(f)),(p===i||!v&&i===null)&&l.push(f)}),l}function $Se(t,e,n){var r=fr();return Lt([n,t,e],function(){var i=n.value;t.value?r.value=n.value?zSe(Gn(t.value),R({id:"id",pId:"pId",rootPId:null},i!==!0?i:{})):Gn(t.value).slice():r.value=NSe(Gn(e.value))},{immediate:!0,deep:!0}),r}const jSe=function(t){var e=fr({valueLabels:new Map}),n=fr();Lt(t,function(){n.value=Gn(t.value)},{immediate:!0});var r=le(function(){var i=e.value.valueLabels,o=new Map,l=n.value.map(function(a){var f,p=a.value,v=(f=a.label)!==null&&f!==void 0?f:i.get(p);return o.set(p,v),R(R({},a),{},{label:v})});return e.value.valueLabels=o,l});return[r]},VSe=function(t,e){var n=fr(new Map),r=fr({});return Un(function(){var i=e.value,o=h0(t.value,{fieldNames:i,initWrapper:function(a){return R(R({},a),{},{valueEntities:new Map})},processEntity:function(a,f){var p=a.node[i.value];f.valueEntities.set(p,a)}});n.value=o.valueEntities,r.value=o.keyEntities}),{valueEntities:n,keyEntities:r}},USe=function(t,e,n,r,i,o){var l=fr([]),a=fr([]);return Un(function(){var f=t.value.map(function(_){var b=_.value;return b}),p=e.value.map(function(_){var b=_.value;return b}),v=f.filter(function(_){return!r.value[_]});if(n.value){var g=Hs(f,!0,r.value,i.value,o.value);f=g.checkedKeys,p=g.halfCheckedKeys}l.value=Array.from(new Set([].concat(Jt(v),Jt(f)))),a.value=p}),[l,a]},HSe=function(t,e,n){var r=n.treeNodeFilterProp,i=n.filterTreeNode,o=n.fieldNames;return le(function(){var l=o.value.children,a=e.value,f=r==null?void 0:r.value;if(!a||i.value===!1)return t.value;var p;if(typeof i.value=="function")p=i.value;else{var v=a.toUpperCase();p=function(b,S){var E=S[f];return String(E).toUpperCase().includes(v)}}function g(_){for(var b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=[],E=0,P=_.length;E<P;E++){var k=_[E],I=k[l],D=b||p(a,M6(k)),L=g(I||[],D);(D||L.length)&&S.push(R(R({},k),{},J({},l,L)))}return S}return g(t.value)})};function _H(){return R(R({},Qn(M2(),["mode"])),{},{prefixCls:String,id:String,value:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array]},onChange:{type:Function},searchValue:String,inputValue:String,onSearch:{type:Function},autoClearSearchValue:{type:Boolean,default:void 0},filterTreeNode:{type:[Boolean,Function],default:void 0},treeNodeFilterProp:String,onSelect:Function,onDeselect:Function,showCheckedStrategy:{type:String},treeNodeLabelProp:String,fieldNames:{type:Object},multiple:{type:Boolean,default:void 0},treeCheckable:{type:Boolean,default:void 0},treeCheckStrictly:{type:Boolean,default:void 0},labelInValue:{type:Boolean,default:void 0},treeData:{type:Array},treeDataSimpleMode:{type:[Boolean,Object],default:void 0},loadData:{type:Function},treeLoadedKeys:{type:Array},onTreeLoad:{type:Function},treeDefaultExpandAll:{type:Boolean,default:void 0},treeExpandedKeys:{type:Array},treeDefaultExpandedKeys:{type:Array},onTreeExpand:{type:Function},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,onDropdownVisibleChange:{type:Function},treeLine:{type:[Boolean,Object],default:void 0},treeIcon:Te.any,showTreeIcon:{type:Boolean,default:void 0},switcherIcon:Te.any,treeMotion:Te.any,children:Array,showArrow:{type:Boolean,default:void 0},showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},placeholder:Te.any,maxTagPlaceholder:{type:Function},dropdownPopupAlign:Te.any,customSlots:Object})}function KSe(t){return!t||dn(t)!=="object"}const WSe=lt({compatConfig:{MODE:3},name:"TreeSelect",inheritAttrs:!1,props:lr(_H(),{treeNodeFilterProp:"value",autoClearSearchValue:!0,showCheckedStrategy:zE,listHeight:200,listItemHeight:20,prefixCls:"vc-tree-select"}),setup:function(e,n){var r=n.attrs,i=n.expose,o=n.slots,l=bT(An(e,"id")),a=le(function(){return e.treeCheckable&&!e.treeCheckStrictly}),f=le(function(){return e.treeCheckable||e.treeCheckStrictly}),p=le(function(){return e.treeCheckStrictly||e.labelInValue}),v=le(function(){return f.value||e.multiple}),g=le(function(){return MSe(e.fieldNames)}),_=Ii("",{value:le(function(){return e.searchValue!==void 0?e.searchValue:e.inputValue}),postState:function(ft){return ft||""}}),b=Wt(_,2),S=b[0],E=b[1],P=function(ft){var gt;E(ft),(gt=e.onSearch)===null||gt===void 0||gt.call(e,ft)},k=$Se(An(e,"treeData"),An(e,"children"),An(e,"treeDataSimpleMode")),I=VSe(k,g),D=I.keyEntities,L=I.valueEntities,B=function(ft){var gt=[],_t=[];return ft.forEach(function(Ft){L.value.has(Ft)?_t.push(Ft):gt.push(Ft)}),{missingRawValues:gt,existRawValues:_t}},N=HSe(k,S,{fieldNames:g,treeNodeFilterProp:An(e,"treeNodeFilterProp"),filterTreeNode:An(e,"filterTreeNode")}),j=function(ft){if(ft){if(e.treeNodeLabelProp)return ft[e.treeNodeLabelProp];for(var gt=g.value._title,_t=0;_t<gt.length;_t+=1){var Ft=ft[gt[_t]];if(Ft!==void 0)return Ft}}},H=function(ft){var gt=PSe(ft);return gt.map(function(_t){return KSe(_t)?{value:_t}:_t})},V=function(ft){var gt=H(ft);return gt.map(function(_t){var Ft=_t.label,Gt=_t.value,Zt=_t.halfChecked,Me,de=L.value.get(Gt);if(de){var _e;Ft=(_e=Ft)!==null&&_e!==void 0?_e:j(de.node),Me=de.node.disabled}return{label:Ft,value:Gt,halfChecked:Zt,disabled:Me}})},Z=Ii(e.defaultValue,{value:An(e,"value")}),re=Wt(Z,2),q=re[0],G=re[1],ae=le(function(){return H(q.value)}),te=fr([]),Q=fr([]);Un(function(){var St=[],ft=[];ae.value.forEach(function(gt){gt.halfChecked?ft.push(gt):St.push(gt)}),te.value=St,Q.value=ft});var Y=le(function(){return te.value.map(function(St){return St.value})}),X=H2(D),ie=X.maxLevel,he=X.levelEntities,ce=USe(te,Q,a,D,ie,he),we=Wt(ce,2),be=we[0],ve=we[1],ge=le(function(){var St=mR(be.value,e.showCheckedStrategy,D.value,g.value),ft=St.map(function(Gt){var Zt,Me,de;return(Zt=(Me=D.value[Gt])===null||Me===void 0||(de=Me.node)===null||de===void 0?void 0:de[g.value.value])!==null&&Zt!==void 0?Zt:Gt}),gt=ft.map(function(Gt){var Zt=te.value.find(function(Me){return Me.value===Gt});return{value:Gt,label:Zt==null?void 0:Zt.label}}),_t=V(gt),Ft=_t[0];return!v.value&&Ft&&vR(Ft.value)&&vR(Ft.label)?[]:_t.map(function(Gt){var Zt;return R(R({},Gt),{},{label:(Zt=Gt.label)!==null&&Zt!==void 0?Zt:Gt.value})})}),Pe=jSe(ge),ye=Wt(Pe,1),Ne=ye[0],Re=function(ft,gt,_t){var Ft=V(ft);if(G(Ft),e.autoClearSearchValue&&E(""),e.onChange){var Gt=ft;if(a.value){var Zt=mR(ft,e.showCheckedStrategy,D.value,g.value);Gt=Zt.map(function(pt){var kt=L.value.get(pt);return kt?kt.node[g.value.value]:pt})}var Me=gt||{triggerValue:void 0,selected:void 0},de=Me.triggerValue,_e=Me.selected,De=Gt;if(e.treeCheckStrictly){var $e=Q.value.filter(function(pt){return!Gt.includes(pt.value)});De=[].concat(Jt(De),Jt($e))}var Ke=V(De),et={preValue:te.value,triggerValue:de},rt=!0;(e.treeCheckStrictly||_t==="selection"&&!_e)&&(rt=!1),BSe(et,de,ft,k.value,rt,g.value),f.value?et.checked=_e:et.selected=_e;var Ye=p.value?Ke:Ke.map(function(pt){return pt.value});e.onChange(v.value?Ye:Ye[0],p.value?null:Ke.map(function(pt){return pt.label}),et)}},Ge=function(ft,gt){var _t,Ft=gt.selected,Gt=gt.source,Zt=Gn(D.value),Me=Gn(L.value),de=Zt[ft],_e=de==null?void 0:de.node,De=(_t=_e==null?void 0:_e[g.value.value])!==null&&_t!==void 0?_t:ft;if(!v.value)Re([De],{selected:!0,triggerValue:De},"option");else{var $e=Ft?[].concat(Jt(Y.value),[De]):be.value.filter(function(pn){return pn!==De});if(a.value){var Ke=B($e),et=Ke.missingRawValues,rt=Ke.existRawValues,Ye=rt.map(function(pn){return Me.get(pn).key}),pt;if(Ft){var kt=Hs(Ye,!0,Zt,ie.value,he.value);pt=kt.checkedKeys}else{var Ht=Hs(Ye,{checked:!1,halfCheckedKeys:ve.value},Zt,ie.value,he.value);pt=Ht.checkedKeys}$e=[].concat(Jt(et),Jt(pt.map(function(pn){return Zt[pn].node[g.value.value]})))}Re($e,{selected:Ft,triggerValue:De},Gt||"option")}if(Ft||!v.value){var Ot;(Ot=e.onSelect)===null||Ot===void 0||Ot.call(e,De,M6(_e))}else{var hn;(hn=e.onDeselect)===null||hn===void 0||hn.call(e,De,M6(_e))}},He=function(ft){if(e.onDropdownVisibleChange){var gt={};Object.defineProperty(gt,"documentClickClose",{get:function(){return!1}}),e.onDropdownVisibleChange(ft,gt)}},Ee=function(ft,gt){var _t=ft.map(function(Ft){return Ft.value});if(gt.type==="clear"){Re(_t,{},"selection");return}gt.values.length&&Ge(gt.values[0].value,{selected:!1,source:"selection"})},pe=Qp(e),Ie=pe.treeNodeFilterProp,We=pe.loadData,Qe=pe.treeLoadedKeys,at=pe.onTreeLoad,xt=pe.treeDefaultExpandAll,ot=pe.treeExpandedKeys,nt=pe.treeDefaultExpandedKeys,Ze=pe.onTreeExpand,ht=pe.virtual,vt=pe.listHeight,Ct=pe.listItemHeight,Nt=pe.treeLine,tn=pe.treeIcon,rn=pe.showTreeIcon,Pt=pe.switcherIcon,yt=pe.treeMotion,Bt=pe.customSlots;Zde(ox({checkable:f,loadData:We,treeLoadedKeys:Qe,onTreeLoad:at,checkedKeys:be,halfCheckedKeys:ve,treeDefaultExpandAll:xt,treeExpandedKeys:ot,treeDefaultExpandedKeys:nt,onTreeExpand:Ze,treeIcon:tn,treeMotion:yt,showTreeIcon:rn,switcherIcon:Pt,treeLine:Nt,treeNodeFilterProp:Ie,keyEntities:D,customSlots:Bt})),ASe(ox({virtual:ht,listHeight:vt,listItemHeight:Ct,treeData:N,fieldNames:g,onSelect:Ge}));var Ut=ke();return i({focus:function(){var ft;(ft=Ut.value)===null||ft===void 0||ft.focus()},blur:function(){var ft;(ft=Ut.value)===null||ft===void 0||ft.blur()},scrollTo:function(ft){var gt;(gt=Ut.value)===null||gt===void 0||gt.scrollTo(ft)}}),function(){var St,ft=Qn(e,["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","virtual","listHeight","listItemHeight","onDropdownVisibleChange","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"]);return M(yT,R(R(R({ref:Ut},r),ft),{},{id:l,prefixCls:e.prefixCls,mode:v.value?"multiple":void 0,displayValues:Ne.value,onDisplayValuesChange:Ee,searchValue:S.value,onSearch:P,OptionList:DSe,emptyOptions:!k.value.length,onDropdownVisibleChange:He,tagRender:e.tagRender||o.tagRender,dropdownMatchSelectWidth:(St=e.dropdownMatchSelectWidth)!==null&&St!==void 0?St:!0}),o)}}});var gR=function(e,n,r){return r!==void 0?r:"".concat(e,"-").concat(n)};function GSe(){return R(R({},Qn(_H(),["showTreeIcon","treeMotion","inputIcon","getInputElement","treeLine","customSlots"])),{},{suffixIcon:Te.any,size:{type:String},bordered:{type:Boolean,default:void 0},treeLine:{type:[Boolean,Object],default:void 0},replaceFields:{type:Object},"onUpdate:value":{type:Function},"onUpdate:treeExpandedKeys":{type:Function},"onUpdate:searchValue":{type:Function}})}var y4=lt({compatConfig:{MODE:3},name:"ATreeSelect",inheritAttrs:!1,props:lr(GSe(),{choiceTransitionName:"",listHeight:256,treeIcon:!1,listItemHeight:26,bordered:!0}),slots:["title","titleRender","placeholder","maxTagPlaceholder","treeIcon","switcherIcon","notFoundContent"],setup:function(e,n){var r=n.attrs,i=n.slots,o=n.expose,l=n.emit;e.treeData===void 0&&i.default,Un(function(){Br(e.multiple!==!1||!e.treeCheckable,"TreeSelect","`multiple` will always be `true` when `treeCheckable` is true"),Br(e.replaceFields===void 0,"TreeSelect","`replaceFields` is deprecated, please use fieldNames instead")});var a=_a(),f=fn("select",e),p=f.prefixCls,v=f.renderEmpty,g=f.direction,_=f.virtual,b=f.dropdownMatchSelectWidth,S=f.size,E=f.getPopupContainer,P=f.getPrefixCls,k=le(function(){return P()}),I=le(function(){return gR(k.value,"slide-up",e.transitionName)}),D=le(function(){return gR(k.value,"",e.choiceTransitionName)}),L=le(function(){return P("select-tree",e.prefixCls)}),B=le(function(){return P("tree-select",e.prefixCls)}),N=le(function(){return mt(e.dropdownClassName,"".concat(B.value,"-dropdown"),J({},"".concat(B.value,"-dropdown-rtl"),g.value==="rtl"))}),j=le(function(){return!!(e.treeCheckable||e.multiple)}),H=ke();o({focus:function(){var ae,te;(ae=(te=H.value).focus)===null||ae===void 0||ae.call(te)},blur:function(){var ae,te;(ae=(te=H.value).blur)===null||ae===void 0||ae.call(te)}});var V=function(){for(var ae=arguments.length,te=new Array(ae),Q=0;Q<ae;Q++)te[Q]=arguments[Q];l("update:value",te[0]),l.apply(void 0,["change"].concat(te)),a.onFieldChange()},Z=function(ae){l("update:treeExpandedKeys",ae),l("treeExpand",ae)},re=function(ae){l("update:searchValue",ae),l("search",ae)},q=function(ae){l("blur",ae),a.onFieldBlur()};return function(){var G,ae,te,Q=e.notFoundContent,Y=Q===void 0?(G=i.notFoundContent)===null||G===void 0?void 0:G.call(i):Q,X=e.prefixCls,ie=e.bordered,he=e.listHeight,ce=e.listItemHeight,we=e.multiple,be=e.treeIcon,ve=e.treeLine,ge=e.switcherIcon,Pe=ge===void 0?(ae=i.switcherIcon)===null||ae===void 0?void 0:ae.call(i):ge,ye=e.fieldNames,Ne=ye===void 0?e.replaceFields:ye,Re=e.id,Ge=Re===void 0?a.id.value:Re,He=CT(R(R({},e),{},{multiple:j.value,prefixCls:p.value}),i),Ee=He.suffixIcon,pe=He.removeIcon,Ie=He.clearIcon,We;Y!==void 0?We=Y:We=v.value("Select");var Qe=Qn(e,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon","bordered","onUpdate:value","onUpdate:treeExpandedKeys","onUpdate:searchValue"]),at=mt(!X&&B.value,(te={},J(te,"".concat(p.value,"-lg"),S.value==="large"),J(te,"".concat(p.value,"-sm"),S.value==="small"),J(te,"".concat(p.value,"-rtl"),g.value==="rtl"),J(te,"".concat(p.value,"-borderless"),!ie),te),r.class),xt={};return e.treeData===void 0&&i.default&&(xt.children=Wr(i.default())),M(WSe,R(R(R(R({},r),Qe),{},{virtual:_.value,dropdownMatchSelectWidth:b.value,id:Ge,fieldNames:Ne,ref:H,prefixCls:p.value,class:at,listHeight:he,listItemHeight:ce,treeLine:!!ve,inputIcon:Ee,multiple:we,removeIcon:pe,clearIcon:Ie,switcherIcon:function(nt){return uH(L.value,Pe,ve,nt)},showTreeIcon:be,notFoundContent:We,getPopupContainer:E.value,treeMotion:null,dropdownClassName:N.value,choiceTransitionName:D.value,onChange:V,onBlur:q,onSearch:re,onTreeExpand:Z},xt),{},{transitionName:I.value,customSlots:R(R({},i),{},{treeCheckable:function(){return M("span",{class:"".concat(p.value,"-tree-checkbox-inner")},null)}}),maxTagPlaceholder:e.maxTagPlaceholder||i.maxTagPlaceholder}),R(R({},i),{},{treeCheckable:function(){return M("span",{class:"".concat(p.value,"-tree-checkbox-inner")},null)}}))}}}),k6=$E;const qSe=yr(y4,{TreeNode:$E,SHOW_ALL:RSe,SHOW_PARENT:yH,SHOW_CHILD:zE,install:function(e){return e.component(y4.name,y4),e.component(k6.displayName,k6),e}});var _4=function(){return{format:String,showNow:{type:Boolean,default:void 0},showHour:{type:Boolean,default:void 0},showMinute:{type:Boolean,default:void 0},showSecond:{type:Boolean,default:void 0},use12Hours:{type:Boolean,default:void 0},hourStep:Number,minuteStep:Number,secondStep:Number,hideDisabledOptions:{type:Boolean,default:void 0},popupClassName:String}};function YSe(t){var e=UV(t,R(R({},_4()),{},{order:{type:Boolean,default:!0}})),n=e.TimePicker,r=e.RangePicker,i=lt({name:"ATimePicker",inheritAttrs:!1,props:R(R(R(R({},Ax()),$V()),_4()),{},{addon:{type:Function}}),slot:["addon","renderExtraFooter","suffixIcon","clearIcon"],setup:function(a,f){var p=f.slots,v=f.expose,g=f.emit,_=f.attrs,b=_a();Br(!(p.addon||a.addon),"TimePicker","`addon` is deprecated. Please use `v-slot:renderExtraFooter` instead.");var S=ke();v({focus:function(){var B;(B=S.value)===null||B===void 0||B.focus()},blur:function(){var B;(B=S.value)===null||B===void 0||B.blur()}});var E=function(B,N){g("update:value",B),g("change",B,N),b.onFieldChange()},P=function(B){g("update:open",B),g("openChange",B)},k=function(B){g("focus",B)},I=function(B){g("blur",B),b.onFieldBlur()},D=function(B){g("ok",B)};return function(){var L=a.id,B=L===void 0?b.id.value:L;return M(n,R(R(R({},_),Qn(a,["onUpdate:value","onUpdate:open"])),{},{id:B,dropdownClassName:a.popupClassName,mode:void 0,ref:S,renderExtraFooter:a.addon||p.addon||a.renderExtraFooter||p.renderExtraFooter,onChange:E,onOpenChange:P,onFocus:k,onBlur:I,onOk:D}),p)}}}),o=lt({name:"ATimeRangePicker",inheritAttrs:!1,props:R(R(R(R({},Ax()),jV()),_4()),{},{order:{type:Boolean,default:!0}}),slot:["renderExtraFooter","suffixIcon","clearIcon"],setup:function(a,f){var p=f.slots,v=f.expose,g=f.emit,_=f.attrs,b=ke(),S=_a();v({focus:function(){var j;(j=b.value)===null||j===void 0||j.focus()},blur:function(){var j;(j=b.value)===null||j===void 0||j.blur()}});var E=function(j,H){g("update:value",j),g("change",j,H),S.onFieldChange()},P=function(j){g("update:open",j),g("openChange",j)},k=function(j){g("focus",j)},I=function(j){g("blur",j),S.onFieldBlur()},D=function(j,H){g("panelChange",j,H)},L=function(j){g("ok",j)},B=function(j,H,V){g("calendarChange",j,H,V)};return function(){var N=a.id,j=N===void 0?S.id.value:N;return M(r,R(R(R({},_),Qn(a,["onUpdate:open","onUpdate:value"])),{},{id:j,dropdownClassName:a.popupClassName,picker:"time",mode:void 0,ref:b,onChange:E,onOpenChange:P,onFocus:k,onBlur:I,onPanelChange:D,onOk:L,onCalendarChange:B}),p)}}});return{TimePicker:i,TimeRangePicker:o}}var bH=YSe(OT),P_=bH.TimePicker,Tb=bH.TimeRangePicker;const XSe=yr(P_,{TimePicker:P_,TimeRangePicker:Tb,install:function(e){return e.component(P_.name,P_),e.component(Tb.name,Tb),e}});var ZSe=function(){return{prefixCls:String,color:String,dot:Te.any,pending:{type:Boolean,default:void 0},position:Te.oneOf(Di("left","right","")).def(""),label:Te.any}};const K1=lt({compatConfig:{MODE:3},name:"ATimelineItem",props:lr(ZSe(),{color:"blue",pending:!1}),slots:["dot","label"],setup:function(e,n){var r=n.slots,i=fn("timeline",e),o=i.prefixCls;return function(){var l,a,f,p,v,g=e.color,_=g===void 0?"":g,b=e.pending,S=e.label,E=S===void 0?(l=r.label)===null||l===void 0?void 0:l.call(r):S,P=e.dot,k=P===void 0?(a=r.dot)===null||a===void 0?void 0:a.call(r):P,I=mt((f={},J(f,"".concat(o.value,"-item"),!0),J(f,"".concat(o.value,"-item-pending"),b),f)),D=mt((p={},J(p,"".concat(o.value,"-item-head"),!0),J(p,"".concat(o.value,"-item-head-custom"),k),J(p,"".concat(o.value,"-item-head-").concat(_),!0),p)),L=/blue|red|green|gray/.test(_||"")?void 0:_;return M("li",{class:I},[E&&M("div",{class:"".concat(o.value,"-item-label")},[E]),M("div",{class:"".concat(o.value,"-item-tail")},null),M("div",{class:D,style:{borderColor:L,color:L}},[k]),M("div",{class:"".concat(o.value,"-item-content")},[(v=r.default)===null||v===void 0?void 0:v.call(r)])])}}});var QSe=function(){return{prefixCls:String,pending:Te.any,pendingDot:Te.any,reverse:{type:Boolean,default:void 0},mode:Te.oneOf(Di("left","alternate","right",""))}};const f1=lt({compatConfig:{MODE:3},name:"ATimeline",props:lr(QSe(),{reverse:!1,mode:""}),slots:["pending","pendingDot"],setup:function(e,n){var r=n.slots,i=fn("timeline",e),o=i.prefixCls,l=i.direction,a=function(p,v){var g=p.props||{};return e.mode==="alternate"?g.position==="right"?"".concat(o.value,"-item-right"):g.position==="left"||v%2===0?"".concat(o.value,"-item-left"):"".concat(o.value,"-item-right"):e.mode==="left"?"".concat(o.value,"-item-left"):e.mode==="right"||g.position==="right"?"".concat(o.value,"-item-right"):""};return function(){var f,p,v,g,_=e.pending,b=_===void 0?(f=r.pending)===null||f===void 0?void 0:f.call(r):_,S=e.pendingDot,E=S===void 0?(p=r.pendingDot)===null||p===void 0?void 0:p.call(r):S,P=e.reverse,k=e.mode,I=typeof b=="boolean"?null:b,D=ta((v=r.default)===null||v===void 0?void 0:v.call(r)),L=b?M(K1,{pending:!!b,dot:E||M(wl,null,null)},{default:function(){return[I]}}):null;L&&D.push(L);var B=P?D.reverse():D,N=B.length,j="".concat(o.value,"-item-last"),H=B.map(function(re,q){var G=q===N-2?j:"",ae=q===N-1?j:"";return io(re,{class:mt([!P&&b?G:ae,a(re,q)])})}),V=B.some(function(re){var q,G;return!!((q=re.props)!==null&&q!==void 0&&q.label||(G=re.children)!==null&&G!==void 0&&G.label)}),Z=mt(o.value,(g={},J(g,"".concat(o.value,"-pending"),!!b),J(g,"".concat(o.value,"-reverse"),!!P),J(g,"".concat(o.value,"-").concat(k),!!k&&!V),J(g,"".concat(o.value,"-label"),V),J(g,"".concat(o.value,"-rtl"),l.value==="rtl"),g));return M("ul",{class:Z},[H])}}});f1.Item=K1;f1.install=function(t){return t.component(f1.name,f1),t.component(K1.name,K1),t};var JSe=function(){return{prefixCls:String,value:String,maxlength:Number,autoSize:{type:[Boolean,Object]},onSave:Function,onCancel:Function,onEnd:Function,onChange:Function,originContent:String,direction:String}},e6e=lt({compatConfig:{MODE:3},name:"Editable",props:JSe(),setup:function(e,n){var r=n.emit,i=n.slots,o=Mr({current:e.value||"",lastKeyCode:void 0,inComposition:!1,cancelFlag:!1});Lt(function(){return e.value},function(P){o.current=P});var l=ke();zn(function(){if(l.value){var P,k=(P=l.value)===null||P===void 0?void 0:P.resizableTextArea,I=k==null?void 0:k.textArea;I.focus();var D=I.value.length;I.setSelectionRange(D,D)}});function a(P){l.value=P}function f(P){var k=P.target.value;o.current=k.replace(/[\r\n]/g,""),r("change",o.current)}function p(){o.inComposition=!0}function v(){o.inComposition=!1}function g(P){var k=P.keyCode;k===qt.ENTER&&P.preventDefault(),!o.inComposition&&(o.lastKeyCode=k)}function _(P){var k=P.keyCode,I=P.ctrlKey,D=P.altKey,L=P.metaKey,B=P.shiftKey;o.lastKeyCode===k&&!o.inComposition&&!I&&!D&&!L&&!B&&(k===qt.ENTER?(S(),r("end")):k===qt.ESC&&(o.current=e.originContent,r("cancel")))}function b(){S()}function S(){r("save",o.current.trim())}var E=le(function(){var P;return P={},J(P,"".concat(e.prefixCls),!0),J(P,"".concat(e.prefixCls,"-edit-content"),!0),J(P,"".concat(e.prefixCls,"-rtl"),e.direction==="rtl"),P});return function(){return M("div",{class:E.value},[M(wE,{ref:a,maxlength:e.maxlength,value:o.current,onChange:f,onKeydown:g,onKeyup:_,onCompositionstart:p,onCompositionend:v,onBlur:b,rows:1,autoSize:e.autoSize===void 0||e.autoSize},null),i.enterIcon?i.enterIcon({className:"".concat(e.prefixCls,"-edit-content-confirm")}):M(Dee,{class:"".concat(e.prefixCls,"-edit-content-confirm")},null)])}}});const t6e=e6e;var n6e=3,r6e=8,Wo,b4={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function i6e(t){var e=Array.prototype.slice.apply(t);return e.map(function(n){return"".concat(n,": ").concat(t.getPropertyValue(n),";")}).join("")}function xH(t,e){t.setAttribute("aria-hidden","true");var n=window.getComputedStyle(e),r=i6e(n);t.setAttribute("style",r),t.style.position="fixed",t.style.left="0",t.style.height="auto",t.style.minHeight="auto",t.style.maxHeight="auto",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.borderTopWidth="0",t.style.borderBottomWidth="0",t.style.top="-999999px",t.style.zIndex="-1000",t.style.textOverflow="clip",t.style.whiteSpace="normal",t.style.webkitLineClamp="none"}function a6e(t){var e=document.createElement("div");xH(e,t),e.appendChild(document.createTextNode("text")),document.body.appendChild(e);var n=e.getBoundingClientRect().height;return document.body.removeChild(e),n}const o6e=function(t,e,n,r,i){Wo||(Wo=document.createElement("div"),Wo.setAttribute("aria-hidden","true"),document.body.appendChild(Wo));var o=e.rows,l=e.suffix,a=l===void 0?"":l,f=a6e(t),p=Math.round(f*o*100)/100;xH(Wo,t);var v=dN({render:function(){return M("div",{style:b4},[M("span",{style:b4},[n,a]),M("span",{style:b4},[r])])}});v.mount(Wo);function g(){var L=Math.round(Wo.getBoundingClientRect().height*100)/100;return L-.1<=p}if(g())return v.unmount(),{content:n,text:Wo.innerHTML,ellipsis:!1};var _=Array.prototype.slice.apply(Wo.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(function(L){var B=L.nodeType,N=L.data;return B!==r6e&&N!==""}),b=Array.prototype.slice.apply(Wo.childNodes[0].childNodes[1].cloneNode(!0).childNodes);v.unmount();var S=[];Wo.innerHTML="";var E=document.createElement("span");Wo.appendChild(E);var P=document.createTextNode(i+a);E.appendChild(P),b.forEach(function(L){Wo.appendChild(L)});function k(L){E.insertBefore(L,P)}function I(L,B){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,j=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.length,H=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,V=Math.floor((N+j)/2),Z=B.slice(0,V);if(L.textContent=Z,N>=j-1)for(var re=j;re>=N;re-=1){var q=B.slice(0,re);if(L.textContent=q,g()||!q)return re===B.length?{finished:!1,vNode:B}:{finished:!0,vNode:q}}return g()?I(L,B,V,j,V):I(L,B,N,V,H)}function D(L){var B=L.nodeType;if(B===n6e){var N=L.textContent||"",j=document.createTextNode(N);return k(j),I(j,N)}return{finished:!1,vNode:null}}return _.some(function(L){var B=D(L),N=B.finished,j=B.vNode;return j&&S.push(j),N}),{content:S,text:Wo.innerHTML,ellipsis:!0}};var s6e=["prefixCls","class","direction","component"],l6e=function(){return{prefixCls:String,direction:String,component:String}},u6e=lt({name:"ATypography",inheritAttrs:!1,props:l6e(),setup:function(e,n){var r=n.slots,i=n.attrs,o=fn("typography",e),l=o.prefixCls,a=o.direction;return function(){var f,p=R(R({},e),i);p.prefixCls,p.class,p.direction;var v=p.component,g=v===void 0?"article":v,_=kn(p,s6e);return M(g,R({class:mt(l.value,J({},"".concat(l.value,"-rtl"),a.value==="rtl"),i.class)},_),{default:function(){return[(f=r.default)===null||f===void 0?void 0:f.call(r)]}})}}});const Xo=u6e;var c6e=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,r=[],i=0;i<e.rangeCount;i++)r.push(e.getRangeAt(i));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null;break}return e.removeAllRanges(),function(){e.type==="Caret"&&e.removeAllRanges(),e.rangeCount||r.forEach(function(o){e.addRange(o)}),n&&n.focus()}};const d6e=c6e;var yR={"text/plain":"Text","text/html":"Url",default:"Text"},f6e="Copy to clipboard: #{key}, Enter";function h6e(t){var e=(/mac os x/i.test(navigator.userAgent)?"":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function p6e(t,e){var n,r,i,o,l,a=!1;e||(e={});var f=e.debug||!1;try{r=d6e(),i=document.createRange(),o=document.getSelection(),l=document.createElement("span"),l.textContent=t,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",function(v){if(v.stopPropagation(),e.format)if(v.preventDefault(),typeof v.clipboardData>"u"){f&&console.warn("unable to use e.clipboardData"),f&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var g=yR[e.format]||yR.default;window.clipboardData.setData(g,t)}else v.clipboardData.clearData(),v.clipboardData.setData(e.format,t);e.onCopy&&(v.preventDefault(),e.onCopy(v.clipboardData))}),document.body.appendChild(l),i.selectNodeContents(l),o.addRange(i);var p=document.execCommand("copy");if(!p)throw new Error("copy command was unsuccessful");a=!0}catch(v){f&&console.error("unable to copy using execCommand: ",v),f&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),a=!0}catch(g){f&&console.error("unable to copy using clipboardData: ",g),f&&console.error("falling back to prompt"),n=h6e("message"in e?e.message:f6e),window.prompt(n,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(i):o.removeAllRanges()),l&&document.body.removeChild(l),r()}return a}var v6e=["type","disabled","content","class","style"],m6e=uE("webkitLineClamp"),g6e=uE("textOverflow"),_R="...",y0=function(){return{editable:{type:[Boolean,Object],default:void 0},copyable:{type:[Boolean,Object],default:void 0},prefixCls:String,component:String,type:String,disabled:{type:Boolean,default:void 0},ellipsis:{type:[Boolean,Object],default:void 0},code:{type:Boolean,default:void 0},mark:{type:Boolean,default:void 0},underline:{type:Boolean,default:void 0},delete:{type:Boolean,default:void 0},strong:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},content:String,"onUpdate:content":Function}},y6e=lt({compatConfig:{MODE:3},name:"Base",inheritAttrs:!1,props:y0(),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.emit,l=fn("typography",e),a=l.prefixCls,f=l.direction,p=Mr({copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1,expandStr:"",copyStr:"",copiedStr:"",editStr:"",copyId:void 0,rafId:void 0,prevProps:void 0,originContent:""}),v=ke(),g=ke(),_=le(function(){var ie=e.ellipsis;return ie?R({rows:1,expandable:!1},dn(ie)==="object"?ie:null):{}});zn(function(){p.clientRendered=!0}),tr(function(){clearTimeout(p.copyId),$n.cancel(p.rafId)}),Lt([function(){return _.value.rows},function(){return e.content}],function(){Yn(function(){Z()})},{flush:"post",deep:!0,immediate:!0}),Un(function(){e.content===void 0&&(sa(!e.editable,"Typography","When `editable` is enabled, please use `content` instead of children"),sa(!e.ellipsis,"Typography","When `ellipsis` is enabled, please use `content` instead of children"))});function b(){var ie,he;return e.ellipsis||e.editable?e.content:(ie=v.value)===null||ie===void 0||(he=ie.$el)===null||he===void 0?void 0:he.innerText}function S(ie){var he=_.value.onExpand;p.expanded=!0,he==null||he(ie)}function E(ie){ie.preventDefault(),p.originContent=e.content,V(!0)}function P(ie){k(ie),V(!1)}function k(ie){var he=L.value.onChange;ie!==e.content&&(o("update:content",ie),he==null||he(ie))}function I(){var ie,he;(ie=(he=L.value).onCancel)===null||ie===void 0||ie.call(he),V(!1)}function D(ie){ie.preventDefault(),ie.stopPropagation();var he=e.copyable,ce=R({},dn(he)==="object"?he:null);ce.text===void 0&&(ce.text=b()),p6e(ce.text||""),p.copied=!0,Yn(function(){ce.onCopy&&ce.onCopy(),p.copyId=setTimeout(function(){p.copied=!1},3e3)})}var L=le(function(){var ie=e.editable;return ie?R({},dn(ie)==="object"?ie:null):{editing:!1}}),B=Ii(!1,{value:le(function(){return L.value.editing})}),N=Wt(B,2),j=N[0],H=N[1];function V(ie){var he=L.value.onStart;ie&&he&&he(),H(ie)}Lt(j,function(ie){if(!ie){var he;(he=g.value)===null||he===void 0||he.focus()}},{flush:"post"});function Z(){$n.cancel(p.rafId),p.rafId=$n(function(){q()})}var re=le(function(){var ie=_.value,he=ie.rows,ce=ie.expandable,we=ie.suffix,be=ie.onEllipsis,ve=ie.tooltip;return we||ve||e.editable||e.copyable||ce||be?!1:he===1?g6e:m6e}),q=function(){var he,ce,we=p.ellipsisText,be=p.isEllipsis,ve=_.value,ge=ve.rows,Pe=ve.suffix,ye=ve.onEllipsis;if(!(!ge||ge<0||!((he=v.value)!==null&&he!==void 0&&he.$el)||p.expanded||e.content===void 0)&&!re.value){var Ne=o6e((ce=v.value)===null||ce===void 0?void 0:ce.$el,{rows:ge,suffix:Pe},e.content,X(!0),_R),Re=Ne.content,Ge=Ne.text,He=Ne.ellipsis;(we!==Ge||p.isEllipsis!==He)&&(p.ellipsisText=Ge,p.ellipsisContent=Re,p.isEllipsis=He,be!==He&&ye&&ye(He))}};function G(ie,he){var ce=ie.mark,we=ie.code,be=ie.underline,ve=ie.delete,ge=ie.strong,Pe=ie.keyboard,ye=he;function Ne(Re,Ge){if(Re){var He=function(){return ye}();ye=M(Ge,null,{default:function(){return[He]}})}}return Ne(ge,"strong"),Ne(be,"u"),Ne(ve,"del"),Ne(we,"code"),Ne(ce,"mark"),Ne(Pe,"kbd"),ye}function ae(ie){var he=_.value,ce=he.expandable,we=he.symbol;if(!ce||!ie&&(p.expanded||!p.isEllipsis))return null;var be=(r.ellipsisSymbol?r.ellipsisSymbol():we)||p.expandStr;return M("a",{key:"expand",class:"".concat(a.value,"-expand"),onClick:S,"aria-label":p.expandStr},[be])}function te(){if(e.editable){var ie=e.editable,he=ie.tooltip,ce=ie.triggerType,we=ce===void 0?["icon"]:ce,be=r.editableIcon?r.editableIcon():M(Eee,{role:"button"},null),ve=r.editableTooltip?r.editableTooltip():p.editStr,ge=typeof ve=="string"?ve:"";return we.indexOf("icon")!==-1?M(_l,{key:"edit",title:he===!1?"":ve},{default:function(){return[M(Dx,{ref:g,class:"".concat(a.value,"-edit"),onClick:E,"aria-label":ge},{default:function(){return[be]}})]}}):null}}function Q(){if(e.copyable){var ie=e.copyable.tooltip,he=p.copied?p.copiedStr:p.copyStr,ce=r.copyableTooltip?r.copyableTooltip({copied:p.copied}):he,we=typeof ce=="string"?ce:"",be=p.copied?M(d2,null,null):M(iee,null,null),ve=r.copyableIcon?r.copyableIcon({copied:!!p.copied}):be;return M(_l,{key:"copy",title:ie===!1?"":ce},{default:function(){return[M(Dx,{class:["".concat(a.value,"-copy"),J({},"".concat(a.value,"-copy-success"),p.copied)],onClick:D,"aria-label":we},{default:function(){return[ve]}})]}})}}function Y(){var ie=i.class,he=i.style,ce=L.value,we=ce.maxlength,be=ce.autoSize,ve=ce.onEnd;return M(t6e,{class:ie,style:he,prefixCls:a.value,value:e.content,originContent:p.originContent,maxlength:we,autoSize:be,onSave:P,onChange:k,onCancel:I,onEnd:ve,direction:f.value},{enterIcon:r.editableEnterIcon})}function X(ie){return[ae(ie),te(),Q()].filter(function(he){return he})}return function(){var ie,he=L.value.triggerType,ce=he===void 0?["icon"]:he,we=e.ellipsis||e.editable?e.content!==void 0?e.content:(ie=r.default)===null||ie===void 0?void 0:ie.call(r):r.default?r.default():e.content;return j.value?Y():M(jv,{componentName:"Text",children:function(ve){var ge,Pe=R(R({},e),i),ye=Pe.type,Ne=Pe.disabled;Pe.content;var Re=Pe.class,Ge=Pe.style,He=kn(Pe,v6e),Ee=_.value,pe=Ee.rows,Ie=Ee.suffix,We=Ee.tooltip,Qe=ve.edit,at=ve.copy,xt=ve.copied,ot=ve.expand;p.editStr=Qe,p.copyStr=at,p.copiedStr=xt,p.expandStr=ot;var nt=Qn(He,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard","onUpdate:content"]),Ze=re.value,ht=pe===1&&Ze,vt=pe&&pe>1&&Ze,Ct=we,Nt;if(pe&&p.isEllipsis&&!p.expanded&&!Ze){var tn,rn=He.title,Pt=rn||"";!rn&&(typeof we=="string"||typeof we=="number")&&(Pt=String(we)),Pt=(tn=Pt)===null||tn===void 0?void 0:tn.slice(String(p.ellipsisContent||"").length),Ct=M(Kn,null,[Gn(p.ellipsisContent),M("span",{title:Pt,"aria-hidden":"true"},[_R]),Ie])}else Ct=M(Kn,null,[we,Ie]);Ct=G(e,Ct);var yt=We&&pe&&p.isEllipsis&&!p.expanded&&!Ze,Bt=r.ellipsisTooltip?r.ellipsisTooltip():We;return M(Gs,{onResize:Z,disabled:!pe},{default:function(){return[M(Xo,R({ref:v,class:[(ge={},J(ge,"".concat(a.value,"-").concat(ye),ye),J(ge,"".concat(a.value,"-disabled"),Ne),J(ge,"".concat(a.value,"-ellipsis"),pe),J(ge,"".concat(a.value,"-single-line"),pe===1&&!p.isEllipsis),J(ge,"".concat(a.value,"-ellipsis-single-line"),ht),J(ge,"".concat(a.value,"-ellipsis-multiple-line"),vt),ge),Re],style:R(R({},Ge),{},{WebkitLineClamp:vt?pe:void 0}),"aria-label":Nt,direction:f.value,onClick:ce.indexOf("text")!==-1?E:function(){}},nt),{default:function(){return[yt?M(_l,{title:We===!0?we:Bt},{default:function(){return[M("span",null,[Ct])]}}):Ct,X()]}})]}})}},null)}}});const _0=y6e;var _6e=["ellipsis","rel"],b6e=function(){return Qn(R(R({},y0()),{},{ellipsis:{type:Boolean,default:void 0}}),["component"])},aw=function(e,n){var r=n.slots,i=n.attrs,o=R(R({},e),i),l=o.ellipsis,a=o.rel,f=kn(o,_6e);sa(dn(l)!=="object","Typography.Link","`ellipsis` only supports boolean value.");var p=R(R({},f),{},{rel:a===void 0&&f.target==="_blank"?"noopener noreferrer":a,ellipsis:!!l,component:"a"});return delete p.navigate,M(_0,p,r)};aw.displayName="ATypographyLink";aw.inheritAttrs=!1;aw.props=b6e();const jE=aw;var x6e=function(){return Qn(y0(),["component"])},ow=function(e,n){var r=n.slots,i=n.attrs,o=R(R({},e),{},{component:"div"},i);return M(_0,o,r)};ow.displayName="ATypographyParagraph";ow.inheritAttrs=!1;ow.props=x6e();const VE=ow;var w6e=function(){return R(R({},Qn(y0(),["component"])),{},{ellipsis:{type:[Boolean,Object],default:void 0}})},sw=function(e,n){var r=n.slots,i=n.attrs,o=e.ellipsis;sa(dn(o)!=="object"||!o||!("expandable"in o)&&!("rows"in o),"Typography.Text","`ellipsis` do not support `expandable` or `rows` props.");var l=R(R({},e),{},{ellipsis:o&&dn(o)==="object"?Qn(o,["expandable","rows"]):o,component:"span"},i);return M(_0,l,r)};sw.displayName="ATypographyText";sw.inheritAttrs=!1;sw.props=w6e();const UE=sw;var C6e=["level"],S6e=koe(1,2,3,4,5),T6e=function(){return R(R({},Qn(y0(),["component","strong"])),{},{level:Number})},lw=function(e,n){var r=n.slots,i=n.attrs,o=e.level,l=o===void 0?1:o,a=kn(e,C6e),f;S6e.indexOf(l)!==-1?f="h".concat(l):(sa(!1,"Typography","Title only accept `1 | 2 | 3 | 4 | 5` as `level` value."),f="h1");var p=R(R({},a),{},{component:f},i);return M(_0,p,r)};lw.displayName="ATypographyTitle";lw.inheritAttrs=!1;lw.props=T6e();const HE=lw;Xo.Text=UE;Xo.Title=HE;Xo.Paragraph=VE;Xo.Link=jE;Xo.Base=_0;Xo.install=function(t){return t.component(Xo.name,Xo),t.component(Xo.Text.displayName,UE),t.component(Xo.Title.displayName,HE),t.component(Xo.Paragraph.displayName,VE),t.component(Xo.Link.displayName,jE),t};function E6e(t,e){var n="cannot ".concat(t.method," ").concat(t.action," ").concat(e.status,"'"),r=new Error(n);return r.status=e.status,r.method=t.method,r.url=t.action,r}function bR(t){var e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}function P6e(t){var e=new XMLHttpRequest;t.onProgress&&e.upload&&(e.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),t.onProgress(o)});var n=new FormData;t.data&&Object.keys(t.data).forEach(function(i){var o=t.data[i];if(Array.isArray(o)){o.forEach(function(l){n.append("".concat(i,"[]"),l)});return}n.append(i,o)}),t.file instanceof Blob?n.append(t.filename,t.file,t.file.name):n.append(t.filename,t.file),e.onerror=function(o){t.onError(o)},e.onload=function(){return e.status<200||e.status>=300?t.onError(E6e(t,e),bR(e)):t.onSuccess(bR(e),e)},e.open(t.method,t.action,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);var r=t.headers||{};return r["X-Requested-With"]!==null&&e.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(r).forEach(function(i){r[i]!==null&&e.setRequestHeader(i,r[i])}),e.send(n),{abort:function(){e.abort()}}}var M6e=+new Date,k6e=0;function x4(){return"vc-upload-".concat(M6e,"-").concat(++k6e)}const w4=function(t,e){if(t&&e){var n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return n.some(function(l){var a=l.trim();if(/^\*(\/\*)?$/.test(l))return!0;if(a.charAt(0)==="."){var f=r.toLowerCase(),p=a.toLowerCase(),v=[p];return(p===".jpg"||p===".jpeg")&&(v=[".jpg",".jpeg"]),v.some(function(g){return f.endsWith(g)})}return/\/\*$/.test(a)?o===a.replace(/\/.*$/,""):!!(i===a||/^\w+$/.test(a))})}return!0};function A6e(t,e){var n=t.createReader(),r=[];function i(){n.readEntries(function(o){var l=Array.prototype.slice.apply(o);r=r.concat(l);var a=!l.length;a?e(r):i()})}i()}var I6e=function(e,n,r){var i=function o(l,a){l.path=a||"",l.isFile?l.file(function(f){r(f)&&(l.fullPath&&!f.webkitRelativePath&&(Object.defineProperties(f,{webkitRelativePath:{writable:!0}}),f.webkitRelativePath=l.fullPath.replace(/^\//,""),Object.defineProperties(f,{webkitRelativePath:{writable:!1}})),n([f]))}):l.isDirectory&&A6e(l,function(f){f.forEach(function(p){o(p,"".concat(a).concat(l.name,"/"))})})};e.forEach(function(o){i(o.webkitGetAsEntry())})};const O6e=I6e;var wH=function(){return{capture:[Boolean,String],multipart:{type:Boolean,default:void 0},name:String,disabled:{type:Boolean,default:void 0},componentTag:String,action:[String,Function],method:String,directory:{type:Boolean,default:void 0},data:[Object,Function],headers:Object,accept:String,multiple:{type:Boolean,default:void 0},onBatchStart:Function,onReject:Function,onStart:Function,onError:Function,onSuccess:Function,onProgress:Function,beforeUpload:Function,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},prefixCls:String,id:String,onMouseenter:Function,onMouseleave:Function,onClick:Function}};function D6e(t,e,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;){var l=t[i];e(r,l,n(l),t)}return r}function R6e(t){return function(e,n,r){for(var i=-1,o=Object(e),l=r(e),a=l.length;a--;){var f=l[t?a:++i];if(n(o[f],f,o)===!1)break}return e}}var L6e=R6e();const F6e=L6e;function N6e(t,e){return t&&F6e(t,e,Uv)}function B6e(t,e){return function(n,r){if(n==null)return n;if(!s0(n))return t(n,r);for(var i=n.length,o=e?i:-1,l=Object(n);(e?o--:++o<i)&&r(l[o],o,l)!==!1;);return n}}var z6e=B6e(N6e);const $6e=z6e;function j6e(t,e,n,r){return $6e(t,function(i,o,l){e(r,i,n(i),l)}),r}function V6e(t,e){return function(n,r){var i=qs(n)?D6e:j6e,o=e?e():{};return i(n,t,yE(r),o)}}var U6e=V6e(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]});const H6e=U6e;var K6e=["componentTag","prefixCls","disabled","id","multiple","accept","capture","directory","openFileDialogOnClick","onMouseenter","onMouseleave"];const W6e=lt({compatConfig:{MODE:3},name:"AjaxUploader",inheritAttrs:!1,props:wH(),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=ke(x4()),a={},f=ke(),p=!1,v=function(){var D=Sh(es.mark(function L(B,N){var j,H,V,Z,re,q,G,ae,te;return es.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(j=e.beforeUpload,H=B,!j){Y.next=14;break}return Y.prev=3,Y.next=6,j(B,N);case 6:H=Y.sent,Y.next=12;break;case 9:Y.prev=9,Y.t0=Y.catch(3),H=!1;case 12:if(H!==!1){Y.next=14;break}return Y.abrupt("return",{origin:B,parsedFile:null,action:null,data:null});case 14:if(V=e.action,typeof V!="function"){Y.next=21;break}return Y.next=18,V(B);case 18:Z=Y.sent,Y.next=22;break;case 21:Z=V;case 22:if(re=e.data,typeof re!="function"){Y.next=29;break}return Y.next=26,re(B);case 26:q=Y.sent,Y.next=30;break;case 29:q=re;case 30:return G=(dn(H)==="object"||typeof H=="string")&&H?H:B,G instanceof File?ae=G:ae=new File([G],B.name,{type:B.type}),te=ae,te.uid=B.uid,Y.abrupt("return",{origin:B,data:q,parsedFile:te,action:Z});case 35:case"end":return Y.stop()}},L,null,[[3,9]])}));return function(B,N){return D.apply(this,arguments)}}(),g=function(L){var B=L.data,N=L.origin,j=L.action,H=L.parsedFile;if(p){var V=e.onStart,Z=e.customRequest,re=e.name,q=e.headers,G=e.withCredentials,ae=e.method,te=N.uid,Q=Z||P6e,Y={action:j,filename:re,data:B,file:H,headers:q,withCredentials:G,method:ae||"post",onProgress:function(ie){var he=e.onProgress;he==null||he(ie,H)},onSuccess:function(ie,he){var ce=e.onSuccess;ce==null||ce(ie,H,he),delete a[te]},onError:function(ie,he){var ce=e.onError;ce==null||ce(ie,he,H),delete a[te]}};V(N),a[te]=Q(Y)}},_=function(){l.value=x4()},b=function(L){if(L){var B=L.uid?L.uid:L;a[B]&&a[B].abort&&a[B].abort(),delete a[B]}else Object.keys(a).forEach(function(N){a[N]&&a[N].abort&&a[N].abort(),delete a[N]})};zn(function(){p=!0}),tr(function(){p=!1,b()});var S=function(L){var B=Jt(L),N=B.map(function(j){return j.uid=x4(),v(j,B)});Promise.all(N).then(function(j){var H=e.onBatchStart;H==null||H(j.map(function(V){var Z=V.origin,re=V.parsedFile;return{file:Z,parsedFile:re}})),j.filter(function(V){return V.parsedFile!==null}).forEach(function(V){g(V)})})},E=function(L){var B=e.accept,N=e.directory,j=L.target.files,H=Jt(j).filter(function(V){return!N||w4(V,B)});S(H),_()},P=function(L){var B=f.value;if(B){var N=e.onClick;B.click(),N&&N(L)}},k=function(L){L.key==="Enter"&&P(L)},I=function(L){var B=e.multiple;if(L.preventDefault(),L.type!=="dragover")if(e.directory)O6e(Array.prototype.slice.call(L.dataTransfer.items),S,function(V){return w4(V,e.accept)});else{var N=H6e(Array.prototype.slice.call(L.dataTransfer.files),function(V){return w4(V,e.accept)}),j=N[0],H=N[1];B===!1&&(j=j.slice(0,1)),S(j),H.length&&e.onReject&&e.onReject(H)}};return o({abort:b}),function(){var D,L,B=e.componentTag,N=e.prefixCls,j=e.disabled,H=e.id,V=e.multiple,Z=e.accept,re=e.capture,q=e.directory,G=e.openFileDialogOnClick,ae=e.onMouseenter,te=e.onMouseleave,Q=kn(e,K6e),Y=(D={},J(D,N,!0),J(D,"".concat(N,"-disabled"),j),J(D,i.class,!!i.class),D),X=q?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},ie=j?{}:{onClick:G?P:function(){},onKeydown:G?k:function(){},onMouseenter:ae,onMouseleave:te,onDrop:I,onDragover:I,tabindex:"0"};return M(B,R(R({},ie),{},{class:Y,role:"button",style:i.style}),{default:function(){return[M("input",R(R(R({},Bd(Q,{aria:!0,data:!0})),{},{id:H,type:"file",ref:f,onClick:function(we){return we.stopPropagation()},key:l.value,style:{display:"none"},accept:Z},X),{},{multiple:V,onChange:E},re!=null?{capture:re}:{}),null),(L=r.default)===null||L===void 0?void 0:L.call(r)]}})}}});function C4(){}const xR=lt({compatConfig:{MODE:3},name:"Upload",inheritAttrs:!1,props:lr(wH(),{componentTag:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:C4,onError:C4,onSuccess:C4,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0}),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=ke(),a=function(p){var v;(v=l.value)===null||v===void 0||v.abort(p)};return o({abort:a}),function(){return M(W6e,R(R(R({},e),i),{},{ref:l}),r)}}});function CH(){return{capture:[Boolean,String],type:String,name:String,defaultFileList:Array,fileList:Array,action:[String,Function],directory:{type:Boolean,default:void 0},data:[Object,Function],method:String,headers:Object,showUploadList:{type:[Boolean,Object],default:void 0},multiple:{type:Boolean,default:void 0},accept:String,beforeUpload:Function,onChange:Function,"onUpdate:fileList":Function,onDrop:Function,listType:String,onPreview:Function,onDownload:Function,onReject:Function,onRemove:Function,remove:Function,supportServerRender:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},prefixCls:String,customRequest:Function,withCredentials:{type:Boolean,default:void 0},openFileDialogOnClick:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},id:String,previewFile:Function,transformFile:Function,iconRender:Function,isImageUrl:Function,progress:Object,itemRender:Function,maxCount:Number,height:[Number,String],removeIcon:Function,downloadIcon:Function,previewIcon:Function}}function G6e(){return{listType:String,onPreview:Function,onDownload:Function,onRemove:Function,items:Array,progress:Object,prefixCls:String,showRemoveIcon:{type:Boolean,default:void 0},showDownloadIcon:{type:Boolean,default:void 0},showPreviewIcon:{type:Boolean,default:void 0},removeIcon:Function,downloadIcon:Function,previewIcon:Function,locale:{type:Object,default:void 0},previewFile:Function,iconRender:Function,isImageUrl:Function,appendAction:Function,appendActionVisible:{type:Boolean,default:void 0},itemRender:Function}}function M_(t){return R(R({},t),{},{lastModified:t.lastModified,lastModifiedDate:t.lastModifiedDate,name:t.name,size:t.size,type:t.type,uid:t.uid,percent:0,originFileObj:t})}function k_(t,e){var n=Jt(e),r=n.findIndex(function(i){var o=i.uid;return o===t.uid});return r===-1?n.push(t):n[r]=t,n}function S4(t,e){var n=t.uid!==void 0?"uid":"name";return e.filter(function(r){return r[n]===t[n]})[0]}function q6e(t,e){var n=t.uid!==void 0?"uid":"name",r=e.filter(function(i){return i[n]!==t[n]});return r.length===e.length?null:r}var Y6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=e.split("/"),r=n[n.length-1],i=r.split(/#|\?/)[0];return(/\.[^./\\]*$/.exec(i)||[""])[0]},SH=function(e){return e.indexOf("image/")===0},X6e=function(e){if(e.type&&!e.thumbUrl)return SH(e.type);var n=e.thumbUrl||e.url||"",r=Y6e(n);return/^data:image\//.test(n)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(r)?!0:!(/^data:/.test(n)||r)},ed=200;function Z6e(t){return new Promise(function(e){if(!t.type||!SH(t.type)){e("");return}var n=document.createElement("canvas");n.width=ed,n.height=ed,n.style.cssText="position: fixed; left: 0; top: 0; width: ".concat(ed,"px; height: ").concat(ed,"px; z-index: 9999; display: none;"),document.body.appendChild(n);var r=n.getContext("2d"),i=new Image;i.onload=function(){var o=i.width,l=i.height,a=ed,f=ed,p=0,v=0;o>l?(f=l*(ed/o),v=-(f-a)/2):(a=o*(ed/l),p=-(a-f)/2),r.drawImage(i,p,v,a,f);var g=n.toDataURL();document.body.removeChild(n),e(g)},i.src=window.URL.createObjectURL(t)})}var Q6e=function(){return{prefixCls:String,locale:{type:Object,default:void 0},file:Object,items:Array,listType:String,isImgUrl:Function,showRemoveIcon:{type:Boolean,default:void 0},showDownloadIcon:{type:Boolean,default:void 0},showPreviewIcon:{type:Boolean,default:void 0},removeIcon:Function,downloadIcon:Function,previewIcon:Function,iconRender:Function,actionIconRender:Function,itemRender:Function,onPreview:Function,onClose:Function,onDownload:Function,progress:{type:Object,default:void 0}}};const J6e=lt({compatConfig:{MODE:3},name:"ListItem",inheritAttrs:!1,props:Q6e(),setup:function(e,n){var r=n.slots,i=n.attrs,o=ke(!1),l=ke();zn(function(){l.value=setTimeout(function(){o.value=!0},300)}),tr(function(){clearTimeout(l.value)});var a=fn("upload",e),f=a.rootPrefixCls,p=le(function(){return Nd("".concat(f.value,"-fade"))});return function(){var v,g,_=e.prefixCls,b=e.locale,S=e.listType,E=e.file,P=e.items,k=e.progress,I=e.iconRender,D=I===void 0?r.iconRender:I,L=e.actionIconRender,B=L===void 0?r.actionIconRender:L,N=e.itemRender,j=N===void 0?r.itemRender:N,H=e.isImgUrl,V=e.showPreviewIcon,Z=e.showRemoveIcon,re=e.showDownloadIcon,q=e.previewIcon,G=q===void 0?r.previewIcon:q,ae=e.removeIcon,te=ae===void 0?r.removeIcon:ae,Q=e.downloadIcon,Y=Q===void 0?r.downloadIcon:Q,X=e.onPreview,ie=e.onDownload,he=e.onClose,ce=i.class,we=i.style,be="".concat(_,"-span"),ve=D({file:E}),ge=M("div",{class:"".concat(_,"-text-icon")},[ve]);if(S==="picture"||S==="picture-card")if(E.status==="uploading"||!E.thumbUrl&&!E.url){var Pe,ye=(Pe={},J(Pe,"".concat(_,"-list-item-thumbnail"),!0),J(Pe,"".concat(_,"-list-item-file"),E.status!=="uploading"),Pe);ge=M("div",{class:ye},[ve])}else{var Ne,Re=H!=null&&H(E)?M("img",{src:E.thumbUrl||E.url,alt:E.name,class:"".concat(_,"-list-item-image")},null):ve,Ge=(Ne={},J(Ne,"".concat(_,"-list-item-thumbnail"),!0),J(Ne,"".concat(_,"-list-item-file"),H&&!H(E)),Ne);ge=M("a",{class:Ge,onClick:function(yt){return X(E,yt)},href:E.url||E.thumbUrl,target:"_blank",rel:"noopener noreferrer"},[Re])}var He=(v={},J(v,"".concat(_,"-list-item"),!0),J(v,"".concat(_,"-list-item-").concat(E.status),!0),J(v,"".concat(_,"-list-item-list-type-").concat(S),!0),v),Ee=typeof E.linkProps=="string"?JSON.parse(E.linkProps):E.linkProps,pe=Z?B({customIcon:te?te({file:E}):M(IN,null,null),callback:function(){return he(E)},prefixCls:_,title:b.removeFile}):null,Ie=re&&E.status==="done"?B({customIcon:Y?Y({file:E}):M(wee,null,null),callback:function(){return ie(E)},prefixCls:_,title:b.downloadFile}):null,We=S!=="picture-card"&&M("span",{key:"download-delete",class:["".concat(_,"-list-item-card-actions"),{picture:S==="picture"}]},[Ie,pe]),Qe="".concat(_,"-list-item-name"),at=E.url?[M("a",R(R({key:"view",target:"_blank",rel:"noopener noreferrer",class:Qe,title:E.name},Ee),{},{href:E.url,onClick:function(yt){return X(E,yt)}}),[E.name]),We]:[M("span",{key:"view",class:Qe,onClick:function(yt){return X(E,yt)},title:E.name},[E.name]),We],xt={pointerEvents:"none",opacity:.5},ot=V?M("a",{href:E.url||E.thumbUrl,target:"_blank",rel:"noopener noreferrer",style:E.url||E.thumbUrl?void 0:xt,onClick:function(yt){return X(E,yt)},title:b.previewFile},[G?G({file:E}):M(r8,null,null)]):null,nt=S==="picture-card"&&E.status!=="uploading"&&M("span",{class:"".concat(_,"-list-item-actions")},[ot,E.status==="done"&&Ie,pe]),Ze;if(E.response&&typeof E.response=="string")Ze=E.response;else{var ht,vt;Ze=((ht=E.error)===null||ht===void 0?void 0:ht.statusText)||((vt=E.error)===null||vt===void 0?void 0:vt.message)||b.uploadError}var Ct=M("span",{class:be},[ge,at]),Nt=M("div",{class:He},[M("div",{class:"".concat(_,"-list-item-info")},[Ct]),nt,o.value&&M(Io,p.value,{default:function(){return[qa(M("div",{class:"".concat(_,"-list-item-progress")},["percent"in E?M(kE,R(R({},k),{},{type:"line",percent:E.percent}),null):null]),[[Pl,E.status==="uploading"]])]}})]),tn=(g={},J(g,"".concat(_,"-list-").concat(S,"-container"),!0),J(g,"".concat(ce),!!ce),g),rn=E.status==="error"?M(_l,{title:Ze,getPopupContainer:function(yt){return yt.parentNode}},{default:function(){return[Nt]}}):Nt;return M("div",{class:tn,style:we,ref:ke},[j?j({originNode:rn,file:E,fileList:P,actions:{download:ie.bind(null,E),preview:X.bind(null,E),remove:he.bind(null,E)}}):rn])}}});var e5e=function(e,n){var r,i=n.slots;return ta((r=i.default)===null||r===void 0?void 0:r.call(i))[0]};const t5e=lt({compatConfig:{MODE:3},name:"AUploadList",props:lr(G6e(),{listType:"text",progress:{strokeWidth:2,showInfo:!1},showRemoveIcon:!0,showDownloadIcon:!1,showPreviewIcon:!0,previewFile:Z6e,isImageUrl:X6e,items:[],appendActionVisible:!0}),setup:function(e,n){var r=n.slots,i=n.expose,o=ke(!1),l=Ba();zn(function(){o.value==!0}),Un(function(){e.listType!=="picture"&&e.listType!=="picture-card"||(e.items||[]).forEach(function(k){typeof document>"u"||typeof window>"u"||!window.FileReader||!window.File||!(k.originFileObj instanceof File||k.originFileObj instanceof Blob)||k.thumbUrl!==void 0||(k.thumbUrl="",e.previewFile&&e.previewFile(k.originFileObj).then(function(I){k.thumbUrl=I||"",l.update()}))})});var a=function(I,D){if(e.onPreview)return D==null||D.preventDefault(),e.onPreview(I)},f=function(I){typeof e.onDownload=="function"?e.onDownload(I):I.url&&window.open(I.url)},p=function(I){var D;(D=e.onRemove)===null||D===void 0||D.call(e,I)},v=function(I){var D=I.file,L=e.iconRender||r.iconRender;if(L)return L({file:D,listType:e.listType});var B=D.status==="uploading",N=e.isImageUrl&&e.isImageUrl(D)?M(Lte,null,null):M(Jee,null,null),j=M(B?wl:Ite,null,null);return e.listType==="picture"?j=B?M(wl,null,null):N:e.listType==="picture-card"&&(j=B?e.locale.uploading:N),j},g=function(I){var D=I.customIcon,L=I.callback,B=I.prefixCls,N=I.title,j={type:"text",size:"small",title:N,onClick:function(){L()},class:"".concat(B,"-list-item-card-actions-btn")};return la(D)?M(Ma,j,{icon:function(){return D}}):M(Ma,j,{default:function(){return[M("span",null,[D])]}})};i({handlePreview:a,handleDownload:f});var _=fn("upload",e),b=_.prefixCls,S=_.direction,E=le(function(){var k;return k={},J(k,"".concat(b.value,"-list"),!0),J(k,"".concat(b.value,"-list-").concat(e.listType),!0),J(k,"".concat(b.value,"-list-rtl"),S.value==="rtl"),k}),P=le(function(){return R(R(R({},u0("".concat(b.value,"-").concat(e.listType==="picture-card"?"animate-inline":"animate"))),K8("".concat(b.value,"-").concat(e.listType==="picture-card"?"animate-inline":"animate"))),{},{class:E.value,appear:o.value})});return function(){var k=e.listType,I=e.locale,D=e.isImageUrl,L=e.items,B=L===void 0?[]:L,N=e.showPreviewIcon,j=e.showRemoveIcon,H=e.showDownloadIcon,V=e.removeIcon,Z=e.previewIcon,re=e.downloadIcon,q=e.progress,G=e.appendAction,ae=e.itemRender,te=e.appendActionVisible,Q=G==null?void 0:G();return M(w5,R(R({},P.value),{},{tag:"div"}),{default:function(){return[B.map(function(X){var ie=X.uid;return M(J6e,{key:ie,locale:I,prefixCls:b.value,file:X,items:B,progress:q,listType:k,isImgUrl:D,showPreviewIcon:N,showRemoveIcon:j,showDownloadIcon:H,onPreview:a,onDownload:f,onClose:p,removeIcon:V,previewIcon:Z,downloadIcon:re,itemRender:ae},R(R({},r),{},{iconRender:v,actionIconRender:g}))}),G?qa(M(e5e,{key:"__ant_upload_appendAction"},{default:function(){return Q}}),[[Pl,!!te]]):null]}})}}});var n5e=["class","style"],zg="__LIST_IGNORE_".concat(Date.now(),"__");const Eb=lt({compatConfig:{MODE:3},name:"AUpload",inheritAttrs:!1,props:lr(CH(),{type:"select",multiple:!1,action:"",data:{},accept:"",showUploadList:!0,listType:"text",disabled:!1,supportServerRender:!0}),setup:function(e,n){var r=n.slots,i=n.attrs,o=n.expose,l=_a(),a=Ii(e.defaultFileList||[],{value:An(e,"fileList"),postState:function(G){var ae=Date.now();return(G??[]).map(function(te,Q){return!te.uid&&!Object.isFrozen(te)&&(te.uid="__AUTO__".concat(ae,"_").concat(Q,"__")),te})}}),f=Wt(a,2),p=f[0],v=f[1],g=ke("drop"),_=ke();zn(function(){Br(e.fileList!==void 0||i.value===void 0,"Upload","`value` is not a valid prop, do you mean `fileList`?"),Br(e.transformFile===void 0,"Upload","`transformFile` is deprecated. Please use `beforeUpload` directly."),Br(e.remove===void 0,"Upload","`remove` props is deprecated. Please use `remove` event.")});var b=function(G,ae,te){var Q,Y,X=Jt(ae);e.maxCount===1?X=X.slice(-1):e.maxCount&&(X=X.slice(0,e.maxCount)),v(X);var ie={file:G,fileList:X};te&&(ie.event=te),(Q=e["onUpdate:fileList"])===null||Q===void 0||Q.call(e,ie.fileList),(Y=e.onChange)===null||Y===void 0||Y.call(e,ie),l.onFieldChange()},S=function(){var q=Sh(es.mark(function G(ae,te){var Q,Y,X,ie;return es.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(Q=e.beforeUpload,Y=e.transformFile,X=ae,!Q){ce.next=13;break}return ce.next=5,Q(ae,te);case 5:if(ie=ce.sent,ie!==!1){ce.next=8;break}return ce.abrupt("return",!1);case 8:if(delete ae[zg],ie!==zg){ce.next=12;break}return Object.defineProperty(ae,zg,{value:!0,configurable:!0}),ce.abrupt("return",!1);case 12:dn(ie)==="object"&&ie&&(X=ie);case 13:if(!Y){ce.next=17;break}return ce.next=16,Y(X);case 16:X=ce.sent;case 17:return ce.abrupt("return",X);case 18:case"end":return ce.stop()}},G)}));return function(ae,te){return q.apply(this,arguments)}}(),E=function(G){var ae=G.filter(function(Y){return!Y.file[zg]});if(ae.length){var te=ae.map(function(Y){return M_(Y.file)}),Q=Jt(p.value);te.forEach(function(Y){Q=k_(Y,Q)}),te.forEach(function(Y,X){var ie=Y;if(ae[X].parsedFile)Y.status="uploading";else{var he=Y.originFileObj,ce;try{ce=new File([he],he.name,{type:he.type})}catch{ce=new Blob([he],{type:he.type}),ce.name=he.name,ce.lastModifiedDate=new Date,ce.lastModified=new Date().getTime()}ce.uid=Y.uid,ie=ce}b(ie,Q)})}},P=function(G,ae,te){try{typeof G=="string"&&(G=JSON.parse(G))}catch{}if(S4(ae,p.value)){var Q=M_(ae);Q.status="done",Q.percent=100,Q.response=G,Q.xhr=te;var Y=k_(Q,p.value);b(Q,Y)}},k=function(G,ae){if(S4(ae,p.value)){var te=M_(ae);te.status="uploading",te.percent=G.percent;var Q=k_(te,p.value);b(te,Q,G)}},I=function(G,ae,te){if(S4(te,p.value)){var Q=M_(te);Q.error=G,Q.response=ae,Q.status="error";var Y=k_(Q,p.value);b(Q,Y)}},D=function(G){var ae,te=e.onRemove||e.remove;Promise.resolve(typeof te=="function"?te(G):te).then(function(Q){if(Q!==!1){var Y=q6e(G,p.value);if(Y){var X,ie;ae=R(R({},G),{},{status:"removed"}),(X=p.value)===null||X===void 0||X.forEach(function(he){var ce=ae.uid!==void 0?"uid":"name";he[ce]===ae[ce]&&!Object.isFrozen(he)&&(he.status="removed")}),(ie=_.value)===null||ie===void 0||ie.abort(ae),b(ae,Y)}}})},L=function(G){if(g.value=G.type,G.type==="drop"){var ae;(ae=e.onDrop)===null||ae===void 0||ae.call(e,G)}};o({onBatchStart:E,onSuccess:P,onProgress:k,onError:I,fileList:p,upload:_});var B=fn("upload",e),N=B.prefixCls,j=B.direction,H=vu("Upload",Sl.Upload,le(function(){return e.locale})),V=Wt(H,1),Z=V[0],re=function(G,ae){var te=e.removeIcon,Q=e.previewIcon,Y=e.downloadIcon,X=e.previewFile,ie=e.onPreview,he=e.onDownload,ce=e.disabled,we=e.isImageUrl,be=e.progress,ve=e.itemRender,ge=e.iconRender,Pe=e.showUploadList,ye=typeof Pe=="boolean"?{}:Pe,Ne=ye.showDownloadIcon,Re=ye.showPreviewIcon,Ge=ye.showRemoveIcon;return Pe?M(t5e,{listType:e.listType,items:p.value,previewFile:X,onPreview:ie,onDownload:he,onRemove:D,showRemoveIcon:!ce&&Ge,showPreviewIcon:Re,showDownloadIcon:Ne,removeIcon:te,previewIcon:Q,downloadIcon:Y,iconRender:ge,locale:Z.value,isImageUrl:we,progress:be,itemRender:ve,appendActionVisible:ae,appendAction:G},R({},r)):G==null?void 0:G()};return function(){var q,G,ae,te=e.listType,Q=e.disabled,Y=e.type;i.class,i.style;var X=kn(i,n5e),ie=R(R(R({onBatchStart:E,onError:I,onProgress:k,onSuccess:P},X),e),{},{id:(q=e.id)!==null&&q!==void 0?q:l.id.value,prefixCls:N.value,beforeUpload:S,onChange:void 0});if(delete ie.remove,(!r.default||Q)&&delete ie.id,Y==="drag"){var he,ce,we=mt(N.value,(he={},J(he,"".concat(N.value,"-drag"),!0),J(he,"".concat(N.value,"-drag-uploading"),p.value.some(function(Pe){return Pe.status==="uploading"})),J(he,"".concat(N.value,"-drag-hover"),g.value==="dragover"),J(he,"".concat(N.value,"-disabled"),Q),J(he,"".concat(N.value,"-rtl"),j.value==="rtl"),he),i.class);return M("span",null,[M("div",{class:we,onDrop:L,onDragover:L,onDragleave:L,style:i.style},[M(xR,R(R({},ie),{},{ref:_,class:"".concat(N.value,"-btn")}),R({default:function(){return[M("div",{class:"".concat(N.value,"-drag-container")},[(ce=r.default)===null||ce===void 0?void 0:ce.call(r)])]}},r))]),re()])}var be=mt(N.value,(G={},J(G,"".concat(N.value,"-select"),!0),J(G,"".concat(N.value,"-select-").concat(te),!0),J(G,"".concat(N.value,"-disabled"),Q),J(G,"".concat(N.value,"-rtl"),j.value==="rtl"),G)),ve=Wr((ae=r.default)===null||ae===void 0?void 0:ae.call(r)),ge=function(ye){return M("div",{class:be,style:ye},[M(xR,R(R({},ie),{},{ref:_}),r)])};return te==="picture-card"?M("span",{class:mt("".concat(N.value,"-picture-card-wrapper"),i.class)},[re(ge,!!(ve&&ve.length))]):M("span",{class:i.class},[ge(ve&&ve.length?void 0:{display:"none"}),re()])}}});var r5e=["height"],i5e=["style"];const Pb=lt({compatConfig:{MODE:3},name:"AUploadDragger",inheritAttrs:!1,props:CH(),setup:function(e,n){var r=n.slots,i=n.attrs;return function(){var o=e.height,l=kn(e,r5e),a=i.style,f=kn(i,i5e),p=R(R(R({},l),f),{},{type:"drag",style:R(R({},a),{},{height:typeof o=="number"?"".concat(o,"px"):o})});return M(Eb,p,r)}}});var a5e=Pb;const o5e=yr(Eb,{Dragger:Pb,LIST_IGNORE:zg,install:function(e){return e.component(Eb.name,Eb),e.component(Pb.name,Pb),e}}),wR=Object.freeze(Object.defineProperty({__proto__:null,Affix:Ez,Alert:ohe,Anchor:Qf,AnchorLink:Mz,AutoComplete:ehe,AutoCompleteOptGroup:Jfe,AutoCompleteOption:Qfe,Avatar:sh,AvatarGroup:dx,BackTop:Phe,Badge:eb,BadgeRibbon:fx,Breadcrumb:lh,BreadcrumbItem:z1,BreadcrumbSeparator:yx,Button:Ma,ButtonGroup:px,Calendar:Ume,Card:uv,CardGrid:Tx,CardMeta:Sx,Carousel:I1e,Cascader:Abe,CheckableTag:kx,Checkbox:Ks,CheckboxGroup:Mx,Col:fl,Collapse:i1,CollapsePanel:Ex,Comment:zbe,ConfigProvider:X8,DatePicker:rxe,Descriptions:dxe,DescriptionsItem:HV,DirectoryTree:bb,Divider:pxe,Drawer:Lxe,Dropdown:cu,DropdownButton:B1,Empty:fd,Form:hd,FormItem:LV,FormItemRest:ux,Grid:Uge,Image:v2e,ImagePreviewGroup:hU,Input:Pa,InputGroup:nU,InputNumber:P2e,InputPassword:aU,InputSearch:rU,Layout:F2e,LayoutContent:L2e,LayoutFooter:D2e,LayoutHeader:O2e,LayoutSider:R2e,List:twe,ListItem:yU,ListItemMeta:mU,LocaleProvider:iz,Mentions:wwe,MentionsOption:mb,Menu:Ui,MenuDivider:gx,MenuItem:sc,MenuItemGroup:mx,Modal:Ha,MonthPicker:lb,PageHeader:a3e,Pagination:Y2,Popconfirm:u3e,Popover:b$,Progress:kE,QuarterPicker:ub,Radio:Mo,RadioButton:xx,RadioGroup:rE,RangePicker:cb,Rate:L3e,Result:G3e,Row:Hp,Select:Od,SelectOptGroup:Yfe,SelectOption:qfe,Skeleton:Po,SkeletonAvatar:DE,SkeletonButton:AE,SkeletonImage:OE,SkeletonInput:IE,SkeletonTitle:X2,Slider:gCe,Space:wCe,Spin:Ed,Statistic:ec,StatisticCountdown:Jwe,Step:gb,Steps:MCe,SubMenu:Tv,Switch:OCe,TabPane:Cx,Table:cSe,TableColumn:wb,TableColumnGroup:Cb,TableSummary:Sb,TableSummaryCell:Fx,TableSummaryRow:Lx,Tabs:uh,Tag:zV,Textarea:wE,TimePicker:XSe,TimeRangePicker:Tb,Timeline:f1,TimelineItem:K1,Tooltip:_l,Transfer:ESe,Tree:dH,TreeNode:xb,TreeSelect:qSe,TreeSelectNode:k6,Typography:Xo,TypographyLink:jE,TypographyParagraph:VE,TypographyText:UE,TypographyTitle:HE,Upload:o5e,UploadDragger:a5e,WeekPicker:sb,message:W8,notification:G8},Symbol.toStringTag,{value:"Module"})),s5e="3.2.20";var l5e=function(e){return Object.keys(wR).forEach(function(n){var r=wR[n];r.install&&e.use(r)}),e.config.globalProperties.$message=W8,e.config.globalProperties.$notification=G8,e.config.globalProperties.$info=Ha.info,e.config.globalProperties.$success=Ha.success,e.config.globalProperties.$error=Ha.error,e.config.globalProperties.$warning=Ha.warning,e.config.globalProperties.$confirm=Ha.confirm,e.config.globalProperties.$destroyAll=Ha.destroyAll,e};const u5e={version:s5e,install:l5e};/*!
 * Chartkick.js v5.0.1
 * Create beautiful charts with one line of JavaScript
 * https://github.com/ankane/chartkick.js
 * MIT License
 */function Pd(t){return Object.prototype.toString.call(t)==="[object Array]"}function KE(t){return t instanceof Function}function Mb(t){return Object.prototype.toString.call(t)==="[object Object]"&&!KE(t)&&t instanceof Object}function A6(t,e){for(var n in e)n!=="__proto__"&&(Mb(e[n])||Pd(e[n])?(Mb(e[n])&&!Mb(t[n])&&(t[n]={}),Pd(e[n])&&!Pd(t[n])&&(t[n]=[]),A6(t[n],e[n])):e[n]!==void 0&&(t[n]=e[n]))}function ea(t,e){var n={};return A6(n,t),A6(n,e),n}var c5e=/^(\d\d\d\d)(?:-)?(\d\d)(?:-)?(\d\d)$/i;function d5e(t){for(var e=0;e<t.length;e++)for(var n=t[e].data,r=0;r<n.length;r++)if(n[r][1]<0)return!0;return!1}function cc(t){return""+t}function du(t){return parseFloat(t)}function iu(t){if(t instanceof Date)return t;if(typeof t=="number")return new Date(t*1e3);var e=cc(t),n=e.match(c5e);if(n){var r=parseInt(n[1],10),i=parseInt(n[2],10)-1,o=parseInt(n[3],10);return new Date(r,i,o)}else{var l=e.replace(/ /,"T").replace(" ","").replace("UTC","Z");return new Date(Date.parse(l)||e)}}function WE(t){if(Pd(t))return t;var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push([n,t[n]]);return e}function b0(t,e,n,r,i,o,l,a){return function(f,p,v){var g=f.data,_=ea({},t);return _=ea(_,v||{}),(f.singleSeriesFormat||"legend"in p)&&e(_,p.legend,f.singleSeriesFormat),p.title&&n(_,p.title),"min"in p?r(_,p.min):d5e(g)||r(_,0),p.max&&i(_,p.max),"stacked"in p&&o(_,p.stacked),p.colors&&(_.colors=p.colors),p.xtitle&&l(_,p.xtitle),p.ytitle&&a(_,p.ytitle),_=ea(_,p.library||{}),_}}function f5e(t,e){return t[0].getTime()-e[0].getTime()}function GE(t,e){return t[0]-e[0]}function TH(t,e){return t-e}function Lp(t,e){for(var n=0;n<t.length;n++)if(!e(t[n]))return!1;return!0}function h5e(t){return t==="day"||t==="week"||t==="month"||t==="year"}function EH(t,e){if(e===void 0&&(e=!1),t.length===0)return null;var n=Lp(t,function(p){return p.getMilliseconds()===0&&p.getSeconds()===0});if(!n)return null;var r=Lp(t,function(p){return p.getMinutes()===0});if(!r)return"minute";var i=Lp(t,function(p){return p.getHours()===0});if(!i)return"hour";if(e)return"day";var o=Lp(t,function(p){return p.getDate()===1});if(!o){var l=t[0].getDay(),a=Lp(t,function(p){return p.getDay()===l});return a?"week":"day"}var f=Lp(t,function(p){return p.getMonth()===0});return f?"year":"month"}function T4(t){return!isNaN(iu(t))&&cc(t).length>=6}function p5e(t){return typeof t=="number"}var CR=["bytes","KB","MB","GB","TB","PB","EB"];function hl(t,e,n,r){t=t||"",n.prefix&&(e<0&&(e=e*-1,t+="-"),t+=n.prefix);var i=n.suffix||"",o=n.precision,l=n.round;if(n.byteScale){var a=e>=0;a||(e*=-1);var f=r?n.byteScale:e,p;f>=1152921504606847e3?(e/=1152921504606847e3,p=6):f>=0x4000000000000?(e/=0x4000000000000,p=5):f>=1099511627776?(e/=1099511627776,p=4):f>=1073741824?(e/=1073741824,p=3):f>=1048576?(e/=1048576,p=2):f>=1024?(e/=1024,p=1):p=0,o===void 0&&l===void 0&&(e>=1023.5&&p<CR.length-1&&(e=1,p+=1),o=e>=1e3?4:3),i=" "+CR[p],a||(e*=-1)}if(o!==void 0&&l!==void 0)throw Error("Use either round or precision, not both");if(!r&&(o!==void 0&&(e=e.toPrecision(o),n.zeros||(e=parseFloat(e))),l!==void 0))if(l<0){var v=Math.pow(10,-1*l);e=parseInt((1*e/v).toFixed(0))*v}else e=e.toFixed(l),n.zeros||(e=parseFloat(e));if(n.thousands||n.decimal){e=cc(e);var g=e.split(".");e=g[0],n.thousands&&(e=e.replace(/\B(?=(\d{3})+(?!\d))/g,n.thousands)),g.length>1&&(e+=(n.decimal||".")+g[1])}return t+e+i}function SR(t,e,n){return n in e?e[n]:n in t.options?t.options[n]:null}var qE={maintainAspectRatio:!1,animation:!1,plugins:{legend:{},tooltip:{displayColors:!1,callbacks:{}},title:{font:{size:20},color:"#333"}},interaction:{}},PH={scales:{y:{ticks:{maxTicksLimit:4},title:{font:{size:16},color:"#333"},grid:{}},x:{grid:{drawOnChartArea:!1},title:{font:{size:16},color:"#333"},time:{},ticks:{}}}},MH=["#3366CC","#DC3912","#FF9900","#109618","#990099","#3B3EAC","#0099C6","#DD4477","#66AA00","#B82E2E","#316395","#994499","#22AA99","#AAAA11","#6633CC","#E67300","#8B0707","#329262","#5574A6","#651067"];function YE(t,e,n){e!==void 0?(t.plugins.legend.display=!!e,e&&e!==!0&&(t.plugins.legend.position=e)):n&&(t.plugins.legend.display=!1)}function XE(t,e){t.plugins.title.display=!0,t.plugins.title.text=e}function v5e(t,e){e!==null&&(t.scales.y.min=du(e))}function m5e(t,e){t.scales.y.max=du(e)}function g5e(t,e){e!==null&&(t.scales.x.min=du(e))}function y5e(t,e){t.scales.x.max=du(e)}function kH(t,e){t.scales.x.stacked=!!e,t.scales.y.stacked=!!e}function AH(t,e){t.scales.x.title.display=!0,t.scales.x.title.text=e}function IH(t,e){t.scales.y.title.display=!0,t.scales.y.title.text=e}function TR(t,e){var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?"rgba("+parseInt(n[1],16)+", "+parseInt(n[2],16)+", "+parseInt(n[3],16)+", "+e+")":t}function td(t){return t!=null}function _5e(t,e,n){var r=Math.ceil(t.element.offsetWidth/4/e.labels.length);r>25?r=25:r<10&&(r=10),n.scales.x.ticks.callback||(n.scales.x.ticks.callback=function(i){return i=cc(this.getLabelForValue(i)),i.length>r?i.substring(0,r-2)+"...":i})}function b5e(t){for(var e=1,n=x5e(t);n>=1024;)e*=1024,n/=1024;return e}function uw(t,e,n){var r={thousands:t.options.thousands,decimal:t.options.decimal},i=ea({prefix:t.options.prefix,suffix:t.options.suffix,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros},r);if(t.options.bytes){var o=t.data;n==="pie"&&(o=[{data:o}]),i.byteScale=b5e(o)}if(n!=="pie"){var l=e.scales.y;n==="bar"&&(l=e.scales.x),i.byteScale&&(l.ticks.stepSize||(l.ticks.stepSize=i.byteScale/2),l.ticks.maxTicksLimit||(l.ticks.maxTicksLimit=4)),l.ticks.callback||(l.ticks.callback=function(f){return hl("",f,i,!0)}),(n==="scatter"||n==="bubble")&&!e.scales.x.ticks.callback&&(e.scales.x.ticks.callback=function(f){return hl("",f,r,!0)})}if(!e.plugins.tooltip.callbacks.label)if(n==="scatter")e.plugins.tooltip.callbacks.label=function(f){var p=f.dataset.label||"";p&&(p+=": ");var v=f.parsed;return p+"("+hl("",v.x,r)+", "+hl("",v.y,i)+")"};else if(n==="bubble")e.plugins.tooltip.callbacks.label=function(f){var p=f.dataset.label||"";p&&(p+=": ");var v=f.raw;return p+"("+hl("",v.x,r)+", "+hl("",v.y,i)+", "+hl("",v.v,r)+")"};else if(n==="pie")e.plugins.tooltip.callbacks.label=function(f){return hl("",f.parsed,i)};else{var a=n==="bar"?"x":"y";e.plugins.tooltip.callbacks.label=function(f){if(f.parsed[a]!==null){var p=f.dataset.label||"";return p&&(p+=": "),hl(p,f.parsed[a],i)}}}(n==="line"||n==="area")&&t.xtype==="number"&&(e.scales.x.ticks.callback||(e.scales.x.ticks.callback=function(f){return cc(f)}),e.plugins.tooltip.callbacks.title||(e.plugins.tooltip.callbacks.title=function(f){return cc(f[0].parsed.x)}))}function x5e(t){for(var e=0,n=0;n<t.length;n++)for(var r=t[n].data,i=0;i<r.length;i++){var o=Math.abs(r[i][1]);o>e&&(e=o)}return e}function w5e(t){for(var e=0,n=0;n<t.length;n++)for(var r=t[n].data,i=0;i<r.length;i++){var o=r[i][2];o>e&&(e=o)}return e}var ZE=b0(ea(qE,PH),YE,XE,v5e,m5e,kH,AH,IH);function C5e(t){for(var e=t.data,n={},r=[],i=[],o=[],l=0;l<e.length;l++)for(var a=e[l].data,f=0;f<a.length;f++){var p=a[f],v=t.xtype==="datetime"?p[0].getTime():p[0];n[v]||(n[v]=new Array(e.length),r.push(v)),n[v][l]=p[1]}(t.xtype==="datetime"||t.xtype==="number")&&r.sort(TH);for(var g=0;g<e.length;g++)o.push([]);for(var _=0;_<r.length;_++){var b=r[_],S=t.xtype==="datetime"?new Date(b):b;i.push(S);for(var E=n[b],P=0;P<e.length;P++){var k=E[P];o[P].push(k===void 0?null:k)}}return{labels:i,values:o}}function S5e(t){for(var e=t.data,n=[],r=w5e(e),i=0;i<e.length;i++){for(var o=e[i].data,l=[],a=0;a<o.length;a++){var f=o[a];l.push({x:f[0],y:f[1],r:f[2]*20/r,v:f[2]})}n.push(l)}return{labels:[],values:n}}function T5e(t){for(var e=t.data,n=[],r=0;r<e.length;r++){var i=e[r].data;i.sort(GE);for(var o=[],l=0;l<i.length;l++){var a=i[l];o.push({x:a[0],y:a[1]})}n.push(o)}return{labels:[],values:n}}function E5e(t,e){return e==="bubble"?S5e(t):t.xtype==="number"&&e!=="bar"&&e!=="column"?T5e(t):C5e(t)}function QE(t,e,n){for(var r=E5e(t,n),i=r.labels,o=r.values,l=t.data,a=[],f=t.options.colors||MH,p=0;p<l.length;p++){var v=l[p],g=void 0,_=void 0;if(t.options.colors&&t.singleSeriesFormat&&(n==="bar"||n==="column")&&!v.color&&Pd(t.options.colors)&&!Pd(t.options.colors[0])){g=f,_=[];for(var b=0;b<f.length;b++)_[b]=TR(g[b],.5)}else g=v.color||f[p],_=n!=="line"?TR(g,.5):g;var S={label:v.name||"",data:o[p],fill:n==="area",borderColor:g,backgroundColor:_,borderWidth:2},E=n==="line"||n==="area"||n==="scatter"||n==="bubble";E&&(S.pointBackgroundColor=g,S.pointHoverBackgroundColor=g,S.pointHitRadius=50),n==="bubble"&&(S.pointBackgroundColor=_,S.pointHoverBackgroundColor=_,S.pointHoverBorderWidth=2),v.stack&&(S.stack=v.stack);var P=SR(t,v,"curve");P===!1?S.tension=0:E&&(S.tension=.4);var k=SR(t,v,"points");k===!1&&(S.pointRadius=0,S.pointHoverRadius=0),S=ea(S,t.options.dataset||{}),S=ea(S,v.library||{}),S=ea(S,v.dataset||{}),a.push(S)}var I=t.options.xmin,D=t.options.xmax;if(t.xtype==="datetime"?(td(I)&&(e.scales.x.min=iu(I).getTime()),td(D)&&(e.scales.x.max=iu(D).getTime())):t.xtype==="number"&&(td(I)&&(e.scales.x.min=I),td(D)&&(e.scales.x.max=D)),t.xtype==="datetime"){var L=EH(i);if(i.length===0&&(td(I)&&i.push(iu(I)),td(D)&&i.push(iu(D))),i.length>0){for(var B=(td(I)?iu(I):i[0]).getTime(),N=(td(D)?iu(D):i[0]).getTime(),j=1;j<i.length;j++){var H=i[j].getTime();H<B&&(B=H),H>N&&(N=H)}var V=(N-B)/(86400*1e3);if(!e.scales.x.time.unit){var Z;if(L==="year"||V>365*10?(e.scales.x.time.unit="year",Z=365):L==="month"||V>30*10?(e.scales.x.time.unit="month",Z=30):L==="week"||L==="day"||V>10?(e.scales.x.time.unit="day",Z=1):L==="hour"||V>.5?(e.scales.x.time.displayFormats={hour:"MMM d, h a"},e.scales.x.time.unit="hour",Z=1/24):L==="minute"&&(e.scales.x.time.displayFormats={minute:"h:mm a"},e.scales.x.time.unit="minute",Z=1/24/60),Z&&V>0){var re=t.element.offsetWidth;if(re>0){var q=Math.ceil(V/Z/(re/100));L==="week"&&Z===1&&(q=Math.ceil(q/7)*7),e.scales.x.ticks.stepSize=q}}}e.scales.x.time.tooltipFormat||(L==="year"?e.scales.x.time.tooltipFormat="yyyy":L==="month"?e.scales.x.time.tooltipFormat="MMM yyyy":L==="week"||L==="day"?e.scales.x.time.tooltipFormat="PP":L==="hour"?e.scales.x.time.tooltipFormat="MMM d, h a":L==="minute"&&(e.scales.x.time.tooltipFormat="h:mm a"))}}return{labels:i,datasets:a}}var yu=function(e){this.name="chartjs",this.library=e};yu.prototype.renderLineChart=function(e,n){n||(n="line");var r={},i=ZE(e,ea(r,e.options));uw(e,i,n);var o=QE(e,i,n);e.xtype==="number"?(i.scales.x.type=i.scales.x.type||"linear",i.scales.x.position=i.scales.x.position||"bottom"):i.scales.x.type=e.xtype==="string"?"category":"time",this.drawChart(e,"line",o,i)};yu.prototype.renderPieChart=function(e){var n=ea({},qE);e.options.donut&&(n.cutout="50%"),"legend"in e.options&&YE(n,e.options.legend),e.options.title&&XE(n,e.options.title),n=ea(n,e.options.library||{}),uw(e,n,"pie");for(var r=[],i=[],o=0;o<e.data.length;o++){var l=e.data[o];r.push(l[0]),i.push(l[1])}var a={data:i,backgroundColor:e.options.colors||MH};a=ea(a,e.options.dataset||{});var f={labels:r,datasets:[a]};this.drawChart(e,"pie",f,n)};yu.prototype.renderColumnChart=function(e,n){var r;if(n==="bar"){var i=ea(qE,PH);i.indexAxis="y",i.scales.x.grid.drawOnChartArea=!0,i.scales.y.grid.drawOnChartArea=!1,delete i.scales.y.ticks.maxTicksLimit,r=b0(i,YE,XE,g5e,y5e,kH,AH,IH)(e,e.options)}else r=ZE(e,e.options);uw(e,r,n);var o=QE(e,r,"column");n!=="bar"&&_5e(e,o,r),"mode"in r.interaction||(r.interaction.mode="index"),this.drawChart(e,"bar",o,r)};yu.prototype.renderAreaChart=function(e){this.renderLineChart(e,"area")};yu.prototype.renderBarChart=function(e){this.renderColumnChart(e,"bar")};yu.prototype.renderScatterChart=function(e,n){n=n||"scatter";var r=ZE(e,e.options);uw(e,r,n),"showLine"in r||(r.showLine=!1);var i=QE(e,r,n);r.scales.x.type=r.scales.x.type||"linear",r.scales.x.position=r.scales.x.position||"bottom","mode"in r.interaction||(r.interaction.mode="nearest"),this.drawChart(e,n,i,r)};yu.prototype.renderBubbleChart=function(e){this.renderScatterChart(e,"bubble")};yu.prototype.destroy=function(e){e.chart&&e.chart.destroy()};yu.prototype.drawChart=function(e,n,r,i){if(this.destroy(e),!e.destroyed){var o={type:n,data:r,options:i};e.options.code&&window.console.log("new Chart(ctx, "+JSON.stringify(o)+");"),e.element.innerHTML="<canvas></canvas>";var l=e.element.getElementsByTagName("CANVAS")[0];e.chart=new this.library(l,o)}};var OH={chart:{},xAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},yAxis:{title:{text:null},labels:{style:{fontSize:"12px"}}},title:{text:null},credits:{enabled:!1},legend:{borderWidth:0},tooltip:{style:{fontSize:"12px"}},plotOptions:{areaspline:{},area:{},series:{marker:{}}},time:{useUTC:!1}};function DH(t,e,n){e!==void 0?(t.legend.enabled=!!e,e&&e!==!0&&(e==="top"||e==="bottom"?t.legend.verticalAlign=e:(t.legend.layout="vertical",t.legend.verticalAlign="middle",t.legend.align=e))):n&&(t.legend.enabled=!1)}function RH(t,e){t.title.text=e}function P5e(t,e){t.yAxis.min=e}function M5e(t,e){t.yAxis.max=e}function k5e(t,e){var n=e?e===!0?"normal":e:null;t.plotOptions.series.stacking=n,t.plotOptions.area.stacking=n,t.plotOptions.areaspline.stacking=n}function A5e(t,e){t.xAxis.title.text=e}function I5e(t,e){t.yAxis.title.text=e}var JE=b0(OH,DH,RH,P5e,M5e,k5e,A5e,I5e);function eP(t,e,n){var r={prefix:t.options.prefix,suffix:t.options.suffix,thousands:t.options.thousands,decimal:t.options.decimal,precision:t.options.precision,round:t.options.round,zeros:t.options.zeros};n!=="pie"&&!Pd(e.yAxis)&&!e.yAxis.labels.formatter&&(e.yAxis.labels.formatter=function(){return hl("",this.value,r)}),!e.tooltip.pointFormatter&&!e.tooltip.pointFormat&&(e.tooltip.pointFormatter=function(){return'<span style="color:'+this.color+'"></span> '+hl(this.series.name+": <b>",this.y,r)+"</b><br/>"})}var vc=function(e){this.name="highcharts",this.library=e};vc.prototype.renderLineChart=function(e,n){n=n||"spline";var r={};n==="areaspline"&&(r={plotOptions:{areaspline:{stacking:"normal"},area:{stacking:"normal"},series:{marker:{enabled:!1}}}}),e.options.curve===!1&&(n==="areaspline"?n="area":n==="spline"&&(n="line"));var i=JE(e,e.options,r);e.xtype==="number"?i.xAxis.type=i.xAxis.type||"linear":i.xAxis.type=e.xtype==="string"?"category":"datetime",i.chart.type||(i.chart.type=n),eP(e,i,n);for(var o=e.data,l=0;l<o.length;l++){o[l].name=o[l].name||"Value";var a=o[l].data;if(e.xtype==="datetime")for(var f=0;f<a.length;f++)a[f][0]=a[f][0].getTime();else e.xtype==="number"&&a.sort(GE);o[l].marker={symbol:"circle"},e.options.points===!1&&(o[l].marker.enabled=!1)}this.drawChart(e,o,i)};vc.prototype.renderScatterChart=function(e){var n=JE(e,e.options,{});n.chart.type="scatter",this.drawChart(e,e.data,n)};vc.prototype.renderPieChart=function(e){var n=ea(OH,{});e.options.colors&&(n.colors=e.options.colors),e.options.donut&&(n.plotOptions={pie:{innerSize:"50%"}}),"legend"in e.options&&DH(n,e.options.legend),e.options.title&&RH(n,e.options.title);var r=ea(n,e.options.library||{});eP(e,r,"pie");var i=[{type:"pie",name:e.options.label||"Value",data:e.data}];this.drawChart(e,i,r)};vc.prototype.renderColumnChart=function(e,n){n=n||"column";var r=e.data,i=JE(e,e.options),o=[],l=[];i.chart.type=n,eP(e,i,n);for(var a=0;a<r.length;a++)for(var f=r[a],p=0;p<f.data.length;p++){var v=f.data[p];o[v[0]]||(o[v[0]]=new Array(r.length),l.push(v[0])),o[v[0]][a]=v[1]}e.xtype==="number"&&l.sort(TH),i.xAxis.categories=l;for(var g=[],_=0;_<r.length;_++){for(var b=[],S=0;S<l.length;S++)b.push(o[l[S]][_]||0);var E={name:r[_].name||"Value",data:b};r[_].stack&&(E.stack=r[_].stack),g.push(E)}this.drawChart(e,g,i)};vc.prototype.renderBarChart=function(e){this.renderColumnChart(e,"bar")};vc.prototype.renderAreaChart=function(e){this.renderLineChart(e,"areaspline")};vc.prototype.destroy=function(e){e.chart&&e.chart.destroy()};vc.prototype.drawChart=function(e,n,r){this.destroy(e),!e.destroyed&&(r.chart.renderTo=e.element.id,r.series=n,e.options.code&&window.console.log("new Highcharts.Chart("+JSON.stringify(r)+");"),e.chart=new this.library.Chart(r))};var ER={},kb=[],x0={chartArea:{},fontName:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif",pointSize:6,legend:{textStyle:{fontSize:12,color:"#444"},alignment:"center",position:"right"},curveType:"function",hAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},gridlines:{color:"transparent"},baselineColor:"#ccc",viewWindow:{}},vAxis:{textStyle:{color:"#666",fontSize:12},titleTextStyle:{},baselineColor:"#ccc",viewWindow:{}},tooltip:{textStyle:{color:"#666",fontSize:12}}};function tP(t,e,n){if(e!==void 0){var r;e?e===!0?r="right":r=e:r="none",t.legend.position=r}else n&&(t.legend.position="none")}function nP(t,e){t.title=e,t.titleTextStyle={color:"#333",fontSize:"20px"}}function O5e(t,e){t.vAxis.viewWindow.min=e}function D5e(t,e){t.vAxis.viewWindow.max=e}function R5e(t,e){t.hAxis.viewWindow.min=e}function L5e(t,e){t.hAxis.viewWindow.max=e}function LH(t,e){t.isStacked=e||!1}function FH(t,e){t.hAxis.title=e,t.hAxis.titleTextStyle.italic=!1}function NH(t,e){t.vAxis.title=e,t.vAxis.titleTextStyle.italic=!1}var cw=b0(x0,tP,nP,O5e,D5e,LH,FH,NH);function F5e(t){window.attachEvent?window.attachEvent("onresize",t):window.addEventListener&&window.addEventListener("resize",t,!0),t()}var ns=function(e){this.name="google",this.library=e};ns.prototype.renderLineChart=function(e){var n=this;this.waitForLoaded(e,function(){var r={};e.options.curve===!1&&(r.curveType="none"),e.options.points===!1&&(r.pointSize=0);var i=cw(e,e.options,r),o=n.createDataTable(e.data,e.xtype);n.drawChart(e,"LineChart",o,i)})};ns.prototype.renderPieChart=function(e){var n=this;this.waitForLoaded(e,function(){var r={chartArea:{top:"10%",height:"80%"},legend:{}};e.options.colors&&(r.colors=e.options.colors),e.options.donut&&(r.pieHole=.5),"legend"in e.options&&tP(r,e.options.legend),e.options.title&&nP(r,e.options.title);var i=ea(ea(x0,r),e.options.library||{}),o=new n.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number","Value"),o.addRows(e.data),n.drawChart(e,"PieChart",o,i)})};ns.prototype.renderColumnChart=function(e){var n=this;this.waitForLoaded(e,function(){var r=cw(e,e.options),i=n.createDataTable(e.data,e.xtype);n.drawChart(e,"ColumnChart",i,r)})};ns.prototype.renderBarChart=function(e){var n=this;this.waitForLoaded(e,function(){var r={hAxis:{gridlines:{color:"#ccc"}}},i=b0(x0,tP,nP,R5e,L5e,LH,FH,NH)(e,e.options,r),o=n.createDataTable(e.data,e.xtype);n.drawChart(e,"BarChart",o,i)})};ns.prototype.renderAreaChart=function(e){var n=this;this.waitForLoaded(e,function(){var r={isStacked:!0,pointSize:0,areaOpacity:.5},i=cw(e,e.options,r),o=n.createDataTable(e.data,e.xtype);n.drawChart(e,"AreaChart",o,i)})};ns.prototype.renderGeoChart=function(e){var n=this;this.waitForLoaded(e,"geochart",function(){var r={legend:"none",colorAxis:{colors:e.options.colors||["#f6c7b6","#ce502d"]}},i=ea(ea(x0,r),e.options.library||{}),o=new n.library.visualization.DataTable;o.addColumn("string",""),o.addColumn("number",e.options.label||"Value"),o.addRows(e.data),n.drawChart(e,"GeoChart",o,i)})};ns.prototype.renderScatterChart=function(e){var n=this;this.waitForLoaded(e,function(){for(var r={},i=cw(e,e.options,r),o=e.data,l=[],a=0;a<o.length;a++){o[a].name=o[a].name||"Value";for(var f=o[a].data,p=0;p<f.length;p++){var v=new Array(o.length+1);v[0]=f[p][0],v[a+1]=f[p][1],l.push(v)}}var g=new n.library.visualization.DataTable;g.addColumn("number","");for(var _=0;_<o.length;_++)g.addColumn("number",o[_].name);g.addRows(l),n.drawChart(e,"ScatterChart",g,i)})};ns.prototype.renderTimeline=function(e){var n=this;this.waitForLoaded(e,"timeline",function(){var r={legend:"none"};e.options.colors&&(r.colors=e.options.colors);var i=ea(ea(x0,r),e.options.library||{}),o=new n.library.visualization.DataTable;o.addColumn({type:"string",id:"Name"}),o.addColumn({type:"date",id:"Start"}),o.addColumn({type:"date",id:"End"}),o.addRows(e.data),e.element.style.lineHeight="normal",n.drawChart(e,"Timeline",o,i)})};ns.prototype.destroy=function(e){e.chart&&e.chart.clearChart()};ns.prototype.drawChart=function(e,n,r,i){this.destroy(e),!e.destroyed&&(e.options.code&&window.console.log("var data = new google.visualization.DataTable("+r.toJSON()+`);
var chart = new google.visualization.`+n+`(element);
chart.draw(data, `+JSON.stringify(i)+");"),e.chart=new this.library.visualization[n](e.element),F5e(function(){e.chart.draw(r,i)}))};ns.prototype.waitForLoaded=function(e,n,r){var i=this;if(r||(r=n,n="corechart"),kb.push({pack:n,callback:r}),ER[n])this.runCallbacks();else{ER[n]=!0;var o={packages:[n],callback:function(){i.runCallbacks()}},l=e.__config();l.language&&(o.language=l.language),n==="geochart"&&l.mapsApiKey&&(o.mapsApiKey=l.mapsApiKey),this.library.charts.load("current",o)}};ns.prototype.runCallbacks=function(){for(var e=0;e<kb.length;e++){var n=kb[e],r=this.library.visualization&&(n.pack==="corechart"&&this.library.visualization.LineChart||n.pack==="timeline"&&this.library.visualization.Timeline||n.pack==="geochart"&&this.library.visualization.GeoChart);r&&(n.callback(),kb.splice(e,1),e--)}};ns.prototype.createDataTable=function(e,n){for(var r=[],i=[],o=0;o<e.length;o++){var l=e[o];e[o].name=e[o].name||"Value";for(var a=0;a<l.data.length;a++){var f=l.data[a],p=n==="datetime"?f[0].getTime():f[0];r[p]||(r[p]=new Array(e.length),i.push(p)),r[p][o]=f[1]}}for(var v=[],g=[],_=0;_<i.length;_++){var b=i[_],S=void 0;n==="datetime"?(S=new Date(b),g.push(S)):S=b,v.push([S].concat(r[b]))}var E=!0;if(n==="datetime"){v.sort(f5e);var P=EH(g,!0);E=h5e(P)}else if(n==="number"){v.sort(GE);for(var k=0;k<v.length;k++)v[k][0]=cc(v[k][0]);n="string"}var I=new this.library.visualization.DataTable;n=n==="datetime"&&E?"date":n,I.addColumn(n,"");for(var D=0;D<e.length;D++)I.addColumn("number",e[D].name);return I.addRows(v),I};var fh=[];function N5e(t){if(t){if(t.product==="Highcharts")return vc;if(t.charts)return ns;if(KE(t))return yu}throw new Error("Unknown adapter")}function h1(t){for(var e=N5e(t),n=0;n<fh.length;n++)if(fh[n].library===t)return;fh.push(new e(t))}function B5e(){"Chart"in window&&h1(window.Chart),"Highcharts"in window&&h1(window.Highcharts),window.google&&window.google.charts&&h1(window.google)}function z5e(t,e){var n="render"+t,r=e.options.adapter;B5e();for(var i=0;i<fh.length;i++){var o=fh[i];if((!r||r===o.name)&&KE(o[n]))return e.adapter=o.name,e.__adapterObject=o,o[n](e)}throw fh.length>0?new Error("No charting library found for "+t):new Error("No charting libraries found - be sure to include one before your charts")}var Sr={charts:{},configure:function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(Sr.config[e]=t[e])},setDefaultOptions:function(t){Sr.options=t},eachChart:function(t){for(var e in Sr.charts)Object.prototype.hasOwnProperty.call(Sr.charts,e)&&t(Sr.charts[e])},destroyAll:function(){for(var t in Sr.charts)Object.prototype.hasOwnProperty.call(Sr.charts,t)&&(Sr.charts[t].destroy(),delete Sr.charts[t])},config:{},options:{},adapters:fh,addAdapter:h1,use:function(t){return h1(t),Sr}};function $5e(t){for(var e=[],n=0;n<t.length;n++)e.push([du(t[n][0]),du(t[n][1]),du(t[n][2])]);return e}function j5e(t,e){if(e==="bubble")return $5e(t);var n;e==="number"?n=du:e==="datetime"?n=iu:n=cc;for(var r=[],i=0;i<t.length;i++)r.push([n(t[i][0]),du(t[i][1])]);return r}function V5e(t,e,n){return zH(t)?(n.xmin||n.xmax)&&(!n.xmin||T4(n.xmin))&&(!n.xmax||T4(n.xmax))?"datetime":"number":PR(t,p5e)?"number":!e&&PR(t,T4)?"datetime":"string"}function PR(t,e){for(var n=0;n<t.length;n++)for(var r=WE(t[n].data),i=0;i<r.length;i++)if(!e(r[i][0]))return!1;return!0}function U5e(t){for(var e=[],n=0;n<t.length;n++){var r={};for(var i in t[n])Object.prototype.hasOwnProperty.call(t[n],i)&&(r[i]=t[n][i]);e.push(r)}return e}function Xv(t,e,n){var r=t.options,i=t.rawData;t.singleSeriesFormat=!Pd(i)||!Mb(i[0]),t.singleSeriesFormat&&(i=[{name:r.label,data:i}]),i=U5e(i);for(var o=0;o<i.length;o++)i[o].data=WE(i[o].data);t.xtype=e||(r.discrete?"string":V5e(i,n,r));for(var l=0;l<i.length;l++)i[l].data=j5e(i[l].data,t.xtype);return i}function BH(t){for(var e=WE(t.rawData),n=0;n<e.length;n++)e[n]=[cc(e[n][0]),du(e[n][1])];return e}function zH(t,e){if(e==="PieChart"||e==="GeoChart"||e==="Timeline")return t.length===0;for(var n=0;n<t.length;n++)if(t[n].data.length>0)return!1;return!0}function H5e(t){var e=t.options.download;e===!0?e={}:typeof e=="string"&&(e={filename:e});var n=document.createElement("a");n.download=e.filename||"chart.png",n.style.position="absolute",n.style.top="20px",n.style.right="20px",n.style.zIndex=1e3,n.style.lineHeight="20px",n.target="_blank";var r=document.createElement("img"),i='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path fill="#CCCCCC" d="M344 240h-56L287.1 152c0-13.25-10.75-24-24-24h-16C234.7 128 223.1 138.8 223.1 152L224 240h-56c-9.531 0-18.16 5.656-22 14.38C142.2 263.1 143.9 273.3 150.4 280.3l88.75 96C243.7 381.2 250.1 384 256.8 384c7.781-.3125 13.25-2.875 17.75-7.844l87.25-96c6.406-7.031 8.031-17.19 4.188-25.88S353.5 240 344 240zM256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 464c-114.7 0-208-93.31-208-208S141.3 48 256 48s208 93.31 208 208S370.7 464 256 464z"/></svg>';r.src="data:image/svg+xml;utf8,"+encodeURIComponent(i),r.alt="Download",r.style.width="20px",r.style.height="20px",r.style.border="none",n.appendChild(r);var o=t.element;o.style.position="relative",t.__downloadAttached=!0,t.__enterEvent=o.addEventListener("mouseover",function(l){var a=l.relatedTarget;(!a||a!==this&&!this.contains(a))&&t.options.download&&(n.href=t.toImage(e),o.appendChild(n))}),t.__leaveEvent=o.addEventListener("mouseout",function(l){var a=l.relatedTarget;(!a||a!==this&&!this.contains(a))&&n.parentNode&&n.parentNode.removeChild(n)})}var $H=[],I6=0,K5e=4;function W5e(t,e,n){$H.push([t,e,n]),rP()}function rP(){if(I6<K5e){var t=$H.shift();t&&(I6++,q5e(t[0],t[1],t[2]),rP())}}function G5e(){I6--,rP()}function q5e(t,e,n){var r=new XMLHttpRequest;r.open("GET",t,!0),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){G5e(),r.status===200?e(JSON.parse(r.responseText)):n(r.statusText)},r.send()}function iP(t,e){t.textContent=e}function Ab(t,e,n){n||(e="Error Loading Chart: "+e),iP(t,e),t.style.color="#ff0000"}function E4(t){try{t.__render()}catch(e){throw Ab(t.element,e.message),e}}function W1(t,e,n){if(n&&t.options.loading&&(typeof e=="string"||typeof e=="function")&&iP(t.element,t.options.loading),typeof e=="string")W5e(e,function(r){t.rawData=r,E4(t)},function(r){Ab(t.element,r)});else if(typeof e=="function")try{e(function(r){t.rawData=r,E4(t)},function(r){Ab(t.element,r,!0)})}catch(r){Ab(t.element,r,!0)}else t.rawData=e,E4(t)}function Y5e(t,e){if(zH(e.data,t)){var n=e.options.empty||e.options.messages&&e.options.messages.empty||"No data";iP(e.element,n)}else z5e(t,e),e.options.download&&!e.__downloadAttached&&e.adapter==="chartjs"&&H5e(e)}function X5e(t){if(typeof t=="string"){var e=t;if(t=document.getElementById(t),!t)throw new Error("No element with id "+e)}return t}var Ri=function(e,n,r){this.element=X5e(e),this.options=ea(Sr.options,r||{}),this.dataSource=n,this.element.id&&(Sr.charts[this.element.id]=this),W1(this,n,!0),this.options.refresh&&this.startRefresh()};Ri.prototype.getElement=function(){return this.element};Ri.prototype.getDataSource=function(){return this.dataSource};Ri.prototype.getData=function(){return this.data};Ri.prototype.getOptions=function(){return this.options};Ri.prototype.getChartObject=function(){return this.chart};Ri.prototype.getAdapter=function(){return this.adapter};Ri.prototype.updateData=function(e,n){this.dataSource=e,n&&this.__updateOptions(n),W1(this,e,!0)};Ri.prototype.setOptions=function(e){this.__updateOptions(e),this.redraw()};Ri.prototype.redraw=function(){W1(this,this.rawData)};Ri.prototype.refreshData=function(){if(typeof this.dataSource=="string"){var e=this.dataSource.indexOf("?")===-1?"?":"&",n=this.dataSource+e+"_="+new Date().getTime();W1(this,n)}else typeof this.dataSource=="function"&&W1(this,this.dataSource)};Ri.prototype.startRefresh=function(){var e=this,n=this.options.refresh;if(n&&typeof this.dataSource!="string"&&typeof this.dataSource!="function")throw new Error("Data source must be a URL or callback for refresh");if(!this.intervalId)if(n)this.intervalId=setInterval(function(){e.refreshData()},n*1e3);else throw new Error("No refresh interval")};Ri.prototype.stopRefresh=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)};Ri.prototype.toImage=function(e){if(this.adapter==="chartjs")if(e&&e.background&&e.background!=="transparent"){var n=this.chart.canvas,r=this.chart.ctx,i=document.createElement("canvas"),o=i.getContext("2d");return i.width=r.canvas.width,i.height=r.canvas.height,o.fillStyle=e.background,o.fillRect(0,0,i.width,i.height),o.drawImage(n,0,0),i.toDataURL("image/png")}else return this.chart.toBase64Image();else throw new Error("Feature only available for Chart.js")};Ri.prototype.destroy=function(){this.destroyed=!0,this.stopRefresh(),this.__adapterObject&&this.__adapterObject.destroy(this),this.__enterEvent&&this.element.removeEventListener("mouseover",this.__enterEvent),this.__leaveEvent&&this.element.removeEventListener("mouseout",this.__leaveEvent)};Ri.prototype.__updateOptions=function(e){var n=e.refresh&&e.refresh!==this.options.refresh;this.options=ea(Sr.options,e),n&&(this.stopRefresh(),this.startRefresh())};Ri.prototype.__render=function(){this.data=this.__processData(),Y5e(this.__chartName(),this)};Ri.prototype.__config=function(){return Sr.config};var Z5e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Xv(this)},e.prototype.__chartName=function(){return"LineChart"},e}(Ri),Q5e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return BH(this)},e.prototype.__chartName=function(){return"PieChart"},e}(Ri),J5e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Xv(this,null,!0)},e.prototype.__chartName=function(){return"ColumnChart"},e}(Ri),e8e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Xv(this,null,!0)},e.prototype.__chartName=function(){return"BarChart"},e}(Ri),t8e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Xv(this)},e.prototype.__chartName=function(){return"AreaChart"},e}(Ri),n8e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return BH(this)},e.prototype.__chartName=function(){return"GeoChart"},e}(Ri),r8e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Xv(this,"number")},e.prototype.__chartName=function(){return"ScatterChart"},e}(Ri),i8e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){return Xv(this,"bubble")},e.prototype.__chartName=function(){return"BubbleChart"},e}(Ri),a8e=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__processData=function(){for(var r=this.rawData,i=0;i<r.length;i++)r[i][1]=iu(r[i][1]),r[i][2]=iu(r[i][2]);return r},e.prototype.__chartName=function(){return"Timeline"},e}(Ri);Sr.LineChart=Z5e;Sr.PieChart=Q5e;Sr.ColumnChart=J5e;Sr.BarChart=e8e;Sr.AreaChart=t8e;Sr.GeoChart=n8e;Sr.ScatterChart=r8e;Sr.BubbleChart=i8e;Sr.Timeline=a8e;typeof window<"u"&&!window.Chartkick&&(window.Chartkick=Sr,document.addEventListener("turbolinks:before-render",function(){Sr.config.autoDestroy!==!1&&Sr.destroyAll()}),document.addEventListener("turbo:before-render",function(){Sr.config.autoDestroy!==!1&&Sr.destroyAll()}),setTimeout(function(){window.dispatchEvent(new Event("chartkick:load"))},0));Sr.default=Sr;/*!
 * Vue Chartkick
 * Create beautiful JavaScript charts with one line of Vue
 * https://github.com/ankane/vue-chartkick
 * v1.1.0
 * MIT License
 */var o8e=1,nd=function(t,e,n){var r=["adapter","bytes","code","colors","curve","dataset","decimal","discrete","donut","download","empty","label","legend","library","loading","max","messages","min","points","precision","prefix","refresh","round","stacked","suffix","thousands","title","xmax","xmin","xtitle","ytitle","zeros"];t.component(e,{props:["data","id","width","height"].concat(r),render:function(){var i=this.chartOptions.loading!==void 0?this.chartOptions.loading:"Loading...";if(typeof i!="string")throw new Error("loading must be a string");return vv("div",{id:this.chartId,style:this.chartStyle},[i])},data:function(){return{chartId:null}},computed:{chartStyle:function(){return this.data,this.chartOptions,{height:this.height||"300px",lineHeight:this.height||"300px",width:this.width||"100%",textAlign:"center",color:"#999",fontSize:"14px",fontFamily:"'Lucida Grande', 'Lucida Sans Unicode', Verdana, Arial, Helvetica, sans-serif"}},chartOptions:function(){for(var i={},o=r,l=0;l<o.length;l++){var a=o[l];this[a]!==void 0&&(i[a]=this[a])}return i}},created:function(){this.chartId=this.chartId||this.id||"chart-"+o8e++},mounted:function(){this.updateChart()},updated:function(){this.updateChart()},beforeUnmount:function(){this.chart&&this.chart.destroy()},methods:{updateChart:function(){this.data!==null?this.chart?this.chart.updateData(this.data,this.chartOptions):this.chart=new n(this.chartId,this.data,this.chartOptions):this.chart&&(this.chart.destroy(),this.chart=null,this.$el.innerText="Loading...")}}})};Sr.install=function(t,e){e&&e.adapter&&Sr.addAdapter(e.adapter),nd(t,"line-chart",Sr.LineChart),nd(t,"pie-chart",Sr.PieChart),nd(t,"column-chart",Sr.ColumnChart),nd(t,"bar-chart",Sr.BarChart),nd(t,"area-chart",Sr.AreaChart),nd(t,"scatter-chart",Sr.ScatterChart),nd(t,"geo-chart",Sr.GeoChart),nd(t,"timeline",Sr.Timeline)};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function w0(t){return t+.5|0}const yd=(t,e,n)=>Math.max(Math.min(t,n),e);function $g(t){return yd(w0(t*2.55),0,255)}function Md(t){return yd(w0(t*255),0,255)}function Zu(t){return yd(w0(t/2.55)/100,0,1)}function MR(t){return yd(w0(t*100),0,100)}const js={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},O6=[..."0123456789ABCDEF"],s8e=t=>O6[t&15],l8e=t=>O6[(t&240)>>4]+O6[t&15],A_=t=>(t&240)>>4===(t&15),u8e=t=>A_(t.r)&&A_(t.g)&&A_(t.b)&&A_(t.a);function c8e(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&js[t[1]]*17,g:255&js[t[2]]*17,b:255&js[t[3]]*17,a:e===5?js[t[4]]*17:255}:(e===7||e===9)&&(n={r:js[t[1]]<<4|js[t[2]],g:js[t[3]]<<4|js[t[4]],b:js[t[5]]<<4|js[t[6]],a:e===9?js[t[7]]<<4|js[t[8]]:255})),n}const d8e=(t,e)=>t<255?e(t):"";function f8e(t){var e=u8e(t)?s8e:l8e;return t?"#"+e(t.r)+e(t.g)+e(t.b)+d8e(t.a,e):void 0}const h8e=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function jH(t,e,n){const r=e*Math.min(n,1-n),i=(o,l=(o+t/30)%12)=>n-r*Math.max(Math.min(l-3,9-l,1),-1);return[i(0),i(8),i(4)]}function p8e(t,e,n){const r=(i,o=(i+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function v8e(t,e,n){const r=jH(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function m8e(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}function aP(t){const n=t.r/255,r=t.g/255,i=t.b/255,o=Math.max(n,r,i),l=Math.min(n,r,i),a=(o+l)/2;let f,p,v;return o!==l&&(v=o-l,p=a>.5?v/(2-o-l):v/(o+l),f=m8e(n,r,i,v,o),f=f*60+.5),[f|0,p||0,a]}function oP(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Md)}function sP(t,e,n){return oP(jH,t,e,n)}function g8e(t,e,n){return oP(v8e,t,e,n)}function y8e(t,e,n){return oP(p8e,t,e,n)}function VH(t){return(t%360+360)%360}function _8e(t){const e=h8e.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?$g(+e[5]):Md(+e[5]));const i=VH(+e[2]),o=+e[3]/100,l=+e[4]/100;return e[1]==="hwb"?r=g8e(i,o,l):e[1]==="hsv"?r=y8e(i,o,l):r=sP(i,o,l),{r:r[0],g:r[1],b:r[2],a:n}}function b8e(t,e){var n=aP(t);n[0]=VH(n[0]+e),n=sP(n),t.r=n[0],t.g=n[1],t.b=n[2]}function x8e(t){if(!t)return;const e=aP(t),n=e[0],r=MR(e[1]),i=MR(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${i}%, ${Zu(t.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const kR={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},AR={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function w8e(){const t={},e=Object.keys(AR),n=Object.keys(kR);let r,i,o,l,a;for(r=0;r<e.length;r++){for(l=a=e[r],i=0;i<n.length;i++)o=n[i],a=a.replace(o,kR[o]);o=parseInt(AR[l],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}let I_;function C8e(t){I_||(I_=w8e(),I_.transparent=[0,0,0,0]);const e=I_[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const S8e=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function T8e(t){const e=S8e.exec(t);let n=255,r,i,o;if(e){if(e[7]!==r){const l=+e[7];n=e[8]?$g(l):yd(l*255,0,255)}return r=+e[1],i=+e[3],o=+e[5],r=255&(e[2]?$g(r):yd(r,0,255)),i=255&(e[4]?$g(i):yd(i,0,255)),o=255&(e[6]?$g(o):yd(o,0,255)),{r,g:i,b:o,a:n}}}function E8e(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Zu(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const P4=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Fp=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function P8e(t,e,n){const r=Fp(Zu(t.r)),i=Fp(Zu(t.g)),o=Fp(Zu(t.b));return{r:Md(P4(r+n*(Fp(Zu(e.r))-r))),g:Md(P4(i+n*(Fp(Zu(e.g))-i))),b:Md(P4(o+n*(Fp(Zu(e.b))-o))),a:t.a+n*(e.a-t.a)}}function O_(t,e,n){if(t){let r=aP(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=sP(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function UH(t,e){return t&&Object.assign(e||{},t)}function IR(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Md(t[3]))):(e=UH(t,{r:0,g:0,b:0,a:1}),e.a=Md(e.a)),e}function M8e(t){return t.charAt(0)==="r"?T8e(t):_8e(t)}class G1{constructor(e){if(e instanceof G1)return e;const n=typeof e;let r;n==="object"?r=IR(e):n==="string"&&(r=c8e(e)||C8e(e)||M8e(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=UH(this._rgb);return e&&(e.a=Zu(e.a)),e}set rgb(e){this._rgb=IR(e)}rgbString(){return this._valid?E8e(this._rgb):void 0}hexString(){return this._valid?f8e(this._rgb):void 0}hslString(){return this._valid?x8e(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,i=e.rgb;let o;const l=n===o?.5:n,a=2*l-1,f=r.a-i.a,p=((a*f===-1?a:(a+f)/(1+a*f))+1)/2;o=1-p,r.r=255&p*r.r+o*i.r+.5,r.g=255&p*r.g+o*i.g+.5,r.b=255&p*r.b+o*i.b+.5,r.a=l*r.a+(1-l)*i.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=P8e(this._rgb,e._rgb,n)),this}clone(){return new G1(this.rgb)}alpha(e){return this._rgb.a=Md(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=w0(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return O_(this._rgb,2,e),this}darken(e){return O_(this._rgb,2,-e),this}saturate(e){return O_(this._rgb,1,e),this}desaturate(e){return O_(this._rgb,1,-e),this}rotate(e){return b8e(this._rgb,e),this}}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */function Vu(){}const k8e=(()=>{let t=0;return()=>t++})();function Kr(t){return t===null||typeof t>"u"}function Bi(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function jr(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function ia(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function gs(t,e){return ia(t)?t:e}function Tr(t,e){return typeof t>"u"?e:t}const A8e=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,HH=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ai(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function pi(t,e,n,r){let i,o,l;if(Bi(t))if(o=t.length,r)for(i=o-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<o;i++)e.call(n,t[i],i);else if(jr(t))for(l=Object.keys(t),o=l.length,i=0;i<o;i++)e.call(n,t[l[i]],l[i])}function Nx(t,e){let n,r,i,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],o=e[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function Bx(t){if(Bi(t))return t.map(Bx);if(jr(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=Bx(t[n[i]]);return e}return t}function KH(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function I8e(t,e,n,r){if(!KH(t))return;const i=e[t],o=n[t];jr(i)&&jr(o)?q1(i,o,r):e[t]=Bx(o)}function q1(t,e,n){const r=Bi(e)?e:[e],i=r.length;if(!jr(t))return t;n=n||{};const o=n.merger||I8e;let l;for(let a=0;a<i;++a){if(l=r[a],!jr(l))continue;const f=Object.keys(l);for(let p=0,v=f.length;p<v;++p)o(f[p],t,l,n)}return t}function p1(t,e){return q1(t,e,{merger:O8e})}function O8e(t,e,n){if(!KH(t))return;const r=e[t],i=n[t];jr(r)&&jr(i)?p1(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Bx(i))}const OR={"":t=>t,x:t=>t.x,y:t=>t.y};function D8e(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function R8e(t){const e=D8e(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function Dd(t,e){return(OR[e]||(OR[e]=R8e(e)))(t)}function lP(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Y1=t=>typeof t<"u",Rd=t=>typeof t=="function",DR=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function L8e(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Hi=Math.PI,zi=2*Hi,F8e=zi+Hi,zx=Number.POSITIVE_INFINITY,N8e=Hi/180,aa=Hi/2,Nf=Hi/4,RR=Hi*2/3,_d=Math.log10,fu=Math.sign;function v1(t,e,n){return Math.abs(t-e)<n}function LR(t){const e=Math.round(t);t=v1(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(_d(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function B8e(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((i,o)=>i-o).pop(),e}function Av(t){return!isNaN(parseFloat(t))&&isFinite(t)}function z8e(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function WH(t,e,n){let r,i,o;for(r=0,i=t.length;r<i;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function gl(t){return t*(Hi/180)}function uP(t){return t*(180/Hi)}function FR(t){if(!ia(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function GH(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*Hi&&(o+=zi),{angle:o,distance:i}}function D6(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function $8e(t,e){return(t-e+F8e)%zi-Hi}function _s(t){return(t%zi+zi)%zi}function X1(t,e,n,r){const i=_s(t),o=_s(e),l=_s(n),a=_s(o-i),f=_s(l-i),p=_s(i-o),v=_s(i-l);return i===o||i===l||r&&o===l||a>f&&p<v}function Wa(t,e,n){return Math.max(e,Math.min(n,t))}function j8e(t){return Wa(t,-32768,32767)}function ic(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function cP(t,e,n){n=n||(l=>t[l]<e);let r=t.length-1,i=0,o;for(;r-i>1;)o=i+r>>1,n(o)?i=o:r=o;return{lo:i,hi:r}}const ac=(t,e,n,r)=>cP(t,n,r?i=>{const o=t[i][e];return o<n||o===n&&t[i+1][e]===n}:i=>t[i][e]<n),V8e=(t,e,n)=>cP(t,n,r=>t[r][e]>=n);function U8e(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}const qH=["push","pop","shift","splice","unshift"];function H8e(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),qH.forEach(n=>{const r="_onData"+lP(n),i=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const l=i.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...o)}),l}})})}function NR(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);i!==-1&&r.splice(i,1),!(r.length>0)&&(qH.forEach(o=>{delete t[o]}),delete t._chartjs)}function YH(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const XH=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function ZH(t,e){let n=[],r=!1;return function(...i){n=i,r||(r=!0,XH.call(window,()=>{r=!1,t.apply(e,n)}))}}function K8e(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const dP=t=>t==="start"?"left":t==="end"?"right":"center",ho=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,W8e=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function QH(t,e,n){const r=e.length;let i=0,o=r;if(t._sorted){const{iScale:l,_parsed:a}=t,f=l.axis,{min:p,max:v,minDefined:g,maxDefined:_}=l.getUserBounds();g&&(i=Wa(Math.min(ac(a,l.axis,p).lo,n?r:ac(e,f,l.getPixelForValue(p)).lo),0,r-1)),_?o=Wa(Math.max(ac(a,l.axis,v,!0).hi+1,n?0:ac(e,f,l.getPixelForValue(v),!0).hi+1),i,r)-i:o=r-i}return{start:i,count:o}}function JH(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),o}const D_=t=>t===0||t===1,BR=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*zi/n)),zR=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*zi/n)+1,m1={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*aa)+1,easeOutSine:t=>Math.sin(t*aa),easeInOutSine:t=>-.5*(Math.cos(Hi*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>D_(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>D_(t)?t:BR(t,.075,.3),easeOutElastic:t=>D_(t)?t:zR(t,.075,.3),easeInOutElastic(t){return D_(t)?t:t<.5?.5*BR(t*2,.1125,.45):.5+.5*zR(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-m1.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?m1.easeInBounce(t*2)*.5:m1.easeOutBounce(t*2-1)*.5+.5};function fP(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function $R(t){return fP(t)?t:new G1(t)}function M4(t){return fP(t)?t:new G1(t).saturate(.5).darken(.1).hexString()}const G8e=["x","y","borderWidth","radius","tension"],q8e=["color","borderColor","backgroundColor"];function Y8e(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:q8e},numbers:{type:"number",properties:G8e}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function X8e(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const jR=new Map;function Z8e(t,e){e=e||{};const n=t+JSON.stringify(e);let r=jR.get(n);return r||(r=new Intl.NumberFormat(t,e),jR.set(n,r)),r}function C0(t,e,n){return Z8e(e,n).format(t)}const eK={values(t){return Bi(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let i,o=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(i="scientific"),o=Q8e(t,n)}const l=_d(Math.abs(o)),a=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),f={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(f,this.options.ticks.format),C0(t,r,f)},logarithmic(t,e,n){if(t===0)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(_d(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?eK.numeric.call(this,t,e,n):""}};function Q8e(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var dw={formatters:eK};function J8e(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const bh=Object.create(null),R6=Object.create(null);function g1(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function k4(t,e,n){return typeof e=="string"?q1(g1(t,e),n):q1(g1(t,""),e)}class eTe{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>M4(i.backgroundColor),this.hoverBorderColor=(r,i)=>M4(i.borderColor),this.hoverColor=(r,i)=>M4(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return k4(this,e,n)}get(e){return g1(this,e)}describe(e,n){return k4(R6,e,n)}override(e,n){return k4(bh,e,n)}route(e,n,r,i){const o=g1(this,e),l=g1(this,r),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const f=this[a],p=l[i];return jr(f)?Object.assign({},p,f):Tr(f,p)},set(f){this[a]=f}}})}apply(e){e.forEach(n=>n(this))}}var oa=new eTe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Y8e,X8e,J8e]);function tTe(t){return!t||Kr(t.size)||Kr(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function $x(t,e,n,r,i){let o=e[i];return o||(o=e[i]=t.measureText(i).width,n.push(i)),o>r&&(r=o),r}function nTe(t,e,n,r){r=r||{};let i=r.data=r.data||{},o=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},o=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let l=0;const a=n.length;let f,p,v,g,_;for(f=0;f<a;f++)if(g=n[f],g!=null&&!Bi(g))l=$x(t,i,o,l,g);else if(Bi(g))for(p=0,v=g.length;p<v;p++)_=g[p],_!=null&&!Bi(_)&&(l=$x(t,i,o,l,_));t.restore();const b=o.length/2;if(b>n.length){for(f=0;f<b;f++)delete i[o[f]];o.splice(0,b)}return l}function Bf(t,e,n){const r=t.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function VR(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function L6(t,e,n,r){tK(t,e,n,r,null)}function tK(t,e,n,r,i){let o,l,a,f,p,v,g,_;const b=e.pointStyle,S=e.rotation,E=e.radius;let P=(S||0)*N8e;if(b&&typeof b=="object"&&(o=b.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(P),t.drawImage(b,-b.width/2,-b.height/2,b.width,b.height),t.restore();return}if(!(isNaN(E)||E<=0)){switch(t.beginPath(),b){default:i?t.ellipse(n,r,i/2,E,0,0,zi):t.arc(n,r,E,0,zi),t.closePath();break;case"triangle":v=i?i/2:E,t.moveTo(n+Math.sin(P)*v,r-Math.cos(P)*E),P+=RR,t.lineTo(n+Math.sin(P)*v,r-Math.cos(P)*E),P+=RR,t.lineTo(n+Math.sin(P)*v,r-Math.cos(P)*E),t.closePath();break;case"rectRounded":p=E*.516,f=E-p,l=Math.cos(P+Nf)*f,g=Math.cos(P+Nf)*(i?i/2-p:f),a=Math.sin(P+Nf)*f,_=Math.sin(P+Nf)*(i?i/2-p:f),t.arc(n-g,r-a,p,P-Hi,P-aa),t.arc(n+_,r-l,p,P-aa,P),t.arc(n+g,r+a,p,P,P+aa),t.arc(n-_,r+l,p,P+aa,P+Hi),t.closePath();break;case"rect":if(!S){f=Math.SQRT1_2*E,v=i?i/2:f,t.rect(n-v,r-f,2*v,2*f);break}P+=Nf;case"rectRot":g=Math.cos(P)*(i?i/2:E),l=Math.cos(P)*E,a=Math.sin(P)*E,_=Math.sin(P)*(i?i/2:E),t.moveTo(n-g,r-a),t.lineTo(n+_,r-l),t.lineTo(n+g,r+a),t.lineTo(n-_,r+l),t.closePath();break;case"crossRot":P+=Nf;case"cross":g=Math.cos(P)*(i?i/2:E),l=Math.cos(P)*E,a=Math.sin(P)*E,_=Math.sin(P)*(i?i/2:E),t.moveTo(n-g,r-a),t.lineTo(n+g,r+a),t.moveTo(n+_,r-l),t.lineTo(n-_,r+l);break;case"star":g=Math.cos(P)*(i?i/2:E),l=Math.cos(P)*E,a=Math.sin(P)*E,_=Math.sin(P)*(i?i/2:E),t.moveTo(n-g,r-a),t.lineTo(n+g,r+a),t.moveTo(n+_,r-l),t.lineTo(n-_,r+l),P+=Nf,g=Math.cos(P)*(i?i/2:E),l=Math.cos(P)*E,a=Math.sin(P)*E,_=Math.sin(P)*(i?i/2:E),t.moveTo(n-g,r-a),t.lineTo(n+g,r+a),t.moveTo(n+_,r-l),t.lineTo(n-_,r+l);break;case"line":l=i?i/2:Math.cos(P)*E,a=Math.sin(P)*E,t.moveTo(n-l,r-a),t.lineTo(n+l,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(P)*(i?i/2:E),r+Math.sin(P)*E);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function oc(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function fw(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function hw(t){t.restore()}function rTe(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if(i==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else i==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function iTe(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function aTe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Kr(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function oTe(t,e,n,r,i){if(i.strikethrough||i.underline){const o=t.measureText(r),l=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,f=n-o.actualBoundingBoxAscent,p=n+o.actualBoundingBoxDescent,v=i.strikethrough?(f+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(l,v),t.lineTo(a,v),t.stroke()}}function sTe(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function xh(t,e,n,r,i,o={}){const l=Bi(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="";let f,p;for(t.save(),t.font=i.string,aTe(t,o),f=0;f<l.length;++f)p=l[f],o.backdrop&&sTe(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Kr(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(p,n,r,o.maxWidth)),t.fillText(p,n,r,o.maxWidth),oTe(t,n,r,p,o),r+=Number(i.lineHeight);t.restore()}function Z1(t,e){const{x:n,y:r,w:i,h:o,radius:l}=e;t.arc(n+l.topLeft,r+l.topLeft,l.topLeft,-aa,Hi,!0),t.lineTo(n,r+o-l.bottomLeft),t.arc(n+l.bottomLeft,r+o-l.bottomLeft,l.bottomLeft,Hi,aa,!0),t.lineTo(n+i-l.bottomRight,r+o),t.arc(n+i-l.bottomRight,r+o-l.bottomRight,l.bottomRight,aa,0,!0),t.lineTo(n+i,r+l.topRight),t.arc(n+i-l.topRight,r+l.topRight,l.topRight,0,-aa,!0),t.lineTo(n+l.topLeft,r)}const lTe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uTe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function cTe(t,e){const n=(""+t).match(lTe);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const dTe=t=>+t||0;function hP(t,e){const n={},r=jr(e),i=r?Object.keys(e):e,o=jr(t)?r?l=>Tr(t[l],t[e[l]]):l=>t[l]:()=>t;for(const l of i)n[l]=dTe(o(l));return n}function nK(t){return hP(t,{top:"y",right:"x",bottom:"y",left:"x"})}function hh(t){return hP(t,["topLeft","topRight","bottomLeft","bottomRight"])}function go(t){const e=nK(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Fa(t,e){t=t||{},e=e||oa.font;let n=Tr(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Tr(t.style,e.style);r&&!(""+r).match(uTe)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Tr(t.family,e.family),lineHeight:cTe(Tr(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Tr(t.weight,e.weight),string:""};return i.string=tTe(i),i}function jg(t,e,n,r){let i=!0,o,l,a;for(o=0,l=t.length;o<l;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),i=!1),n!==void 0&&Bi(a)&&(a=a[n%a.length],i=!1),a!==void 0))return r&&!i&&(r.cacheable=!1),a}function fTe(t,e,n){const{min:r,max:i}=t,o=HH(e,(i-r)/2),l=(a,f)=>n&&a===0?0:a+f;return{min:l(r,-Math.abs(o)),max:l(i,o)}}function jd(t,e){return Object.assign(Object.create(t),e)}function pP(t,e=[""],n,r,i=()=>t[0]){const o=n||t;typeof r>"u"&&(r=oK("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:i,override:a=>pP([a,...t],e,o,r)};return new Proxy(l,{deleteProperty(a,f){return delete a[f],delete a._keys,delete t[0][f],!0},get(a,f){return iK(a,f,()=>bTe(f,e,t,a))},getOwnPropertyDescriptor(a,f){return Reflect.getOwnPropertyDescriptor(a._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,f){return HR(a).includes(f)},ownKeys(a){return HR(a)},set(a,f,p){const v=a._storage||(a._storage=i());return a[f]=v[f]=p,delete a._keys,!0}})}function Iv(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:rK(t,r),setContext:o=>Iv(t,o,n,r),override:o=>Iv(t.override(o),e,n,r)};return new Proxy(i,{deleteProperty(o,l){return delete o[l],delete t[l],!0},get(o,l,a){return iK(o,l,()=>pTe(o,l,a))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(o,l,a){return t[l]=a,delete o[l],!0}})}function rK(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:Rd(n)?n:()=>n,isIndexable:Rd(r)?r:()=>r}}const hTe=(t,e)=>t?t+lP(e):e,vP=(t,e)=>jr(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function iK(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];const r=n();return t[e]=r,r}function pTe(t,e,n){const{_proxy:r,_context:i,_subProxy:o,_descriptors:l}=t;let a=r[e];return Rd(a)&&l.isScriptable(e)&&(a=vTe(e,a,t,n)),Bi(a)&&a.length&&(a=mTe(e,a,t,l.isIndexable)),vP(e,a)&&(a=Iv(a,i,o&&o[e],l)),a}function vTe(t,e,n,r){const{_proxy:i,_context:o,_subProxy:l,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let f=e(o,l||r);return a.delete(t),vP(t,f)&&(f=mP(i._scopes,i,t,f)),f}function mTe(t,e,n,r){const{_proxy:i,_context:o,_subProxy:l,_descriptors:a}=n;if(typeof o.index<"u"&&r(t))return e[o.index%e.length];if(jr(e[0])){const f=e,p=i._scopes.filter(v=>v!==f);e=[];for(const v of f){const g=mP(p,i,t,v);e.push(Iv(g,o,l&&l[t],a))}}return e}function aK(t,e,n){return Rd(t)?t(e,n):t}const gTe=(t,e)=>t===!0?e:typeof t=="string"?Dd(e,t):void 0;function yTe(t,e,n,r,i){for(const o of e){const l=gTe(n,o);if(l){t.add(l);const a=aK(l._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(l===!1&&typeof r<"u"&&n!==r)return null}return!1}function mP(t,e,n,r){const i=e._rootScopes,o=aK(e._fallback,n,r),l=[...t,...i],a=new Set;a.add(r);let f=UR(a,l,n,o||n,r);return f===null||typeof o<"u"&&o!==n&&(f=UR(a,l,o,f,r),f===null)?!1:pP(Array.from(a),[""],i,o,()=>_Te(e,n,r))}function UR(t,e,n,r,i){for(;n;)n=yTe(t,e,n,r,i);return n}function _Te(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];return Bi(i)&&jr(n)?n:i||{}}function bTe(t,e,n,r){let i;for(const o of e)if(i=oK(hTe(o,t),n),typeof i<"u")return vP(t,i)?mP(n,r,t,i):i}function oK(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function HR(t){let e=t._keys;return e||(e=t._keys=xTe(t._scopes)),e}function xTe(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))e.add(r);return Array.from(e)}function sK(t,e,n,r){const{iScale:i}=t,{key:o="r"}=this._parsing,l=new Array(r);let a,f,p,v;for(a=0,f=r;a<f;++a)p=a+n,v=e[p],l[a]={r:i.parse(Dd(v,o),p)};return l}const wTe=Number.EPSILON||1e-14,Ov=(t,e)=>e<t.length&&!t[e].skip&&t[e],lK=t=>t==="x"?"y":"x";function CTe(t,e,n,r){const i=t.skip?e:t,o=e,l=n.skip?e:n,a=D6(o,i),f=D6(l,o);let p=a/(a+f),v=f/(a+f);p=isNaN(p)?0:p,v=isNaN(v)?0:v;const g=r*p,_=r*v;return{previous:{x:o.x-g*(l.x-i.x),y:o.y-g*(l.y-i.y)},next:{x:o.x+_*(l.x-i.x),y:o.y+_*(l.y-i.y)}}}function STe(t,e,n){const r=t.length;let i,o,l,a,f,p=Ov(t,0);for(let v=0;v<r-1;++v)if(f=p,p=Ov(t,v+1),!(!f||!p)){if(v1(e[v],0,wTe)){n[v]=n[v+1]=0;continue}i=n[v]/e[v],o=n[v+1]/e[v],a=Math.pow(i,2)+Math.pow(o,2),!(a<=9)&&(l=3/Math.sqrt(a),n[v]=i*l*e[v],n[v+1]=o*l*e[v])}}function TTe(t,e,n="x"){const r=lK(n),i=t.length;let o,l,a,f=Ov(t,0);for(let p=0;p<i;++p){if(l=a,a=f,f=Ov(t,p+1),!a)continue;const v=a[n],g=a[r];l&&(o=(v-l[n])/3,a[`cp1${n}`]=v-o,a[`cp1${r}`]=g-o*e[p]),f&&(o=(f[n]-v)/3,a[`cp2${n}`]=v+o,a[`cp2${r}`]=g+o*e[p])}}function ETe(t,e="x"){const n=lK(e),r=t.length,i=Array(r).fill(0),o=Array(r);let l,a,f,p=Ov(t,0);for(l=0;l<r;++l)if(a=f,f=p,p=Ov(t,l+1),!!f){if(p){const v=p[e]-f[e];i[l]=v!==0?(p[n]-f[n])/v:0}o[l]=a?p?fu(i[l-1])!==fu(i[l])?0:(i[l-1]+i[l])/2:i[l-1]:i[l]}STe(t,i,o),TTe(t,o,e)}function R_(t,e,n){return Math.max(Math.min(t,n),e)}function PTe(t,e){let n,r,i,o,l,a=oc(t[0],e);for(n=0,r=t.length;n<r;++n)l=o,o=a,a=n<r-1&&oc(t[n+1],e),o&&(i=t[n],l&&(i.cp1x=R_(i.cp1x,e.left,e.right),i.cp1y=R_(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=R_(i.cp2x,e.left,e.right),i.cp2y=R_(i.cp2y,e.top,e.bottom)))}function MTe(t,e,n,r,i){let o,l,a,f;if(e.spanGaps&&(t=t.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")ETe(t,i);else{let p=r?t[t.length-1]:t[0];for(o=0,l=t.length;o<l;++o)a=t[o],f=CTe(p,a,t[Math.min(o+1,l-(r?0:1))%l],e.tension),a.cp1x=f.previous.x,a.cp1y=f.previous.y,a.cp2x=f.next.x,a.cp2y=f.next.y,p=a}e.capBezierPoints&&PTe(t,n)}function uK(){return typeof window<"u"&&typeof document<"u"}function gP(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function jx(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const pw=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function kTe(t,e){return pw(t).getPropertyValue(e)}const ATe=["top","right","bottom","left"];function ph(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const o=ATe[i];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const ITe=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function OTe(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:o}=r;let l=!1,a,f;if(ITe(i,o,t.target))a=i,f=o;else{const p=e.getBoundingClientRect();a=r.clientX-p.left,f=r.clientY-p.top,l=!0}return{x:a,y:f,box:l}}function Hf(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=pw(n),o=i.boxSizing==="border-box",l=ph(i,"padding"),a=ph(i,"border","width"),{x:f,y:p,box:v}=OTe(t,n),g=l.left+(v&&a.left),_=l.top+(v&&a.top);let{width:b,height:S}=e;return o&&(b-=l.width+a.width,S-=l.height+a.height),{x:Math.round((f-g)/b*n.width/r),y:Math.round((p-_)/S*n.height/r)}}function DTe(t,e,n){let r,i;if(e===void 0||n===void 0){const o=gP(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const l=o.getBoundingClientRect(),a=pw(o),f=ph(a,"border","width"),p=ph(a,"padding");e=l.width-p.width-f.width,n=l.height-p.height-f.height,r=jx(a.maxWidth,o,"clientWidth"),i=jx(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||zx,maxHeight:i||zx}}const L_=t=>Math.round(t*10)/10;function RTe(t,e,n,r){const i=pw(t),o=ph(i,"margin"),l=jx(i.maxWidth,t,"clientWidth")||zx,a=jx(i.maxHeight,t,"clientHeight")||zx,f=DTe(t,e,n);let{width:p,height:v}=f;if(i.boxSizing==="content-box"){const _=ph(i,"border","width"),b=ph(i,"padding");p-=b.width+_.width,v-=b.height+_.height}return p=Math.max(0,p-o.width),v=Math.max(0,r?p/r:v-o.height),p=L_(Math.min(p,l,f.maxWidth)),v=L_(Math.min(v,a,f.maxHeight)),p&&!v&&(v=L_(p/2)),(e!==void 0||n!==void 0)&&r&&f.height&&v>f.height&&(v=f.height,p=L_(Math.floor(v*r))),{width:p,height:v}}function KR(t,e,n){const r=e||1,i=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const l=t.canvas;return l.style&&(n||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||l.height!==i||l.width!==o?(t.currentDevicePixelRatio=r,l.height=i,l.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const LTe=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{}return t}();function WR(t,e){const n=kTe(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Kf(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function FTe(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function NTe(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},l=Kf(t,i,n),a=Kf(i,o,n),f=Kf(o,e,n),p=Kf(l,a,n),v=Kf(a,f,n);return Kf(p,v,n)}const BTe=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},zTe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function fv(t,e,n){return t?BTe(e,n):zTe()}function cK(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function dK(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function fK(t){return t==="angle"?{between:X1,compare:$8e,normalize:_s}:{between:ic,compare:(e,n)=>e-n,normalize:e=>e}}function GR({start:t,end:e,count:n,loop:r,style:i}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:i}}function $Te(t,e,n){const{property:r,start:i,end:o}=n,{between:l,normalize:a}=fK(r),f=e.length;let{start:p,end:v,loop:g}=t,_,b;if(g){for(p+=f,v+=f,_=0,b=f;_<b&&l(a(e[p%f][r]),i,o);++_)p--,v--;p%=f,v%=f}return v<p&&(v+=f),{start:p,end:v,loop:g,style:t.style}}function hK(t,e,n){if(!n)return[t];const{property:r,start:i,end:o}=n,l=e.length,{compare:a,between:f,normalize:p}=fK(r),{start:v,end:g,loop:_,style:b}=$Te(t,e,n),S=[];let E=!1,P=null,k,I,D;const L=()=>f(i,D,k)&&a(i,D)!==0,B=()=>a(o,k)===0||f(o,D,k),N=()=>E||L(),j=()=>!E||B();for(let H=v,V=v;H<=g;++H)I=e[H%l],!I.skip&&(k=p(I[r]),k!==D&&(E=f(k,i,o),P===null&&N()&&(P=a(k,i)===0?H:V),P!==null&&j()&&(S.push(GR({start:P,end:H,loop:_,count:l,style:b})),P=null),V=H,D=k));return P!==null&&S.push(GR({start:P,end:g,loop:_,count:l,style:b})),S}function pK(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const o=hK(r[i],t.points,e);o.length&&n.push(...o)}return n}function jTe(t,e,n,r){let i=0,o=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(o+=i);o>i&&t[o%e].skip;)o--;return o%=e,{start:i,end:o}}function VTe(t,e,n,r){const i=t.length,o=[];let l=e,a=t[e],f;for(f=e+1;f<=n;++f){const p=t[f%i];p.skip||p.stop?a.skip||(r=!1,o.push({start:e%i,end:(f-1)%i,loop:r}),e=l=p.stop?f:null):(l=f,a.skip&&(e=f)),a=p}return l!==null&&o.push({start:e%i,end:l%i,loop:r}),o}function UTe(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const o=!!t._loop,{start:l,end:a}=jTe(n,i,o,r);if(r===!0)return qR(t,[{start:l,end:a,loop:o}],n,e);const f=a<l?a+i:a,p=!!t._fullLoop&&l===0&&a===i-1;return qR(t,VTe(n,l,f,p),n,e)}function qR(t,e,n,r){return!r||!r.setContext||!n?e:HTe(t,e,n,r)}function HTe(t,e,n,r){const i=t._chart.getContext(),o=YR(t.options),{_datasetIndex:l,options:{spanGaps:a}}=t,f=n.length,p=[];let v=o,g=e[0].start,_=g;function b(S,E,P,k){const I=a?-1:1;if(S!==E){for(S+=f;n[S%f].skip;)S-=I;for(;n[E%f].skip;)E+=I;S%f!==E%f&&(p.push({start:S%f,end:E%f,loop:P,style:k}),v=k,g=E%f)}}for(const S of e){g=a?g:S.start;let E=n[g%f],P;for(_=g+1;_<=S.end;_++){const k=n[_%f];P=YR(r.setContext(jd(i,{type:"segment",p0:E,p1:k,p0DataIndex:(_-1)%f,p1DataIndex:_%f,datasetIndex:l}))),KTe(P,v)&&b(g,_-1,S.loop,v),E=k,v=P}g<_-1&&b(g,_-1,S.loop,v)}return p}function YR(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function KTe(t,e){if(!e)return!1;const n=[],r=function(i,o){return fP(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.3.0
 * https://www.chartjs.org
 * (c) 2023 Chart.js Contributors
 * Released under the MIT License
 */class WTe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,i){const o=n.listeners[i],l=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:l,currentStep:Math.min(r-n.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=XH.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const o=r.items;let l=o.length-1,a=!1,f;for(;l>=0;--l)f=o[l],f._active?(f._total>r.duration&&(r.duration=f._total),f.tick(e),a=!0):(o[l]=o[o.length-1],o.pop());a&&(i.draw(),this._notify(i,r,e,"progress")),o.length||(r.running=!1,this._notify(i,r,e,"complete"),r.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Wu=new WTe;const XR="transparent",GTe={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=$R(t||XR),i=r.valid&&$R(e||XR);return i&&i.valid?i.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class qTe{constructor(e,n,r,i){const o=n[r];i=jg([e.to,i,o,e.from]);const l=jg([e.from,o,i]);this._active=!0,this._fn=e.fn||GTe[e.type||typeof l],this._easing=m1[e.easing]||m1.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=l,this._to=i,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],o=r-this._start,l=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(l,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=jg([e.to,n,i,e.from]),this._from=jg([e.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,i=this._prop,o=this._from,l=this._loop,a=this._to;let f;if(this._active=o!==a&&(l||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=o;return}f=n/r%2,f=l&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[i]=this._fn(o,a,f)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class vK{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!jr(e))return;const n=Object.keys(oa.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(i=>{const o=e[i];if(!jr(o))return;const l={};for(const a of n)l[a]=o[a];(Bi(o.properties)&&o.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,l)})})}_animateOptions(e,n){const r=n.options,i=XTe(e,r);if(!i)return[];const o=this._createAnimations(i,r);return r.$shared&&YTe(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,i=[],o=e.$animations||(e.$animations={}),l=Object.keys(n),a=Date.now();let f;for(f=l.length-1;f>=0;--f){const p=l[f];if(p.charAt(0)==="$")continue;if(p==="options"){i.push(...this._animateOptions(e,n));continue}const v=n[p];let g=o[p];const _=r.get(p);if(g)if(_&&g.active()){g.update(_,v,a);continue}else g.cancel();if(!_||!_.duration){e[p]=v;continue}o[p]=g=new qTe(_,e,p,v),i.push(g)}return i}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Wu.add(this._chart,r),!0}}function YTe(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const o=t[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function XTe(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ZR(t,e){const n=t&&t.options||{},r=n.reverse,i=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:i,end:r?i:o}}function ZTe(t,e,n){if(n===!1)return!1;const r=ZR(t,n),i=ZR(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function QTe(t){let e,n,r,i;return jr(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:t===!1}}function mK(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,o;for(i=0,o=r.length;i<o;++i)n.push(r[i].index);return n}function QR(t,e,n,r={}){const i=t.keys,o=r.mode==="single";let l,a,f,p;if(e!==null){for(l=0,a=i.length;l<a;++l){if(f=+i[l],f===n){if(r.all)continue;break}p=t.values[f],ia(p)&&(o||e===0||fu(e)===fu(p))&&(e+=p)}return e}}function JTe(t){const e=Object.keys(t),n=new Array(e.length);let r,i,o;for(r=0,i=e.length;r<i;++r)o=e[r],n[r]={x:o,y:t[o]};return n}function JR(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function eEe(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function tEe(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function nEe(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function eL(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const o=t[i.index];if(n&&o>0||!n&&o<0)return i.index}return null}function tL(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:o,vScale:l,index:a}=r,f=o.axis,p=l.axis,v=eEe(o,l,r),g=e.length;let _;for(let b=0;b<g;++b){const S=e[b],{[f]:E,[p]:P}=S,k=S._stacks||(S._stacks={});_=k[p]=nEe(i,v,E),_[a]=P,_._top=eL(_,l,!0,r.type),_._bottom=eL(_,l,!1,r.type);const I=_._visualValues||(_._visualValues={});I[a]=P}}function A4(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function rEe(t,e){return jd(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function iEe(t,e,n){return jd(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Cg(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const i of e){const o=i._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const I4=t=>t==="reset"||t==="none",nL=(t,e)=>e?t:Object.assign({},t),aEe=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:mK(n,!0),values:null};class bl{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=JR(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Cg(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(g,_,b,S)=>g==="x"?_:g==="r"?S:b,o=n.xAxisID=Tr(r.xAxisID,A4(e,"x")),l=n.yAxisID=Tr(r.yAxisID,A4(e,"y")),a=n.rAxisID=Tr(r.rAxisID,A4(e,"r")),f=n.indexAxis,p=n.iAxisID=i(f,o,l,a),v=n.vAxisID=i(f,l,o,a);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(l),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&NR(this._data,this),e._stacked&&Cg(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(jr(n))this._data=JTe(n);else if(r!==n){if(r){NR(r,this);const i=this._cachedMeta;Cg(i),i._parsed=[]}n&&Object.isExtensible(n)&&H8e(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const o=n._stacked;n._stacked=JR(n.vScale,n),n.stack!==r.stack&&(i=!0,Cg(n),n.stack=r.stack),this._resyncElements(e),(i||o!==n._stacked)&&tL(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:i}=this,{iScale:o,_stacked:l}=r,a=o.axis;let f=e===0&&n===i.length?!0:r._sorted,p=e>0&&r._parsed[e-1],v,g,_;if(this._parsing===!1)r._parsed=i,r._sorted=!0,_=i;else{Bi(i[e])?_=this.parseArrayData(r,i,e,n):jr(i[e])?_=this.parseObjectData(r,i,e,n):_=this.parsePrimitiveData(r,i,e,n);const b=()=>g[a]===null||p&&g[a]<p[a];for(v=0;v<n;++v)r._parsed[v+e]=g=_[v],f&&(b()&&(f=!1),p=g);r._sorted=f}l&&tL(this,_)}parsePrimitiveData(e,n,r,i){const{iScale:o,vScale:l}=e,a=o.axis,f=l.axis,p=o.getLabels(),v=o===l,g=new Array(i);let _,b,S;for(_=0,b=i;_<b;++_)S=_+r,g[_]={[a]:v||o.parse(p[S],S),[f]:l.parse(n[S],S)};return g}parseArrayData(e,n,r,i){const{xScale:o,yScale:l}=e,a=new Array(i);let f,p,v,g;for(f=0,p=i;f<p;++f)v=f+r,g=n[v],a[f]={x:o.parse(g[0],v),y:l.parse(g[1],v)};return a}parseObjectData(e,n,r,i){const{xScale:o,yScale:l}=e,{xAxisKey:a="x",yAxisKey:f="y"}=this._parsing,p=new Array(i);let v,g,_,b;for(v=0,g=i;v<g;++v)_=v+r,b=n[_],p[v]={x:o.parse(Dd(b,a),_),y:l.parse(Dd(b,f),_)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const i=this.chart,o=this._cachedMeta,l=n[e.axis],a={keys:mK(i,!0),values:n._stacks[e.axis]._visualValues};return QR(a,l,o.index,{mode:r})}updateRangeFromParsed(e,n,r,i){const o=r[n.axis];let l=o===null?NaN:o;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,l=QR(i,o,this._cachedMeta.index)),e.min=Math.min(e.min,l),e.max=Math.max(e.max,l)}getMinMax(e,n){const r=this._cachedMeta,i=r._parsed,o=r._sorted&&e===r.iScale,l=i.length,a=this._getOtherScale(e),f=aEe(n,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:g}=tEe(a);let _,b;function S(){b=i[_];const E=b[a.axis];return!ia(b[e.axis])||v>E||g<E}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(p,e,b,f),o));++_);if(o){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(p,e,b,f);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let i,o,l;for(i=0,o=n.length;i<o;++i)l=n[i][e.axis],ia(l)&&r.push(l);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,i=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:i?""+i.getLabelForValue(o[i.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=QTe(Tr(this.options.clip,ZTe(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],o=n.chartArea,l=[],a=this._drawStart||0,f=this._drawCount||i.length-a,p=this.options.drawActiveElementsOnTop;let v;for(r.dataset&&r.dataset.draw(e,o,a,f),v=a;v<a+f;++v){const g=i[v];g.hidden||(g.active&&p?l.push(g):g.draw(e,o))}for(v=0;v<l.length;++v)l[v].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const i=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const l=this._cachedMeta.data[e];o=l.$context||(l.$context=iEe(this.getContext(),e,l)),o.parsed=this.getParsed(e),o.raw=i.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=rEe(this.chart.getContext(),this.index)),o.dataset=i,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const i=n==="active",o=this._cachedDataOpts,l=e+"-"+n,a=o[l],f=this.enableOptionSharing&&Y1(r);if(a)return nL(a,f);const p=this.chart.config,v=p.datasetElementScopeKeys(this._type,e),g=i?[`${e}Hover`,"hover",e,""]:[e,""],_=p.getOptionScopes(this.getDataset(),v),b=Object.keys(oa.elements[e]),S=()=>this.getContext(r,i,n),E=p.resolveNamedOptions(_,b,S,g);return E.$shared&&(E.$shared=f,o[l]=Object.freeze(nL(E,f))),E}_resolveAnimations(e,n,r){const i=this.chart,o=this._cachedDataOpts,l=`animation-${n}`,a=o[l];if(a)return a;let f;if(i.options.animation!==!1){const v=this.chart.config,g=v.datasetAnimationScopeKeys(this._type,n),_=v.getOptionScopes(this.getDataset(),g);f=v.createResolver(_,this.getContext(e,r,n))}const p=new vK(i,f&&f.animations);return f&&f._cacheable&&(o[l]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||I4(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),i=this._sharedOptions,o=this.getSharedOptions(r),l=this.includeOptions(n,o)||o!==i;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:l}}updateElement(e,n,r,i){I4(i)?Object.assign(e,r):this._resolveAnimations(n,i).update(e,r)}updateSharedOptions(e,n,r){e&&!I4(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,i){e.active=i;const o=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(e,{options:!i&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[a,f,p]of this._syncList)this[a](f,p);this._syncList=[];const i=r.length,o=n.length,l=Math.min(o,i);l&&this.parse(0,l),o>i?this._insertElements(i,o-i,e):o<i&&this._removeElements(o,i-o)}_insertElements(e,n,r=!0){const i=this._cachedMeta,o=i.data,l=e+n;let a;const f=p=>{for(p.length+=n,a=p.length-1;a>=l;a--)p[a]=p[a-n]};for(f(o),a=e;a<l;++a)o[a]=new this.dataElementType;this._parsing&&f(i._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,i){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(e,n);r._stacked&&Cg(r,i)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,i]=e;this[n](r,i)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}xn(bl,"defaults",{}),xn(bl,"datasetElementType",null),xn(bl,"dataElementType",null);function oEe(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let i=0,o=n.length;i<o;i++)r=r.concat(n[i].controller.getAllParsedValues(t));t._cache.$bar=YH(r.sort((i,o)=>i-o))}return t._cache.$bar}function sEe(t){const e=t.iScale,n=oEe(e,t.type);let r=e._length,i,o,l,a;const f=()=>{l===32767||l===-32768||(Y1(a)&&(r=Math.min(r,Math.abs(l-a)||r)),a=l)};for(i=0,o=n.length;i<o;++i)l=e.getPixelForValue(n[i]),f();for(a=void 0,i=0,o=e.ticks.length;i<o;++i)l=e.getPixelForTick(i),f();return r}function lEe(t,e,n,r){const i=n.barThickness;let o,l;return Kr(i)?(o=e.min*n.categoryPercentage,l=n.barPercentage):(o=i*r,l=1),{chunk:o/r,ratio:l,start:e.pixels[t]-o/2}}function uEe(t,e,n,r){const i=e.pixels,o=i[t];let l=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const f=n.categoryPercentage;l===null&&(l=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-l);const p=o-(o-Math.min(l,a))/2*f;return{chunk:Math.abs(a-l)/2*f/r,ratio:n.barPercentage,start:p}}function cEe(t,e,n,r){const i=n.parse(t[0],r),o=n.parse(t[1],r),l=Math.min(i,o),a=Math.max(i,o);let f=l,p=a;Math.abs(l)>Math.abs(a)&&(f=a,p=l),e[n.axis]=p,e._custom={barStart:f,barEnd:p,start:i,end:o,min:l,max:a}}function gK(t,e,n,r){return Bi(t)?cEe(t,e,n,r):e[n.axis]=n.parse(t,r),e}function rL(t,e,n,r){const i=t.iScale,o=t.vScale,l=i.getLabels(),a=i===o,f=[];let p,v,g,_;for(p=n,v=n+r;p<v;++p)_=e[p],g={},g[i.axis]=a||i.parse(l[p],p),f.push(gK(_,g,o,p));return f}function O4(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function dEe(t,e,n){return t!==0?fu(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function fEe(t){let e,n,r,i,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:e,top:i,bottom:o}}function hEe(t,e,n,r){let i=e.borderSkipped;const o={};if(!i){t.borderSkipped=o;return}if(i===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:a,reverse:f,top:p,bottom:v}=fEe(t);i==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=p:(n._bottom||0)===r?i=v:(o[iL(v,l,a,f)]=!0,i=p)),o[iL(i,l,a,f)]=!0,t.borderSkipped=o}function iL(t,e,n,r){return r?(t=pEe(t,e,n),t=aL(t,n,e)):t=aL(t,e,n),t}function pEe(t,e,n){return t===e?n:t===n?e:t}function aL(t,e,n){return t==="start"?e:t==="end"?n:t}function vEe(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ib extends bl{parsePrimitiveData(e,n,r,i){return rL(e,n,r,i)}parseArrayData(e,n,r,i){return rL(e,n,r,i)}parseObjectData(e,n,r,i){const{iScale:o,vScale:l}=e,{xAxisKey:a="x",yAxisKey:f="y"}=this._parsing,p=o.axis==="x"?a:f,v=l.axis==="x"?a:f,g=[];let _,b,S,E;for(_=r,b=r+i;_<b;++_)E=n[_],S={},S[o.axis]=o.parse(Dd(E,p),_),g.push(gK(Dd(E,v),S,l,_));return g}updateRangeFromParsed(e,n,r,i){super.updateRangeFromParsed(e,n,r,i);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:i}=n,o=this.getParsed(e),l=o._custom,a=O4(l)?"["+l.start+", "+l.end+"]":""+i.getLabelForValue(o[i.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,i){const o=i==="reset",{index:l,_cachedMeta:{vScale:a}}=this,f=a.getBasePixel(),p=a.isHorizontal(),v=this._getRuler(),{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,i);for(let b=n;b<n+r;b++){const S=this.getParsed(b),E=o||Kr(S[a.axis])?{base:f,head:f}:this._calculateBarValuePixels(b),P=this._calculateBarIndexPixels(b,v),k=(S._stacks||{})[a.axis],I={horizontal:p,base:E.base,enableBorderRadius:!k||O4(S._custom)||l===k._top||l===k._bottom,x:p?E.head:P.center,y:p?P.center:E.head,height:p?P.size:Math.abs(E.size),width:p?Math.abs(E.size):P.size};_&&(I.options=g||this.resolveDataElementOptions(b,e[b].active?"active":i));const D=I.options||e[b].options;hEe(I,D,k,l),vEe(I,D,v.ratio),this.updateElement(e[b],b,I,i)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(f=>f.controller.options.grouped),o=r.options.stacked,l=[],a=f=>{const p=f.controller.getParsed(n),v=p&&p[f.vScale.axis];if(Kr(v)||isNaN(v))return!0};for(const f of i)if(!(n!==void 0&&a(f))&&((o===!1||l.indexOf(f.stack)===-1||o===void 0&&f.stack===void 0)&&l.push(f.stack),f.index===e))break;return l.length||l.push(void 0),l}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const i=this._getStacks(e,r),o=n!==void 0?i.indexOf(n):-1;return o===-1?i.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,i=[];let o,l;for(o=0,l=n.data.length;o<l;++o)i.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const a=e.barThickness;return{min:a||sEe(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:o,minBarLength:l}}=this,a=o||0,f=this.getParsed(e),p=f._custom,v=O4(p);let g=f[n.axis],_=0,b=r?this.applyStack(n,f,r):g,S,E;b!==g&&(_=b-g,b=g),v&&(g=p.barStart,b=p.barEnd-p.barStart,g!==0&&fu(g)!==fu(p.barEnd)&&(_=0),_+=g);const P=!Kr(o)&&!v?o:_;let k=n.getPixelForValue(P);if(this.chart.getDataVisibility(e)?S=n.getPixelForValue(_+b):S=k,E=S-k,Math.abs(E)<l){E=dEe(E,n,a)*l,g===a&&(k-=E/2);const I=n.getPixelForDecimal(0),D=n.getPixelForDecimal(1),L=Math.min(I,D),B=Math.max(I,D);k=Math.max(Math.min(k,B),L),S=k+E,r&&!v&&(f._stacks[n.axis]._visualValues[i]=n.getValueForPixel(S)-n.getValueForPixel(k))}if(k===n.getPixelForValue(a)){const I=fu(E)*n.getLineWidthForValue(a)/2;k+=I,E-=I}return{size:E,base:k,head:S,center:S+E/2}}_calculateBarIndexPixels(e,n){const r=n.scale,i=this.options,o=i.skipNull,l=Tr(i.maxBarThickness,1/0);let a,f;if(n.grouped){const p=o?this._getStackCount(e):n.stackCount,v=i.barThickness==="flex"?uEe(e,n,i,p):lEe(e,n,i,p),g=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);a=v.start+v.chunk*g+v.chunk/2,f=Math.min(l,v.chunk*v.ratio)}else a=r.getPixelForValue(this.getParsed(e)[r.axis],e),f=Math.min(l,n.min*n.ratio);return{base:a-f/2,head:a+f/2,center:a,size:f}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,i=r.length;let o=0;for(;o<i;++o)this.getParsed(o)[n.axis]!==null&&r[o].draw(this._ctx)}}xn(Ib,"id","bar"),xn(Ib,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),xn(Ib,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ob extends bl{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,i){const o=super.parsePrimitiveData(e,n,r,i);for(let l=0;l<o.length;l++)o[l]._custom=this.resolveDataElementOptions(l+r).radius;return o}parseArrayData(e,n,r,i){const o=super.parseArrayData(e,n,r,i);for(let l=0;l<o.length;l++){const a=n[r+l];o[l]._custom=Tr(a[2],this.resolveDataElementOptions(l+r).radius)}return o}parseObjectData(e,n,r,i){const o=super.parseObjectData(e,n,r,i);for(let l=0;l<o.length;l++){const a=n[r+l];o[l]._custom=Tr(a&&a.r&&+a.r,this.resolveDataElementOptions(l+r).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:o}=n,l=this.getParsed(e),a=i.getLabelForValue(l.x),f=o.getLabelForValue(l.y),p=l._custom;return{label:r[e]||"",value:"("+a+", "+f+(p?", "+p:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,i){const o=i==="reset",{iScale:l,vScale:a}=this._cachedMeta,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(n,i),v=l.axis,g=a.axis;for(let _=n;_<n+r;_++){const b=e[_],S=!o&&this.getParsed(_),E={},P=E[v]=o?l.getPixelForDecimal(.5):l.getPixelForValue(S[v]),k=E[g]=o?a.getBasePixel():a.getPixelForValue(S[g]);E.skip=isNaN(P)||isNaN(k),p&&(E.options=f||this.resolveDataElementOptions(_,b.active?"active":i),o&&(E.options.radius=0)),this.updateElement(b,_,E,i)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let i=super.resolveDataElementOptions(e,n);i.$shared&&(i=Object.assign({},i,{$shared:!1}));const o=i.radius;return n!=="active"&&(i.radius=0),i.radius+=Tr(r&&r._custom,o),i}}xn(Ob,"id","bubble"),xn(Ob,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),xn(Ob,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function mEe(t,e,n){let r=1,i=1,o=0,l=0;if(e<zi){const a=t,f=a+e,p=Math.cos(a),v=Math.sin(a),g=Math.cos(f),_=Math.sin(f),b=(D,L,B)=>X1(D,a,f,!0)?1:Math.max(L,L*n,B,B*n),S=(D,L,B)=>X1(D,a,f,!0)?-1:Math.min(L,L*n,B,B*n),E=b(0,p,g),P=b(aa,v,_),k=S(Hi,p,g),I=S(Hi+aa,v,_);r=(E-k)/2,i=(P-I)/2,o=-(E+k)/2,l=-(P+I)/2}return{ratioX:r,ratioY:i,offsetX:o,offsetY:l}}class ih extends bl{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let o=f=>+r[f];if(jr(r[e])){const{key:f="value"}=this._parsing;o=p=>+Dd(r[p],f)}let l,a;for(l=e,a=e+n;l<a;++l)i._parsed[l]=o(l)}}_getRotation(){return gl(this.options.rotation-90)}_getCircumference(){return gl(this.options.circumference)}_getRotationExtents(){let e=zi,n=-zi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,o=i._getRotation(),l=i._getCircumference();e=Math.min(e,o),n=Math.max(n,o+l)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,o=i.data,l=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-l)/2,0),f=Math.min(A8e(this.options.cutout,a),1),p=this._getRingWeight(this.index),{circumference:v,rotation:g}=this._getRotationExtents(),{ratioX:_,ratioY:b,offsetX:S,offsetY:E}=mEe(g,v,f),P=(r.width-l)/_,k=(r.height-l)/b,I=Math.max(Math.min(P,k)/2,0),D=HH(this.options.radius,I),L=Math.max(D*f,0),B=(D-L)/this._getVisibleDatasetWeightTotal();this.offsetX=S*D,this.offsetY=E*D,i.total=this.calculateTotal(),this.outerRadius=D-B*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-B*p,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const r=this.options,i=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||i._parsed[e]===null||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*o/zi)}updateElements(e,n,r,i){const o=i==="reset",l=this.chart,a=l.chartArea,p=l.options.animation,v=(a.left+a.right)/2,g=(a.top+a.bottom)/2,_=o&&p.animateScale,b=_?0:this.innerRadius,S=_?0:this.outerRadius,{sharedOptions:E,includeOptions:P}=this._getSharedOptions(n,i);let k=this._getRotation(),I;for(I=0;I<n;++I)k+=this._circumference(I,o);for(I=n;I<n+r;++I){const D=this._circumference(I,o),L=e[I],B={x:v+this.offsetX,y:g+this.offsetY,startAngle:k,endAngle:k+D,circumference:D,outerRadius:S,innerRadius:b};P&&(B.options=E||this.resolveDataElementOptions(I,L.active?"active":i)),k+=D,this.updateElement(L,I,B,i)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let r=0,i;for(i=0;i<n.length;i++){const o=e._parsed[i];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?zi*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=C0(n._parsed[e],r.options.locale);return{label:i[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const r=this.chart;let i,o,l,a,f;if(!e){for(i=0,o=r.data.datasets.length;i<o;++i)if(r.isDatasetVisible(i)){l=r.getDatasetMeta(i),e=l.data,a=l.controller;break}}if(!e)return 0;for(i=0,o=e.length;i<o;++i)f=a.resolveDataElementOptions(i),f.borderAlign!=="inner"&&(n=Math.max(n,f.borderWidth||0,f.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,i=e.length;r<i;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Tr(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}xn(ih,"id","doughnut"),xn(ih,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),xn(ih,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),xn(ih,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((o,l)=>{const f=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:i,lineWidth:f.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class Db extends bl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:o}=n,l=this.chart._animationsDisabled;let{start:a,count:f}=QH(n,i,l);this._drawStart=a,this._drawCount=f,JH(n)&&(a=0,f=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=i;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!l,options:p},e),this.updateElements(i,a,f,e)}updateElements(e,n,r,i){const o=i==="reset",{iScale:l,vScale:a,_stacked:f,_dataset:p}=this._cachedMeta,{sharedOptions:v,includeOptions:g}=this._getSharedOptions(n,i),_=l.axis,b=a.axis,{spanGaps:S,segment:E}=this.options,P=Av(S)?S:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||o||i==="none",I=n+r,D=e.length;let L=n>0&&this.getParsed(n-1);for(let B=0;B<D;++B){const N=e[B],j=k?N:{};if(B<n||B>=I){j.skip=!0;continue}const H=this.getParsed(B),V=Kr(H[b]),Z=j[_]=l.getPixelForValue(H[_],B),re=j[b]=o||V?a.getBasePixel():a.getPixelForValue(f?this.applyStack(a,H,f):H[b],B);j.skip=isNaN(Z)||isNaN(re)||V,j.stop=B>0&&Math.abs(H[_]-L[_])>P,E&&(j.parsed=H,j.raw=p.data[B]),g&&(j.options=v||this.resolveDataElementOptions(B,N.active?"active":i)),k||this.updateElement(N,B,j,i),L=H}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,i=e.data||[];if(!i.length)return r;const o=i[0].size(this.resolveDataElementOptions(0)),l=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,o,l)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}xn(Db,"id","line"),xn(Db,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),xn(Db,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class y1 extends bl{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],o=C0(n._parsed[e].r,r.options.locale);return{label:i[e]||"",value:o}}parseObjectData(e,n,r,i){return sK.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const e=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((r,i)=>{const o=this.getParsed(i).r;!isNaN(o)&&this.chart.getDataVisibility(i)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,i=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(i/2,0),l=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),a=(o-l)/e.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,n,r,i){const o=i==="reset",l=this.chart,f=l.options.animation,p=this._cachedMeta.rScale,v=p.xCenter,g=p.yCenter,_=p.getIndexAngle(0)-.5*Hi;let b=_,S;const E=360/this.countVisibleElements();for(S=0;S<n;++S)b+=this._computeAngle(S,i,E);for(S=n;S<n+r;S++){const P=e[S];let k=b,I=b+this._computeAngle(S,i,E),D=l.getDataVisibility(S)?p.getDistanceFromCenterForValue(this.getParsed(S).r):0;b=I,o&&(f.animateScale&&(D=0),f.animateRotate&&(k=I=_));const L={x:v,y:g,innerRadius:0,outerRadius:D,startAngle:k,endAngle:I,options:this.resolveDataElementOptions(S,P.active?"active":i)};this.updateElement(P,S,L,i)}}countVisibleElements(){const e=this._cachedMeta;let n=0;return e.data.forEach((r,i)=>{!isNaN(this.getParsed(i).r)&&this.chart.getDataVisibility(i)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?gl(this.resolveDataElementOptions(e,n).angle||r):0}}xn(y1,"id","polarArea"),xn(y1,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),xn(y1,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=e.legend.options;return n.labels.map((o,l)=>{const f=e.getDatasetMeta(0).controller.getStyle(l);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:i,lineWidth:f.borderWidth,pointStyle:r,hidden:!e.getDataVisibility(l),index:l}})}return[]}},onClick(e,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class F6 extends ih{}xn(F6,"id","pie"),xn(F6,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Rb extends bl{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,i){return sK.bind(this)(e,n,r,i)}update(e){const n=this._cachedMeta,r=n.dataset,i=n.data||[],o=n.iScale.getLabels();if(r.points=i,e!=="resize"){const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0);const a={_loop:!0,_fullLoop:o.length===i.length,options:l};this.updateElement(r,void 0,a,e)}this.updateElements(i,0,i.length,e)}updateElements(e,n,r,i){const o=this._cachedMeta.rScale,l=i==="reset";for(let a=n;a<n+r;a++){const f=e[a],p=this.resolveDataElementOptions(a,f.active?"active":i),v=o.getPointPositionForValue(a,this.getParsed(a).r),g=l?o.xCenter:v.x,_=l?o.yCenter:v.y,b={x:g,y:_,angle:v.angle,skip:isNaN(g)||isNaN(_),options:p};this.updateElement(f,a,b,i)}}}xn(Rb,"id","radar"),xn(Rb,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),xn(Rb,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Lb extends bl{getLabelAndValue(e){const n=this._cachedMeta,r=this.chart.data.labels||[],{xScale:i,yScale:o}=n,l=this.getParsed(e),a=i.getLabelForValue(l.x),f=o.getLabelForValue(l.y);return{label:r[e]||"",value:"("+a+", "+f+")"}}update(e){const n=this._cachedMeta,{data:r=[]}=n,i=this.chart._animationsDisabled;let{start:o,count:l}=QH(n,r,i);if(this._drawStart=o,this._drawCount=l,JH(n)&&(o=0,l=r.length),this.options.showLine){const{dataset:a,_dataset:f}=n;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!f._decimated,a.points=r;const p=this.resolveDatasetElementOptions(e);p.segment=this.options.segment,this.updateElement(a,void 0,{animated:!i,options:p},e)}this.updateElements(r,o,l,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,n,r,i){const o=i==="reset",{iScale:l,vScale:a,_stacked:f,_dataset:p}=this._cachedMeta,v=this.resolveDataElementOptions(n,i),g=this.getSharedOptions(v),_=this.includeOptions(i,g),b=l.axis,S=a.axis,{spanGaps:E,segment:P}=this.options,k=Av(E)?E:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||o||i==="none";let D=n>0&&this.getParsed(n-1);for(let L=n;L<n+r;++L){const B=e[L],N=this.getParsed(L),j=I?B:{},H=Kr(N[S]),V=j[b]=l.getPixelForValue(N[b],L),Z=j[S]=o||H?a.getBasePixel():a.getPixelForValue(f?this.applyStack(a,N,f):N[S],L);j.skip=isNaN(V)||isNaN(Z)||H,j.stop=L>0&&Math.abs(N[b]-D[b])>k,P&&(j.parsed=N,j.raw=p.data[L]),_&&(j.options=g||this.resolveDataElementOptions(L,B.active?"active":i)),I||this.updateElement(B,L,j,i),D=N}this.updateSharedOptions(g,i,v)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let a=0;for(let f=n.length-1;f>=0;--f)a=Math.max(a,n[f].size(this.resolveDataElementOptions(f))/2);return a>0&&a}const r=e.dataset,i=r.options&&r.options.borderWidth||0;if(!n.length)return i;const o=n[0].size(this.resolveDataElementOptions(0)),l=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(i,o,l)/2}}xn(Lb,"id","scatter"),xn(Lb,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),xn(Lb,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var gEe=Object.freeze({__proto__:null,BarController:Ib,BubbleController:Ob,DoughnutController:ih,LineController:Db,PieController:F6,PolarAreaController:y1,RadarController:Rb,ScatterController:Lb});function zf(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yP{constructor(e){xn(this,"options");this.options=e||{}}static override(e){Object.assign(yP.prototype,e)}init(){}formats(){return zf()}parse(){return zf()}format(){return zf()}add(){return zf()}diff(){return zf()}startOf(){return zf()}endOf(){return zf()}}var yK={_date:yP};function yEe(t,e,n,r){const{controller:i,data:o,_sorted:l}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&l&&o.length){const f=a._reversePixels?V8e:ac;if(r){if(i._sharedOptions){const p=o[0],v=typeof p.getRange=="function"&&p.getRange(e);if(v){const g=f(o,e,n-v),_=f(o,e,n+v);return{lo:g.lo,hi:_.hi}}}}else return f(o,e,n)}return{lo:0,hi:o.length-1}}function S0(t,e,n,r,i){const o=t.getSortedVisibleDatasetMetas(),l=n[e];for(let a=0,f=o.length;a<f;++a){const{index:p,data:v}=o[a],{lo:g,hi:_}=yEe(o[a],e,l,i);for(let b=g;b<=_;++b){const S=v[b];S.skip||r(S,p,b)}}}function _Ee(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,i){const o=e?Math.abs(r.x-i.x):0,l=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function D4(t,e,n,r,i){const o=[];return!i&&!t.isPointInArea(e)||S0(t,n,e,function(a,f,p){!i&&!oc(a,t.chartArea,0)||a.inRange(e.x,e.y,r)&&o.push({element:a,datasetIndex:f,index:p})},!0),o}function bEe(t,e,n,r){let i=[];function o(l,a,f){const{startAngle:p,endAngle:v}=l.getProps(["startAngle","endAngle"],r),{angle:g}=GH(l,{x:e.x,y:e.y});X1(g,p,v)&&i.push({element:l,datasetIndex:a,index:f})}return S0(t,n,e,o),i}function xEe(t,e,n,r,i,o){let l=[];const a=_Ee(n);let f=Number.POSITIVE_INFINITY;function p(v,g,_){const b=v.inRange(e.x,e.y,i);if(r&&!b)return;const S=v.getCenterPoint(i);if(!(!!o||t.isPointInArea(S))&&!b)return;const P=a(e,S);P<f?(l=[{element:v,datasetIndex:g,index:_}],f=P):P===f&&l.push({element:v,datasetIndex:g,index:_})}return S0(t,n,e,p),l}function R4(t,e,n,r,i,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!r?bEe(t,e,n,i):xEe(t,e,n,r,i,o)}function oL(t,e,n,r,i){const o=[],l=n==="x"?"inXRange":"inYRange";let a=!1;return S0(t,n,e,(f,p,v)=>{f[l](e[n],i)&&(o.push({element:f,datasetIndex:p,index:v}),a=a||f.inRange(e.x,e.y,i))}),r&&!a?[]:o}var wEe={evaluateInteractionItems:S0,modes:{index(t,e,n,r){const i=Hf(e,t),o=n.axis||"x",l=n.includeInvisible||!1,a=n.intersect?D4(t,i,o,r,l):R4(t,i,o,!1,r,l),f=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const v=a[0].index,g=p.data[v];g&&!g.skip&&f.push({element:g,datasetIndex:p.index,index:v})}),f):[]},dataset(t,e,n,r){const i=Hf(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;let a=n.intersect?D4(t,i,o,r,l):R4(t,i,o,!1,r,l);if(a.length>0){const f=a[0].datasetIndex,p=t.getDatasetMeta(f).data;a=[];for(let v=0;v<p.length;++v)a.push({element:p[v],datasetIndex:f,index:v})}return a},point(t,e,n,r){const i=Hf(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return D4(t,i,o,r,l)},nearest(t,e,n,r){const i=Hf(e,t),o=n.axis||"xy",l=n.includeInvisible||!1;return R4(t,i,o,n.intersect,r,l)},x(t,e,n,r){const i=Hf(e,t);return oL(t,i,"x",n.intersect,r)},y(t,e,n,r){const i=Hf(e,t);return oL(t,i,"y",n.intersect,r)}}};const _K=["left","top","right","bottom"];function Sg(t,e){return t.filter(n=>n.pos===e)}function sL(t,e){return t.filter(n=>_K.indexOf(n.pos)===-1&&n.box.axis===e)}function Tg(t,e){return t.sort((n,r)=>{const i=e?r:n,o=e?n:r;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function CEe(t){const e=[];let n,r,i,o,l,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],{position:o,options:{stack:l,stackWeight:a=1}}=i,e.push({index:n,box:i,pos:o,horizontal:i.isHorizontal(),weight:i.weight,stack:l&&o+l,stackWeight:a});return e}function SEe(t){const e={};for(const n of t){const{stack:r,pos:i,stackWeight:o}=n;if(!r||!_K.includes(i))continue;const l=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return e}function TEe(t,e){const n=SEe(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let o,l,a;for(o=0,l=t.length;o<l;++o){a=t[o];const{fullSize:f}=a.box,p=n[a.stack],v=p&&a.stackWeight/p.weight;a.horizontal?(a.width=v?v*r:f&&e.availableWidth,a.height=i):(a.width=r,a.height=v?v*i:f&&e.availableHeight)}return n}function EEe(t){const e=CEe(t),n=Tg(e.filter(p=>p.box.fullSize),!0),r=Tg(Sg(e,"left"),!0),i=Tg(Sg(e,"right")),o=Tg(Sg(e,"top"),!0),l=Tg(Sg(e,"bottom")),a=sL(e,"x"),f=sL(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(f).concat(l).concat(a),chartArea:Sg(e,"chartArea"),vertical:r.concat(i).concat(f),horizontal:o.concat(l).concat(a)}}function lL(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function bK(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function PEe(t,e,n,r){const{pos:i,box:o}=n,l=t.maxPadding;if(!jr(i)){n.size&&(t[i]-=n.size);const g=r[n.stack]||{size:0,count:1};g.size=Math.max(g.size,n.horizontal?o.height:o.width),n.size=g.size/g.count,t[i]+=n.size}o.getPadding&&bK(l,o.getPadding());const a=Math.max(0,e.outerWidth-lL(l,t,"left","right")),f=Math.max(0,e.outerHeight-lL(l,t,"top","bottom")),p=a!==t.w,v=f!==t.h;return t.w=a,t.h=f,n.horizontal?{same:p,other:v}:{same:v,other:p}}function MEe(t){const e=t.maxPadding;function n(r){const i=Math.max(e[r]-t[r],0);return t[r]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function kEe(t,e){const n=e.maxPadding;function r(i){const o={left:0,top:0,right:0,bottom:0};return i.forEach(l=>{o[l]=Math.max(e[l],n[l])}),o}return r(t?["left","right"]:["top","bottom"])}function Vg(t,e,n,r){const i=[];let o,l,a,f,p,v;for(o=0,l=t.length,p=0;o<l;++o){a=t[o],f=a.box,f.update(a.width||e.w,a.height||e.h,kEe(a.horizontal,e));const{same:g,other:_}=PEe(e,n,a,r);p|=g&&i.length,v=v||_,f.fullSize||i.push(a)}return p&&Vg(i,e,n,r)||v}function F_(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function uL(t,e,n,r){const i=n.padding;let{x:o,y:l}=e;for(const a of t){const f=a.box,p=r[a.stack]||{count:1,placed:0,weight:1},v=a.stackWeight/p.weight||1;if(a.horizontal){const g=e.w*v,_=p.size||f.height;Y1(p.start)&&(l=p.start),f.fullSize?F_(f,i.left,l,n.outerWidth-i.right-i.left,_):F_(f,e.left+p.placed,l,g,_),p.start=l,p.placed+=g,l=f.bottom}else{const g=e.h*v,_=p.size||f.width;Y1(p.start)&&(o=p.start),f.fullSize?F_(f,o,i.top,_,n.outerHeight-i.bottom-i.top):F_(f,o,e.top+p.placed,_,g),p.start=o,p.placed+=g,o=f.right}}e.x=o,e.y=l}var mo={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=go(t.options.layout.padding),o=Math.max(e-i.width,0),l=Math.max(n-i.height,0),a=EEe(t.boxes),f=a.vertical,p=a.horizontal;pi(t.boxes,E=>{typeof E.beforeLayout=="function"&&E.beforeLayout()});const v=f.reduce((E,P)=>P.box.options&&P.box.options.display===!1?E:E+1,0)||1,g=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/v,hBoxMaxHeight:l/2}),_=Object.assign({},i);bK(_,go(r));const b=Object.assign({maxPadding:_,w:o,h:l,x:i.left,y:i.top},i),S=TEe(f.concat(p),g);Vg(a.fullSize,b,g,S),Vg(f,b,g,S),Vg(p,b,g,S)&&Vg(f,b,g,S),MEe(b),uL(a.leftAndTop,b,g,S),b.x+=b.w,b.y+=b.h,uL(a.rightAndBottom,b,g,S),t.chartArea={left:b.left,top:b.top,right:b.left+b.w,bottom:b.top+b.h,height:b.h,width:b.w},pi(a.chartArea,E=>{const P=E.box;Object.assign(P,t.chartArea),P.update(b.w,b.h,{left:0,top:0,right:0,bottom:0})})}};class xK{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,i){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(e){return!0}updateConfig(e){}}class AEe extends xK{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Fb="$chartjs",IEe={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},cL=t=>t===null||t==="";function OEe(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[Fb]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",cL(i)){const o=WR(t,"width");o!==void 0&&(t.width=o)}if(cL(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=WR(t,"height");o!==void 0&&(t.height=o)}return t}const wK=LTe?{passive:!0}:!1;function DEe(t,e,n){t.addEventListener(e,n,wK)}function REe(t,e,n){t.canvas.removeEventListener(e,n,wK)}function LEe(t,e){const n=IEe[t.type]||t.type,{x:r,y:i}=Hf(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:i!==void 0?i:null}}function Vx(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function FEe(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let l=!1;for(const a of o)l=l||Vx(a.addedNodes,r),l=l&&!Vx(a.removedNodes,r);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function NEe(t,e,n){const r=t.canvas,i=new MutationObserver(o=>{let l=!1;for(const a of o)l=l||Vx(a.removedNodes,r),l=l&&!Vx(a.addedNodes,r);l&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const Q1=new Map;let dL=0;function CK(){const t=window.devicePixelRatio;t!==dL&&(dL=t,Q1.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function BEe(t,e){Q1.size||window.addEventListener("resize",CK),Q1.set(t,e)}function zEe(t){Q1.delete(t),Q1.size||window.removeEventListener("resize",CK)}function $Ee(t,e,n){const r=t.canvas,i=r&&gP(r);if(!i)return;const o=ZH((a,f)=>{const p=i.clientWidth;n(a,f),p<i.clientWidth&&n()},window),l=new ResizeObserver(a=>{const f=a[0],p=f.contentRect.width,v=f.contentRect.height;p===0&&v===0||o(p,v)});return l.observe(i),BEe(t,o),l}function L4(t,e,n){n&&n.disconnect(),e==="resize"&&zEe(t)}function jEe(t,e,n){const r=t.canvas,i=ZH(o=>{t.ctx!==null&&n(LEe(o,t))},t);return DEe(r,e,i),i}class VEe extends xK{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(OEe(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Fb])return!1;const r=n[Fb].initial;["height","width"].forEach(o=>{const l=r[o];Kr(l)?n.removeAttribute(o):n.setAttribute(o,l)});const i=r.style||{};return Object.keys(i).forEach(o=>{n.style[o]=i[o]}),n.width=n.width,delete n[Fb],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const i=e.$proxies||(e.$proxies={}),l={attach:FEe,detach:NEe,resize:$Ee}[n]||jEe;i[n]=l(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),i=r[n];if(!i)return;({attach:L4,detach:L4,resize:L4}[n]||REe)(e,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,i){return RTe(e,n,r,i)}isAttached(e){const n=gP(e);return!!(n&&n.isConnected)}}function UEe(t){return!uK()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?AEe:VEe}var H_;let mc=(H_=class{constructor(){xn(this,"x");xn(this,"y");xn(this,"active",!1);xn(this,"options");xn(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return Av(this.x)&&Av(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const i={};return e.forEach(o=>{i[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),i}},xn(H_,"defaults",{}),xn(H_,"defaultRoutes"),H_);function HEe(t,e){const n=t.options.ticks,r=KEe(t),i=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?GEe(e):[],l=o.length,a=o[0],f=o[l-1],p=[];if(l>i)return qEe(e,p,o,l/i),p;const v=WEe(o,e,i);if(l>0){let g,_;const b=l>1?Math.round((f-a)/(l-1)):null;for(N_(e,p,v,Kr(b)?0:a-b,a),g=0,_=l-1;g<_;g++)N_(e,p,v,o[g],o[g+1]);return N_(e,p,v,f,Kr(b)?e.length:f+b),p}return N_(e,p,v),p}function KEe(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}function WEe(t,e,n){const r=YEe(t),i=e.length/n;if(!r)return Math.max(i,1);const o=B8e(r);for(let l=0,a=o.length-1;l<a;l++){const f=o[l];if(f>i)return f}return Math.max(i,1)}function GEe(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function qEe(t,e,n,r){let i=0,o=n[0],l;for(r=Math.ceil(r),l=0;l<t.length;l++)l===o&&(e.push(t[l]),i++,o=n[i*r])}function N_(t,e,n,r,i){const o=Tr(r,0),l=Math.min(Tr(i,t.length),t.length);let a=0,f,p,v;for(n=Math.ceil(n),i&&(f=i-r,n=f/Math.floor(f/n)),v=o;v<0;)a++,v=Math.round(o+a*n);for(p=Math.max(o,0);p<l;p++)p===v&&(e.push(t[p]),a++,v=Math.round(o+a*n))}function YEe(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const XEe=t=>t==="left"?"right":t==="right"?"left":t,fL=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,hL=(t,e)=>Math.min(e||t,t);function pL(t,e){const n=[],r=t.length/e,i=t.length;let o=0;for(;o<i;o+=r)n.push(t[Math.floor(o)]);return n}function ZEe(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),o=t._startPixel,l=t._endPixel,a=1e-6;let f=t.getPixelForTick(i),p;if(!(n&&(r===1?p=Math.max(f-o,l-f):e===0?p=(t.getPixelForTick(1)-f)/2:p=(f-t.getPixelForTick(i-1))/2,f+=i<e?p:-p,f<o-a||f>l+a)))return f}function QEe(t,e){pi(t,n=>{const r=n.gc,i=r.length/2;let o;if(i>e){for(o=0;o<i;++o)delete n.data[r[o]];r.splice(0,i)}})}function Eg(t){return t.drawTicks?t.tickLength:0}function vL(t,e){if(!t.display)return 0;const n=Fa(t.font,e),r=go(t.padding);return(Bi(t.text)?t.text.length:1)*n.lineHeight+r.height}function JEe(t,e){return jd(t,{scale:e,type:"scale"})}function ePe(t,e,n){return jd(t,{tick:n,index:e,type:"tick"})}function tPe(t,e,n){let r=dP(t);return(n&&e!=="right"||!n&&e==="right")&&(r=XEe(r)),r}function nPe(t,e,n,r){const{top:i,left:o,bottom:l,right:a,chart:f}=t,{chartArea:p,scales:v}=f;let g=0,_,b,S;const E=l-i,P=a-o;if(t.isHorizontal()){if(b=ho(r,o,a),jr(n)){const k=Object.keys(n)[0],I=n[k];S=v[k].getPixelForValue(I)+E-e}else n==="center"?S=(p.bottom+p.top)/2+E-e:S=fL(t,n,e);_=a-o}else{if(jr(n)){const k=Object.keys(n)[0],I=n[k];b=v[k].getPixelForValue(I)-P+e}else n==="center"?b=(p.left+p.right)/2-P+e:b=fL(t,n,e);S=ho(r,l,i),g=n==="left"?-aa:aa}return{titleX:b,titleY:S,maxWidth:_,rotation:g}}class Oh extends mc{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return e=gs(e,Number.POSITIVE_INFINITY),n=gs(n,Number.NEGATIVE_INFINITY),r=gs(r,Number.POSITIVE_INFINITY),i=gs(i,Number.NEGATIVE_INFINITY),{min:gs(e,r),max:gs(n,i),minDefined:ia(e),maxDefined:ia(n)}}getMinMax(e){let{min:n,max:r,minDefined:i,maxDefined:o}=this.getUserBounds(),l;if(i&&o)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let f=0,p=a.length;f<p;++f)l=a[f].controller.getMinMax(this,e),i||(n=Math.min(n,l.min)),o||(r=Math.max(r,l.max));return n=o&&n>r?r:n,r=i&&n>r?n:r,{min:gs(n,gs(r,n)),max:gs(r,gs(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ai(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:i,grace:o,ticks:l}=this.options,a=l.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=fTe(this,o,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=a<this.ticks.length;this._convertTicksToLabels(f?pL(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=HEe(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ai(this.options.afterUpdate,[this])}beforeSetDimensions(){Ai(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ai(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ai(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ai(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r],o.label=Ai(n.callback,[o.value,r,e],this)}afterTickToLabelConversion(){Ai(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ai(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=hL(this.ticks.length,e.ticks.maxTicksLimit),i=n.minRotation||0,o=n.maxRotation;let l=i,a,f,p;if(!this._isVisible()||!n.display||i>=o||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const v=this._getLabelSizes(),g=v.widest.width,_=v.highest.height,b=Wa(this.chart.width-g,0,this.maxWidth);a=e.offset?this.maxWidth/r:b/(r-1),g+6>a&&(a=b/(r-(e.offset?.5:1)),f=this.maxHeight-Eg(e.grid)-n.padding-vL(e.title,this.chart.options.font),p=Math.sqrt(g*g+_*_),l=uP(Math.min(Math.asin(Wa((v.highest.height+6)/a,-1,1)),Math.asin(Wa(f/p,-1,1))-Math.asin(Wa(_/p,-1,1)))),l=Math.max(i,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ai(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ai(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:o}}=this,l=this._isVisible(),a=this.isHorizontal();if(l){const f=vL(i,n.options.font);if(a?(e.width=this.maxWidth,e.height=Eg(o)+f):(e.height=this.maxHeight,e.width=Eg(o)+f),r.display&&this.ticks.length){const{first:p,last:v,widest:g,highest:_}=this._getLabelSizes(),b=r.padding*2,S=gl(this.labelRotation),E=Math.cos(S),P=Math.sin(S);if(a){const k=r.mirror?0:P*g.width+E*_.height;e.height=Math.min(this.maxHeight,e.height+k+b)}else{const k=r.mirror?0:E*g.width+P*_.height;e.width=Math.min(this.maxWidth,e.width+k+b)}this._calculatePadding(p,v,P,E)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,i){const{ticks:{align:o,padding:l},position:a}=this.options,f=this.labelRotation!==0,p=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,g=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,b=0;f?p?(_=i*e.width,b=r*n.height):(_=r*e.height,b=i*n.width):o==="start"?b=n.width:o==="end"?_=e.width:o!=="inner"&&(_=e.width/2,b=n.width/2),this.paddingLeft=Math.max((_-v+l)*this.width/(this.width-v),0),this.paddingRight=Math.max((b-g+l)*this.width/(this.width-g),0)}else{let v=n.height/2,g=e.height/2;o==="start"?(v=0,g=e.height):o==="end"&&(v=n.height,g=0),this.paddingTop=v+l,this.paddingBottom=g+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ai(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Kr(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=pL(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:i,_longestTextCache:o}=this,l=[],a=[],f=Math.floor(n/hL(n,r));let p=0,v=0,g,_,b,S,E,P,k,I,D,L,B;for(g=0;g<n;g+=f){if(S=e[g].label,E=this._resolveTickFontOptions(g),i.font=P=E.string,k=o[P]=o[P]||{data:{},gc:[]},I=E.lineHeight,D=L=0,!Kr(S)&&!Bi(S))D=$x(i,k.data,k.gc,D,S),L=I;else if(Bi(S))for(_=0,b=S.length;_<b;++_)B=S[_],!Kr(B)&&!Bi(B)&&(D=$x(i,k.data,k.gc,D,B),L+=I);l.push(D),a.push(L),p=Math.max(D,p),v=Math.max(L,v)}QEe(o,n);const N=l.indexOf(p),j=a.indexOf(v),H=V=>({width:l[V]||0,height:a[V]||0});return{first:H(0),last:H(n-1),widest:H(N),highest:H(j),widths:l,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return j8e(this._alignToPixels?Bf(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=ePe(this.getContext(),e,r))}return this.$context||(this.$context=JEe(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=gl(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=this._getLabelSizes(),l=e.autoSkipPadding||0,a=o?o.widest.width+l:0,f=o?o.highest.height+l:0;return this.isHorizontal()?f*r>a*i?a/r:f/i:f*i<a*r?f/r:a/i}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,i=this.options,{grid:o,position:l,border:a}=i,f=o.offset,p=this.isHorizontal(),g=this.ticks.length+(f?1:0),_=Eg(o),b=[],S=a.setContext(this.getContext()),E=S.display?S.width:0,P=E/2,k=function(Q){return Bf(r,Q,E)};let I,D,L,B,N,j,H,V,Z,re,q,G;if(l==="top")I=k(this.bottom),j=this.bottom-_,V=I-P,re=k(e.top)+P,G=e.bottom;else if(l==="bottom")I=k(this.top),re=e.top,G=k(e.bottom)-P,j=I+P,V=this.top+_;else if(l==="left")I=k(this.right),N=this.right-_,H=I-P,Z=k(e.left)+P,q=e.right;else if(l==="right")I=k(this.left),Z=e.left,q=k(e.right)-P,N=I+P,H=this.left+_;else if(n==="x"){if(l==="center")I=k((e.top+e.bottom)/2+.5);else if(jr(l)){const Q=Object.keys(l)[0],Y=l[Q];I=k(this.chart.scales[Q].getPixelForValue(Y))}re=e.top,G=e.bottom,j=I+P,V=j+_}else if(n==="y"){if(l==="center")I=k((e.left+e.right)/2);else if(jr(l)){const Q=Object.keys(l)[0],Y=l[Q];I=k(this.chart.scales[Q].getPixelForValue(Y))}N=I-P,H=N-_,Z=e.left,q=e.right}const ae=Tr(i.ticks.maxTicksLimit,g),te=Math.max(1,Math.ceil(g/ae));for(D=0;D<g;D+=te){const Q=this.getContext(D),Y=o.setContext(Q),X=a.setContext(Q),ie=Y.lineWidth,he=Y.color,ce=X.dash||[],we=X.dashOffset,be=Y.tickWidth,ve=Y.tickColor,ge=Y.tickBorderDash||[],Pe=Y.tickBorderDashOffset;L=ZEe(this,D,f),L!==void 0&&(B=Bf(r,L,ie),p?N=H=Z=q=B:j=V=re=G=B,b.push({tx1:N,ty1:j,tx2:H,ty2:V,x1:Z,y1:re,x2:q,y2:G,width:ie,color:he,borderDash:ce,borderDashOffset:we,tickWidth:be,tickColor:ve,tickBorderDash:ge,tickBorderDashOffset:Pe}))}return this._ticksLength=g,this._borderValue=I,b}_computeLabelItems(e){const n=this.axis,r=this.options,{position:i,ticks:o}=r,l=this.isHorizontal(),a=this.ticks,{align:f,crossAlign:p,padding:v,mirror:g}=o,_=Eg(r.grid),b=_+v,S=g?-v:b,E=-gl(this.labelRotation),P=[];let k,I,D,L,B,N,j,H,V,Z,re,q,G="middle";if(i==="top")N=this.bottom-S,j=this._getXAxisLabelAlignment();else if(i==="bottom")N=this.top+S,j=this._getXAxisLabelAlignment();else if(i==="left"){const te=this._getYAxisLabelAlignment(_);j=te.textAlign,B=te.x}else if(i==="right"){const te=this._getYAxisLabelAlignment(_);j=te.textAlign,B=te.x}else if(n==="x"){if(i==="center")N=(e.top+e.bottom)/2+b;else if(jr(i)){const te=Object.keys(i)[0],Q=i[te];N=this.chart.scales[te].getPixelForValue(Q)+b}j=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")B=(e.left+e.right)/2-b;else if(jr(i)){const te=Object.keys(i)[0],Q=i[te];B=this.chart.scales[te].getPixelForValue(Q)}j=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(f==="start"?G="top":f==="end"&&(G="bottom"));const ae=this._getLabelSizes();for(k=0,I=a.length;k<I;++k){D=a[k],L=D.label;const te=o.setContext(this.getContext(k));H=this.getPixelForTick(k)+o.labelOffset,V=this._resolveTickFontOptions(k),Z=V.lineHeight,re=Bi(L)?L.length:1;const Q=re/2,Y=te.color,X=te.textStrokeColor,ie=te.textStrokeWidth;let he=j;l?(B=H,j==="inner"&&(k===I-1?he=this.options.reverse?"left":"right":k===0?he=this.options.reverse?"right":"left":he="center"),i==="top"?p==="near"||E!==0?q=-re*Z+Z/2:p==="center"?q=-ae.highest.height/2-Q*Z+Z:q=-ae.highest.height+Z/2:p==="near"||E!==0?q=Z/2:p==="center"?q=ae.highest.height/2-Q*Z:q=ae.highest.height-re*Z,g&&(q*=-1),E!==0&&!te.showLabelBackdrop&&(B+=Z/2*Math.sin(E))):(N=H,q=(1-re)*Z/2);let ce;if(te.showLabelBackdrop){const we=go(te.backdropPadding),be=ae.heights[k],ve=ae.widths[k];let ge=q-we.top,Pe=0-we.left;switch(G){case"middle":ge-=be/2;break;case"bottom":ge-=be;break}switch(j){case"center":Pe-=ve/2;break;case"right":Pe-=ve;break}ce={left:Pe,top:ge,width:ve+we.width,height:be+we.height,color:te.backdropColor}}P.push({label:L,font:V,textOffset:q,options:{rotation:E,color:Y,strokeColor:X,strokeWidth:ie,textAlign:he,textBaseline:G,translation:[B,N],backdrop:ce}})}return P}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-gl(this.labelRotation))return e==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:i,padding:o}}=this.options,l=this._getLabelSizes(),a=e+o,f=l.widest.width;let p,v;return n==="left"?i?(v=this.right+o,r==="near"?p="left":r==="center"?(p="center",v+=f/2):(p="right",v+=f)):(v=this.right-a,r==="near"?p="right":r==="center"?(p="center",v-=f/2):(p="left",v=this.left)):n==="right"?i?(v=this.left+o,r==="near"?p="right":r==="center"?(p="center",v-=f/2):(p="left",v-=f)):(v=this.left+a,r==="near"?p="left":r==="center"?(p="center",v+=f/2):(p="right",v=this.right)):p="right",{textAlign:p,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:i,width:o,height:l}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,i,o,l),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(o=>o.value===e);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,l;const a=(f,p,v)=>{!v.width||!v.color||(r.save(),r.lineWidth=v.width,r.strokeStyle=v.color,r.setLineDash(v.borderDash||[]),r.lineDashOffset=v.borderDashOffset,r.beginPath(),r.moveTo(f.x,f.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(n.display)for(o=0,l=i.length;o<l;++o){const f=i[o];n.drawOnChartArea&&a({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),n.drawTicks&&a({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:i}}=this,o=r.setContext(this.getContext()),l=r.display?o.width:0;if(!l)return;const a=i.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let p,v,g,_;this.isHorizontal()?(p=Bf(e,this.left,l)-l/2,v=Bf(e,this.right,a)+a/2,g=_=f):(g=Bf(e,this.top,l)-l/2,_=Bf(e,this.bottom,a)+a/2,p=v=f),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(p,g),n.lineTo(v,_),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&fw(r,i);const o=this.getLabelItems(e);for(const l of o){const a=l.options,f=l.font,p=l.label,v=l.textOffset;xh(r,p,0,v,f,a)}i&&hw(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const o=Fa(r.font),l=go(r.padding),a=r.align;let f=o.lineHeight/2;n==="bottom"||n==="center"||jr(n)?(f+=l.bottom,Bi(r.text)&&(f+=o.lineHeight*(r.text.length-1))):f+=l.top;const{titleX:p,titleY:v,maxWidth:g,rotation:_}=nPe(this,f,n,a);xh(e,r.text,0,0,o,{color:r.color,maxWidth:g,rotation:_,textAlign:tPe(a,n,i),textBaseline:"middle",translation:[p,v]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Tr(e.grid&&e.grid.z,-1),i=Tr(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Oh.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let o,l;for(o=0,l=n.length;o<l;++o){const a=n[o];a[r]===this.id&&(!e||a.type===e)&&i.push(a)}return i}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return Fa(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class B_{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;aPe(n)&&(r=this.register(n));const i=this.items,o=e.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,rPe(e,l,r),this.override&&oa.override(e.id,e.overrides)),l}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,i=this.scope;r in n&&delete n[r],i&&r in oa[i]&&(delete oa[i][r],this.override&&delete bh[r])}}function rPe(t,e,n){const r=q1(Object.create(null),[n?oa.get(n):{},oa.get(e),t.defaults]);oa.set(e,r),t.defaultRoutes&&iPe(e,t.defaultRoutes),t.descriptors&&oa.describe(e,t.descriptors)}function iPe(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),i=r.pop(),o=[t].concat(r).join("."),l=e[n].split("."),a=l.pop(),f=l.join(".");oa.route(o,i,f,a)})}function aPe(t){return"id"in t&&"defaults"in t}class oPe{constructor(){this.controllers=new B_(bl,"datasets",!0),this.elements=new B_(mc,"elements"),this.plugins=new B_(Object,"plugins"),this.scales=new B_(Oh,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(i=>{const o=r||this._getRegistryForType(i);r||o.isForType(i)||o===this.plugins&&i.id?this._exec(e,o,i):pi(i,l=>{const a=r||this._getRegistryForType(l);this._exec(e,a,l)})})}_exec(e,n,r){const i=lP(e);Ai(r["before"+i],[],r),n[e](r),Ai(r["after"+i],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const i=n.get(e);if(i===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return i}}var eu=new oPe;class sPe{constructor(){this._init=[]}notify(e,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=i?this._descriptors(e).filter(i):this._descriptors(e),l=this._notify(o,e,n,r);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),l}_notify(e,n,r,i){i=i||{};for(const o of e){const l=o.plugin,a=l[r],f=[n,i,o.options];if(Ai(a,f,l)===!1&&i.cancelable)return!1}return!0}invalidate(){Kr(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,i=Tr(r.options&&r.options.plugins,{}),o=lPe(r);return i===!1&&!n?[]:cPe(e,o,i,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,i=(o,l)=>o.filter(a=>!l.some(f=>a.plugin.id===f.plugin.id));this._notify(i(n,r),e,"stop"),this._notify(i(r,n),e,"start")}}function lPe(t){const e={},n=[],r=Object.keys(eu.plugins.items);for(let o=0;o<r.length;o++)n.push(eu.getPlugin(r[o]));const i=t.plugins||[];for(let o=0;o<i.length;o++){const l=i[o];n.indexOf(l)===-1&&(n.push(l),e[l.id]=!0)}return{plugins:n,localIds:e}}function uPe(t,e){return!e&&t===!1?null:t===!0?{}:t}function cPe(t,{plugins:e,localIds:n},r,i){const o=[],l=t.getContext();for(const a of e){const f=a.id,p=uPe(r[f],i);p!==null&&o.push({plugin:a,options:dPe(t.config,{plugin:a,local:n[f]},p,l)})}return o}function dPe(t,{plugin:e,local:n},r,i){const o=t.pluginScopeKeys(e),l=t.getOptionScopes(r,o);return n&&e.defaults&&l.push(e.defaults),t.createResolver(l,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function N6(t,e){const n=oa.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function fPe(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function hPe(t,e){return t===e?"_index_":"_value_"}function mL(t){if(t==="x"||t==="y"||t==="r")return t}function pPe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function B6(t,...e){if(mL(t))return t;for(const n of e){const r=n.axis||pPe(n.position)||t.length>1&&mL(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function gL(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function vPe(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return gL(t,"x",n[0])||gL(t,"y",n[0])}return{}}function mPe(t,e){const n=bh[t.type]||{scales:{}},r=e.scales||{},i=N6(t.type,e),o=Object.create(null);return Object.keys(r).forEach(l=>{const a=r[l];if(!jr(a))return console.error(`Invalid scale configuration for scale: ${l}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const f=B6(l,a,vPe(l,t),oa.scales[a.type]),p=hPe(f,i),v=n.scales||{};o[l]=p1(Object.create(null),[{axis:f},a,v[f],v[p]])}),t.data.datasets.forEach(l=>{const a=l.type||t.type,f=l.indexAxis||N6(a,e),v=(bh[a]||{}).scales||{};Object.keys(v).forEach(g=>{const _=fPe(g,f),b=l[_+"AxisID"]||_;o[b]=o[b]||Object.create(null),p1(o[b],[{axis:_},r[b],v[g]])})}),Object.keys(o).forEach(l=>{const a=o[l];p1(a,[oa.scales[a.type],oa.scale])}),o}function SK(t){const e=t.options||(t.options={});e.plugins=Tr(e.plugins,{}),e.scales=mPe(t,e)}function TK(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function gPe(t){return t=t||{},t.data=TK(t.data),SK(t),t}const yL=new Map,EK=new Set;function z_(t,e){let n=yL.get(t);return n||(n=e(),yL.set(t,n),EK.add(n)),n}const Pg=(t,e,n)=>{const r=Dd(e,n);r!==void 0&&t.add(r)};class yPe{constructor(e){this._config=gPe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=TK(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),SK(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return z_(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return z_(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return z_(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return z_(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let i=r.get(e);return(!i||n)&&(i=new Map,r.set(e,i)),i}getOptionScopes(e,n,r){const{options:i,type:o}=this,l=this._cachedScopes(e,r),a=l.get(n);if(a)return a;const f=new Set;n.forEach(v=>{e&&(f.add(e),v.forEach(g=>Pg(f,e,g))),v.forEach(g=>Pg(f,i,g)),v.forEach(g=>Pg(f,bh[o]||{},g)),v.forEach(g=>Pg(f,oa,g)),v.forEach(g=>Pg(f,R6,g))});const p=Array.from(f);return p.length===0&&p.push(Object.create(null)),EK.has(n)&&l.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,bh[n]||{},oa.datasets[n]||{},{type:n},oa,R6]}resolveNamedOptions(e,n,r,i=[""]){const o={$shared:!0},{resolver:l,subPrefixes:a}=_L(this._resolverCache,e,i);let f=l;if(bPe(l,n)){o.$shared=!1,r=Rd(r)?r():r;const p=this.createResolver(e,r,a);f=Iv(l,r,p)}for(const p of n)o[p]=f[p];return o}createResolver(e,n,r=[""],i){const{resolver:o}=_L(this._resolverCache,e,r);return jr(n)?Iv(o,n,void 0,i):o}}function _L(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let o=r.get(i);return o||(o={resolver:pP(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,o)),o}const _Pe=t=>jr(t)&&Object.getOwnPropertyNames(t).reduce((e,n)=>e||Rd(t[n]),!1);function bPe(t,e){const{isScriptable:n,isIndexable:r}=rK(t);for(const i of e){const o=n(i),l=r(i),a=(l||o)&&t[i];if(o&&(Rd(a)||_Pe(a))||l&&Bi(a))return!0}return!1}var xPe="4.3.0";const wPe=["top","bottom","left","right","chartArea"];function bL(t,e){return t==="top"||t==="bottom"||wPe.indexOf(t)===-1&&e==="x"}function xL(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function wL(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Ai(n&&n.onComplete,[t],e)}function CPe(t){const e=t.chart,n=e.options.animation;Ai(n&&n.onProgress,[t],e)}function PK(t){return uK()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Nb={},CL=t=>{const e=PK(t);return Object.values(Nb).filter(n=>n.canvas===e).pop()};function SPe(t,e,n){const r=Object.keys(t);for(const i of r){const o=+i;if(o>=e){const l=t[i];delete t[i],(n>0||o>e)&&(t[o+n]=l)}}}function TPe(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function EPe(t){const{xScale:e,yScale:n}=t;if(e&&n)return{left:e.left,right:e.right,top:n.top,bottom:n.bottom}}class Qu{static register(...e){eu.add(...e),SL()}static unregister(...e){eu.remove(...e),SL()}constructor(e,n){const r=this.config=new yPe(n),i=PK(e),o=CL(i);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||UEe(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,l.aspectRatio),f=a&&a.canvas,p=f&&f.height,v=f&&f.width;if(this.id=k8e(),this.ctx=a,this.canvas=f,this.width=v,this.height=p,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sPe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=K8e(g=>this.update(g),l.resizeDelay||0),this._dataChanges=[],Nb[this.id]=this,!a||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Wu.listen(this,"complete",wL),Wu.listen(this,"progress",CPe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:i,_aspectRatio:o}=this;return Kr(e)?n&&o?o:i?r/i:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return eu}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():KR(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return VR(this.canvas,this.ctx),this}stop(){return Wu.stop(this),this}resize(e,n){Wu.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,i=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(i,e,n,o),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,KR(this,a,!0)&&(this.notifyPlugins("resize",{size:l}),Ai(r.onResize,[this,l],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};pi(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,i=Object.keys(r).reduce((l,a)=>(l[a]=!1,l),{});let o=[];n&&(o=o.concat(Object.keys(n).map(l=>{const a=n[l],f=B6(l,a),p=f==="r",v=f==="x";return{options:a,dposition:p?"chartArea":v?"bottom":"left",dtype:p?"radialLinear":v?"category":"linear"}}))),pi(o,l=>{const a=l.options,f=a.id,p=B6(f,a),v=Tr(a.type,l.dtype);(a.position===void 0||bL(a.position,p)!==bL(l.dposition))&&(a.position=l.dposition),i[f]=!0;let g=null;if(f in r&&r[f].type===v)g=r[f];else{const _=eu.getScale(v);g=new _({id:f,type:v,ctx:this.ctx,chart:this}),r[g.id]=g}g.init(a,e)}),pi(i,(l,a)=>{l||delete r[a]}),pi(r,l=>{mo.configure(this,l,l.options),mo.addBox(this,l)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((i,o)=>i.index-o.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(xL("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,i)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const o=n[r];let l=this.getDatasetMeta(r);const a=o.type||this.config.type;if(l.type&&l.type!==a&&(this._destroyDatasetMeta(r),l=this.getDatasetMeta(r)),l.type=a,l.indexAxis=o.indexAxis||N6(a,this.options),l.order=o.order||0,l.index=r,l.label=""+o.label,l.visible=this.isDatasetVisible(r),l.controller)l.controller.updateIndex(r),l.controller.linkScales();else{const f=eu.getController(a),{datasetElementType:p,dataElementType:v}=oa.datasets[a];Object.assign(f,{dataElementType:eu.getElement(v),datasetElementType:p&&eu.getElement(p)}),l.controller=new f(this,r),e.push(l.controller)}}return this._updateMetasets(),e}_resetElements(){pi(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let p=0,v=this.data.datasets.length;p<v;p++){const{controller:g}=this.getDatasetMeta(p),_=!i&&o.indexOf(g)===-1;g.buildOrUpdateElements(_),l=Math.max(+g.getMaxOverflow(),l)}l=this._minPadding=r.layout.autoPadding?l:0,this._updateLayout(l),i||pi(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(xL("z","_idx"));const{_active:a,_lastEvent:f}=this;f?this._eventHandler(f,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){pi(this.scales,e=>{mo.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!DR(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:o}of n){const l=r==="_removeElements"?-o:o;SPe(e,i,l)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(e.filter(l=>l[0]===o).map((l,a)=>a+","+l.splice(1).join(","))),i=r(0);for(let o=1;o<n;o++)if(!DR(i,r(o)))return;return Array.from(i).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;mo.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],pi(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,o)=>{i._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Rd(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),i={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Wu.has(this)?this.attached&&!Wu.running(this)&&Wu.start(this):(this.draw(),wL({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resize(r,i),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let i,o;for(i=0,o=n.length;i<o;++i){const l=n[i];(!e||l.visible)&&r.push(l)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,i=!r.disabled,o=EPe(e)||this.chartArea,l={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",l)!==!1&&(i&&fw(n,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),e.controller.draw(),i&&hw(n),l.cancelable=!1,this.notifyPlugins("afterDatasetDraw",l))}isPointInArea(e){return oc(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,i){const o=wEe.modes[n];return typeof o=="function"?o(this,e,r,i):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let i=r.filter(o=>o&&o._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=jd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const i=r?"show":"hide",o=this.getDatasetMeta(e),l=o.controller._resolveAnimations(void 0,i);Y1(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),l.update(o,{visible:r}),this.update(a=>a.datasetIndex===e?i:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Wu.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),VR(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nb[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(o,l)=>{n.addEventListener(this,o,l),e[o]=l},i=(o,l,a)=>{o.offsetX=l,o.offsetY=a,this._eventHandler(o)};pi(this.options.events,o=>r(o,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(f,p)=>{n.addEventListener(this,f,p),e[f]=p},i=(f,p)=>{e[f]&&(n.removeEventListener(this,f,p),delete e[f])},o=(f,p)=>{this.canvas&&this.resize(f,p)};let l;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",o),r("detach",l)};l=()=>{this.attached=!1,i("resize",o),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():l()}unbindEvents(){pi(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},pi(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const i=r?"set":"remove";let o,l,a,f;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+i+"DatasetHoverStyle"]()),a=0,f=e.length;a<f;++a){l=e[a];const p=l&&this.getDatasetMeta(l.datasetIndex).controller;p&&p[i+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:o,index:l})=>{const a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[l],index:l}});!Nx(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const i=this.options.hover,o=(f,p)=>f.filter(v=>!p.some(g=>v.datasetIndex===g.datasetIndex&&v.index===g.index)),l=o(n,e),a=r?e:o(e,n);l.length&&this.updateHoverStyle(l,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},i=l=>(l.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:i=[],options:o}=this,l=n,a=this._getActiveElements(e,i,r,l),f=L8e(e),p=TPe(e,this._lastEvent,r,f);r&&(this._lastEvent=null,Ai(o.onHover,[e,a,this],this),f&&Ai(o.onClick,[e,a,this],this));const v=!Nx(a,i);return(v||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=p,v}_getActiveElements(e,n,r,i){if(e.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,i)}}xn(Qu,"defaults",oa),xn(Qu,"instances",Nb),xn(Qu,"overrides",bh),xn(Qu,"registry",eu),xn(Qu,"version",xPe),xn(Qu,"getChart",CL);function SL(){return pi(Qu.instances,t=>t._plugins.invalidate())}function PPe(t,e,n){const{startAngle:r,pixelMargin:i,x:o,y:l,outerRadius:a,innerRadius:f}=e;let p=i/a;t.beginPath(),t.arc(o,l,a,r-p,n+p),f>i?(p=i/f,t.arc(o,l,f,n+p,r-p,!0)):t.arc(o,l,i,n+aa,r-aa),t.closePath(),t.clip()}function MPe(t){return hP(t,["outerStart","outerEnd","innerStart","innerEnd"])}function kPe(t,e,n,r){const i=MPe(t.options.borderRadius),o=(n-e)/2,l=Math.min(o,r*e/2),a=f=>{const p=(n-Math.min(o,f))*r/2;return Wa(f,0,Math.min(o,p))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:Wa(i.innerStart,0,l),innerEnd:Wa(i.innerEnd,0,l)}}function Np(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function Ux(t,e,n,r,i,o){const{x:l,y:a,startAngle:f,pixelMargin:p,innerRadius:v}=e,g=Math.max(e.outerRadius+r+n-p,0),_=v>0?v+r+n+p:0;let b=0;const S=i-f;if(r){const te=v>0?v-r:0,Q=g>0?g-r:0,Y=(te+Q)/2,X=Y!==0?S*Y/(Y+r):S;b=(S-X)/2}const E=Math.max(.001,S*g-n/Hi)/g,P=(S-E)/2,k=f+P+b,I=i-P-b,{outerStart:D,outerEnd:L,innerStart:B,innerEnd:N}=kPe(e,_,g,I-k),j=g-D,H=g-L,V=k+D/j,Z=I-L/H,re=_+B,q=_+N,G=k+B/re,ae=I-N/q;if(t.beginPath(),o){const te=(V+Z)/2;if(t.arc(l,a,g,V,te),t.arc(l,a,g,te,Z),L>0){const ie=Np(H,Z,l,a);t.arc(ie.x,ie.y,L,Z,I+aa)}const Q=Np(q,I,l,a);if(t.lineTo(Q.x,Q.y),N>0){const ie=Np(q,ae,l,a);t.arc(ie.x,ie.y,N,I+aa,ae+Math.PI)}const Y=(I-N/_+(k+B/_))/2;if(t.arc(l,a,_,I-N/_,Y,!0),t.arc(l,a,_,Y,k+B/_,!0),B>0){const ie=Np(re,G,l,a);t.arc(ie.x,ie.y,B,G+Math.PI,k-aa)}const X=Np(j,k,l,a);if(t.lineTo(X.x,X.y),D>0){const ie=Np(j,V,l,a);t.arc(ie.x,ie.y,D,k-aa,V)}}else{t.moveTo(l,a);const te=Math.cos(V)*g+l,Q=Math.sin(V)*g+a;t.lineTo(te,Q);const Y=Math.cos(Z)*g+l,X=Math.sin(Z)*g+a;t.lineTo(Y,X)}t.closePath()}function APe(t,e,n,r,i){const{fullCircles:o,startAngle:l,circumference:a}=e;let f=e.endAngle;if(o){Ux(t,e,n,r,f,i);for(let p=0;p<o;++p)t.fill();isNaN(a)||(f=l+(a%zi||zi))}return Ux(t,e,n,r,f,i),t.fill(),f}function IPe(t,e,n,r,i){const{fullCircles:o,startAngle:l,circumference:a,options:f}=e,{borderWidth:p,borderJoinStyle:v,borderDash:g,borderDashOffset:_}=f,b=f.borderAlign==="inner";if(!p)return;t.setLineDash(g||[]),t.lineDashOffset=_,b?(t.lineWidth=p*2,t.lineJoin=v||"round"):(t.lineWidth=p,t.lineJoin=v||"bevel");let S=e.endAngle;if(o){Ux(t,e,n,r,S,i);for(let E=0;E<o;++E)t.stroke();isNaN(a)||(S=l+(a%zi||zi))}b&&PPe(t,e,S),o||(Ux(t,e,n,r,S,i),t.stroke())}class Ug extends mc{constructor(n){super();xn(this,"circumference");xn(this,"endAngle");xn(this,"fullCircles");xn(this,"innerRadius");xn(this,"outerRadius");xn(this,"pixelMargin");xn(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.getProps(["x","y"],i),{angle:l,distance:a}=GH(o,{x:n,y:r}),{startAngle:f,endAngle:p,innerRadius:v,outerRadius:g,circumference:_}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),b=(this.options.spacing+this.options.borderWidth)/2,E=Tr(_,p-f)>=zi||X1(l,f,p),P=ic(a,v+b,g+b);return E&&P}getCenterPoint(n){const{x:r,y:i,startAngle:o,endAngle:l,innerRadius:a,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:p,spacing:v}=this.options,g=(o+l)/2,_=(a+f+v+p)/2;return{x:r+Math.cos(g)*_,y:i+Math.sin(g)*_}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,o=(r.offset||0)/4,l=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>zi?Math.floor(i/zi):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const f=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(f)*o,Math.sin(f)*o);const p=1-Math.sin(Math.min(Hi,i||0)),v=o*p;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,APe(n,this,v,l,a),IPe(n,this,v,l,a),n.restore()}}xn(Ug,"id","arc"),xn(Ug,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),xn(Ug,"defaultRoutes",{backgroundColor:"backgroundColor"}),xn(Ug,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function MK(t,e,n=e){t.lineCap=Tr(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Tr(n.borderDash,e.borderDash)),t.lineDashOffset=Tr(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Tr(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Tr(n.borderWidth,e.borderWidth),t.strokeStyle=Tr(n.borderColor,e.borderColor)}function OPe(t,e,n){t.lineTo(n.x,n.y)}function DPe(t){return t.stepped?rTe:t.tension||t.cubicInterpolationMode==="monotone"?iTe:OPe}function kK(t,e,n={}){const r=t.length,{start:i=0,end:o=r-1}=n,{start:l,end:a}=e,f=Math.max(i,l),p=Math.min(o,a),v=i<l&&o<l||i>a&&o>a;return{count:r,start:f,loop:e.loop,ilen:p<f&&!v?r+p-f:p-f}}function RPe(t,e,n,r){const{points:i,options:o}=e,{count:l,start:a,loop:f,ilen:p}=kK(i,n,r),v=DPe(o);let{move:g=!0,reverse:_}=r||{},b,S,E;for(b=0;b<=p;++b)S=i[(a+(_?p-b:b))%l],!S.skip&&(g?(t.moveTo(S.x,S.y),g=!1):v(t,E,S,_,o.stepped),E=S);return f&&(S=i[(a+(_?p:0))%l],v(t,E,S,_,o.stepped)),!!f}function LPe(t,e,n,r){const i=e.points,{count:o,start:l,ilen:a}=kK(i,n,r),{move:f=!0,reverse:p}=r||{};let v=0,g=0,_,b,S,E,P,k;const I=L=>(l+(p?a-L:L))%o,D=()=>{E!==P&&(t.lineTo(v,P),t.lineTo(v,E),t.lineTo(v,k))};for(f&&(b=i[I(0)],t.moveTo(b.x,b.y)),_=0;_<=a;++_){if(b=i[I(_)],b.skip)continue;const L=b.x,B=b.y,N=L|0;N===S?(B<E?E=B:B>P&&(P=B),v=(g*v+L)/++g):(D(),t.lineTo(L,B),S=N,g=0,E=P=B),k=B}D()}function z6(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?LPe:RPe}function FPe(t){return t.stepped?FTe:t.tension||t.cubicInterpolationMode==="monotone"?NTe:Kf}function NPe(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),MK(t,e.options),t.stroke(i)}function BPe(t,e,n,r){const{segments:i,options:o}=e,l=z6(e);for(const a of i)MK(t,o,a.style),t.beginPath(),l(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const zPe=typeof Path2D=="function";function $Pe(t,e,n,r){zPe&&!e.options.segment?NPe(t,e,n,r):BPe(t,e,n,r)}class bd extends mc{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;MTe(this._points,r,e,i,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=UTe(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,i=e[n],o=this.points,l=pK(this,{property:n,start:i,end:i});if(!l.length)return;const a=[],f=FPe(r);let p,v;for(p=0,v=l.length;p<v;++p){const{start:g,end:_}=l[p],b=o[g],S=o[_];if(b===S){a.push(b);continue}const E=Math.abs((i-b[n])/(S[n]-b[n])),P=f(b,S,E,r.stepped);P[n]=e[n],a.push(P)}return a.length===1?a[0]:a}pathSegment(e,n,r){return z6(this)(e,this,n,r)}path(e,n,r){const i=this.segments,o=z6(this);let l=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)l&=o(e,this,a,{start:n,end:n+r-1});return!!l}draw(e,n,r,i){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),$Pe(e,this,r,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}xn(bd,"id","line"),xn(bd,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),xn(bd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),xn(bd,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function TL(t,e,n,r){const i=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<i.radius+i.hitRadius}class Bb extends mc{constructor(n){super();xn(this,"parsed");xn(this,"skip");xn(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const o=this.options,{x:l,y:a}=this.getProps(["x","y"],i);return Math.pow(n-l,2)+Math.pow(r-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,r){return TL(this,n,"x",r)}inYRange(n,r){return TL(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!oc(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,L6(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}xn(Bb,"id","point"),xn(Bb,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),xn(Bb,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function AK(t,e){const{x:n,y:r,base:i,width:o,height:l}=t.getProps(["x","y","base","width","height"],e);let a,f,p,v,g;return t.horizontal?(g=l/2,a=Math.min(n,i),f=Math.max(n,i),p=r-g,v=r+g):(g=o/2,a=n-g,f=n+g,p=Math.min(r,i),v=Math.max(r,i)),{left:a,top:p,right:f,bottom:v}}function xd(t,e,n,r){return t?0:Wa(e,n,r)}function jPe(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,o=nK(r);return{t:xd(i.top,o.top,0,n),r:xd(i.right,o.right,0,e),b:xd(i.bottom,o.bottom,0,n),l:xd(i.left,o.left,0,e)}}function VPe(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,o=hh(i),l=Math.min(e,n),a=t.borderSkipped,f=r||jr(i);return{topLeft:xd(!f||a.top||a.left,o.topLeft,0,l),topRight:xd(!f||a.top||a.right,o.topRight,0,l),bottomLeft:xd(!f||a.bottom||a.left,o.bottomLeft,0,l),bottomRight:xd(!f||a.bottom||a.right,o.bottomRight,0,l)}}function UPe(t){const e=AK(t),n=e.right-e.left,r=e.bottom-e.top,i=jPe(t,n/2,r/2),o=VPe(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function F4(t,e,n,r){const i=e===null,o=n===null,a=t&&!(i&&o)&&AK(t,r);return a&&(i||ic(e,a.left,a.right))&&(o||ic(n,a.top,a.bottom))}function HPe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function KPe(t,e){t.rect(e.x,e.y,e.w,e.h)}function N4(t,e,n={}){const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,l=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+o,h:t.h+l,radius:t.radius}}class zb extends mc{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:o,outer:l}=UPe(this),a=HPe(l.radius)?Z1:KPe;e.save(),(l.w!==o.w||l.h!==o.h)&&(e.beginPath(),a(e,N4(l,n,o)),e.clip(),a(e,N4(o,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),a(e,N4(o,n)),e.fillStyle=i,e.fill(),e.restore()}inRange(e,n,r){return F4(this,e,n,r)}inXRange(e,n){return F4(this,e,null,n)}inYRange(e,n){return F4(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:i,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}xn(zb,"id","bar"),xn(zb,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),xn(zb,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var WPe=Object.freeze({__proto__:null,ArcElement:Ug,BarElement:zb,LineElement:bd,PointElement:Bb});const $6=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],EL=$6.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function IK(t){return $6[t%$6.length]}function OK(t){return EL[t%EL.length]}function GPe(t,e){return t.borderColor=IK(e),t.backgroundColor=OK(e),++e}function qPe(t,e){return t.backgroundColor=t.data.map(()=>IK(e++)),e}function YPe(t,e){return t.backgroundColor=t.data.map(()=>OK(e++)),e}function XPe(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof ih?e=qPe(n,e):i instanceof y1?e=YPe(n,e):i&&(e=GPe(n,e))}}function PL(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function ZPe(t){return t&&(t.borderColor||t.backgroundColor)}var QPe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:o}=i;if(!n.forceOverride&&(PL(r)||ZPe(i)||o&&PL(o)))return;const l=XPe(t);r.forEach(l)}};function JPe(t,e,n,r,i){const o=i.samples||r;if(o>=n)return t.slice(e,e+n);const l=[],a=(n-2)/(o-2);let f=0;const p=e+n-1;let v=e,g,_,b,S,E;for(l[f++]=t[v],g=0;g<o-2;g++){let P=0,k=0,I;const D=Math.floor((g+1)*a)+1+e,L=Math.min(Math.floor((g+2)*a)+1,n)+e,B=L-D;for(I=D;I<L;I++)P+=t[I].x,k+=t[I].y;P/=B,k/=B;const N=Math.floor(g*a)+1+e,j=Math.min(Math.floor((g+1)*a)+1,n)+e,{x:H,y:V}=t[v];for(b=S=-1,I=N;I<j;I++)S=.5*Math.abs((H-P)*(t[I].y-V)-(H-t[I].x)*(k-V)),S>b&&(b=S,_=t[I],E=I);l[f++]=_,v=E}return l[f++]=t[p],l}function e9e(t,e,n,r){let i=0,o=0,l,a,f,p,v,g,_,b,S,E;const P=[],k=e+n-1,I=t[e].x,L=t[k].x-I;for(l=e;l<e+n;++l){a=t[l],f=(a.x-I)/L*r,p=a.y;const B=f|0;if(B===v)p<S?(S=p,g=l):p>E&&(E=p,_=l),i=(o*i+a.x)/++o;else{const N=l-1;if(!Kr(g)&&!Kr(_)){const j=Math.min(g,_),H=Math.max(g,_);j!==b&&j!==N&&P.push({...t[j],x:i}),H!==b&&H!==N&&P.push({...t[H],x:i})}l>0&&N!==b&&P.push(t[N]),P.push(a),v=B,o=0,S=E=p,g=_=b=l}}return P}function DK(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function ML(t){t.data.datasets.forEach(e=>{DK(e)})}function t9e(t,e){const n=e.length;let r=0,i;const{iScale:o}=t,{min:l,max:a,minDefined:f,maxDefined:p}=o.getUserBounds();return f&&(r=Wa(ac(e,o.axis,l).lo,0,n-1)),p?i=Wa(ac(e,o.axis,a).hi+1,r,n)-r:i=n-r,{start:r,count:i}}var n9e={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){ML(t);return}const r=t.width;t.data.datasets.forEach((i,o)=>{const{_data:l,indexAxis:a}=i,f=t.getDatasetMeta(o),p=l||i.data;if(jg([a,t.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const v=t.scales[f.xAxisID];if(v.type!=="linear"&&v.type!=="time"||t.options.parsing)return;let{start:g,count:_}=t9e(f,p);const b=n.threshold||4*r;if(_<=b){DK(i);return}Kr(l)&&(i._data=p,delete i.data,Object.defineProperty(i,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(E){this._data=E}}));let S;switch(n.algorithm){case"lttb":S=JPe(p,g,_,r,n);break;case"min-max":S=e9e(p,g,_,r);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}i._decimated=S})},destroy(t){ML(t)}};function r9e(t,e,n){const r=t.segments,i=t.points,o=e.points,l=[];for(const a of r){let{start:f,end:p}=a;p=_P(f,p,i);const v=j6(n,i[f],i[p],a.loop);if(!e.segments){l.push({source:a,target:v,start:i[f],end:i[p]});continue}const g=pK(e,v);for(const _ of g){const b=j6(n,o[_.start],o[_.end],_.loop),S=hK(a,i,b);for(const E of S)l.push({source:E,target:_,start:{[n]:kL(v,b,"start",Math.max)},end:{[n]:kL(v,b,"end",Math.min)}})}}return l}function j6(t,e,n,r){if(r)return;let i=e[t],o=n[t];return t==="angle"&&(i=_s(i),o=_s(o)),{property:t,start:i,end:o}}function i9e(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,o=[];return e.segments.forEach(({start:l,end:a})=>{a=_P(l,a,i);const f=i[l],p=i[a];r!==null?(o.push({x:f.x,y:r}),o.push({x:p.x,y:r})):n!==null&&(o.push({x:n,y:f.y}),o.push({x:n,y:p.y}))}),o}function _P(t,e,n){for(;e>t;e--){const r=n[e];if(!isNaN(r.x)&&!isNaN(r.y))break}return e}function kL(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function RK(t,e){let n=[],r=!1;return Bi(t)?(r=!0,n=t):n=i9e(t,e),n.length?new bd({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function AL(t){return t&&t.fill!==!1}function a9e(t,e,n){let i=t[e].fill;const o=[e];let l;if(!n)return i;for(;i!==!1&&o.indexOf(i)===-1;){if(!ia(i))return i;if(l=t[i],!l)return!1;if(l.visible)return i;o.push(i),i=l.fill}return!1}function o9e(t,e,n){const r=c9e(t);if(jr(r))return isNaN(r.value)?!1:r;let i=parseFloat(r);return ia(i)&&Math.floor(i)===i?s9e(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function s9e(t,e,n,r){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=r?!1:n}function l9e(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:jr(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function u9e(t,e,n){let r;return t==="start"?r=n:t==="end"?r=e.options.reverse?e.min:e.max:jr(t)?r=t.value:r=e.getBaseValue(),r}function c9e(t){const e=t.options,n=e.fill;let r=Tr(n&&n.target,n);return r===void 0&&(r=!!e.backgroundColor),r===!1||r===null?!1:r===!0?"origin":r}function d9e(t){const{scale:e,index:n,line:r}=t,i=[],o=r.segments,l=r.points,a=f9e(e,n);a.push(RK({x:null,y:e.bottom},r));for(let f=0;f<o.length;f++){const p=o[f];for(let v=p.start;v<=p.end;v++)h9e(i,l[v],a)}return new bd({points:i,options:{}})}function f9e(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const o=r[i];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function h9e(t,e,n){const r=[];for(let i=0;i<n.length;i++){const o=n[i],{first:l,last:a,point:f}=p9e(o,e,"x");if(!(!f||l&&a)){if(l)r.unshift(f);else if(t.push(f),!a)break}}t.push(...r)}function p9e(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],o=t.segments,l=t.points;let a=!1,f=!1;for(let p=0;p<o.length;p++){const v=o[p],g=l[v.start][n],_=l[v.end][n];if(ic(i,g,_)){a=i===g,f=i===_;break}}return{first:a,last:f,point:r}}class LK{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,r){const{x:i,y:o,radius:l}=this;return n=n||{start:0,end:zi},e.arc(i,o,l,n.end,n.start,!0),!r.bounds}interpolate(e){const{x:n,y:r,radius:i}=this,o=e.angle;return{x:n+Math.cos(o)*i,y:r+Math.sin(o)*i,angle:o}}}function v9e(t){const{chart:e,fill:n,line:r}=t;if(ia(n))return m9e(e,n);if(n==="stack")return d9e(t);if(n==="shape")return!0;const i=g9e(t);return i instanceof LK?i:RK(i,r)}function m9e(t,e){const n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function g9e(t){return(t.scale||{}).getPointPositionForValue?_9e(t):y9e(t)}function y9e(t){const{scale:e={},fill:n}=t,r=l9e(n,e);if(ia(r)){const i=e.isHorizontal();return{x:i?r:null,y:i?null:r}}return null}function _9e(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,o=r.reverse?e.max:e.min,l=u9e(n,e,o),a=[];if(r.grid.circular){const f=e.getPointPositionForValue(0,o);return new LK({x:f.x,y:f.y,radius:e.getDistanceFromCenterForValue(l)})}for(let f=0;f<i;++f)a.push(e.getPointPositionForValue(f,l));return a}function B4(t,e,n){const r=v9e(e),{line:i,scale:o,axis:l}=e,a=i.options,f=a.fill,p=a.backgroundColor,{above:v=p,below:g=p}=f||{};r&&i.points.length&&(fw(t,n),b9e(t,{line:i,target:r,above:v,below:g,area:n,scale:o,axis:l}),hw(t))}function b9e(t,e){const{line:n,target:r,above:i,below:o,area:l,scale:a}=e,f=n._loop?"angle":e.axis;t.save(),f==="x"&&o!==i&&(IL(t,r,l.top),OL(t,{line:n,target:r,color:i,scale:a,property:f}),t.restore(),t.save(),IL(t,r,l.bottom)),OL(t,{line:n,target:r,color:o,scale:a,property:f}),t.restore()}function IL(t,e,n){const{segments:r,points:i}=e;let o=!0,l=!1;t.beginPath();for(const a of r){const{start:f,end:p}=a,v=i[f],g=i[_P(f,p,i)];o?(t.moveTo(v.x,v.y),o=!1):(t.lineTo(v.x,n),t.lineTo(v.x,v.y)),l=!!e.pathSegment(t,a,{move:l}),l?t.closePath():t.lineTo(g.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function OL(t,e){const{line:n,target:r,property:i,color:o,scale:l}=e,a=r9e(n,r,i);for(const{source:f,target:p,start:v,end:g}of a){const{style:{backgroundColor:_=o}={}}=f,b=r!==!0;t.save(),t.fillStyle=_,x9e(t,l,b&&j6(i,v,g)),t.beginPath();const S=!!n.pathSegment(t,f);let E;if(b){S?t.closePath():DL(t,r,g,i);const P=!!r.pathSegment(t,p,{move:S,reverse:!0});E=S&&P,E||DL(t,r,v,i)}t.closePath(),t.fill(E?"evenodd":"nonzero"),t.restore()}}function x9e(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:o,start:l,end:a}=n||{};o==="x"&&(t.beginPath(),t.rect(l,r,a-l,i-r),t.clip())}function DL(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var w9e={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let o,l,a,f;for(l=0;l<r;++l)o=t.getDatasetMeta(l),a=o.dataset,f=null,a&&a.options&&a instanceof bd&&(f={visible:t.isDatasetVisible(l),index:l,fill:o9e(a,l,r),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=f,i.push(f);for(l=0;l<r;++l)f=i[l],!(!f||f.fill===!1)&&(f.fill=a9e(i,l,n.propagate))},beforeDraw(t,e,n){const r=n.drawTime==="beforeDraw",i=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let l=i.length-1;l>=0;--l){const a=i[l].$filler;a&&(a.line.updateControlPoints(o,a.axis),r&&a.fill&&B4(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const o=r[i].$filler;AL(o)&&B4(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;!AL(r)||n.drawTime!=="beforeDatasetDraw"||B4(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const RL=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},C9e=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class LL extends mc{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Ai(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,i)=>e.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,i=Fa(r.font),o=i.size,l=this._computeTitleHeight(),{boxWidth:a,itemHeight:f}=RL(r,o);let p,v;n.font=i.string,this.isHorizontal()?(p=this.maxWidth,v=this._fitRows(l,o,a,f)+10):(v=this.maxHeight,p=this._fitCols(l,i,a,f)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(v,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,i){const{ctx:o,maxWidth:l,options:{labels:{padding:a}}}=this,f=this.legendHitBoxes=[],p=this.lineWidths=[0],v=i+a;let g=e;o.textAlign="left",o.textBaseline="middle";let _=-1,b=-v;return this.legendItems.forEach((S,E)=>{const P=r+n/2+o.measureText(S.text).width;(E===0||p[p.length-1]+P+2*a>l)&&(g+=v,p[p.length-(E>0?0:1)]=0,b+=v,_++),f[E]={left:0,top:b,row:_,width:P,height:i},p[p.length-1]+=P+a}),g}_fitCols(e,n,r,i){const{ctx:o,maxHeight:l,options:{labels:{padding:a}}}=this,f=this.legendHitBoxes=[],p=this.columnSizes=[],v=l-e;let g=a,_=0,b=0,S=0,E=0;return this.legendItems.forEach((P,k)=>{const{itemWidth:I,itemHeight:D}=S9e(r,n,o,P,i);k>0&&b+D+2*a>v&&(g+=_+a,p.push({width:_,height:b}),S+=_+a,E++,_=b=0),f[k]={left:S,top:b,col:E,width:I,height:D},_=Math.max(_,I),b+=D+a}),g+=_,p.push({width:_,height:b}),g}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:o}}=this,l=fv(o,this.left,this.width);if(this.isHorizontal()){let a=0,f=ho(r,this.left+i,this.right-this.lineWidths[a]);for(const p of n)a!==p.row&&(a=p.row,f=ho(r,this.left+i,this.right-this.lineWidths[a])),p.top+=this.top+e+i,p.left=l.leftForLtr(l.x(f),p.width),f+=p.width+i}else{let a=0,f=ho(r,this.top+e+i,this.bottom-this.columnSizes[a].height);for(const p of n)p.col!==a&&(a=p.col,f=ho(r,this.top+e+i,this.bottom-this.columnSizes[a].height)),p.top=f,p.left+=this.left+i,p.left=l.leftForLtr(l.x(p.left),p.width),f+=p.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;fw(e,this),this._draw(),hw(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:i}=this,{align:o,labels:l}=e,a=oa.color,f=fv(e.rtl,this.left,this.width),p=Fa(l.font),{padding:v}=l,g=p.size,_=g/2;let b;this.drawTitle(),i.textAlign=f.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=p.string;const{boxWidth:S,boxHeight:E,itemHeight:P}=RL(l,g),k=function(N,j,H){if(isNaN(S)||S<=0||isNaN(E)||E<0)return;i.save();const V=Tr(H.lineWidth,1);if(i.fillStyle=Tr(H.fillStyle,a),i.lineCap=Tr(H.lineCap,"butt"),i.lineDashOffset=Tr(H.lineDashOffset,0),i.lineJoin=Tr(H.lineJoin,"miter"),i.lineWidth=V,i.strokeStyle=Tr(H.strokeStyle,a),i.setLineDash(Tr(H.lineDash,[])),l.usePointStyle){const Z={radius:E*Math.SQRT2/2,pointStyle:H.pointStyle,rotation:H.rotation,borderWidth:V},re=f.xPlus(N,S/2),q=j+_;tK(i,Z,re,q,l.pointStyleWidth&&S)}else{const Z=j+Math.max((g-E)/2,0),re=f.leftForLtr(N,S),q=hh(H.borderRadius);i.beginPath(),Object.values(q).some(G=>G!==0)?Z1(i,{x:re,y:Z,w:S,h:E,radius:q}):i.rect(re,Z,S,E),i.fill(),V!==0&&i.stroke()}i.restore()},I=function(N,j,H){xh(i,H.text,N,j+P/2,p,{strikethrough:H.hidden,textAlign:f.textAlign(H.textAlign)})},D=this.isHorizontal(),L=this._computeTitleHeight();D?b={x:ho(o,this.left+v,this.right-r[0]),y:this.top+v+L,line:0}:b={x:this.left+v,y:ho(o,this.top+L+v,this.bottom-n[0].height),line:0},cK(this.ctx,e.textDirection);const B=P+v;this.legendItems.forEach((N,j)=>{i.strokeStyle=N.fontColor,i.fillStyle=N.fontColor;const H=i.measureText(N.text).width,V=f.textAlign(N.textAlign||(N.textAlign=l.textAlign)),Z=S+_+H;let re=b.x,q=b.y;f.setWidth(this.width),D?j>0&&re+Z+v>this.right&&(q=b.y+=B,b.line++,re=b.x=ho(o,this.left+v,this.right-r[b.line])):j>0&&q+B>this.bottom&&(re=b.x=re+n[b.line].width+v,b.line++,q=b.y=ho(o,this.top+L+v,this.bottom-n[b.line].height));const G=f.x(re);if(k(G,q,N),re=W8e(V,re+S+_,D?re+Z:this.right,e.rtl),I(f.x(re),q,N),D)b.x+=Z+v;else if(typeof N.text!="string"){const ae=p.lineHeight;b.y+=FK(N,ae)}else b.y+=B}),dK(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=Fa(n.font),i=go(n.padding);if(!n.display)return;const o=fv(e.rtl,this.left,this.width),l=this.ctx,a=n.position,f=r.size/2,p=i.top+f;let v,g=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),v=this.top+p,g=ho(e.align,g,this.right-_);else{const S=this.columnSizes.reduce((E,P)=>Math.max(E,P.height),0);v=p+ho(e.align,this.top,this.bottom-S-e.labels.padding-this._computeTitleHeight())}const b=ho(a,g,g+_);l.textAlign=o.textAlign(dP(a)),l.textBaseline="middle",l.strokeStyle=n.color,l.fillStyle=n.color,l.font=r.string,xh(l,n.text,b,v,r)}_computeTitleHeight(){const e=this.options.title,n=Fa(e.font),r=go(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,i,o;if(ic(e,this.left,this.right)&&ic(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(i=o[r],ic(e,i.left,i.left+i.width)&&ic(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!P9e(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const i=this._hoveredItem,o=C9e(i,r);i&&!o&&Ai(n.onLeave,[e,i,this],this),this._hoveredItem=r,r&&!o&&Ai(n.onHover,[e,r,this],this)}else r&&Ai(n.onClick,[e,r,this],this)}}function S9e(t,e,n,r,i){const o=T9e(r,t,e,n),l=E9e(i,r,e.lineHeight);return{itemWidth:o,itemHeight:l}}function T9e(t,e,n,r){let i=t.text;return i&&typeof i!="string"&&(i=i.reduce((o,l)=>o.length>l.length?o:l)),e+n.size/2+r.measureText(i).width}function E9e(t,e,n){let r=t;return typeof e.text!="string"&&(r=FK(e,n)),r}function FK(t,e){const n=t.text?t.text.length+.5:0;return e*n}function P9e(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var M9e={id:"legend",_element:LL,start(t,e,n){const r=t.legend=new LL({ctx:t.ctx,options:n,chart:t});mo.configure(t,r,n),mo.addBox(t,r)},stop(t){mo.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;mo.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:o,useBorderRadius:l,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(f=>{const p=f.controller.getStyle(n?0:void 0),v=go(p.borderWidth);return{text:e[f.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:i||p.textAlign,borderRadius:l&&(a||p.borderRadius),datasetIndex:f.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class bP extends mc{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const i=Bi(r.text)?r.text.length:1;this._padding=go(r.padding);const o=i*Fa(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:i,right:o,options:l}=this,a=l.align;let f=0,p,v,g;return this.isHorizontal()?(v=ho(a,r,o),g=n+e,p=o-r):(l.position==="left"?(v=r+e,g=ho(a,i,n),f=Hi*-.5):(v=o-e,g=ho(a,n,i),f=Hi*.5),p=i-n),{titleX:v,titleY:g,maxWidth:p,rotation:f}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=Fa(n.font),o=r.lineHeight/2+this._padding.top,{titleX:l,titleY:a,maxWidth:f,rotation:p}=this._drawArgs(o);xh(e,n.text,0,0,r,{color:n.color,maxWidth:f,rotation:p,textAlign:dP(n.align),textBaseline:"middle",translation:[l,a]})}}function k9e(t,e){const n=new bP({ctx:t.ctx,options:e,chart:t});mo.configure(t,n,e),mo.addBox(t,n),t.titleBlock=n}var A9e={id:"title",_element:bP,start(t,e,n){k9e(t,n)},stop(t){const e=t.titleBlock;mo.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;mo.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $_=new WeakMap;var I9e={id:"subtitle",start(t,e,n){const r=new bP({ctx:t.ctx,options:n,chart:t});mo.configure(t,r,n),mo.addBox(t,r),$_.set(t,r)},stop(t){mo.removeBox(t,$_.get(t)),$_.delete(t)},beforeUpdate(t,e,n){const r=$_.get(t);mo.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hg={average(t){if(!t.length)return!1;let e,n,r=0,i=0,o=0;for(e=0,n=t.length;e<n;++e){const l=t[e].element;if(l&&l.hasValue()){const a=l.tooltipPosition();r+=a.x,i+=a.y,++o}}return{x:r/o,y:i/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,i=Number.POSITIVE_INFINITY,o,l,a;for(o=0,l=t.length;o<l;++o){const f=t[o].element;if(f&&f.hasValue()){const p=f.getCenterPoint(),v=D6(e,p);v<i&&(i=v,a=f)}}if(a){const f=a.tooltipPosition();n=f.x,r=f.y}return{x:n,y:r}}};function Ql(t,e){return e&&(Bi(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Gu(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function O9e(t,e){const{element:n,datasetIndex:r,index:i}=e,o=t.getDatasetMeta(r).controller,{label:l,value:a}=o.getLabelAndValue(i);return{chart:t,label:l,parsed:o.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:o.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function FL(t,e){const n=t.chart.ctx,{body:r,footer:i,title:o}=t,{boxWidth:l,boxHeight:a}=e,f=Fa(e.bodyFont),p=Fa(e.titleFont),v=Fa(e.footerFont),g=o.length,_=i.length,b=r.length,S=go(e.padding);let E=S.height,P=0,k=r.reduce((L,B)=>L+B.before.length+B.lines.length+B.after.length,0);if(k+=t.beforeBody.length+t.afterBody.length,g&&(E+=g*p.lineHeight+(g-1)*e.titleSpacing+e.titleMarginBottom),k){const L=e.displayColors?Math.max(a,f.lineHeight):f.lineHeight;E+=b*L+(k-b)*f.lineHeight+(k-1)*e.bodySpacing}_&&(E+=e.footerMarginTop+_*v.lineHeight+(_-1)*e.footerSpacing);let I=0;const D=function(L){P=Math.max(P,n.measureText(L).width+I)};return n.save(),n.font=p.string,pi(t.title,D),n.font=f.string,pi(t.beforeBody.concat(t.afterBody),D),I=e.displayColors?l+2+e.boxPadding:0,pi(r,L=>{pi(L.before,D),pi(L.lines,D),pi(L.after,D)}),I=0,n.font=v.string,pi(t.footer,D),n.restore(),P+=S.width,{width:P,height:E}}function D9e(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function R9e(t,e,n,r){const{x:i,width:o}=r,l=n.caretSize+n.caretPadding;if(t==="left"&&i+o+l>e.width||t==="right"&&i-o-l<0)return!0}function L9e(t,e,n,r){const{x:i,width:o}=n,{width:l,chartArea:{left:a,right:f}}=t;let p="center";return r==="center"?p=i<=(a+f)/2?"left":"right":i<=o/2?p="left":i>=l-o/2&&(p="right"),R9e(p,t,e,n)&&(p="center"),p}function NL(t,e,n){const r=n.yAlign||e.yAlign||D9e(t,n);return{xAlign:n.xAlign||e.xAlign||L9e(t,e,n,r),yAlign:r}}function F9e(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function N9e(t,e,n){let{y:r,height:i}=t;return e==="top"?r+=n:e==="bottom"?r-=i+n:r-=i/2,r}function BL(t,e,n,r){const{caretSize:i,caretPadding:o,cornerRadius:l}=t,{xAlign:a,yAlign:f}=n,p=i+o,{topLeft:v,topRight:g,bottomLeft:_,bottomRight:b}=hh(l);let S=F9e(e,a);const E=N9e(e,f,p);return f==="center"?a==="left"?S+=p:a==="right"&&(S-=p):a==="left"?S-=Math.max(v,_)+i:a==="right"&&(S+=Math.max(g,b)+i),{x:Wa(S,0,r.width-e.width),y:Wa(E,0,r.height-e.height)}}function j_(t,e,n){const r=go(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function zL(t){return Ql([],Gu(t))}function B9e(t,e,n){return jd(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function $L(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const NK={beforeTitle:Vu,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Vu,beforeBody:Vu,beforeLabel:Vu,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Kr(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Vu,afterBody:Vu,beforeFooter:Vu,footer:Vu,afterFooter:Vu};function Go(t,e,n,r){const i=t[e].call(n,r);return typeof i>"u"?NK[e].call(n,r):i}class V6 extends mc{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,o=new vK(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=B9e(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,i=Go(r,"beforeTitle",this,e),o=Go(r,"title",this,e),l=Go(r,"afterTitle",this,e);let a=[];return a=Ql(a,Gu(i)),a=Ql(a,Gu(o)),a=Ql(a,Gu(l)),a}getBeforeBody(e,n){return zL(Go(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,i=[];return pi(e,o=>{const l={before:[],lines:[],after:[]},a=$L(r,o);Ql(l.before,Gu(Go(a,"beforeLabel",this,o))),Ql(l.lines,Go(a,"label",this,o)),Ql(l.after,Gu(Go(a,"afterLabel",this,o))),i.push(l)}),i}getAfterBody(e,n){return zL(Go(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,i=Go(r,"beforeFooter",this,e),o=Go(r,"footer",this,e),l=Go(r,"afterFooter",this,e);let a=[];return a=Ql(a,Gu(i)),a=Ql(a,Gu(o)),a=Ql(a,Gu(l)),a}_createItems(e){const n=this._active,r=this.chart.data,i=[],o=[],l=[];let a=[],f,p;for(f=0,p=n.length;f<p;++f)a.push(O9e(this.chart,n[f]));return e.filter&&(a=a.filter((v,g,_)=>e.filter(v,g,_,r))),e.itemSort&&(a=a.sort((v,g)=>e.itemSort(v,g,r))),pi(a,v=>{const g=$L(e.callbacks,v);i.push(Go(g,"labelColor",this,v)),o.push(Go(g,"labelPointStyle",this,v)),l.push(Go(g,"labelTextColor",this,v))}),this.labelColors=i,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=a,a}update(e,n){const r=this.options.setContext(this.getContext()),i=this._active;let o,l=[];if(!i.length)this.opacity!==0&&(o={opacity:0});else{const a=Hg[r.position].call(this,i,this._eventPosition);l=this._createItems(r),this.title=this.getTitle(l,r),this.beforeBody=this.getBeforeBody(l,r),this.body=this.getBody(l,r),this.afterBody=this.getAfterBody(l,r),this.footer=this.getFooter(l,r);const f=this._size=FL(this,r),p=Object.assign({},a,f),v=NL(this.chart,r,p),g=BL(r,p,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,o={opacity:1,x:g.x,y:g.y,width:f.width,height:f.height,caretX:a.x,caretY:a.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,i){const o=this.getCaretPosition(e,r,i);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:i,yAlign:o}=this,{caretSize:l,cornerRadius:a}=r,{topLeft:f,topRight:p,bottomLeft:v,bottomRight:g}=hh(a),{x:_,y:b}=e,{width:S,height:E}=n;let P,k,I,D,L,B;return o==="center"?(L=b+E/2,i==="left"?(P=_,k=P-l,D=L+l,B=L-l):(P=_+S,k=P+l,D=L-l,B=L+l),I=P):(i==="left"?k=_+Math.max(f,v)+l:i==="right"?k=_+S-Math.max(p,g)-l:k=this.caretX,o==="top"?(D=b,L=D-l,P=k-l,I=k+l):(D=b+E,L=D+l,P=k+l,I=k-l),B=D),{x1:P,x2:k,x3:I,y1:D,y2:L,y3:B}}drawTitle(e,n,r){const i=this.title,o=i.length;let l,a,f;if(o){const p=fv(r.rtl,this.x,this.width);for(e.x=j_(this,r.titleAlign,r),n.textAlign=p.textAlign(r.titleAlign),n.textBaseline="middle",l=Fa(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=l.string,f=0;f<o;++f)n.fillText(i[f],p.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+a,f+1===o&&(e.y+=r.titleMarginBottom-a)}}_drawColorBox(e,n,r,i,o){const l=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:f,boxWidth:p}=o,v=Fa(o.bodyFont),g=j_(this,"left",o),_=i.x(g),b=f<v.lineHeight?(v.lineHeight-f)/2:0,S=n.y+b;if(o.usePointStyle){const E={radius:Math.min(p,f)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},P=i.leftForLtr(_,p)+p/2,k=S+f/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,L6(e,E,P,k),e.strokeStyle=l.borderColor,e.fillStyle=l.backgroundColor,L6(e,E,P,k)}else{e.lineWidth=jr(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,e.strokeStyle=l.borderColor,e.setLineDash(l.borderDash||[]),e.lineDashOffset=l.borderDashOffset||0;const E=i.leftForLtr(_,p),P=i.leftForLtr(i.xPlus(_,1),p-2),k=hh(l.borderRadius);Object.values(k).some(I=>I!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,Z1(e,{x:E,y:S,w:p,h:f,radius:k}),e.fill(),e.stroke(),e.fillStyle=l.backgroundColor,e.beginPath(),Z1(e,{x:P,y:S+1,w:p-2,h:f-2,radius:k}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(E,S,p,f),e.strokeRect(E,S,p,f),e.fillStyle=l.backgroundColor,e.fillRect(P,S+1,p-2,f-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:i}=this,{bodySpacing:o,bodyAlign:l,displayColors:a,boxHeight:f,boxWidth:p,boxPadding:v}=r,g=Fa(r.bodyFont);let _=g.lineHeight,b=0;const S=fv(r.rtl,this.x,this.width),E=function(H){n.fillText(H,S.x(e.x+b),e.y+_/2),e.y+=_+o},P=S.textAlign(l);let k,I,D,L,B,N,j;for(n.textAlign=l,n.textBaseline="middle",n.font=g.string,e.x=j_(this,P,r),n.fillStyle=r.bodyColor,pi(this.beforeBody,E),b=a&&P!=="right"?l==="center"?p/2+v:p+2+v:0,L=0,N=i.length;L<N;++L){for(k=i[L],I=this.labelTextColors[L],n.fillStyle=I,pi(k.before,E),D=k.lines,a&&D.length&&(this._drawColorBox(n,e,L,S,r),_=Math.max(g.lineHeight,f)),B=0,j=D.length;B<j;++B)E(D[B]),_=g.lineHeight;pi(k.after,E)}b=0,_=g.lineHeight,pi(this.afterBody,E),e.y-=o}drawFooter(e,n,r){const i=this.footer,o=i.length;let l,a;if(o){const f=fv(r.rtl,this.x,this.width);for(e.x=j_(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=f.textAlign(r.footerAlign),n.textBaseline="middle",l=Fa(r.footerFont),n.fillStyle=r.footerColor,n.font=l.string,a=0;a<o;++a)n.fillText(i[a],f.x(e.x),e.y+l.lineHeight/2),e.y+=l.lineHeight+r.footerSpacing}}drawBackground(e,n,r,i){const{xAlign:o,yAlign:l}=this,{x:a,y:f}=e,{width:p,height:v}=r,{topLeft:g,topRight:_,bottomLeft:b,bottomRight:S}=hh(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+g,f),l==="top"&&this.drawCaret(e,n,r,i),n.lineTo(a+p-_,f),n.quadraticCurveTo(a+p,f,a+p,f+_),l==="center"&&o==="right"&&this.drawCaret(e,n,r,i),n.lineTo(a+p,f+v-S),n.quadraticCurveTo(a+p,f+v,a+p-S,f+v),l==="bottom"&&this.drawCaret(e,n,r,i),n.lineTo(a+b,f+v),n.quadraticCurveTo(a,f+v,a,f+v-b),l==="center"&&o==="left"&&this.drawCaret(e,n,r,i),n.lineTo(a,f+g),n.quadraticCurveTo(a,f,a+g,f),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,i=r&&r.x,o=r&&r.y;if(i||o){const l=Hg[e.position].call(this,this._active,this._eventPosition);if(!l)return;const a=this._size=FL(this,e),f=Object.assign({},l,this._size),p=NL(n,e,f),v=BL(e,f,p,n);(i._to!==v.x||o._to!==v.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=a.width,this.height=a.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const l=go(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,i,n),cK(e,n.textDirection),o.y+=l.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),dK(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,i=e.map(({datasetIndex:a,index:f})=>{const p=this.chart.getDatasetMeta(a);if(!p)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:p.data[f],index:f}}),o=!Nx(r,i),l=this._positionChanged(i,n);(o||l)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,o=this._active||[],l=this._getActiveElements(e,o,n,r),a=this._positionChanged(l,e),f=n||!Nx(l,o)||a;return f&&(this._active=l,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),f}_getActiveElements(e,n,r,i){const o=this.options;if(e.type==="mouseout")return[];if(!i)return n;const l=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&l.reverse(),l}_positionChanged(e,n){const{caretX:r,caretY:i,options:o}=this,l=Hg[o.position].call(this,e,n);return l!==!1&&(r!==l.x||i!==l.y)}}xn(V6,"positioners",Hg);var z9e={id:"tooltip",_element:V6,positioners:Hg,afterInit(t,e,n){n&&(t.tooltip=new V6({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:NK},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},$9e=Object.freeze({__proto__:null,Colors:QPe,Decimation:n9e,Filler:w9e,Legend:M9e,SubTitle:I9e,Title:A9e,Tooltip:z9e});const j9e=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function V9e(t,e,n,r){const i=t.indexOf(e);if(i===-1)return j9e(t,e,n,r);const o=t.lastIndexOf(e);return i!==o?n:i}const U9e=(t,e)=>t===null?null:Wa(Math.round(t),0,e);function jL(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class U6 extends Oh{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:o}of n)r[i]===o&&r.splice(i,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Kr(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:V9e(r,e,Tr(n,e),this._addedLabels),U9e(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,i=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let l=e;l<=n;l++)i.push({value:l});return i}getLabelForValue(e){return jL.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}xn(U6,"id","category"),xn(U6,"defaults",{ticks:{callback:jL}});function H9e(t,e){const n=[],{bounds:i,step:o,min:l,max:a,precision:f,count:p,maxTicks:v,maxDigits:g,includeBounds:_}=t,b=o||1,S=v-1,{min:E,max:P}=e,k=!Kr(l),I=!Kr(a),D=!Kr(p),L=(P-E)/(g+1);let B=LR((P-E)/S/b)*b,N,j,H,V;if(B<1e-14&&!k&&!I)return[{value:E},{value:P}];V=Math.ceil(P/B)-Math.floor(E/B),V>S&&(B=LR(V*B/S/b)*b),Kr(f)||(N=Math.pow(10,f),B=Math.ceil(B*N)/N),i==="ticks"?(j=Math.floor(E/B)*B,H=Math.ceil(P/B)*B):(j=E,H=P),k&&I&&o&&z8e((a-l)/o,B/1e3)?(V=Math.round(Math.min((a-l)/B,v)),B=(a-l)/V,j=l,H=a):D?(j=k?l:j,H=I?a:H,V=p-1,B=(H-j)/V):(V=(H-j)/B,v1(V,Math.round(V),B/1e3)?V=Math.round(V):V=Math.ceil(V));const Z=Math.max(FR(B),FR(j));N=Math.pow(10,Kr(f)?Z:f),j=Math.round(j*N)/N,H=Math.round(H*N)/N;let re=0;for(k&&(_&&j!==l?(n.push({value:l}),j<l&&re++,v1(Math.round((j+re*B)*N)/N,l,VL(l,L,t))&&re++):j<l&&re++);re<V;++re){const q=Math.round((j+re*B)*N)/N;if(I&&q>a)break;n.push({value:q})}return I&&_&&H!==a?n.length&&v1(n[n.length-1].value,a,VL(a,L,t))?n[n.length-1].value=a:n.push({value:a}):(!I||H===a)&&n.push({value:H}),n}function VL(t,e,{horizontal:n,minRotation:r}){const i=gl(r),o=(n?Math.sin(i):Math.cos(i))||.001,l=.75*e*(""+t).length;return Math.min(e/o,l)}class Hx extends Oh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Kr(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:o}=this;const l=f=>i=n?i:f,a=f=>o=r?o:f;if(e){const f=fu(i),p=fu(o);f<0&&p<0?a(0):f>0&&p>0&&l(0)}if(i===o){let f=o===0?1:Math.abs(o*.05);a(o+f),e||l(i-f)}this.min=i,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,l=H9e(i,o);return e.bounds==="ticks"&&WH(l,this,"value"),e.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const i=(r-n)/Math.max(e.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return C0(e,this.chart.options.locale,this.options.ticks.format)}}class H6 extends Hx{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ia(e)?e:0,this.max=ia(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=gl(this.options.ticks.minRotation),i=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}xn(H6,"id","linear"),xn(H6,"defaults",{ticks:{callback:dw.formatters.numeric}});const J1=t=>Math.floor(_d(t)),$f=(t,e)=>Math.pow(10,J1(t)+e);function UL(t){return t/Math.pow(10,J1(t))===1}function HL(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function K9e(t,e){const n=e-t;let r=J1(n);for(;HL(t,e,r)>10;)r++;for(;HL(t,e,r)<10;)r--;return Math.min(r,J1(t))}function W9e(t,{min:e,max:n}){e=gs(t.min,e);const r=[],i=J1(e);let o=K9e(e,n),l=o<0?Math.pow(10,Math.abs(o)):1;const a=Math.pow(10,o),f=i>o?Math.pow(10,i):0,p=Math.round((e-f)*l)/l,v=Math.floor((e-f)/a/10)*a*10;let g=Math.floor((p-v)/Math.pow(10,o)),_=gs(t.min,Math.round((f+v+g*Math.pow(10,o))*l)/l);for(;_<n;)r.push({value:_,major:UL(_),significand:g}),g>=10?g=g<15?15:20:g++,g>=20&&(o++,g=2,l=o>=0?1:l),_=Math.round((f+v+g*Math.pow(10,o))*l)/l;const b=gs(t.max,_);return r.push({value:b,major:UL(b),significand:g}),r}class K6 extends Oh{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){const r=Hx.prototype.parse.apply(this,[e,n]);if(r===0){this._zero=!0;return}return ia(r)&&r>0?r:null}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=ia(e)?Math.max(0,e):null,this.max=ia(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!ia(this._userMin)&&(this.min=e===$f(this.min,0)?$f(this.min,-1):$f(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let r=this.min,i=this.max;const o=a=>r=e?r:a,l=a=>i=n?i:a;r===i&&(r<=0?(o(1),l(10)):(o($f(r,-1)),l($f(i,1)))),r<=0&&o($f(i,-1)),i<=0&&l($f(r,1)),this.min=r,this.max=i}buildTicks(){const e=this.options,n={min:this._userMin,max:this._userMax},r=W9e(n,this);return e.bounds==="ticks"&&WH(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}getLabelForValue(e){return e===void 0?"0":C0(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=_d(e),this._valueRange=_d(this.max)-_d(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(_d(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}}xn(K6,"id","logarithmic"),xn(K6,"defaults",{ticks:{callback:dw.formatters.logarithmic,major:{enabled:!0}}});function W6(t){const e=t.ticks;if(e.display&&t.display){const n=go(e.backdropPadding);return Tr(e.font&&e.font.size,oa.font.size)+n.height}return 0}function G9e(t,e,n){return n=Bi(n)?n:[n],{w:nTe(t,e.string,n),h:n.length*e.lineHeight}}function KL(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function q9e(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],o=t._pointLabels.length,l=t.options.pointLabels,a=l.centerPointLabels?Hi/o:0;for(let f=0;f<o;f++){const p=l.setContext(t.getPointLabelContext(f));i[f]=p.padding;const v=t.getPointPosition(f,t.drawingArea+i[f],a),g=Fa(p.font),_=G9e(t.ctx,g,t._pointLabels[f]);r[f]=_;const b=_s(t.getIndexAngle(f)+a),S=Math.round(uP(b)),E=KL(S,v.x,_.w,0,180),P=KL(S,v.y,_.h,90,270);Y9e(n,e,b,E,P)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=Q9e(t,r,i)}function Y9e(t,e,n,r,i){const o=Math.abs(Math.sin(n)),l=Math.abs(Math.cos(n));let a=0,f=0;r.start<e.l?(a=(e.l-r.start)/o,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(f=(e.t-i.start)/l,t.t=Math.min(t.t,e.t-f)):i.end>e.b&&(f=(i.end-e.b)/l,t.b=Math.max(t.b,e.b+f))}function X9e(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:o,padding:l,size:a}=n,f=t.getPointPosition(e,r+i+l,o),p=Math.round(uP(_s(f.angle+aa))),v=tMe(f.y,a.h,p),g=J9e(p),_=eMe(f.x,a.w,g);return{visible:!0,x:f.x,y:v,textAlign:g,left:_,top:v,right:_+a.w,bottom:v+a.h}}function Z9e(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:o}=t;return!(oc({x:n,y:r},e)||oc({x:n,y:o},e)||oc({x:i,y:r},e)||oc({x:i,y:o},e))}function Q9e(t,e,n){const r=[],i=t._pointLabels.length,o=t.options,{centerPointLabels:l,display:a}=o.pointLabels,f={extra:W6(o)/2,additionalAngle:l?Hi/i:0};let p;for(let v=0;v<i;v++){f.padding=n[v],f.size=e[v];const g=X9e(t,v,f);r.push(g),a==="auto"&&(g.visible=Z9e(g,p),g.visible&&(p=g))}return r}function J9e(t){return t===0||t===180?"center":t<180?"left":"right"}function eMe(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function tMe(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function nMe(t,e,n){const{left:r,top:i,right:o,bottom:l}=n,{backdropColor:a}=e;if(!Kr(a)){const f=hh(e.borderRadius),p=go(e.backdropPadding);t.fillStyle=a;const v=r-p.left,g=i-p.top,_=o-r+p.width,b=l-i+p.height;Object.values(f).some(S=>S!==0)?(t.beginPath(),Z1(t,{x:v,y:g,w:_,h:b,radius:f}),t.fill()):t.fillRect(v,g,_,b)}}function rMe(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const o=t._pointLabelItems[i];if(!o.visible)continue;const l=r.setContext(t.getPointLabelContext(i));nMe(n,l,o);const a=Fa(l.font),{x:f,y:p,textAlign:v}=o;xh(n,t._pointLabels[i],f,p+a.lineHeight/2,a,{color:l.color,textAlign:v,textBaseline:"middle"})}}function BK(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,zi);else{let o=t.getPointPosition(0,e);i.moveTo(o.x,o.y);for(let l=1;l<r;l++)o=t.getPointPosition(l,e),i.lineTo(o.x,o.y)}}function iMe(t,e,n,r,i){const o=t.ctx,l=e.circular,{color:a,lineWidth:f}=e;!l&&!r||!a||!f||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=f,o.setLineDash(i.dash),o.lineDashOffset=i.dashOffset,o.beginPath(),BK(t,n,l,r),o.closePath(),o.stroke(),o.restore())}function aMe(t,e,n){return jd(t,{label:n,index:e,type:"pointLabel"})}class Kg extends Hx{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=go(W6(this.options)/2),n=this.width=this.maxWidth-e.width,r=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+r/2+e.top),this.drawingArea=Math.floor(Math.min(n,r)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=ia(e)&&!isNaN(e)?e:0,this.max=ia(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/W6(this.options))}generateTickLabels(e){Hx.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,r)=>{const i=Ai(this.options.pointLabels.callback,[n,r],this);return i||i===0?i:""}).filter((n,r)=>this.chart.getDataVisibility(r))}fit(){const e=this.options;e.display&&e.pointLabels.display?q9e(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,r,i){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((r-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,r,i))}getIndexAngle(e){const n=zi/(this._pointLabels.length||1),r=this.options.startAngle||0;return _s(e*n+gl(r))}getDistanceFromCenterForValue(e){if(Kr(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(Kr(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const r=n[e];return aMe(this.getContext(),e,r)}}getPointPosition(e,n,r=0){const i=this.getIndexAngle(e)-aa+r;return{x:Math.cos(i)*n+this.xCenter,y:Math.sin(i)*n+this.yCenter,angle:i}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:r,right:i,bottom:o}=this._pointLabelItems[e];return{left:n,top:r,right:i,bottom:o}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const r=this.ctx;r.save(),r.beginPath(),BK(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),r.closePath(),r.fillStyle=e,r.fill(),r.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:r,grid:i,border:o}=n,l=this._pointLabels.length;let a,f,p;if(n.pointLabels.display&&rMe(this,l),i.display&&this.ticks.forEach((v,g)=>{if(g!==0){f=this.getDistanceFromCenterForValue(v.value);const _=this.getContext(g),b=i.setContext(_),S=o.setContext(_);iMe(this,b,f,l,S)}}),r.display){for(e.save(),a=l-1;a>=0;a--){const v=r.setContext(this.getPointLabelContext(a)),{color:g,lineWidth:_}=v;!_||!g||(e.lineWidth=_,e.strokeStyle=g,e.setLineDash(v.borderDash),e.lineDashOffset=v.borderDashOffset,f=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),p=this.getPointPosition(a,f),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(p.x,p.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,r=n.ticks;if(!r.display)return;const i=this.getIndexAngle(0);let o,l;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(i),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,f)=>{if(f===0&&!n.reverse)return;const p=r.setContext(this.getContext(f)),v=Fa(p.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),p.showLabelBackdrop){e.font=v.string,l=e.measureText(a.label).width,e.fillStyle=p.backdropColor;const g=go(p.backdropPadding);e.fillRect(-l/2-g.left,-o-v.size/2-g.top,l+g.width,v.size+g.height)}xh(e,a.label,0,-o,v,{color:p.color})}),e.restore()}drawTitle(){}}xn(Kg,"id","radialLinear"),xn(Kg,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dw.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),xn(Kg,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),xn(Kg,"descriptors",{angleLines:{_fallback:"grid"}});const vw={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zo=Object.keys(vw);function oMe(t,e){return t-e}function WL(t,e){if(Kr(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:o}=t._parseOpts;let l=e;return typeof r=="function"&&(l=r(l)),ia(l)||(l=typeof r=="string"?n.parse(l,r):n.parse(l)),l===null?null:(i&&(l=i==="week"&&(Av(o)||o===!0)?n.startOf(l,"isoWeek",o):n.startOf(l,i)),+l)}function GL(t,e,n,r){const i=Zo.length;for(let o=Zo.indexOf(t);o<i-1;++o){const l=vw[Zo[o]],a=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((n-e)/(a*l.size))<=r)return Zo[o]}return Zo[i-1]}function sMe(t,e,n,r,i){for(let o=Zo.length-1;o>=Zo.indexOf(n);o--){const l=Zo[o];if(vw[l].common&&t._adapter.diff(i,r,l)>=e-1)return l}return Zo[n?Zo.indexOf(n):0]}function lMe(t){for(let e=Zo.indexOf(t)+1,n=Zo.length;e<n;++e)if(vw[Zo[e]].common)return Zo[e]}function qL(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:i}=cP(n,e),o=n[r]>=e?n[r]:n[i];t[o]=!0}}function uMe(t,e,n,r){const i=t._adapter,o=+i.startOf(e[0].value,r),l=e[e.length-1].value;let a,f;for(a=o;a<=l;a=+i.add(a,1,r))f=n[a],f>=0&&(e[f].major=!0);return e}function YL(t,e,n){const r=[],i={},o=e.length;let l,a;for(l=0;l<o;++l)a=e[l],i[a]=l,r.push({value:a,major:!1});return o===0||!n?r:uMe(t,r,i,n)}class e0 extends Oh{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),i=this._adapter=new yK._date(e.adapters.date);i.init(n),p1(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:WL(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:i,max:o,minDefined:l,maxDefined:a}=this.getUserBounds();function f(p){!l&&!isNaN(p.min)&&(i=Math.min(i,p.min)),!a&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!l||!a)&&(f(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&f(this.getMinMax(!1))),i=ia(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),o=ia(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,o-1),this.max=Math.max(i+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const o=this.min,l=this.max,a=U8e(i,o,l);return this._unit=n.unit||(r.autoSkip?GL(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):sMe(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:lMe(this._unit),this.initOffsets(i),e.reverse&&a.reverse(),YL(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,i,o;this.options.offset&&e.length&&(i=this.getDecimalForValue(e[0]),e.length===1?n=1-i:n=(this.getDecimalForValue(e[1])-i)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const l=e.length<3?.5:.25;n=Wa(n,0,l),r=Wa(r,0,l),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,i=this.options,o=i.time,l=o.unit||GL(o.minUnit,n,r,this._getLabelCapacity(n)),a=Tr(i.ticks.stepSize,1),f=l==="week"?o.isoWeekday:!1,p=Av(f)||f===!0,v={};let g=n,_,b;if(p&&(g=+e.startOf(g,"isoWeek",f)),g=+e.startOf(g,p?"day":l),e.diff(r,n,l)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+l);const S=i.ticks.source==="data"&&this.getDataTimestamps();for(_=g,b=0;_<r;_=+e.add(_,a,l),b++)qL(v,_,S);return(_===r||i.bounds==="ticks"||b===1)&&qL(v,_,S),Object.keys(v).sort((E,P)=>E-P).map(E=>+E)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const i=this.options.time.displayFormats,o=this._unit,l=n||i[o];return this._adapter.format(e,l)}_tickFormatFunction(e,n,r,i){const o=this.options,l=o.ticks.callback;if(l)return Ai(l,[e,n,r],this);const a=o.time.displayFormats,f=this._unit,p=this._majorUnit,v=f&&a[f],g=p&&a[p],_=r[n],b=p&&g&&_&&_.major;return this._adapter.format(e,i||(b?g:v))}generateTickLabels(e){let n,r,i;for(n=0,r=e.length;n<r;++n)i=e[n],i.label=this._tickFormatFunction(i.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,i=gl(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(i),l=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*o+a*l,h:r*l+a*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,YL(this,[e],this._majorUnit),i),l=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)e=e.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)e.push(WL(this,i[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return YH(e.sort(oMe))}}xn(e0,"id","time"),xn(e0,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function V_(t,e,n){let r=0,i=t.length-1,o,l,a,f;n?(e>=t[r].pos&&e<=t[i].pos&&({lo:r,hi:i}=ac(t,"pos",e)),{pos:o,time:a}=t[r],{pos:l,time:f}=t[i]):(e>=t[r].time&&e<=t[i].time&&({lo:r,hi:i}=ac(t,"time",e)),{time:o,pos:a}=t[r],{time:l,pos:f}=t[i]);const p=l-o;return p?a+(f-a)*(e-o)/p:a}class G6 extends e0{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=V_(n,this.min),this._tableRange=V_(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,i=[],o=[];let l,a,f,p,v;for(l=0,a=e.length;l<a;++l)p=e[l],p>=n&&p<=r&&i.push(p);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(l=0,a=i.length;l<a;++l)v=i[l+1],f=i[l-1],p=i[l],Math.round((v+f)/2)!==p&&o.push({time:p,pos:l/(a-1)});return o}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(V_(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return V_(this._table,r*this._tableRange+this._minPos,!0)}}xn(G6,"id","timeseries"),xn(G6,"defaults",e0.defaults);var cMe=Object.freeze({__proto__:null,CategoryScale:U6,LinearScale:H6,LogarithmicScale:K6,RadialLinearScale:Kg,TimeScale:e0,TimeSeriesScale:G6});const dMe=[gEe,WPe,$9e,cMe];Qu.register(...dMe);function ji(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function Wn(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function sr(t){Wn(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||dn(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function zK(t,e){Wn(2,arguments);var n=sr(t),r=ji(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function xP(t,e){Wn(2,arguments);var n=sr(t),r=ji(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var l=o.getDate();return i>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function T0(t,e){Wn(2,arguments);var n=sr(t).getTime(),r=ji(e);return new Date(n+r)}var fMe=36e5;function hMe(t,e){Wn(2,arguments);var n=ji(e);return T0(t,n*fMe)}var pMe={};function Vd(){return pMe}function XL(t,e){var n,r,i,o,l,a,f,p;Wn(1,arguments);var v=Vd(),g=ji((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(l=e.locale)===null||l===void 0||(a=l.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:v.weekStartsOn)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&n!==void 0?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var _=sr(t),b=_.getDay(),S=(b<g?7:0)+b-g;return _.setDate(_.getDate()-S),_.setHours(0,0,0,0),_}function Kx(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function q6(t){Wn(1,arguments);var e=sr(t);return e.setHours(0,0,0,0),e}var vMe=864e5;function mMe(t,e){Wn(2,arguments);var n=q6(t),r=q6(e),i=n.getTime()-Kx(n),o=r.getTime()-Kx(r);return Math.round((i-o)/vMe)}var gMe=6e4;function yMe(t,e){Wn(2,arguments);var n=ji(e);return T0(t,n*gMe)}function _Me(t,e){Wn(2,arguments);var n=ji(e),r=n*3;return xP(t,r)}function bMe(t,e){Wn(2,arguments);var n=ji(e);return T0(t,n*1e3)}function xMe(t,e){Wn(2,arguments);var n=ji(e),r=n*7;return zK(t,r)}function wMe(t,e){Wn(2,arguments);var n=ji(e);return xP(t,n*12)}function _1(t,e){Wn(2,arguments);var n=sr(t),r=sr(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}var mw=6e4,gw=36e5,CMe=1e3;function SMe(t){return Wn(1,arguments),t instanceof Date||dn(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $K(t){if(Wn(1,arguments),!SMe(t)&&typeof t!="number")return!1;var e=sr(t);return!isNaN(Number(e))}function TMe(t,e){Wn(2,arguments);var n=sr(t),r=sr(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function EMe(t,e){Wn(2,arguments);var n=sr(t),r=sr(e);return n.getFullYear()-r.getFullYear()}function ZL(t,e){var n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function jK(t,e){Wn(2,arguments);var n=sr(t),r=sr(e),i=ZL(n,r),o=Math.abs(mMe(n,r));n.setDate(n.getDate()-i*o);var l=+(ZL(n,r)===-i),a=i*(o-l);return a===0?0:a}function yw(t,e){return Wn(2,arguments),sr(t).getTime()-sr(e).getTime()}var QL={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},PMe="trunc";function E0(t){return t?QL[t]:QL[PMe]}function MMe(t,e,n){Wn(2,arguments);var r=yw(t,e)/gw;return E0(n==null?void 0:n.roundingMethod)(r)}function kMe(t,e,n){Wn(2,arguments);var r=yw(t,e)/mw;return E0(n==null?void 0:n.roundingMethod)(r)}function VK(t){Wn(1,arguments);var e=sr(t);return e.setHours(23,59,59,999),e}function UK(t){Wn(1,arguments);var e=sr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function AMe(t){Wn(1,arguments);var e=sr(t);return VK(e).getTime()===UK(e).getTime()}function HK(t,e){Wn(2,arguments);var n=sr(t),r=sr(e),i=_1(n,r),o=Math.abs(TMe(n,r)),l;if(o<1)l=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*o);var a=_1(n,r)===-i;AMe(sr(t))&&o===1&&_1(t,r)===1&&(a=!1),l=i*(o-Number(a))}return l===0?0:l}function IMe(t,e,n){Wn(2,arguments);var r=HK(t,e)/3;return E0(n==null?void 0:n.roundingMethod)(r)}function OMe(t,e,n){Wn(2,arguments);var r=yw(t,e)/1e3;return E0(n==null?void 0:n.roundingMethod)(r)}function DMe(t,e,n){Wn(2,arguments);var r=jK(t,e)/7;return E0(n==null?void 0:n.roundingMethod)(r)}function RMe(t,e){Wn(2,arguments);var n=sr(t),r=sr(e),i=_1(n,r),o=Math.abs(EMe(n,r));n.setFullYear(1584),r.setFullYear(1584);var l=_1(n,r)===-i,a=i*(o-Number(l));return a===0?0:a}function LMe(t){Wn(1,arguments);var e=sr(t);return e.setSeconds(0,0),e}function FMe(t){Wn(1,arguments);var e=sr(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function NMe(t){Wn(1,arguments);var e=sr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function BMe(t){Wn(1,arguments);var e=sr(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}function zMe(t){Wn(1,arguments);var e=sr(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function $Me(t){Wn(1,arguments);var e=sr(t);return e.setMinutes(59,59,999),e}function jMe(t,e){var n,r,i,o,l,a,f,p;Wn(1,arguments);var v=Vd(),g=ji((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(l=e.locale)===null||l===void 0||(a=l.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:v.weekStartsOn)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&n!==void 0?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var _=sr(t),b=_.getDay(),S=(b<g?-7:0)+6-(b-g);return _.setDate(_.getDate()+S),_.setHours(23,59,59,999),_}function VMe(t){Wn(1,arguments);var e=sr(t);return e.setSeconds(59,999),e}function UMe(t){Wn(1,arguments);var e=sr(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function HMe(t){Wn(1,arguments);var e=sr(t);return e.setMilliseconds(999),e}function KK(t,e){Wn(2,arguments);var n=ji(e);return T0(t,-n)}var KMe=864e5;function WMe(t){Wn(1,arguments);var e=sr(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),i=n-r;return Math.floor(i/KMe)+1}function Dv(t){Wn(1,arguments);var e=1,n=sr(t),r=n.getUTCDay(),i=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-i),n.setUTCHours(0,0,0,0),n}function WK(t){Wn(1,arguments);var e=sr(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Dv(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var l=Dv(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=l.getTime()?n:n-1}function GMe(t){Wn(1,arguments);var e=WK(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Dv(n);return r}var qMe=6048e5;function GK(t){Wn(1,arguments);var e=sr(t),n=Dv(e).getTime()-GMe(e).getTime();return Math.round(n/qMe)+1}function wh(t,e){var n,r,i,o,l,a,f,p;Wn(1,arguments);var v=Vd(),g=ji((n=(r=(i=(o=e==null?void 0:e.weekStartsOn)!==null&&o!==void 0?o:e==null||(l=e.locale)===null||l===void 0||(a=l.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&i!==void 0?i:v.weekStartsOn)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.weekStartsOn)!==null&&n!==void 0?n:0);if(!(g>=0&&g<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var _=sr(t),b=_.getUTCDay(),S=(b<g?7:0)+b-g;return _.setUTCDate(_.getUTCDate()-S),_.setUTCHours(0,0,0,0),_}function wP(t,e){var n,r,i,o,l,a,f,p;Wn(1,arguments);var v=sr(t),g=v.getUTCFullYear(),_=Vd(),b=ji((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(l=e.locale)===null||l===void 0||(a=l.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:_.firstWeekContainsDate)!==null&&r!==void 0?r:(f=_.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setUTCFullYear(g+1,0,b),S.setUTCHours(0,0,0,0);var E=wh(S,e),P=new Date(0);P.setUTCFullYear(g,0,b),P.setUTCHours(0,0,0,0);var k=wh(P,e);return v.getTime()>=E.getTime()?g+1:v.getTime()>=k.getTime()?g:g-1}function YMe(t,e){var n,r,i,o,l,a,f,p;Wn(1,arguments);var v=Vd(),g=ji((n=(r=(i=(o=e==null?void 0:e.firstWeekContainsDate)!==null&&o!==void 0?o:e==null||(l=e.locale)===null||l===void 0||(a=l.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&i!==void 0?i:v.firstWeekContainsDate)!==null&&r!==void 0?r:(f=v.locale)===null||f===void 0||(p=f.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&n!==void 0?n:1),_=wP(t,e),b=new Date(0);b.setUTCFullYear(_,0,g),b.setUTCHours(0,0,0,0);var S=wh(b,e);return S}var XMe=6048e5;function qK(t,e){Wn(1,arguments);var n=sr(t),r=wh(n,e).getTime()-YMe(n,e).getTime();return Math.round(r/XMe)+1}function fi(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var ZMe={y:function(e,n){var r=e.getUTCFullYear(),i=r>0?r:1-r;return fi(n==="yy"?i%100:i,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):fi(r+1,2)},d:function(e,n){return fi(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return fi(e.getUTCHours()%12||12,n.length)},H:function(e,n){return fi(e.getUTCHours(),n.length)},m:function(e,n){return fi(e.getUTCMinutes(),n.length)},s:function(e,n){return fi(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,i=e.getUTCMilliseconds(),o=Math.floor(i*Math.pow(10,r-3));return fi(o,n.length)}};const rd=ZMe;var Bp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},QMe={G:function(e,n,r){var i=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(i,{width:"abbreviated"});case"GGGGG":return r.era(i,{width:"narrow"});case"GGGG":default:return r.era(i,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var i=e.getUTCFullYear(),o=i>0?i:1-i;return r.ordinalNumber(o,{unit:"year"})}return rd.y(e,n)},Y:function(e,n,r,i){var o=wP(e,i),l=o>0?o:1-o;if(n==="YY"){var a=l%100;return fi(a,2)}return n==="Yo"?r.ordinalNumber(l,{unit:"year"}):fi(l,n.length)},R:function(e,n){var r=WK(e);return fi(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return fi(r,n.length)},Q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(i);case"QQ":return fi(i,2);case"Qo":return r.ordinalNumber(i,{unit:"quarter"});case"QQQ":return r.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(i);case"qq":return fi(i,2);case"qo":return r.ordinalNumber(i,{unit:"quarter"});case"qqq":return r.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,n,r){var i=e.getUTCMonth();switch(n){case"M":case"MM":return rd.M(e,n);case"Mo":return r.ordinalNumber(i+1,{unit:"month"});case"MMM":return r.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(i,{width:"wide",context:"formatting"})}},L:function(e,n,r){var i=e.getUTCMonth();switch(n){case"L":return String(i+1);case"LL":return fi(i+1,2);case"Lo":return r.ordinalNumber(i+1,{unit:"month"});case"LLL":return r.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(i,{width:"wide",context:"standalone"})}},w:function(e,n,r,i){var o=qK(e,i);return n==="wo"?r.ordinalNumber(o,{unit:"week"}):fi(o,n.length)},I:function(e,n,r){var i=GK(e);return n==="Io"?r.ordinalNumber(i,{unit:"week"}):fi(i,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):rd.d(e,n)},D:function(e,n,r){var i=WMe(e);return n==="Do"?r.ordinalNumber(i,{unit:"dayOfYear"}):fi(i,n.length)},E:function(e,n,r){var i=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(i,{width:"short",context:"formatting"});case"EEEE":default:return r.day(i,{width:"wide",context:"formatting"})}},e:function(e,n,r,i){var o=e.getUTCDay(),l=(o-i.weekStartsOn+8)%7||7;switch(n){case"e":return String(l);case"ee":return fi(l,2);case"eo":return r.ordinalNumber(l,{unit:"day"});case"eee":return r.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(o,{width:"short",context:"formatting"});case"eeee":default:return r.day(o,{width:"wide",context:"formatting"})}},c:function(e,n,r,i){var o=e.getUTCDay(),l=(o-i.weekStartsOn+8)%7||7;switch(n){case"c":return String(l);case"cc":return fi(l,n.length);case"co":return r.ordinalNumber(l,{unit:"day"});case"ccc":return r.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(o,{width:"narrow",context:"standalone"});case"cccccc":return r.day(o,{width:"short",context:"standalone"});case"cccc":default:return r.day(o,{width:"wide",context:"standalone"})}},i:function(e,n,r){var i=e.getUTCDay(),o=i===0?7:i;switch(n){case"i":return String(o);case"ii":return fi(o,n.length);case"io":return r.ordinalNumber(o,{unit:"day"});case"iii":return r.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(i,{width:"short",context:"formatting"});case"iiii":default:return r.day(i,{width:"wide",context:"formatting"})}},a:function(e,n,r){var i=e.getUTCHours(),o=i/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(e,n,r){var i=e.getUTCHours(),o;switch(i===12?o=Bp.noon:i===0?o=Bp.midnight:o=i/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(e,n,r){var i=e.getUTCHours(),o;switch(i>=17?o=Bp.evening:i>=12?o=Bp.afternoon:i>=4?o=Bp.morning:o=Bp.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var i=e.getUTCHours()%12;return i===0&&(i=12),r.ordinalNumber(i,{unit:"hour"})}return rd.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):rd.H(e,n)},K:function(e,n,r){var i=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(i,{unit:"hour"}):fi(i,n.length)},k:function(e,n,r){var i=e.getUTCHours();return i===0&&(i=24),n==="ko"?r.ordinalNumber(i,{unit:"hour"}):fi(i,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):rd.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):rd.s(e,n)},S:function(e,n){return rd.S(e,n)},X:function(e,n,r,i){var o=i._originalDate||e,l=o.getTimezoneOffset();if(l===0)return"Z";switch(n){case"X":return eF(l);case"XXXX":case"XX":return Wf(l);case"XXXXX":case"XXX":default:return Wf(l,":")}},x:function(e,n,r,i){var o=i._originalDate||e,l=o.getTimezoneOffset();switch(n){case"x":return eF(l);case"xxxx":case"xx":return Wf(l);case"xxxxx":case"xxx":default:return Wf(l,":")}},O:function(e,n,r,i){var o=i._originalDate||e,l=o.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+JL(l,":");case"OOOO":default:return"GMT"+Wf(l,":")}},z:function(e,n,r,i){var o=i._originalDate||e,l=o.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+JL(l,":");case"zzzz":default:return"GMT"+Wf(l,":")}},t:function(e,n,r,i){var o=i._originalDate||e,l=Math.floor(o.getTime()/1e3);return fi(l,n.length)},T:function(e,n,r,i){var o=i._originalDate||e,l=o.getTime();return fi(l,n.length)}};function JL(t,e){var n=t>0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),o=r%60;if(o===0)return n+String(i);var l=e||"";return n+String(i)+l+fi(o,2)}function eF(t,e){if(t%60===0){var n=t>0?"-":"+";return n+fi(Math.abs(t)/60,2)}return Wf(t,e)}function Wf(t,e){var n=e||"",r=t>0?"-":"+",i=Math.abs(t),o=fi(Math.floor(i/60),2),l=fi(i%60,2);return r+o+n+l}const JMe=QMe;var tF=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},YK=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},eke=function(e,n){var r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return tF(e,n);var l;switch(i){case"P":l=n.dateTime({width:"short"});break;case"PP":l=n.dateTime({width:"medium"});break;case"PPP":l=n.dateTime({width:"long"});break;case"PPPP":default:l=n.dateTime({width:"full"});break}return l.replace("{{date}}",tF(i,n)).replace("{{time}}",YK(o,n))},tke={p:YK,P:eke};const Y6=tke;var nke=["D","DD"],rke=["YY","YYYY"];function XK(t){return nke.indexOf(t)!==-1}function ZK(t){return rke.indexOf(t)!==-1}function Wx(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var ike={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ake=function(e,n,r){var i,o=ike[e];return typeof o=="string"?i=o:n===1?i=o.one:i=o.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+i:i+" ago":i};const oke=ake;function z4(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var ske={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lke={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uke={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cke={date:z4({formats:ske,defaultWidth:"full"}),time:z4({formats:lke,defaultWidth:"full"}),dateTime:z4({formats:uke,defaultWidth:"full"})};const dke=cke;var fke={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},hke=function(e,n,r,i){return fke[e]};const pke=hke;function Mg(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",i;if(r==="formatting"&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{var a=t.defaultWidth,f=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[f]||t.values[a]}var p=t.argumentCallback?t.argumentCallback(e):e;return i[p]}}var vke={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mke={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yke={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},_ke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},bke={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xke=function(e,n){var r=Number(e),i=r%100;if(i>20||i<10)switch(i%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},wke={ordinalNumber:xke,era:Mg({values:vke,defaultWidth:"wide"}),quarter:Mg({values:mke,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:Mg({values:gke,defaultWidth:"wide"}),day:Mg({values:yke,defaultWidth:"wide"}),dayPeriod:Mg({values:_ke,defaultWidth:"wide",formattingValues:bke,defaultFormattingWidth:"wide"})};const Cke=wke;function kg(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;var l=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],f=Array.isArray(a)?Tke(a,function(g){return g.test(l)}):Ske(a,function(g){return g.test(l)}),p;p=t.valueCallback?t.valueCallback(f):f,p=n.valueCallback?n.valueCallback(p):p;var v=e.slice(l.length);return{value:p,rest:v}}}function Ske(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function Tke(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function Eke(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var i=r[0],o=e.match(t.parsePattern);if(!o)return null;var l=t.valueCallback?t.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;var a=e.slice(i.length);return{value:l,rest:a}}}var Pke=/^(\d+)(th|st|nd|rd)?/i,Mke=/\d+/i,kke={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ake={any:[/^b/i,/^(a|c)/i]},Ike={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Oke={any:[/1/i,/2/i,/3/i,/4/i]},Dke={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Rke={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Lke={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fke={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nke={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bke={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zke={ordinalNumber:Eke({matchPattern:Pke,parsePattern:Mke,valueCallback:function(e){return parseInt(e,10)}}),era:kg({matchPatterns:kke,defaultMatchWidth:"wide",parsePatterns:Ake,defaultParseWidth:"any"}),quarter:kg({matchPatterns:Ike,defaultMatchWidth:"wide",parsePatterns:Oke,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:kg({matchPatterns:Dke,defaultMatchWidth:"wide",parsePatterns:Rke,defaultParseWidth:"any"}),day:kg({matchPatterns:Lke,defaultMatchWidth:"wide",parsePatterns:Fke,defaultParseWidth:"any"}),dayPeriod:kg({matchPatterns:Nke,defaultMatchWidth:"any",parsePatterns:Bke,defaultParseWidth:"any"})};const $ke=zke;var jke={code:"en-US",formatDistance:oke,formatLong:dke,formatRelative:pke,localize:Cke,match:$ke,options:{weekStartsOn:0,firstWeekContainsDate:1}};const QK=jke;var Vke=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Uke=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hke=/^'([^]*?)'?$/,Kke=/''/g,Wke=/[a-zA-Z]/;function Gke(t,e,n){var r,i,o,l,a,f,p,v,g,_,b,S,E,P,k,I,D,L;Wn(2,arguments);var B=String(e),N=Vd(),j=(r=(i=n==null?void 0:n.locale)!==null&&i!==void 0?i:N.locale)!==null&&r!==void 0?r:QK,H=ji((o=(l=(a=(f=n==null?void 0:n.firstWeekContainsDate)!==null&&f!==void 0?f:n==null||(p=n.locale)===null||p===void 0||(v=p.options)===null||v===void 0?void 0:v.firstWeekContainsDate)!==null&&a!==void 0?a:N.firstWeekContainsDate)!==null&&l!==void 0?l:(g=N.locale)===null||g===void 0||(_=g.options)===null||_===void 0?void 0:_.firstWeekContainsDate)!==null&&o!==void 0?o:1);if(!(H>=1&&H<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var V=ji((b=(S=(E=(P=n==null?void 0:n.weekStartsOn)!==null&&P!==void 0?P:n==null||(k=n.locale)===null||k===void 0||(I=k.options)===null||I===void 0?void 0:I.weekStartsOn)!==null&&E!==void 0?E:N.weekStartsOn)!==null&&S!==void 0?S:(D=N.locale)===null||D===void 0||(L=D.options)===null||L===void 0?void 0:L.weekStartsOn)!==null&&b!==void 0?b:0);if(!(V>=0&&V<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!j.localize)throw new RangeError("locale must contain localize property");if(!j.formatLong)throw new RangeError("locale must contain formatLong property");var Z=sr(t);if(!$K(Z))throw new RangeError("Invalid time value");var re=Kx(Z),q=KK(Z,re),G={firstWeekContainsDate:H,weekStartsOn:V,locale:j,_originalDate:Z},ae=B.match(Uke).map(function(te){var Q=te[0];if(Q==="p"||Q==="P"){var Y=Y6[Q];return Y(te,j.formatLong)}return te}).join("").match(Vke).map(function(te){if(te==="''")return"'";var Q=te[0];if(Q==="'")return qke(te);var Y=JMe[Q];if(Y)return!(n!=null&&n.useAdditionalWeekYearTokens)&&ZK(te)&&Wx(te,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&XK(te)&&Wx(te,e,String(t)),Y(q,te,j.localize,G);if(Q.match(Wke))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return te}).join("");return ae}function qke(t){var e=t.match(Hke);return e?e[1].replace(Kke,"'"):t}function Yke(t,e){if(t==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Fn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X6(t,e){return X6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},X6(t,e)}function Gr(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X6(t,e)}function Gx(t){return Gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Gx(t)}function Xke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zke(t,e){if(e&&(dn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fn(t)}function qr(t){var e=Xke();return function(){var r=Gx(t),i;if(e){var o=Gx(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Zke(this,i)}}var Qke=10,JK=function(){function t(){Or(this,t),J(this,"priority",void 0),J(this,"subPriority",0)}return Ir(t,[{key:"validate",value:function(n,r){return!0}}]),t}(),Jke=function(t){Gr(n,t);var e=qr(n);function n(r,i,o,l,a){var f;return Or(this,n),f=e.call(this),f.value=r,f.validateValue=i,f.setValue=o,f.priority=l,a&&(f.subPriority=a),f}return Ir(n,[{key:"validate",value:function(i,o){return this.validateValue(i,this.value,o)}},{key:"set",value:function(i,o,l){return this.setValue(i,o,this.value,l)}}]),n}(JK),e7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",Qke),J(Fn(r),"subPriority",-1),r}return Ir(n,[{key:"set",value:function(i,o){if(o.timestampIsSet)return i;var l=new Date(0);return l.setFullYear(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()),l.setHours(i.getUTCHours(),i.getUTCMinutes(),i.getUTCSeconds(),i.getUTCMilliseconds()),l}}]),n}(JK),li=function(){function t(){Or(this,t),J(this,"incompatibleTokens",void 0),J(this,"priority",void 0),J(this,"subPriority",void 0)}return Ir(t,[{key:"run",value:function(n,r,i,o){var l=this.parse(n,r,i,o);return l?{setter:new Jke(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}},{key:"validate",value:function(n,r,i){return!0}}]),t}(),t7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",140),J(Fn(r),"incompatibleTokens",["R","u","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"G":case"GG":case"GGG":return l.era(i,{width:"abbreviated"})||l.era(i,{width:"narrow"});case"GGGGG":return l.era(i,{width:"narrow"});case"GGGG":default:return l.era(i,{width:"wide"})||l.era(i,{width:"abbreviated"})||l.era(i,{width:"narrow"})}}},{key:"set",value:function(i,o,l){return o.era=l,i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(li),ma={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ou={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function ga(t,e){return t&&{value:e(t.value),rest:t.rest}}function Ji(t,e){var n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function su(t,e){var n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};var r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,o=n[3]?parseInt(n[3],10):0,l=n[5]?parseInt(n[5],10):0;return{value:r*(i*gw+o*mw+l*CMe),rest:e.slice(n[0].length)}}function eW(t){return Ji(ma.anyDigitsSigned,t)}function ua(t,e){switch(t){case 1:return Ji(ma.singleDigit,e);case 2:return Ji(ma.twoDigits,e);case 3:return Ji(ma.threeDigits,e);case 4:return Ji(ma.fourDigits,e);default:return Ji(new RegExp("^\\d{1,"+t+"}"),e)}}function qx(t,e){switch(t){case 1:return Ji(ma.singleDigitSigned,e);case 2:return Ji(ma.twoDigitsSigned,e);case 3:return Ji(ma.threeDigitsSigned,e);case 4:return Ji(ma.fourDigitsSigned,e);default:return Ji(new RegExp("^-?\\d{1,"+t+"}"),e)}}function CP(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function tW(t,e){var n=e>0,r=n?e:1-e,i;if(r<=50)i=t||100;else{var o=r+50,l=Math.floor(o/100)*100,a=t>=o%100;i=t+l-(a?100:0)}return n?i:1-i}function nW(t){return t%400===0||t%4===0&&t%100!==0}var n7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",130),J(Fn(r),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){var a=function(p){return{year:p,isTwoDigitYear:o==="yy"}};switch(o){case"y":return ga(ua(4,i),a);case"yo":return ga(l.ordinalNumber(i,{unit:"year"}),a);default:return ga(ua(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,l){var a=i.getUTCFullYear();if(l.isTwoDigitYear){var f=tW(l.year,a);return i.setUTCFullYear(f,0,1),i.setUTCHours(0,0,0,0),i}var p=!("era"in o)||o.era===1?l.year:1-l.year;return i.setUTCFullYear(p,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(li),r7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",130),J(Fn(r),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){var a=function(p){return{year:p,isTwoDigitYear:o==="YY"}};switch(o){case"Y":return ga(ua(4,i),a);case"Yo":return ga(l.ordinalNumber(i,{unit:"year"}),a);default:return ga(ua(o.length,i),a)}}},{key:"validate",value:function(i,o){return o.isTwoDigitYear||o.year>0}},{key:"set",value:function(i,o,l,a){var f=wP(i,a);if(l.isTwoDigitYear){var p=tW(l.year,f);return i.setUTCFullYear(p,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),wh(i,a)}var v=!("era"in o)||o.era===1?l.year:1-l.year;return i.setUTCFullYear(v,0,a.firstWeekContainsDate),i.setUTCHours(0,0,0,0),wh(i,a)}}]),n}(li),i7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",130),J(Fn(r),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o){return qx(o==="R"?4:o.length,i)}},{key:"set",value:function(i,o,l){var a=new Date(0);return a.setUTCFullYear(l,0,4),a.setUTCHours(0,0,0,0),Dv(a)}}]),n}(li),a7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",130),J(Fn(r),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o){return qx(o==="u"?4:o.length,i)}},{key:"set",value:function(i,o,l){return i.setUTCFullYear(l,0,1),i.setUTCHours(0,0,0,0),i}}]),n}(li),o7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",120),J(Fn(r),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"Q":case"QQ":return ua(o.length,i);case"Qo":return l.ordinalNumber(i,{unit:"quarter"});case"QQQ":return l.quarter(i,{width:"abbreviated",context:"formatting"})||l.quarter(i,{width:"narrow",context:"formatting"});case"QQQQQ":return l.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return l.quarter(i,{width:"wide",context:"formatting"})||l.quarter(i,{width:"abbreviated",context:"formatting"})||l.quarter(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,l){return i.setUTCMonth((l-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(li),s7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",120),J(Fn(r),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"q":case"qq":return ua(o.length,i);case"qo":return l.ordinalNumber(i,{unit:"quarter"});case"qqq":return l.quarter(i,{width:"abbreviated",context:"standalone"})||l.quarter(i,{width:"narrow",context:"standalone"});case"qqqqq":return l.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return l.quarter(i,{width:"wide",context:"standalone"})||l.quarter(i,{width:"abbreviated",context:"standalone"})||l.quarter(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=1&&o<=4}},{key:"set",value:function(i,o,l){return i.setUTCMonth((l-1)*3,1),i.setUTCHours(0,0,0,0),i}}]),n}(li),l7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),J(Fn(r),"priority",110),r}return Ir(n,[{key:"parse",value:function(i,o,l){var a=function(p){return p-1};switch(o){case"M":return ga(Ji(ma.month,i),a);case"MM":return ga(ua(2,i),a);case"Mo":return ga(l.ordinalNumber(i,{unit:"month"}),a);case"MMM":return l.month(i,{width:"abbreviated",context:"formatting"})||l.month(i,{width:"narrow",context:"formatting"});case"MMMMM":return l.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return l.month(i,{width:"wide",context:"formatting"})||l.month(i,{width:"abbreviated",context:"formatting"})||l.month(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,l){return i.setUTCMonth(l,1),i.setUTCHours(0,0,0,0),i}}]),n}(li),u7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",110),J(Fn(r),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){var a=function(p){return p-1};switch(o){case"L":return ga(Ji(ma.month,i),a);case"LL":return ga(ua(2,i),a);case"Lo":return ga(l.ordinalNumber(i,{unit:"month"}),a);case"LLL":return l.month(i,{width:"abbreviated",context:"standalone"})||l.month(i,{width:"narrow",context:"standalone"});case"LLLLL":return l.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return l.month(i,{width:"wide",context:"standalone"})||l.month(i,{width:"abbreviated",context:"standalone"})||l.month(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,l){return i.setUTCMonth(l,1),i.setUTCHours(0,0,0,0),i}}]),n}(li);function c7e(t,e,n){Wn(2,arguments);var r=sr(t),i=ji(e),o=qK(r,n)-i;return r.setUTCDate(r.getUTCDate()-o*7),r}var d7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",100),J(Fn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"w":return Ji(ma.week,i);case"wo":return l.ordinalNumber(i,{unit:"week"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,l,a){return wh(c7e(i,l,a),a)}}]),n}(li);function f7e(t,e){Wn(2,arguments);var n=sr(t),r=ji(e),i=GK(n)-r;return n.setUTCDate(n.getUTCDate()-i*7),n}var h7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",100),J(Fn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"I":return Ji(ma.week,i);case"Io":return l.ordinalNumber(i,{unit:"week"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=53}},{key:"set",value:function(i,o,l){return Dv(f7e(i,l))}}]),n}(li),p7e=[31,28,31,30,31,30,31,31,30,31,30,31],v7e=[31,29,31,30,31,30,31,31,30,31,30,31],m7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",90),J(Fn(r),"subPriority",1),J(Fn(r),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"d":return Ji(ma.date,i);case"do":return l.ordinalNumber(i,{unit:"date"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){var l=i.getUTCFullYear(),a=nW(l),f=i.getUTCMonth();return a?o>=1&&o<=v7e[f]:o>=1&&o<=p7e[f]}},{key:"set",value:function(i,o,l){return i.setUTCDate(l),i.setUTCHours(0,0,0,0),i}}]),n}(li),g7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",90),J(Fn(r),"subpriority",1),J(Fn(r),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"D":case"DD":return Ji(ma.dayOfYear,i);case"Do":return l.ordinalNumber(i,{unit:"date"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){var l=i.getUTCFullYear(),a=nW(l);return a?o>=1&&o<=366:o>=1&&o<=365}},{key:"set",value:function(i,o,l){return i.setUTCMonth(0,l),i.setUTCHours(0,0,0,0),i}}]),n}(li);function SP(t,e,n){var r,i,o,l,a,f,p,v;Wn(2,arguments);var g=Vd(),_=ji((r=(i=(o=(l=n==null?void 0:n.weekStartsOn)!==null&&l!==void 0?l:n==null||(a=n.locale)===null||a===void 0||(f=a.options)===null||f===void 0?void 0:f.weekStartsOn)!==null&&o!==void 0?o:g.weekStartsOn)!==null&&i!==void 0?i:(p=g.locale)===null||p===void 0||(v=p.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&r!==void 0?r:0);if(!(_>=0&&_<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var b=sr(t),S=ji(e),E=b.getUTCDay(),P=S%7,k=(P+7)%7,I=(k<_?7:0)+S-E;return b.setUTCDate(b.getUTCDate()+I),b}var y7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",90),J(Fn(r),"incompatibleTokens",["D","i","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"E":case"EE":case"EEE":return l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"});case"EEEEE":return l.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"});case"EEEE":default:return l.day(i,{width:"wide",context:"formatting"})||l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,l,a){return i=SP(i,l,a),i.setUTCHours(0,0,0,0),i}}]),n}(li),_7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",90),J(Fn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l,a){var f=function(v){var g=Math.floor((v-1)/7)*7;return(v+a.weekStartsOn+6)%7+g};switch(o){case"e":case"ee":return ga(ua(o.length,i),f);case"eo":return ga(l.ordinalNumber(i,{unit:"day"}),f);case"eee":return l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"});case"eeeee":return l.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"});case"eeee":default:return l.day(i,{width:"wide",context:"formatting"})||l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,l,a){return i=SP(i,l,a),i.setUTCHours(0,0,0,0),i}}]),n}(li),b7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",90),J(Fn(r),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l,a){var f=function(v){var g=Math.floor((v-1)/7)*7;return(v+a.weekStartsOn+6)%7+g};switch(o){case"c":case"cc":return ga(ua(o.length,i),f);case"co":return ga(l.ordinalNumber(i,{unit:"day"}),f);case"ccc":return l.day(i,{width:"abbreviated",context:"standalone"})||l.day(i,{width:"short",context:"standalone"})||l.day(i,{width:"narrow",context:"standalone"});case"ccccc":return l.day(i,{width:"narrow",context:"standalone"});case"cccccc":return l.day(i,{width:"short",context:"standalone"})||l.day(i,{width:"narrow",context:"standalone"});case"cccc":default:return l.day(i,{width:"wide",context:"standalone"})||l.day(i,{width:"abbreviated",context:"standalone"})||l.day(i,{width:"short",context:"standalone"})||l.day(i,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(i,o){return o>=0&&o<=6}},{key:"set",value:function(i,o,l,a){return i=SP(i,l,a),i.setUTCHours(0,0,0,0),i}}]),n}(li);function x7e(t,e){Wn(2,arguments);var n=ji(e);n%7===0&&(n=n-7);var r=1,i=sr(t),o=i.getUTCDay(),l=n%7,a=(l+7)%7,f=(a<r?7:0)+n-o;return i.setUTCDate(i.getUTCDate()+f),i}var w7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",90),J(Fn(r),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){var a=function(p){return p===0?7:p};switch(o){case"i":case"ii":return ua(o.length,i);case"io":return l.ordinalNumber(i,{unit:"day"});case"iii":return ga(l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"}),a);case"iiiii":return ga(l.day(i,{width:"narrow",context:"formatting"}),a);case"iiiiii":return ga(l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"}),a);case"iiii":default:return ga(l.day(i,{width:"wide",context:"formatting"})||l.day(i,{width:"abbreviated",context:"formatting"})||l.day(i,{width:"short",context:"formatting"})||l.day(i,{width:"narrow",context:"formatting"}),a)}}},{key:"validate",value:function(i,o){return o>=1&&o<=7}},{key:"set",value:function(i,o,l){return i=x7e(i,l),i.setUTCHours(0,0,0,0),i}}]),n}(li),C7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",80),J(Fn(r),"incompatibleTokens",["b","B","H","k","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"a":case"aa":case"aaa":return l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaaa":return l.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return l.dayPeriod(i,{width:"wide",context:"formatting"})||l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,l){return i.setUTCHours(CP(l),0,0,0),i}}]),n}(li),S7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",80),J(Fn(r),"incompatibleTokens",["a","B","H","k","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"b":case"bb":case"bbb":return l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbbb":return l.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return l.dayPeriod(i,{width:"wide",context:"formatting"})||l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,l){return i.setUTCHours(CP(l),0,0,0),i}}]),n}(li),T7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",80),J(Fn(r),"incompatibleTokens",["a","b","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"B":case"BB":case"BBB":return l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBBB":return l.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return l.dayPeriod(i,{width:"wide",context:"formatting"})||l.dayPeriod(i,{width:"abbreviated",context:"formatting"})||l.dayPeriod(i,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(i,o,l){return i.setUTCHours(CP(l),0,0,0),i}}]),n}(li),E7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",70),J(Fn(r),"incompatibleTokens",["H","K","k","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"h":return Ji(ma.hour12h,i);case"ho":return l.ordinalNumber(i,{unit:"hour"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=12}},{key:"set",value:function(i,o,l){var a=i.getUTCHours()>=12;return a&&l<12?i.setUTCHours(l+12,0,0,0):!a&&l===12?i.setUTCHours(0,0,0,0):i.setUTCHours(l,0,0,0),i}}]),n}(li),P7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",70),J(Fn(r),"incompatibleTokens",["a","b","h","K","k","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"H":return Ji(ma.hour23h,i);case"Ho":return l.ordinalNumber(i,{unit:"hour"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=23}},{key:"set",value:function(i,o,l){return i.setUTCHours(l,0,0,0),i}}]),n}(li),M7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",70),J(Fn(r),"incompatibleTokens",["h","H","k","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"K":return Ji(ma.hour11h,i);case"Ko":return l.ordinalNumber(i,{unit:"hour"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=11}},{key:"set",value:function(i,o,l){var a=i.getUTCHours()>=12;return a&&l<12?i.setUTCHours(l+12,0,0,0):i.setUTCHours(l,0,0,0),i}}]),n}(li),k7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",70),J(Fn(r),"incompatibleTokens",["a","b","h","H","K","t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"k":return Ji(ma.hour24h,i);case"ko":return l.ordinalNumber(i,{unit:"hour"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){return o>=1&&o<=24}},{key:"set",value:function(i,o,l){var a=l<=24?l%24:l;return i.setUTCHours(a,0,0,0),i}}]),n}(li),A7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",60),J(Fn(r),"incompatibleTokens",["t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"m":return Ji(ma.minute,i);case"mo":return l.ordinalNumber(i,{unit:"minute"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,l){return i.setUTCMinutes(l,0,0),i}}]),n}(li),I7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",50),J(Fn(r),"incompatibleTokens",["t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o,l){switch(o){case"s":return Ji(ma.second,i);case"so":return l.ordinalNumber(i,{unit:"second"});default:return ua(o.length,i)}}},{key:"validate",value:function(i,o){return o>=0&&o<=59}},{key:"set",value:function(i,o,l){return i.setUTCSeconds(l,0),i}}]),n}(li),O7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",30),J(Fn(r),"incompatibleTokens",["t","T"]),r}return Ir(n,[{key:"parse",value:function(i,o){var l=function(f){return Math.floor(f*Math.pow(10,-o.length+3))};return ga(ua(o.length,i),l)}},{key:"set",value:function(i,o,l){return i.setUTCMilliseconds(l),i}}]),n}(li),D7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",10),J(Fn(r),"incompatibleTokens",["t","T","x"]),r}return Ir(n,[{key:"parse",value:function(i,o){switch(o){case"X":return su(ou.basicOptionalMinutes,i);case"XX":return su(ou.basic,i);case"XXXX":return su(ou.basicOptionalSeconds,i);case"XXXXX":return su(ou.extendedOptionalSeconds,i);case"XXX":default:return su(ou.extended,i)}}},{key:"set",value:function(i,o,l){return o.timestampIsSet?i:new Date(i.getTime()-l)}}]),n}(li),R7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",10),J(Fn(r),"incompatibleTokens",["t","T","X"]),r}return Ir(n,[{key:"parse",value:function(i,o){switch(o){case"x":return su(ou.basicOptionalMinutes,i);case"xx":return su(ou.basic,i);case"xxxx":return su(ou.basicOptionalSeconds,i);case"xxxxx":return su(ou.extendedOptionalSeconds,i);case"xxx":default:return su(ou.extended,i)}}},{key:"set",value:function(i,o,l){return o.timestampIsSet?i:new Date(i.getTime()-l)}}]),n}(li),L7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",40),J(Fn(r),"incompatibleTokens","*"),r}return Ir(n,[{key:"parse",value:function(i){return eW(i)}},{key:"set",value:function(i,o,l){return[new Date(l*1e3),{timestampIsSet:!0}]}}]),n}(li),F7e=function(t){Gr(n,t);var e=qr(n);function n(){var r;Or(this,n);for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=e.call.apply(e,[this].concat(o)),J(Fn(r),"priority",20),J(Fn(r),"incompatibleTokens","*"),r}return Ir(n,[{key:"parse",value:function(i){return eW(i)}},{key:"set",value:function(i,o,l){return[new Date(l),{timestampIsSet:!0}]}}]),n}(li),N7e={G:new t7e,y:new n7e,Y:new r7e,R:new i7e,u:new a7e,Q:new o7e,q:new s7e,M:new l7e,L:new u7e,w:new d7e,I:new h7e,d:new m7e,D:new g7e,E:new y7e,e:new _7e,c:new b7e,i:new w7e,a:new C7e,b:new S7e,B:new T7e,h:new E7e,H:new P7e,K:new M7e,k:new k7e,m:new A7e,s:new I7e,S:new O7e,X:new D7e,x:new R7e,t:new L7e,T:new F7e},B7e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z7e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$7e=/^'([^]*?)'?$/,j7e=/''/g,V7e=/\S/,U7e=/[a-zA-Z]/;function H7e(t,e,n,r){var i,o,l,a,f,p,v,g,_,b,S,E,P,k,I,D,L,B;Wn(3,arguments);var N=String(t),j=String(e),H=Vd(),V=(i=(o=r==null?void 0:r.locale)!==null&&o!==void 0?o:H.locale)!==null&&i!==void 0?i:QK;if(!V.match)throw new RangeError("locale must contain match property");var Z=ji((l=(a=(f=(p=r==null?void 0:r.firstWeekContainsDate)!==null&&p!==void 0?p:r==null||(v=r.locale)===null||v===void 0||(g=v.options)===null||g===void 0?void 0:g.firstWeekContainsDate)!==null&&f!==void 0?f:H.firstWeekContainsDate)!==null&&a!==void 0?a:(_=H.locale)===null||_===void 0||(b=_.options)===null||b===void 0?void 0:b.firstWeekContainsDate)!==null&&l!==void 0?l:1);if(!(Z>=1&&Z<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var re=ji((S=(E=(P=(k=r==null?void 0:r.weekStartsOn)!==null&&k!==void 0?k:r==null||(I=r.locale)===null||I===void 0||(D=I.options)===null||D===void 0?void 0:D.weekStartsOn)!==null&&P!==void 0?P:H.weekStartsOn)!==null&&E!==void 0?E:(L=H.locale)===null||L===void 0||(B=L.options)===null||B===void 0?void 0:B.weekStartsOn)!==null&&S!==void 0?S:0);if(!(re>=0&&re<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(j==="")return N===""?sr(n):new Date(NaN);var q={firstWeekContainsDate:Z,weekStartsOn:re,locale:V},G=[new e7e],ae=j.match(z7e).map(function(Ne){var Re=Ne[0];if(Re in Y6){var Ge=Y6[Re];return Ge(Ne,V.formatLong)}return Ne}).join("").match(B7e),te=[],Q=_x(ae),Y;try{var X=function(){var Re=Y.value;!(r!=null&&r.useAdditionalWeekYearTokens)&&ZK(Re)&&Wx(Re,j,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&XK(Re)&&Wx(Re,j,t);var Ge=Re[0],He=N7e[Ge];if(He){var Ee=He.incompatibleTokens;if(Array.isArray(Ee)){var pe=te.find(function(We){return Ee.includes(We.token)||We.token===Ge});if(pe)throw new RangeError("The format string mustn't contain `".concat(pe.fullToken,"` and `").concat(Re,"` at the same time"))}else if(He.incompatibleTokens==="*"&&te.length>0)throw new RangeError("The format string mustn't contain `".concat(Re,"` and any other token at the same time"));te.push({token:Ge,fullToken:Re});var Ie=He.run(N,Re,V.match,q);if(!Ie)return{v:new Date(NaN)};G.push(Ie.setter),N=Ie.rest}else{if(Ge.match(U7e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Ge+"`");if(Re==="''"?Re="'":Ge==="'"&&(Re=K7e(Re)),N.indexOf(Re)===0)N=N.slice(Re.length);else return{v:new Date(NaN)}}};for(Q.s();!(Y=Q.n()).done;){var ie=X();if(dn(ie)==="object")return ie.v}}catch(Ne){Q.e(Ne)}finally{Q.f()}if(N.length>0&&V7e.test(N))return new Date(NaN);var he=G.map(function(Ne){return Ne.priority}).sort(function(Ne,Re){return Re-Ne}).filter(function(Ne,Re,Ge){return Ge.indexOf(Ne)===Re}).map(function(Ne){return G.filter(function(Re){return Re.priority===Ne}).sort(function(Re,Ge){return Ge.subPriority-Re.subPriority})}).map(function(Ne){return Ne[0]}),ce=sr(n);if(isNaN(ce.getTime()))return new Date(NaN);var we=KK(ce,Kx(ce)),be={},ve=_x(he),ge;try{for(ve.s();!(ge=ve.n()).done;){var Pe=ge.value;if(!Pe.validate(we,q))return new Date(NaN);var ye=Pe.set(we,be,q);Array.isArray(ye)?(we=ye[0],Yke(be,ye[1])):we=ye}}catch(Ne){ve.e(Ne)}finally{ve.f()}return we}function K7e(t){return t.match($7e)[1].replace(j7e,"'")}function W7e(t){Wn(1,arguments);var e=sr(t);return e.setMinutes(0,0,0),e}function G7e(t){Wn(1,arguments);var e=sr(t);return e.setMilliseconds(0),e}function q7e(t,e){var n;Wn(1,arguments);var r=ji((n=e==null?void 0:e.additionalDigits)!==null&&n!==void 0?n:2);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var i=Q7e(t),o;if(i.date){var l=J7e(i.date,r);o=eAe(l.restDateString,l.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);var a=o.getTime(),f=0,p;if(i.time&&(f=tAe(i.time),isNaN(f)))return new Date(NaN);if(i.timezone){if(p=nAe(i.timezone),isNaN(p))return new Date(NaN)}else{var v=new Date(a+f),g=new Date(0);return g.setFullYear(v.getUTCFullYear(),v.getUTCMonth(),v.getUTCDate()),g.setHours(v.getUTCHours(),v.getUTCMinutes(),v.getUTCSeconds(),v.getUTCMilliseconds()),g}return new Date(a+f+p)}var U_={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Y7e=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,X7e=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Z7e=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Q7e(t){var e={},n=t.split(U_.dateTimeDelimiter),r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],U_.timeZoneDelimiter.test(e.date)&&(e.date=t.split(U_.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){var i=U_.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function J7e(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?i:o*100,restDateString:t.slice((r[1]||r[2]).length)}}function eAe(t,e){if(e===null)return new Date(NaN);var n=t.match(Y7e);if(!n)return new Date(NaN);var r=!!n[4],i=Ag(n[1]),o=Ag(n[2])-1,l=Ag(n[3]),a=Ag(n[4]),f=Ag(n[5])-1;if(r)return sAe(e,a,f)?rAe(e,a,f):new Date(NaN);var p=new Date(0);return!aAe(e,o,l)||!oAe(e,i)?new Date(NaN):(p.setUTCFullYear(e,o,Math.max(i,l)),p)}function Ag(t){return t?parseInt(t):1}function tAe(t){var e=t.match(X7e);if(!e)return NaN;var n=$4(e[1]),r=$4(e[2]),i=$4(e[3]);return lAe(n,r,i)?n*gw+r*mw+i*1e3:NaN}function $4(t){return t&&parseFloat(t.replace(",","."))||0}function nAe(t){if(t==="Z")return 0;var e=t.match(Z7e);if(!e)return 0;var n=e[1]==="+"?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return uAe(r,i)?n*(r*gw+i*mw):NaN}function rAe(t,e,n){var r=new Date(0);r.setUTCFullYear(t,0,4);var i=r.getUTCDay()||7,o=(e-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+o),r}var iAe=[31,null,31,30,31,30,31,31,30,31,30,31];function rW(t){return t%400===0||t%4===0&&t%100!==0}function aAe(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(iAe[e]||(rW(t)?29:28))}function oAe(t,e){return e>=1&&e<=(rW(t)?366:365)}function sAe(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function lAe(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function uAe(t,e){return e>=0&&e<=59}/*!
 * chartjs-adapter-date-fns v3.0.0
 * https://www.chartjs.org
 * (c) 2022 chartjs-adapter-date-fns Contributors
 * Released under the MIT license
 */const cAe={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};yK._date.override({_id:"date-fns",formats:function(){return cAe},parse:function(t,e){if(t===null||typeof t>"u")return null;const n=typeof t;return n==="number"||t instanceof Date?t=sr(t):n==="string"&&(typeof e=="string"?t=H7e(t,e,new Date,this.options):t=q7e(t,this.options)),$K(t)?t.getTime():null},format:function(t,e){return Gke(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return T0(t,e);case"second":return bMe(t,e);case"minute":return yMe(t,e);case"hour":return hMe(t,e);case"day":return zK(t,e);case"week":return xMe(t,e);case"month":return xP(t,e);case"quarter":return _Me(t,e);case"year":return wMe(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return yw(t,e);case"second":return OMe(t,e);case"minute":return kMe(t,e);case"hour":return MMe(t,e);case"day":return jK(t,e);case"week":return DMe(t,e);case"month":return HK(t,e);case"quarter":return IMe(t,e);case"year":return RMe(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return G7e(t);case"minute":return LMe(t);case"hour":return W7e(t);case"day":return q6(t);case"week":return XL(t);case"isoWeek":return XL(t,{weekStartsOn:+n});case"month":return NMe(t);case"quarter":return FMe(t);case"year":return zMe(t);default:return t}},endOf:function(t,e){switch(e){case"second":return HMe(t);case"minute":return VMe(t);case"hour":return $Me(t);case"day":return VK(t);case"week":return jMe(t);case"month":return UK(t);case"quarter":return UMe(t);case"year":return BMe(t);default:return t}}});Sr.use(Qu);const dAe=pQ({history:AZ(),routes:[{path:"/",component:jne},{path:"/main",component:Tae}]}),_w=dN(yQ);_w.use(dAe);_w.use(u5e);_w.use(Sr);_w.mount("#app")});export default fAe();
